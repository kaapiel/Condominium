var O=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),JA=O((sVe,dL)=>{"use strict";dL.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let i=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(i,r.indent.repeat(t))}}),Vf=O((aVe,mL)=>{var m0e={X_LOG_LEVEL_OVERRIDE:"x-log-level-override",X_PROJECT_PATH:"x-project-path",X_EDITOR_PATH:"x-editor-path",X_UNITY_VERSION:"x-unity-version",X_BUILTIN_PACKAGES_PATH:"x-builtin-packages-path",X_GENESIS_USER_TOKEN:"x-genesis-user-token",X_GENESIS_ENVIRONMENT:"x-genesis-environment",X_DOTNET_RUNTIME_PATH:"x-dotnet-runtime-path"},g0e={MergeDefaultDependencies:"mergedefaultdependencies",ResetToDefaultDependencies:"resettodefaultdependencies",UpdateDependencies:"updatedependencies"};mL.exports={HEADERS:m0e,PATCH_MODE:g0e}}),yL=O((oVe,gL)=>{gL.exports={name:"com.unity.package-manager",productName:"Unity Package Manager",version:"4.9.2",description:"The Official Unity Package Manager",bin:"server/app.js",type:"package_manager",scripts:{lint:"eslint .",test:'mocha "./tests/**/{,!(build|dist)}.spec.js" --require ./tests/setup.js --timeout 60000 --exit',"test:coverage":"nyc --check-coverage --lines 100 --functions 100 --statements 100 npm run test","test:debug":'mocha debug "./tests/**/*{,!(build|dist)}.spec.js" --require ./tests/setup.js --exit',"posttest:coverage":"nyc report --reporter=lcov",start:"node server/app.js --console-loglevel 4 -ipc",debug:"node --inspect=5858 server/app.js",lintfix:"eslint --fix .",prettify:'prettier --write --print-width 100 --single-quote --trailing-comma es5 --semi false "**/*.js" "**/*.md" "**/*.yml" "**/manifest.json"',pretticheck:'prettier --check --print-width 100 --single-quote --trailing-comma es5 --semi false "**/*.js" "**/*.md" "**/*.yml" "**/manifest.json"',coverage:"nyc report --reporter=text-lcov",all:"npm run lint && npm run pretticheck && npm run test:coverage",build:"node tools/build.js --build",dist:"node tools/build.js",postbuild:"npm run test:build","test:build":"mocha tests/build.spec.js --require ./tests/setup.js --timeout 30000 --exit","test:dist":"mocha tests/dist.spec.js --require ./tests/setup.js --timeout 30000 --exit",postinstall:"patch-package",prepare:"husky install","prepare-release":"node tools/prepare-release.js"},"lint-staged":{"*.md":["prettier --write","git add"],"*.js":["eslint","prettier --write --print-width 100 --single-quote --trailing-comma es5 --semi false"]},repository:{type:"git",url:"git+https://github.com/UnityTech/upm.git"},keywords:["Unity","hub","launcher"],author:"Unity",license:"SEE LICENSE IN LICENSE.md",bugs:{url:""},homepage:"https://github.com/UnityTech/upm",devDependencies:{"@octokit/rest":"^18.12.0",archiver:"^5.0.2","builtin-modules":"^3.1.0",chai:"^4.2.0","chai-as-promised":"^7.1.1","chai-fs":"^2.0.0","chai-http":"^4.3.0","chai-string":"^1.5.0","changelog-parser":"^2.8.0","child-process-promise":"^2.2.1",download:"^6.2.5",esbuild:"^0.8.21",eslint:"^7.9.0","eslint-config-airbnb":"^18.2.0","eslint-config-import":"^0.13.0","eslint-config-prettier":"^6.11.0","eslint-plugin-chai-expect":"^2.2.0","eslint-plugin-import":"^2.22.0","eslint-plugin-jsx-a11y":"^6.3.1","eslint-plugin-mocha":"^8.0.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-react":"^7.21.2","eslint-plugin-security":"^1.4.0","eslint-plugin-sort-requires":"^2.1.0","extract-zip":"^2.0.1",husky:"^6.0.0","klaw-sync":"^6.0.0","license-checker":"^25.0.1","lint-staged":"^10.4.0",mocha:"^9.0.1","mocha-lcov-reporter":"^1.3.0",nock:"^13.0.4",nyc:"^15.1.0","patch-package":"^6.4.7",prettier:"^2.3.0",rewire:"^5.0.0",rimraf:"^3.0.2",semver:"^7.2.1",sinon:"^9.0.3","sinon-chai":"^3.5.0",tar:"^6.1.11",tmp:"^0.1.0","triple-beam":"^1.3.0"},dependencies:{"@hapi/hapi":"^20.0.1","@hapi/joi":"^17.1.1","@upm/core":"4.9.2",argparse:"^2.0.1","fs-extra":"^9.0.1","graceful-fs":"^4.2.8","indent-string":"^4.0.0",lodash:"^4.17.21","node-ipc":"^9.1.3","shell-quote":"^1.7.2",winston:"^3.3.3"},husky:{hooks:{"pre-commit":"lint-staged"}},nyc:{exclude:["tests/build.spec.js","tests/dist.spec.js"]}}}),Kf=O((cVe,vL)=>{var y0e=JA(),Wf=Vf(),v0e=yL(),_0e=2;function w0e(e){return Object.keys(Wf.HEADERS).reduce((t,r)=>{let i=Wf.HEADERS[r],s=e[i];return s&&(t[i]=decodeURIComponent(s)),t},{})}function b0e(e){return{editorPath:e[Wf.HEADERS.X_EDITOR_PATH],builtInPackagesPath:e[Wf.HEADERS.X_BUILTIN_PACKAGES_PATH],unityVersion:e[Wf.HEADERS.X_UNITY_VERSION],genesis:{userToken:e[Wf.HEADERS.X_GENESIS_USER_TOKEN],environment:e[Wf.HEADERS.X_GENESIS_ENVIRONMENT]},dotNetRuntimePath:e[Wf.HEADERS.X_DOTNET_RUNTIME_PATH]}}function x0e(e,t=1){let r=t*_0e;return y0e(e,r)}vL.exports={decodeHeaders:w0e,makeUnityInfo:b0e,upmVersion:`v${v0e.version}`,indent:x0e}}),wL=O((lVe,_L)=>{var E0e=Kf();function S0e(){process.argv.find(e=>e==="--version"||e==="-v")&&(console.log(E0e.upmVersion),process.exit())}_L.exports={fastPathVersion:S0e}}),ZA=O(dw=>{"use strict";var{format:mw}=require("util");dw.warn={deprecated(e){return()=>{throw new Error(mw("{ %s } was removed in winston@3.0.0.",e))}},useFormat(e){return()=>{throw new Error([mw("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(e,t,r){r.forEach(i=>{e[i]=dw.warn[t](i)})},moved(e,t,r){function i(){return()=>{throw new Error([mw("winston.%s was moved in winston@3.0.0.",r),mw("Use a winston.%s instead.",t)].join(`
`))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,t,r){r.forEach(i=>{let s=dw.warn[t](i);Object.defineProperty(e,i,{get:s,set:s})})}}}),xL=O((fVe,bL)=>{bL.exports={name:"winston",description:"A logger for just about everything.",version:"3.3.3",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{async:"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0",logform:"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},devDependencies:{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1",assume:"^2.2.0",colors:"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0",hock:"^1.4.1",mocha:"^8.0.1",nyc:"^15.1.0",rimraf:"^3.0.2",split2:"^3.1.1","std-mocks":"^1.0.1",through2:"^3.0.1","winston-compat":"^0.1.5"},main:"./lib/winston",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"populist lib/*.js lib/winston/*.js lib/winston/**/*.js",pretest:"npm run lint",test:"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit",build:"./node_modules/.bin/rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 6.4.0"},license:"MIT"}}),EL=O(QA=>{"use strict";QA.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};QA.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}}),SL=O(eT=>{"use strict";eT.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};eT.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}}),RL=O(tT=>{"use strict";tT.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};tT.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}}),AL=O(gw=>{"use strict";Object.defineProperty(gw,"cli",{value:EL()});Object.defineProperty(gw,"npm",{value:SL()});Object.defineProperty(gw,"syslog",{value:RL()})}),xu=O(dv=>{"use strict";Object.defineProperty(dv,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(dv,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(dv,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(dv,"configs",{value:AL()})}),mv=O((yVe,rT)=>{"use strict";typeof process=="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?rT.exports={nextTick:R0e}:rT.exports=process;function R0e(e,t,r,i){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,n,a;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,i)});default:for(n=new Array(s-1),a=0;a<n.length;)n[a++]=arguments[a];return process.nextTick(function(){e.apply(null,n)})}}}),vw=O(Ki=>{function A0e(e){return Array.isArray?Array.isArray(e):yw(e)==="[object Array]"}Ki.isArray=A0e;function T0e(e){return typeof e=="boolean"}Ki.isBoolean=T0e;function C0e(e){return e===null}Ki.isNull=C0e;function O0e(e){return e==null}Ki.isNullOrUndefined=O0e;function k0e(e){return typeof e=="number"}Ki.isNumber=k0e;function P0e(e){return typeof e=="string"}Ki.isString=P0e;function I0e(e){return typeof e=="symbol"}Ki.isSymbol=I0e;function q0e(e){return e===void 0}Ki.isUndefined=q0e;function N0e(e){return yw(e)==="[object RegExp]"}Ki.isRegExp=N0e;function M0e(e){return typeof e=="object"&&e!==null}Ki.isObject=M0e;function L0e(e){return yw(e)==="[object Date]"}Ki.isDate=L0e;function D0e(e){return yw(e)==="[object Error]"||e instanceof Error}Ki.isError=D0e;function $0e(e){return typeof e=="function"}Ki.isFunction=$0e;function j0e(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}Ki.isPrimitive=j0e;Ki.isBuffer=Buffer.isBuffer;function yw(e){return Object.prototype.toString.call(e)}}),TL=O((_Ve,nT)=>{typeof Object.create=="function"?nT.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:nT.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Qc=O((wVe,iT)=>{try{if(sT=require("util"),typeof sT.inherits!="function")throw"";iT.exports=sT.inherits}catch(e){iT.exports=TL()}var sT}),aT=O((bVe,CL)=>{CL.exports=require("util").deprecate}),oT=O((xVe,OL)=>{OL.exports=require("stream")}),ww=O((cT,kL)=>{var _w=require("buffer"),Eu=_w.Buffer;function PL(e,t){for(var r in e)t[r]=e[r]}Eu.from&&Eu.alloc&&Eu.allocUnsafe&&Eu.allocUnsafeSlow?kL.exports=_w:(PL(_w,cT),cT.Buffer=vm);function vm(e,t,r){return Eu(e,t,r)}PL(Eu,vm);vm.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Eu(e,t,r)};vm.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=Eu(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};vm.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Eu(e)};vm.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _w.SlowBuffer(e)}}),lT=O((EVe,IL)=>{"use strict";var qL=mv();function F0e(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&qL.nextTick(NL,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(n){!t&&n?(qL.nextTick(NL,r,n),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(n)}),this)}function B0e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function NL(e,t){e.emit("error",t)}IL.exports={destroy:F0e,undestroy:B0e}}),LL=O((SVe,ML)=>{var U0e={}.toString;ML.exports=Array.isArray||function(e){return U0e.call(e)=="[object Array]"}}),$L=O((RVe,uT)=>{"use strict";function H0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var DL=ww().Buffer,gv=require("util");function G0e(e,t,r){e.copy(t,r)}uT.exports=function(){function e(){H0e(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},e.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},e.prototype.shift=function(){if(this.length===0)return;var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,s=""+i.data;i=i.next;)s+=r+i.data;return s},e.prototype.concat=function(r){if(this.length===0)return DL.alloc(0);if(this.length===1)return this.head.data;for(var i=DL.allocUnsafe(r>>>0),s=this.head,n=0;s;)G0e(s.data,i,n),n+=s.data.length,s=s.next;return i},e}();gv&&gv.inspect&&gv.inspect.custom&&(uT.exports.prototype[gv.inspect.custom]=function(){var e=gv.inspect({length:this.length});return this.constructor.name+" "+e})}),JL=O((TVe,jL)=>{"use strict";var _m=mv();jL.exports=Yr;var z0e=LL(),yv;Yr.ReadableState=FL;var AVe=require("events").EventEmitter,BL=function(e,t){return e.listeners(t).length},fT=oT(),vv=ww().Buffer,V0e=global.Uint8Array||function(){};function W0e(e){return vv.from(e)}function K0e(e){return vv.isBuffer(e)||e instanceof V0e}var UL=Object.create(vw());UL.inherits=Qc();var hT=require("util"),wr=void 0;hT&&hT.debuglog?wr=hT.debuglog("stream"):wr=function(){};var X0e=$L(),HL=lT(),wm;UL.inherits(Yr,fT);var pT=["error","close","destroy","pause","resume"];function Y0e(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):z0e(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function FL(e,t){yv=yv||_v(),e=e||{};var r=t instanceof yv;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,n=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(s||s===0)?this.highWaterMark=s:this.highWaterMark=n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new X0e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(wm||(wm=require("string_decoder/").StringDecoder),this.decoder=new wm(e.encoding),this.encoding=e.encoding)}function Yr(e){if(yv=yv||_v(),!(this instanceof Yr))return new Yr(e);this._readableState=new FL(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),fT.call(this)}Object.defineProperty(Yr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){if(!this._readableState)return;this._readableState.destroyed=e}});Yr.prototype.destroy=HL.destroy;Yr.prototype._undestroy=HL.undestroy;Yr.prototype._destroy=function(e,t){this.push(null),t(e)};Yr.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=vv.from(e,t),t=""),i=!0),GL(this,e,t,!1,i)};Yr.prototype.unshift=function(e){return GL(this,e,null,!0,!1)};function GL(e,t,r,i,s){var n=e._readableState;if(t===null)n.reading=!1,Q0e(e,n);else{var a;s||(a=J0e(n,t)),a?e.emit("error",a):n.objectMode||t&&t.length>0?(typeof t!="string"&&!n.objectMode&&Object.getPrototypeOf(t)!==vv.prototype&&(t=W0e(t)),i?n.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):dT(e,n,t,!0):n.ended?e.emit("error",new Error("stream.push() after EOF")):(n.reading=!1,n.decoder&&!r?(t=n.decoder.write(t),n.objectMode||t.length!==0?dT(e,n,t,!1):zL(e,n)):dT(e,n,t,!1))):i||(n.reading=!1)}return Z0e(n)}function dT(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&bw(e)),zL(e,t)}function J0e(e,t){var r;return!K0e(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Z0e(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Yr.prototype.isPaused=function(){return this._readableState.flowing===!1};Yr.prototype.setEncoding=function(e){return wm||(wm=require("string_decoder/").StringDecoder),this._readableState.decoder=new wm(e),this._readableState.encoding=e,this};var VL=8388608;function eme(e){return e>=VL?e=VL:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function WL(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=eme(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Yr.prototype.read=function(e){wr("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return wr("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?mT(this):bw(this),null;if(e=WL(e,t),e===0&&t.ended)return t.length===0&&mT(this),null;var i=t.needReadable;wr("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,wr("length less than watermark",i)),t.ended||t.reading?(i=!1,wr("reading or ended",i)):i&&(wr("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=WL(r,t)));var s;return e>0?s=KL(e,t):s=null,s===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&mT(this)),s!==null&&this.emit("data",s),s};function Q0e(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,bw(e)}function bw(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(wr("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?_m.nextTick(XL,e):XL(e))}function XL(e){wr("emit readable"),e.emit("readable"),gT(e)}function zL(e,t){t.readingMore||(t.readingMore=!0,_m.nextTick(tme,e,t))}function tme(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&!(wr("maybeReadMore read 0"),e.read(0),r===t.length);)r=t.length;t.readingMore=!1}Yr.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Yr.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,wr("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,n=s?o:$;i.endEmitted?_m.nextTick(n):r.once("end",n),e.on("unpipe",a);function a(H,oe){wr("onunpipe"),H===r&&(oe&&oe.hasUnpiped===!1&&(oe.hasUnpiped=!0,m()))}function o(){wr("onend"),e.end()}var u=rme(r);e.on("drain",u);var d=!1;function m(){wr("cleanup"),e.removeListener("close",q),e.removeListener("finish",F),e.removeListener("drain",u),e.removeListener("error",T),e.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",$),r.removeListener("data",x),d=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var f=!1;r.on("data",x);function x(H){wr("ondata"),f=!1;var oe=e.write(H);oe===!1&&!f&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&YL(i.pipes,e)!==-1)&&!d&&(wr("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function T(H){wr("onerror",H),$(),e.removeListener("error",T),BL(e,"error")===0&&e.emit("error",H)}Y0e(e,"error",T);function q(){e.removeListener("finish",F),$()}e.once("close",q);function F(){wr("onfinish"),e.removeListener("close",q),$()}e.once("finish",F);function $(){wr("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(wr("pipe resume"),r.resume()),e};function rme(e){return function(){var t=e._readableState;wr("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&BL(e,"data")&&(t.flowing=!0,gT(e))}}Yr.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<s;n++)i[n].emit("unpipe",this,r);return this}var a=YL(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Yr.prototype.on=function(e,t){var r=fT.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&bw(this):_m.nextTick(nme,this))}return r};Yr.prototype.addListener=Yr.prototype.on;function nme(e){wr("readable nexttick read 0"),e.read(0)}Yr.prototype.resume=function(){var e=this._readableState;return e.flowing||(wr("resume"),e.flowing=!0,ime(this,e)),this};function ime(e,t){t.resumeScheduled||(t.resumeScheduled=!0,_m.nextTick(sme,e,t))}function sme(e,t){t.reading||(wr("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),gT(e),t.flowing&&!t.reading&&e.read(0)}Yr.prototype.pause=function(){return wr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(wr("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function gT(e){var t=e._readableState;for(wr("flow",t.flowing);t.flowing&&e.read()!==null;);}Yr.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(wr("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(wr("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&a==null)return;if(!r.objectMode&&(!a||!a.length))return;var o=t.push(a);o||(i=!0,e.pause())});for(var s in e)this[s]===void 0&&typeof e[s]=="function"&&(this[s]=function(a){return function(){return e[a].apply(e,arguments)}}(s));for(var n=0;n<pT.length;n++)e.on(pT[n],this.emit.bind(this,pT[n]));return this._read=function(a){wr("wrapped _read",a),i&&(i=!1,e.resume())},this};Object.defineProperty(Yr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Yr._fromList=KL;function KL(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=ame(e,t.buffer,t.decoder),r}function ame(e,t,r){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?i=t.shift():i=r?ome(e,t):cme(e,t),i}function ome(e,t){var r=t.head,i=1,s=r.data;for(e-=s.length;r=r.next;){var n=r.data,a=e>n.length?n.length:e;if(a===n.length?s+=n:s+=n.slice(0,e),e-=a,e===0){a===n.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=n.slice(a));break}++i}return t.length-=i,s}function cme(e,t){var r=vv.allocUnsafe(e),i=t.head,s=1;for(i.data.copy(r),e-=i.data.length;i=i.next;){var n=i.data,a=e>n.length?n.length:e;if(n.copy(r,r.length-e,0,a),e-=a,e===0){a===n.length?(++s,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=n.slice(a));break}++s}return t.length-=s,r}function mT(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,_m.nextTick(lme,t,e))}function lme(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function YL(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}}),_v=O((CVe,ZL)=>{"use strict";var QL=mv(),ume=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};ZL.exports=Su;var e5=Object.create(vw());e5.inherits=Qc();var t5=JL(),vT=yT();e5.inherits(Su,t5);{_T=ume(vT.prototype);for(var wT=0;wT<_T.length;wT++)xw=_T[wT],Su.prototype[xw]||(Su.prototype[xw]=vT.prototype[xw])}var _T,xw;function Su(e){if(!(this instanceof Su))return new Su(e);t5.call(this,e),vT.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",fme)}Object.defineProperty(Su.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fme(){if(this.allowHalfOpen||this._writableState.ended)return;QL.nextTick(hme,this)}function hme(e){e.end()}Object.defineProperty(Su.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=e,this._writableState.destroyed=e}});Su.prototype._destroy=function(e,t){this.push(null),this.end(),QL.nextTick(t,e)}}),yT=O((OVe,r5)=>{"use strict";var Dp=mv();r5.exports=Gn;function n5(e){var t=this;this.next=null,this.entry=null,this.finish=function(){pme(t,e)}}var dme=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Dp.nextTick,bm;Gn.WritableState=wv;var i5=Object.create(vw());i5.inherits=Qc();var mme={deprecate:aT()},s5=oT(),Ew=ww().Buffer,gme=global.Uint8Array||function(){};function yme(e){return Ew.from(e)}function vme(e){return Ew.isBuffer(e)||e instanceof gme}var a5=lT();i5.inherits(Gn,s5);function _me(){}function wv(e,t){bm=bm||_v(),e=e||{};var r=t instanceof bm;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,s=e.writableHighWaterMark,n=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(s||s===0)?this.highWaterMark=s:this.highWaterMark=n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){wme(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n5(this)}wv.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(wv.prototype,"buffer",{get:mme.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var Sw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Sw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Gn,Symbol.hasInstance,{value:function(e){return Sw.call(this,e)?!0:this!==Gn?!1:e&&e._writableState instanceof wv}})):Sw=function(e){return e instanceof this};function Gn(e){if(bm=bm||_v(),!Sw.call(Gn,this)&&!(this instanceof bm))return new Gn(e);this._writableState=new wv(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),s5.call(this)}Gn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function bme(e,t){var r=new Error("write after end");e.emit("error",r),Dp.nextTick(t,r)}function xme(e,t,r,i){var s=!0,n=!1;return r===null?n=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk")),n&&(e.emit("error",n),Dp.nextTick(i,n),s=!1),s}Gn.prototype.write=function(e,t,r){var i=this._writableState,s=!1,n=!i.objectMode&&vme(e);return n&&!Ew.isBuffer(e)&&(e=yme(e)),typeof t=="function"&&(r=t,t=null),n?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=_me),i.ended?bme(this,r):(n||xme(this,i,e,r))&&(i.pendingcb++,s=Eme(this,i,n,e,t,r)),s};Gn.prototype.cork=function(){var e=this._writableState;e.corked++};Gn.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&o5(this,e))};Gn.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Sme(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Ew.from(t,r)),t}Object.defineProperty(Gn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Eme(e,t,r,i,s,n){if(!r){var a=Sme(t,i,s);i!==a&&(r=!0,s="buffer",i=a)}var o=t.objectMode?1:i.length;t.length+=o;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:r,callback:n,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else bT(e,t,!1,o,i,s,n);return u}function bT(e,t,r,i,s,n,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(s,t.onwrite):e._write(s,n,t.onwrite),t.sync=!1}function Rme(e,t,r,i,s){--t.pendingcb,r?(Dp.nextTick(s,i),Dp.nextTick(bv,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),bv(e,t))}function Ame(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function wme(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if(Ame(r),t)Rme(e,r,i,t,s);else{var n=l5(r);!n&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&o5(e,r),i?dme(c5,e,r,n,s):c5(e,r,n,s)}}function c5(e,t,r,i){r||Tme(e,t),t.pendingcb--,i(),bv(e,t)}function Tme(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function o5(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),n=t.corkedRequestsFree;n.entry=r;for(var a=0,o=!0;r;)s[a]=r,r.isBuf||(o=!1),r=r.next,a+=1;s.allBuffers=o,bT(e,t,!0,t.length,s,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new n5(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,m=r.callback,f=t.objectMode?1:u.length;if(bT(e,t,!1,f,u,d,m),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Gn.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};Gn.prototype._writev=null;Gn.prototype.end=function(e,t,r){var i=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&Cme(this,i,r)};function l5(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Ome(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),bv(e,t)})}function kme(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,Dp.nextTick(Ome,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function bv(e,t){var r=l5(t);return r&&(kme(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Cme(e,t,r){t.ending=!0,bv(e,t),r&&(t.finished?Dp.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function pme(e,t,r){var i=e.entry;for(e.entry=null;i;){var s=i.callback;t.pendingcb--,s(r),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(Gn.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){if(!this._writableState)return;this._writableState.destroyed=e}});Gn.prototype.destroy=a5.destroy;Gn.prototype._undestroy=a5.undestroy;Gn.prototype._destroy=function(e,t){this.end(),t(e)}}),h5=O((kVe,xT)=>{var u5=require("stream"),f5=yT();process.env.READABLE_STREAM==="disable"?xT.exports=u5&&u5.Writable||f5:xT.exports=f5}),ST=O((PVe,p5)=>{"use strict";var Pme=require("util"),{LEVEL:ET}=xu(),d5=$p(),xv=p5.exports=function(t={}){if(d5.call(this,t),!t.transport||typeof t.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=t.transport,this.level=this.level||t.transport.level,this.handleExceptions=this.handleExceptions||t.transport.handleExceptions,this._deprecated();function r(i){this.emit("error",i,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};Pme.inherits(xv,d5);xv.prototype._write=function(t,r,i){if(this.silent||t.exception===!0&&!this.handleExceptions)return i(null);(!this.level||this.levels[this.level]>=this.levels[t[ET]])&&this.transport.log(t[ET],t.message,t,this._nop),i(null)};xv.prototype._writev=function(t,r){for(let i=0;i<t.length;i++)this._accept(t[i])&&(this.transport.log(t[i].chunk[ET],t[i].chunk.message,t[i].chunk,this._nop),t[i].callback());return r(null)};xv.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};xv.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}}),$p=O((IVe,RT)=>{"use strict";var Ime=require("util"),m5=h5(),{LEVEL:g5}=xu(),Ev=RT.exports=function(t={}){m5.call(this,{objectMode:!0,highWaterMark:t.highWaterMark}),this.format=t.format,this.level=t.level,this.handleExceptions=t.handleExceptions,this.handleRejections=t.handleRejections,this.silent=t.silent,t.log&&(this.log=t.log),t.logv&&(this.logv=t.logv),t.close&&(this.close=t.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};Ime.inherits(Ev,m5);Ev.prototype._write=function(t,r,i){if(this.silent||t.exception===!0&&!this.handleExceptions)return i(null);let s=this.level||this.parent&&this.parent.level;if(!s||this.levels[s]>=this.levels[t[g5]]){if(t&&!this.format)return this.log(t,i);let n,a;try{a=this.format.transform(Object.assign({},t),this.format.options)}catch(o){n=o}if(n||!a){if(i(),n)throw n;return}return this.log(a,i)}return i(null)};Ev.prototype._writev=function(t,r){if(this.logv){let i=t.filter(this._accept,this);return i.length?this.logv(i,r):r(null)}for(let i=0;i<t.length;i++){if(!this._accept(t[i]))continue;if(t[i].chunk&&!this.format){this.log(t[i].chunk,t[i].callback);continue}let s,n;try{n=this.format.transform(Object.assign({},t[i].chunk),this.format.options)}catch(a){s=a}if(s||!n){if(t[i].callback(),s)throw r(null),s}else this.log(n,t[i].callback)}return r(null)};Ev.prototype._accept=function(t){let r=t.chunk;if(this.silent)return!1;let i=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!i||this.levels[i]>=this.levels[r[g5]])&&(this.handleExceptions||r.exception!==!0))};Ev.prototype._nop=function(){};RT.exports.LegacyTransportStream=ST()}),_5=O((NVe,y5)=>{"use strict";var qme=require("os"),{LEVEL:v5,MESSAGE:xm}=xu(),Nme=$p();y5.exports=class extends Nme{constructor(t={}){super(t);this.name=t.name||"console",this.stderrLevels=this._stringArrayToSet(t.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(t.consoleWarnLevels),this.eol=t.eol||qme.EOL,this.setMaxListeners(30)}log(t,r){if(setImmediate(()=>this.emit("logged",t)),this.stderrLevels[t[v5]]){console._stderr?console._stderr.write(`${t[xm]}${this.eol}`):console.error(t[xm]),r&&r();return}else if(this.consoleWarnLevels[t[v5]]){console._stderr?console._stderr.write(`${t[xm]}${this.eol}`):console.warn(t[xm]),r&&r();return}console._stdout?console._stdout.write(`${t[xm]}${this.eol}`):console.log(t[xm]),r&&r()}_stringArrayToSet(t,r){if(!t)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(t))throw new Error(r);return t.reduce((i,s)=>{if(typeof s!="string")throw new Error(r);return i[s]=!0,i},{})}}}),Aw=O((Rw,w5)=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0});Rw.default=Mme;function Mme(e){return e&&typeof e.length=="number"&&e.length>=0&&e.length%1===0}w5.exports=Rw.default}),x5=O((Tw,b5)=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});Tw.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}};b5.exports=Tw.default}),R5=O(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.fallback=E5;jp.wrap=S5;var Lme=jp.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Dme=jp.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function E5(e){setTimeout(e,0)}function S5(e){return(t,...r)=>e(()=>t(...r))}var Cw;Lme?Cw=setImmediate:Dme?Cw=process.nextTick:Cw=E5;jp.default=S5(Cw)}),k5=O((Ow,A5)=>{"use strict";Object.defineProperty(Ow,"__esModule",{value:!0});Ow.default=$me;var jme=x5(),Fme=T5(jme),Bme=R5(),Ume=T5(Bme),Hme=Fp();function T5(e){return e&&e.__esModule?e:{default:e}}function $me(e){return(0,Hme.isAsync)(e)?function(...t){let r=t.pop(),i=e.apply(this,t);return C5(i,r)}:(0,Fme.default)(function(t,r){var i;try{i=e.apply(this,t)}catch(s){return r(s)}if(i&&typeof i.then=="function")return C5(i,r);r(null,i)})}function C5(e,t){return e.then(r=>{O5(t,null,r)},r=>{O5(t,r&&r.message?r:new Error(r))})}function O5(e,t,r){try{e(t,r)}catch(i){(0,Ume.default)(s=>{throw s},i)}}A5.exports=Ow.default}),Fp=O(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.isAsyncIterable=Ru.isAsyncGenerator=Ru.isAsync=void 0;var Gme=k5(),Vme=zme(Gme);function zme(e){return e&&e.__esModule?e:{default:e}}function P5(e){return e[Symbol.toStringTag]==="AsyncFunction"}function Wme(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function Kme(e){return typeof e[Symbol.asyncIterator]=="function"}function Xme(e){if(typeof e!="function")throw new Error("expected a function");return P5(e)?(0,Vme.default)(e):e}Ru.default=Xme;Ru.isAsync=P5;Ru.isAsyncGenerator=Wme;Ru.isAsyncIterable=Kme}),Em=O((kw,I5)=>{"use strict";Object.defineProperty(kw,"__esModule",{value:!0});kw.default=Yme;function Yme(e,t=e.length){if(!t)throw new Error("arity is undefined");function r(...i){return typeof i[t-1]=="function"?e.apply(this,i):new Promise((s,n)=>{i[t-1]=(a,...o)=>{if(a)return n(a);s(o.length>1?o:o[0])},e.apply(this,i)})}return r}I5.exports=kw.default}),N5=O((Pw,q5)=>{"use strict";Object.defineProperty(Pw,"__esModule",{value:!0});var Jme=Aw(),Zme=AT(Jme),Qme=Fp(),ege=AT(Qme),tge=Em(),rge=AT(tge);function AT(e){return e&&e.__esModule?e:{default:e}}Pw.default=(0,rge.default)((e,t,r)=>{var i=(0,Zme.default)(t)?[]:{};e(t,(s,n,a)=>{(0,ege.default)(s)((o,...u)=>{u.length<2&&([u]=u),i[n]=u,a(o)})},s=>r(s,i))},3);q5.exports=Pw.default}),TT=O((Iw,M5)=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});Iw.default=nge;function nge(e){function t(...r){if(e===null)return;var i=e;e=null,i.apply(this,r)}return Object.assign(t,e),t}M5.exports=Iw.default}),D5=O((qw,L5)=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});qw.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()};L5.exports=qw.default}),F5=O((Nw,$5)=>{"use strict";Object.defineProperty(Nw,"__esModule",{value:!0});Nw.default=ige;var sge=Aw(),age=j5(sge),oge=D5(),cge=j5(oge);function j5(e){return e&&e.__esModule?e:{default:e}}function lge(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function uge(e){var t=-1;return function(){var i=e.next();return i.done?null:(t++,{value:i.value,key:t})}}function fge(e){var t=e?Object.keys(e):[],r=-1,i=t.length;return function(){var n=t[++r];return r<i?{value:e[n],key:n}:null}}function ige(e){if((0,age.default)(e))return lge(e);var t=(0,cge.default)(e);return t?uge(t):fge(e)}$5.exports=Nw.default}),CT=O((Mw,B5)=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0});Mw.default=hge;function hge(e){return function(...t){if(e===null)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}B5.exports=Mw.default}),Dw=O((Lw,U5)=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0});var pge={};Lw.default=pge;U5.exports=Lw.default}),G5=O(($w,H5)=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});$w.default=dge;var mge=Dw(),yge=gge(mge);function gge(e){return e&&e.__esModule?e:{default:e}}function dge(e,t,r,i){let s=!1,n=!1,a=!1,o=0,u=0;function d(){if(o>=t||a||s)return;a=!0,e.next().then(({value:x,done:T})=>{if(n||s)return;if(a=!1,T){s=!0,o<=0&&i(null);return}o++,r(x,u,m),u++,d()}).catch(f)}function m(x,T){if(o-=1,n)return;if(x)return f(x);if(x===!1){s=!0,n=!0;return}if(T===yge.default||s&&o<=0)return s=!0,i(null);d()}function f(x){if(n)return;a=!1,s=!0,i(x)}d()}H5.exports=$w.default}),K5=O((jw,z5)=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});var vge=TT(),_ge=Sv(vge),wge=F5(),bge=Sv(wge),xge=CT(),Ege=Sv(xge),V5=Fp(),Sge=G5(),W5=Sv(Sge),Rge=Dw(),Age=Sv(Rge);function Sv(e){return e&&e.__esModule?e:{default:e}}jw.default=e=>(t,r,i)=>{if(i=(0,_ge.default)(i),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return i(null);if((0,V5.isAsyncGenerator)(t))return(0,W5.default)(t,e,r,i);if((0,V5.isAsyncIterable)(t))return(0,W5.default)(t[Symbol.asyncIterator](),e,r,i);var s=(0,bge.default)(t),n=!1,a=!1,o=0,u=!1;function d(f,x){if(a)return;if(o-=1,f)n=!0,i(f);else if(f===!1)n=!0,a=!0;else{if(x===Age.default||n&&o<=0)return n=!0,i(null);u||m()}}function m(){for(u=!0;o<e&&!n;){var f=s();if(f===null){n=!0,o<=0&&i(null);return}o+=1,r(f.value,f.key,(0,Ege.default)(d))}u=!1}m()};z5.exports=jw.default}),kT=O((Fw,X5)=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});var Tge=K5(),Cge=OT(Tge),Oge=Fp(),kge=OT(Oge),Pge=Em(),Ige=OT(Pge);function OT(e){return e&&e.__esModule?e:{default:e}}function qge(e,t,r,i){return(0,Cge.default)(t)(e,(0,kge.default)(r),i)}Fw.default=(0,Ige.default)(qge,4);X5.exports=Fw.default}),Z5=O((Bw,Y5)=>{"use strict";Object.defineProperty(Bw,"__esModule",{value:!0});var Nge=kT(),Mge=J5(Nge),Lge=Em(),Dge=J5(Lge);function J5(e){return e&&e.__esModule?e:{default:e}}function $ge(e,t,r){return(0,Mge.default)(e,1,t,r)}Bw.default=(0,Dge.default)($ge,3);Y5.exports=Bw.default}),t6=O((Uw,Q5)=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});Uw.default=jge;var Fge=N5(),Bge=e6(Fge),Uge=Z5(),Hge=e6(Uge);function e6(e){return e&&e.__esModule?e:{default:e}}function jge(e,t){return(0,Bge.default)(Hge.default,e,t)}Q5.exports=Uw.default}),PT=O((DVe,r6)=>{r6.exports=require("stream")}),a6=O(($Ve,n6)=>{"use strict";function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function zge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(i){Gge(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Gge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wge(e,t,r){return t&&s6(e.prototype,t),r&&s6(e,r),e}var Kge=require("buffer"),Hw=Kge.Buffer,Xge=require("util"),IT=Xge.inspect,Yge=IT&&IT.custom||"inspect";function Jge(e,t,r){Hw.prototype.copy.call(e,t,r)}n6.exports=function(){function e(){Vge(this,e),this.head=null,this.tail=null,this.length=0}return Wge(e,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length===0)return;var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,s=""+i.data;i=i.next;)s+=r+i.data;return s}},{key:"concat",value:function(r){if(this.length===0)return Hw.alloc(0);for(var i=Hw.allocUnsafe(r>>>0),s=this.head,n=0;s;)Jge(s.data,i,n),n+=s.data.length,s=s.next;return i}},{key:"consume",value:function(r,i){var s;return r<this.head.data.length?(s=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?s=this.shift():s=i?this._getString(r):this._getBuffer(r),s}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,s=1,n=i.data;for(r-=n.length;i=i.next;){var a=i.data,o=r>a.length?a.length:r;if(o===a.length?n+=a:n+=a.slice(0,r),r-=o,r===0){o===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(o));break}++s}return this.length-=s,n}},{key:"_getBuffer",value:function(r){var i=Hw.allocUnsafe(r),s=this.head,n=1;for(s.data.copy(i),r-=s.data.length;s=s.next;){var a=s.data,o=r>a.length?a.length:r;if(a.copy(i,i.length-r,0,o),r-=o,r===0){o===a.length?(++n,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=a.slice(o));break}++n}return this.length-=n,i}},{key:Yge,value:function(r,i){return IT(this,zge({},i,{depth:0,customInspect:!1}))}}]),e}()}),NT=O((jVe,o6)=>{"use strict";function Zge(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(qT,this,e)):process.nextTick(qT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(n){!t&&n?r._writableState?r._writableState.errorEmitted?process.nextTick(Gw,r):(r._writableState.errorEmitted=!0,process.nextTick(c6,r,n)):process.nextTick(c6,r,n):t?(process.nextTick(Gw,r),t(n)):process.nextTick(Gw,r)}),this)}function c6(e,t){qT(e,t),Gw(e)}function Gw(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function Qge(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qT(e,t){e.emit("error",t)}function eye(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}o6.exports={destroy:Zge,undestroy:Qge,errorOrDestroy:eye}}),Xf=O((FVe,l6)=>{"use strict";var u6={};function to(e,t,r){r||(r=Error);function i(n,a,o){return typeof t=="string"?t:t(n,a,o)}class s extends r{constructor(a,o,u){super(i(a,o,u))}}s.prototype.name=r.name,s.prototype.code=e,u6[e]=s}function f6(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(i=>String(i)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function tye(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function rye(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function nye(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}to("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);to("ERR_INVALID_ARG_TYPE",function(e,t,r){let i;typeof t=="string"&&tye(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";let s;if(rye(e," argument"))s=`The ${e} ${i} ${f6(t,"type")}`;else{let n=nye(e,".")?"property":"argument";s=`The "${e}" ${n} ${i} ${f6(t,"type")}`}return s+=`. Received type ${typeof r}`,s},TypeError);to("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");to("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});to("ERR_STREAM_PREMATURE_CLOSE","Premature close");to("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});to("ERR_MULTIPLE_CALLBACK","Callback called multiple times");to("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");to("ERR_STREAM_WRITE_AFTER_END","write after end");to("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);to("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);to("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");l6.exports.codes=u6}),MT=O((BVe,h6)=>{"use strict";var iye=Xf().codes.ERR_INVALID_OPT_VALUE;function sye(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function aye(e,t,r,i){var s=sye(t,i,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var n=i?r:"highWaterMark";throw new iye(n,s)}return Math.floor(s)}return e.objectMode?16:16*1024}h6.exports={getHighWaterMark:aye}}),$T=O((UVe,p6)=>{"use strict";p6.exports=Rn;function d6(e){var t=this;this.next=null,this.entry=null,this.finish=function(){oye(t,e)}}var Sm;Rn.WritableState=Rv;var cye={deprecate:aT()},m6=PT(),zw=require("buffer").Buffer,lye=global.Uint8Array||function(){};function uye(e){return zw.from(e)}function fye(e){return zw.isBuffer(e)||e instanceof lye}var LT=NT(),hye=MT(),pye=hye.getHighWaterMark,Yf=Xf().codes,dye=Yf.ERR_INVALID_ARG_TYPE,mye=Yf.ERR_METHOD_NOT_IMPLEMENTED,gye=Yf.ERR_MULTIPLE_CALLBACK,yye=Yf.ERR_STREAM_CANNOT_PIPE,vye=Yf.ERR_STREAM_DESTROYED,_ye=Yf.ERR_STREAM_NULL_VALUES,wye=Yf.ERR_STREAM_WRITE_AFTER_END,bye=Yf.ERR_UNKNOWN_ENCODING,Rm=LT.errorOrDestroy;Qc()(Rn,m6);function xye(){}function Rv(e,t,r){Sm=Sm||Bp(),e=e||{},typeof r!="boolean"&&(r=t instanceof Sm),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=pye(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){Eye(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d6(this)}Rv.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Rv.prototype,"buffer",{get:cye.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var Vw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Vw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Rn,Symbol.hasInstance,{value:function(t){return Vw.call(this,t)?!0:this!==Rn?!1:t&&t._writableState instanceof Rv}})):Vw=function(t){return t instanceof this};function Rn(e){Sm=Sm||Bp();var t=this instanceof Sm;if(!t&&!Vw.call(Rn,this))return new Rn(e);this._writableState=new Rv(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),m6.call(this)}Rn.prototype.pipe=function(){Rm(this,new yye)};function Sye(e,t){var r=new wye;Rm(e,r),process.nextTick(t,r)}function Rye(e,t,r,i){var s;return r===null?s=new _ye:typeof r!="string"&&!t.objectMode&&(s=new dye("chunk",["string","Buffer"],r)),s?(Rm(e,s),process.nextTick(i,s),!1):!0}Rn.prototype.write=function(e,t,r){var i=this._writableState,s=!1,n=!i.objectMode&&fye(e);return n&&!zw.isBuffer(e)&&(e=uye(e)),typeof t=="function"&&(r=t,t=null),n?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=xye),i.ending?Sye(this,r):(n||Rye(this,i,e,r))&&(i.pendingcb++,s=Aye(this,i,n,e,t,r)),s};Rn.prototype.cork=function(){this._writableState.corked++};Rn.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&g6(this,e))};Rn.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new bye(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(Rn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Tye(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=zw.from(t,r)),t}Object.defineProperty(Rn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Aye(e,t,r,i,s,n){if(!r){var a=Tye(t,i,s);i!==a&&(r=!0,s="buffer",i=a)}var o=t.objectMode?1:i.length;t.length+=o;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:r,callback:n,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else DT(e,t,!1,o,i,s,n);return u}function DT(e,t,r,i,s,n,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new vye("write")):r?e._writev(s,t.onwrite):e._write(s,n,t.onwrite),t.sync=!1}function Cye(e,t,r,i,s){--t.pendingcb,r?(process.nextTick(s,i),process.nextTick(Av,e,t),e._writableState.errorEmitted=!0,Rm(e,i)):(s(i),e._writableState.errorEmitted=!0,Rm(e,i),Av(e,t))}function Oye(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Eye(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if(typeof s!="function")throw new gye;if(Oye(r),t)Cye(e,r,i,t,s);else{var n=v6(r)||e.destroyed;!n&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&g6(e,r),i?process.nextTick(y6,e,r,n,s):y6(e,r,n,s)}}function y6(e,t,r,i){r||kye(e,t),t.pendingcb--,i(),Av(e,t)}function kye(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g6(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),n=t.corkedRequestsFree;n.entry=r;for(var a=0,o=!0;r;)s[a]=r,r.isBuf||(o=!1),r=r.next,a+=1;s.allBuffers=o,DT(e,t,!0,t.length,s,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new d6(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,m=r.callback,f=t.objectMode?1:u.length;if(DT(e,t,!1,f,u,d,m),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Rn.prototype._write=function(e,t,r){r(new mye("_write()"))};Rn.prototype._writev=null;Rn.prototype.end=function(e,t,r){var i=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||Pye(this,i,r),this};Object.defineProperty(Rn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v6(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Iye(e,t){e._final(function(r){t.pendingcb--,r&&Rm(e,r),t.prefinished=!0,e.emit("prefinish"),Av(e,t)})}function qye(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(Iye,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Av(e,t){var r=v6(t);if(r&&(qye(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function Pye(e,t,r){t.ending=!0,Av(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function oye(e,t,r){var i=e.entry;for(e.entry=null;i;){var s=i.callback;t.pendingcb--,s(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(Rn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){if(!this._writableState)return;this._writableState.destroyed=t}});Rn.prototype.destroy=LT.destroy;Rn.prototype._undestroy=LT.undestroy;Rn.prototype._destroy=function(e,t){t(e)}}),Bp=O((HVe,_6)=>{"use strict";var Nye=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};_6.exports=el;var w6=jT(),FT=$T();Qc()(el,w6);{BT=Nye(FT.prototype);for(var UT=0;UT<BT.length;UT++)Ww=BT[UT],el.prototype[Ww]||(el.prototype[Ww]=FT.prototype[Ww])}var BT,Ww;function el(e){if(!(this instanceof el))return new el(e);w6.call(this,e),FT.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Mye)))}Object.defineProperty(el.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(el.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(el.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Mye(){if(this._writableState.ended)return;process.nextTick(Lye,this)}function Lye(e){e.end()}Object.defineProperty(el.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=t,this._writableState.destroyed=t}})}),Kw=O((GVe,b6)=>{"use strict";var x6=Xf().codes.ERR_STREAM_PREMATURE_CLOSE;function Dye(e){var t=!1;return function(){if(t)return;t=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];e.apply(this,i)}}function $ye(){}function jye(e){return e.setHeader&&typeof e.abort=="function"}function E6(e,t,r){if(typeof t=="function")return E6(e,null,t);t||(t={}),r=Dye(r||$ye);var i=t.readable||t.readable!==!1&&e.readable,s=t.writable||t.writable!==!1&&e.writable,n=function(){e.writable||o()},a=e._writableState&&e._writableState.finished,o=function(){s=!1,a=!0,i||r.call(e)},u=e._readableState&&e._readableState.endEmitted,d=function(){i=!1,u=!0,s||r.call(e)},m=function(q){r.call(e,q)},f=function(){var q;if(i&&!u)return(!e._readableState||!e._readableState.ended)&&(q=new x6),r.call(e,q);if(s&&!a)return(!e._writableState||!e._writableState.ended)&&(q=new x6),r.call(e,q)},x=function(){e.req.on("finish",o)};return jye(e)?(e.on("complete",o),e.on("abort",f),e.req?x():e.on("request",x)):s&&!e._writableState&&(e.on("end",n),e.on("close",n)),e.on("end",d),e.on("finish",o),t.error!==!1&&e.on("error",m),e.on("close",f),function(){e.removeListener("complete",o),e.removeListener("abort",f),e.removeListener("request",x),e.req&&e.req.removeListener("finish",o),e.removeListener("end",n),e.removeListener("close",n),e.removeListener("finish",o),e.removeListener("end",d),e.removeListener("error",m),e.removeListener("close",f)}}b6.exports=E6}),R6=O((zVe,S6)=>{"use strict";var Xw;function Jf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fye=Kw(),Zf=Symbol("lastResolve"),Up=Symbol("lastReject"),Tv=Symbol("error"),Yw=Symbol("ended"),Hp=Symbol("lastPromise"),HT=Symbol("handlePromise"),Gp=Symbol("stream");function Qf(e,t){return{value:e,done:t}}function Bye(e){var t=e[Zf];if(t!==null){var r=e[Gp].read();r!==null&&(e[Hp]=null,e[Zf]=null,e[Up]=null,t(Qf(r,!1)))}}function Uye(e){process.nextTick(Bye,e)}function Hye(e,t){return function(r,i){e.then(function(){if(t[Yw]){r(Qf(void 0,!0));return}t[HT](r,i)},i)}}var Gye=Object.getPrototypeOf(function(){}),zye=Object.setPrototypeOf((Xw={get stream(){return this[Gp]},next:function(){var t=this,r=this[Tv];if(r!==null)return Promise.reject(r);if(this[Yw])return Promise.resolve(Qf(void 0,!0));if(this[Gp].destroyed)return new Promise(function(a,o){process.nextTick(function(){t[Tv]?o(t[Tv]):a(Qf(void 0,!0))})});var i=this[Hp],s;if(i)s=new Promise(Hye(i,this));else{var n=this[Gp].read();if(n!==null)return Promise.resolve(Qf(n,!1));s=new Promise(this[HT])}return this[Hp]=s,s}},Jf(Xw,Symbol.asyncIterator,function(){return this}),Jf(Xw,"return",function(){var t=this;return new Promise(function(r,i){t[Gp].destroy(null,function(s){if(s){i(s);return}r(Qf(void 0,!0))})})}),Xw),Gye),Vye=function(t){var r,i=Object.create(zye,(r={},Jf(r,Gp,{value:t,writable:!0}),Jf(r,Zf,{value:null,writable:!0}),Jf(r,Up,{value:null,writable:!0}),Jf(r,Tv,{value:null,writable:!0}),Jf(r,Yw,{value:t._readableState.endEmitted,writable:!0}),Jf(r,HT,{value:function(n,a){var o=i[Gp].read();o?(i[Hp]=null,i[Zf]=null,i[Up]=null,n(Qf(o,!1))):(i[Zf]=n,i[Up]=a)},writable:!0}),r));return i[Hp]=null,Fye(t,function(s){if(s&&s.code!=="ERR_STREAM_PREMATURE_CLOSE"){var n=i[Up];n!==null&&(i[Hp]=null,i[Zf]=null,i[Up]=null,n(s)),i[Tv]=s;return}var a=i[Zf];a!==null&&(i[Hp]=null,i[Zf]=null,i[Up]=null,a(Qf(void 0,!0))),i[Yw]=!0}),t.on("readable",Uye.bind(null,i)),i};S6.exports=Vye}),O6=O((VVe,A6)=>{"use strict";function T6(e,t,r,i,s,n,a){try{var o=e[n](a),u=o.value}catch(d){r(d);return}o.done?t(u):Promise.resolve(u).then(i,s)}function Wye(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var n=e.apply(t,r);function a(u){T6(n,i,s,a,o,"next",u)}function o(u){T6(n,i,s,a,o,"throw",u)}a(void 0)})}}function C6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Xye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(r),!0).forEach(function(i){Kye(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Kye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yye=Xf().codes.ERR_INVALID_ARG_TYPE;function Jye(e,t,r){var i;if(t&&typeof t.next=="function")i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new Yye("iterable",["Iterable"],t);var s=new e(Xye({objectMode:!0},r)),n=!1;s._read=function(){n||(n=!0,a())};function a(){return o.apply(this,arguments)}function o(){return o=Wye(function*(){try{var u=yield i.next(),d=u.value,m=u.done;m?s.push(null):s.push(yield d)?a():n=!1}catch(f){s.destroy(f)}}),o.apply(this,arguments)}return s}A6.exports=Jye}),jT=O((KVe,k6)=>{"use strict";k6.exports=fr;var Am;fr.ReadableState=P6;var WVe=require("events").EventEmitter,I6=function(t,r){return t.listeners(r).length},Cv=PT(),Jw=require("buffer").Buffer,Zye=global.Uint8Array||function(){};function Qye(e){return Jw.from(e)}function eve(e){return Jw.isBuffer(e)||e instanceof Zye}var GT=require("util"),Yt;GT&&GT.debuglog?Yt=GT.debuglog("stream"):Yt=function(){};var tve=a6(),zT=NT(),rve=MT(),nve=rve.getHighWaterMark,Zw=Xf().codes,ive=Zw.ERR_INVALID_ARG_TYPE,sve=Zw.ERR_STREAM_PUSH_AFTER_EOF,ave=Zw.ERR_METHOD_NOT_IMPLEMENTED,ove=Zw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Tm,VT,WT;Qc()(fr,Cv);var Ov=zT.errorOrDestroy,KT=["error","close","destroy","pause","resume"];function cve(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function P6(e,t,r){Am=Am||Bp(),e=e||{},typeof r!="boolean"&&(r=t instanceof Am),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=nve(this,e,"readableHighWaterMark",r),this.buffer=new tve,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Tm||(Tm=require("string_decoder/").StringDecoder),this.decoder=new Tm(e.encoding),this.encoding=e.encoding)}function fr(e){if(Am=Am||Bp(),!(this instanceof fr))return new fr(e);var t=this instanceof Am;this._readableState=new P6(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Cv.call(this)}Object.defineProperty(fr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){if(!this._readableState)return;this._readableState.destroyed=t}});fr.prototype.destroy=zT.destroy;fr.prototype._undestroy=zT.undestroy;fr.prototype._destroy=function(e,t){t(e)};fr.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Jw.from(e,t),t=""),i=!0),q6(this,e,t,!1,i)};fr.prototype.unshift=function(e){return q6(this,e,null,!0,!1)};function q6(e,t,r,i,s){Yt("readableAddChunk",t);var n=e._readableState;if(t===null)n.reading=!1,uve(e,n);else{var a;if(s||(a=lve(n,t)),a)Ov(e,a);else if(n.objectMode||t&&t.length>0)if(typeof t!="string"&&!n.objectMode&&Object.getPrototypeOf(t)!==Jw.prototype&&(t=Qye(t)),i)n.endEmitted?Ov(e,new ove):XT(e,n,t,!0);else if(n.ended)Ov(e,new sve);else{if(n.destroyed)return!1;n.reading=!1,n.decoder&&!r?(t=n.decoder.write(t),n.objectMode||t.length!==0?XT(e,n,t,!1):YT(e,n)):XT(e,n,t,!1)}else i||(n.reading=!1,YT(e,n))}return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function XT(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Qw(e)),YT(e,t)}function lve(e,t){var r;return!eve(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new ive("chunk",["string","Buffer","Uint8Array"],t)),r}fr.prototype.isPaused=function(){return this._readableState.flowing===!1};fr.prototype.setEncoding=function(e){Tm||(Tm=require("string_decoder/").StringDecoder);var t=new Tm(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var N6=1073741824;function fve(e){return e>=N6?e=N6:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function M6(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=fve(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}fr.prototype.read=function(e){Yt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return Yt("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?JT(this):Qw(this),null;if(e=M6(e,t),e===0&&t.ended)return t.length===0&&JT(this),null;var i=t.needReadable;Yt("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,Yt("length less than watermark",i)),t.ended||t.reading?(i=!1,Yt("reading or ended",i)):i&&(Yt("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M6(r,t)));var s;return e>0?s=L6(e,t):s=null,s===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&JT(this)),s!==null&&this.emit("data",s),s};function uve(e,t){if(Yt("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Qw(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,D6(e)))}function Qw(e){var t=e._readableState;Yt("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(Yt("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(D6,e))}function D6(e){var t=e._readableState;Yt("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ZT(e)}function YT(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(hve,e,t))}function hve(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(Yt("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}fr.prototype._read=function(e){Ov(this,new ave("_read()"))};fr.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,Yt("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,n=s?o:F;i.endEmitted?process.nextTick(n):r.once("end",n),e.on("unpipe",a);function a($,H){Yt("onunpipe"),$===r&&(H&&H.hasUnpiped===!1&&(H.hasUnpiped=!0,m()))}function o(){Yt("onend"),e.end()}var u=pve(r);e.on("drain",u);var d=!1;function m(){Yt("cleanup"),e.removeListener("close",T),e.removeListener("finish",q),e.removeListener("drain",u),e.removeListener("error",x),e.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",F),r.removeListener("data",f),d=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}r.on("data",f);function f($){Yt("ondata");var H=e.write($);Yt("dest.write",H),H===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&$6(i.pipes,e)!==-1)&&!d&&(Yt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function x($){Yt("onerror",$),F(),e.removeListener("error",x),I6(e,"error")===0&&Ov(e,$)}cve(e,"error",x);function T(){e.removeListener("finish",q),F()}e.once("close",T);function q(){Yt("onfinish"),e.removeListener("close",T),F()}e.once("finish",q);function F(){Yt("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(Yt("pipe resume"),r.resume()),e};function pve(e){return function(){var r=e._readableState;Yt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&I6(e,"data")&&(r.flowing=!0,ZT(e))}}fr.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<s;n++)i[n].emit("unpipe",this,{hasUnpiped:!1});return this}var a=$6(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};fr.prototype.on=function(e,t){var r=Cv.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&(!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Yt("on readable",i.length,i.reading),i.length?Qw(this):i.reading||process.nextTick(dve,this))),r};fr.prototype.addListener=fr.prototype.on;fr.prototype.removeListener=function(e,t){var r=Cv.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(j6,this),r};fr.prototype.removeAllListeners=function(e){var t=Cv.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(j6,this),t};function j6(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function dve(e){Yt("readable nexttick read 0"),e.read(0)}fr.prototype.resume=function(){var e=this._readableState;return e.flowing||(Yt("resume"),e.flowing=!e.readableListening,mve(this,e)),e.paused=!1,this};function mve(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(gve,e,t))}function gve(e,t){Yt("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ZT(e),t.flowing&&!t.reading&&e.read(0)}fr.prototype.pause=function(){return Yt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Yt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ZT(e){var t=e._readableState;for(Yt("flow",t.flowing);t.flowing&&e.read()!==null;);}fr.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(Yt("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(Yt("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&a==null)return;if(!r.objectMode&&(!a||!a.length))return;var o=t.push(a);o||(i=!0,e.pause())});for(var s in e)this[s]===void 0&&typeof e[s]=="function"&&(this[s]=function(o){return function(){return e[o].apply(e,arguments)}}(s));for(var n=0;n<KT.length;n++)e.on(KT[n],this.emit.bind(this,KT[n]));return this._read=function(a){Yt("wrapped _read",a),i&&(i=!1,e.resume())},this};typeof Symbol=="function"&&(fr.prototype[Symbol.asyncIterator]=function(){return VT===void 0&&(VT=R6()),VT(this)});Object.defineProperty(fr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(fr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(fr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});fr._fromList=L6;Object.defineProperty(fr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L6(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function JT(e){var t=e._readableState;Yt("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(yve,t,e))}function yve(e,t){if(Yt("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(fr.from=function(e,t){return WT===void 0&&(WT=O6()),WT(fr,e,t)});function $6(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}}),QT=O((XVe,F6)=>{"use strict";F6.exports=Au;var eb=Xf().codes,vve=eb.ERR_METHOD_NOT_IMPLEMENTED,_ve=eb.ERR_MULTIPLE_CALLBACK,wve=eb.ERR_TRANSFORM_ALREADY_TRANSFORMING,bve=eb.ERR_TRANSFORM_WITH_LENGTH_0,tb=Bp();Qc()(Au,tb);function xve(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new _ve);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function Au(e){if(!(this instanceof Au))return new Au(e);tb.call(this,e),this._transformState={afterTransform:xve.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Eve)}function Eve(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){B6(e,t,r)}):B6(this,null,null)}Au.prototype.push=function(e,t){return this._transformState.needTransform=!1,tb.prototype.push.call(this,e,t)};Au.prototype._transform=function(e,t,r){r(new vve("_transform()"))};Au.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};Au.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Au.prototype._destroy=function(e,t){tb.prototype._destroy.call(this,e,function(r){t(r)})};function B6(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new bve;if(e._transformState.transforming)throw new wve;return e.push(null)}}),G6=O((YVe,U6)=>{"use strict";U6.exports=kv;var H6=QT();Qc()(kv,H6);function kv(e){if(!(this instanceof kv))return new kv(e);H6.call(this,e)}kv.prototype._transform=function(e,t,r){r(null,e)}}),X6=O((JVe,z6)=>{"use strict";var eC;function Sve(e){var t=!1;return function(){if(t)return;t=!0,e.apply(void 0,arguments)}}var V6=Xf().codes,Rve=V6.ERR_MISSING_ARGS,Ave=V6.ERR_STREAM_DESTROYED;function W6(e){if(e)throw e}function Tve(e){return e.setHeader&&typeof e.abort=="function"}function Cve(e,t,r,i){i=Sve(i);var s=!1;e.on("close",function(){s=!0}),eC===void 0&&(eC=Kw()),eC(e,{readable:t,writable:r},function(a){if(a)return i(a);s=!0,i()});var n=!1;return function(a){if(s)return;if(n)return;if(n=!0,Tve(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(a||new Ave("pipe"))}}function K6(e){e()}function Ove(e,t){return e.pipe(t)}function kve(e){return e.length?typeof e[e.length-1]!="function"?W6:e.pop():W6}function Pve(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=kve(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Rve("streams");var s,n=t.map(function(a,o){var u=o<t.length-1,d=o>0;return Cve(a,u,d,function(m){if(s||(s=m),m&&n.forEach(K6),u)return;n.forEach(K6),i(s)})});return t.reduce(Ove)}z6.exports=Pve}),Cm=O((ro,Pv)=>{var Iv=require("stream");process.env.READABLE_STREAM==="disable"&&Iv?(Pv.exports=Iv.Readable,Object.assign(Pv.exports,Iv),Pv.exports.Stream=Iv):(ro=Pv.exports=jT(),ro.Stream=Iv||ro,ro.Readable=ro,ro.Writable=$T(),ro.Duplex=Bp(),ro.Transform=QT(),ro.PassThrough=G6(),ro.finished=Kw(),ro.pipeline=X6())}),oC=O((ZVe,Y6)=>{var Om=[],qv=[],tC=function(){};function rC(e){return~Om.indexOf(e)?!1:(Om.push(e),!0)}function nC(e){tC=e}function Ive(e){for(var t=[],r=0;r<Om.length;r++){if(Om[r].async){t.push(Om[r]);continue}if(Om[r](e))return!0}return t.length?new Promise(function(s){Promise.all(t.map(function(a){return a(e)})).then(function(a){s(a.some(Boolean))})}):!1}function iC(e){return~qv.indexOf(e)?!1:(qv.push(e),!0)}function sC(){tC.apply(tC,arguments)}function J6(e){for(var t=0;t<qv.length;t++)e=qv[t].apply(qv[t],arguments);return e}function aC(e,t){var r=Object.prototype.hasOwnProperty;for(var i in t)r.call(t,i)&&(e[i]=t[i]);return e}function qve(e){return e.enabled=!1,e.modify=iC,e.set=nC,e.use=rC,aC(function(){return!1},e)}function Nve(e){function t(){var r=Array.prototype.slice.call(arguments,0);return sC.call(sC,e,J6(r,e)),!0}return e.enabled=!0,e.modify=iC,e.set=nC,e.use=rC,aC(t,e)}Y6.exports=function(t){return t.introduce=aC,t.enabled=Ive,t.process=J6,t.modify=iC,t.write=sC,t.nope=qve,t.yep=Nve,t.set=nC,t.use=rC,t}}),Q6=O((QVe,Z6)=>{var Mve=oC(),Lve=Mve(function e(t,r){return r=r||{},r.namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)});Z6.exports=Lve}),cC=O((eWe,eD)=>{"use strict";eD.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),rD=O((tWe,tD)=>{tD.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}}),sD=O((rWe,nD)=>{"use strict";var Dve=rD(),$ve=Array.prototype.concat,jve=Array.prototype.slice,iD=nD.exports=function(t){for(var r=[],i=0,s=t.length;i<s;i++){var n=t[i];Dve(n)?r=$ve.call(r,jve.call(n)):r.push(n)}return r};iD.wrap=function(e){return function(){return e(iD(arguments))}}}),cD=O((nWe,aD)=>{var rb=cC(),Nv=sD(),oD={};for(var lC in rb)rb.hasOwnProperty(lC)&&(oD[rb[lC]]=lC);var Sa=aD.exports={to:{},get:{}};Sa.get=function(e){var t=e.substring(0,3).toLowerCase(),r,i;switch(t){case"hsl":r=Sa.get.hsl(e),i="hsl";break;case"hwb":r=Sa.get.hwb(e),i="hwb";break;default:r=Sa.get.rgb(e),i="rgb";break}return r?{model:i,value:r}:null};Sa.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/(\D+)/,a=[0,0,0,1],o,u,d;if(o=e.match(r)){for(d=o[2],o=o[1],u=0;u<3;u++){var m=u*2;a[u]=parseInt(o.slice(m,m+2),16)}d&&(a[3]=Math.round(parseInt(d,16)/255*100)/100)}else if(o=e.match(t)){for(o=o[1],d=o[3],u=0;u<3;u++)a[u]=parseInt(o[u]+o[u],16);d&&(a[3]=Math.round(parseInt(d+d,16)/255*100)/100)}else if(o=e.match(i)){for(u=0;u<3;u++)a[u]=parseInt(o[u+1],0);o[4]&&(a[3]=parseFloat(o[4]))}else if(o=e.match(s)){for(u=0;u<3;u++)a[u]=Math.round(parseFloat(o[u+1])*2.55);o[4]&&(a[3]=parseFloat(o[4]))}else return(o=e.match(n))?o[1]==="transparent"?[0,0,0,0]:(a=rb[o[1]],a?(a[3]=1,a):null):null;for(u=0;u<3;u++)a[u]=eh(a[u],0,255);return a[3]=eh(a[3],0,1),a};Sa.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),s=(parseFloat(r[1])+360)%360,n=eh(parseFloat(r[2]),0,100),a=eh(parseFloat(r[3]),0,100),o=eh(isNaN(i)?1:i,0,1);return[s,n,a,o]}return null};Sa.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=e.match(t);if(r){var i=parseFloat(r[4]),s=(parseFloat(r[1])%360+360)%360,n=eh(parseFloat(r[2]),0,100),a=eh(parseFloat(r[3]),0,100),o=eh(isNaN(i)?1:i,0,1);return[s,n,a,o]}return null};Sa.to.hex=function(){var e=Nv(arguments);return"#"+nb(e[0])+nb(e[1])+nb(e[2])+(e[3]<1?nb(Math.round(e[3]*255)):"")};Sa.to.rgb=function(){var e=Nv(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Sa.to.rgb.percent=function(){var e=Nv(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+i+"%)":"rgba("+t+"%, "+r+"%, "+i+"%, "+e[3]+")"};Sa.to.hsl=function(){var e=Nv(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Sa.to.hwb=function(){var e=Nv(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Sa.to.keyword=function(e){return oD[e.slice(0,3)]};function eh(e,t,r){return Math.min(Math.max(t,e),r)}function nb(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}}),fC=O((iWe,lD)=>{var zp=cC(),uD={};for(var uC in zp)zp.hasOwnProperty(uC)&&(uD[zp[uC]]=uC);var ct=lD.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var Js in ct)if(ct.hasOwnProperty(Js)){if(!("channels"in ct[Js]))throw new Error("missing channels property: "+Js);if(!("labels"in ct[Js]))throw new Error("missing channel labels property: "+Js);if(ct[Js].labels.length!==ct[Js].channels)throw new Error("channel and label counts mismatch: "+Js);fD=ct[Js].channels,hD=ct[Js].labels,delete ct[Js].channels,delete ct[Js].labels,Object.defineProperty(ct[Js],"channels",{value:fD}),Object.defineProperty(ct[Js],"labels",{value:hD})}var fD,hD;ct.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,i=e[2]/255,s=Math.min(t,r,i),n=Math.max(t,r,i),a=n-s,o,u,d;return n===s?o=0:t===n?o=(r-i)/a:r===n?o=2+(i-t)/a:i===n&&(o=4+(t-r)/a),o=Math.min(o*60,360),o<0&&(o+=360),d=(s+n)/2,n===s?u=0:d<=.5?u=a/(n+s):u=a/(2-n-s),[o,u*100,d*100]};ct.rgb.hsv=function(e){var t,r,i,s,n,a=e[0]/255,o=e[1]/255,u=e[2]/255,d=Math.max(a,o,u),m=d-Math.min(a,o,u),f=function(x){return(d-x)/6/m+1/2};return m===0?s=n=0:(n=m/d,t=f(a),r=f(o),i=f(u),a===d?s=i-r:o===d?s=1/3+t-i:u===d&&(s=2/3+r-t),s<0?s+=1:s>1&&(s-=1)),[s*360,n*100,d*100]};ct.rgb.hwb=function(e){var t=e[0],r=e[1],i=e[2],s=ct.rgb.hsl(e)[0],n=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[s,n*100,i*100]};ct.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,i=e[2]/255,s,n,a,o;return o=Math.min(1-t,1-r,1-i),s=(1-t-o)/(1-o)||0,n=(1-r-o)/(1-o)||0,a=(1-i-o)/(1-o)||0,[s*100,n*100,a*100,o*100]};function Fve(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}ct.rgb.keyword=function(e){var t=uD[e];if(t)return t;var r=Infinity,i;for(var s in zp)if(zp.hasOwnProperty(s)){var n=zp[s],a=Fve(e,n);a<r&&(r=a,i=s)}return i};ct.keyword.rgb=function(e){return zp[e]};ct.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,i=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var s=t*.4124+r*.3576+i*.1805,n=t*.2126+r*.7152+i*.0722,a=t*.0193+r*.1192+i*.9505;return[s*100,n*100,a*100]};ct.rgb.lab=function(e){var t=ct.rgb.xyz(e),r=t[0],i=t[1],s=t[2],n,a,o;return r/=95.047,i/=100,s/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,n=116*i-16,a=500*(r-i),o=200*(i-s),[n,a,o]};ct.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,i=e[2]/100,s,n,a,o,u;if(r===0)return u=i*255,[u,u,u];i<.5?n=i*(1+r):n=i+r-i*r,s=2*i-n,o=[0,0,0];for(var d=0;d<3;d++)a=t+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?u=s+(n-s)*6*a:2*a<1?u=n:3*a<2?u=s+(n-s)*(2/3-a)*6:u=s,o[d]=u*255;return o};ct.hsl.hsv=function(e){var t=e[0],r=e[1]/100,i=e[2]/100,s=r,n=Math.max(i,.01),a,o;return i*=2,r*=i<=1?i:2-i,s*=n<=1?n:2-n,o=(i+r)/2,a=i===0?2*s/(n+s):2*r/(i+r),[t,a*100,o*100]};ct.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,i=e[2]/100,s=Math.floor(t)%6,n=t-Math.floor(t),a=255*i*(1-r),o=255*i*(1-r*n),u=255*i*(1-r*(1-n));i*=255;switch(s){case 0:return[i,u,a];case 1:return[o,i,a];case 2:return[a,i,u];case 3:return[a,o,i];case 4:return[u,a,i];case 5:return[i,a,o]}};ct.hsv.hsl=function(e){var t=e[0],r=e[1]/100,i=e[2]/100,s=Math.max(i,.01),n,a,o;return o=(2-r)*i,n=(2-r)*s,a=r*s,a/=n<=1?n:2-n,a=a||0,o/=2,[t,a*100,o*100]};ct.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,i=e[2]/100,s=r+i,n,a,o,u;s>1&&(r/=s,i/=s),n=Math.floor(6*t),a=1-i,o=6*t-n,(n&1)!==0&&(o=1-o),u=r+o*(a-r);var d,m,f;switch(n){default:case 6:case 0:d=a,m=u,f=r;break;case 1:d=u,m=a,f=r;break;case 2:d=r,m=a,f=u;break;case 3:d=r,m=u,f=a;break;case 4:d=u,m=r,f=a;break;case 5:d=a,m=r,f=u;break}return[d*255,m*255,f*255]};ct.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,i=e[2]/100,s=e[3]/100,n,a,o;return n=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),o=1-Math.min(1,i*(1-s)+s),[n*255,a*255,o*255]};ct.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,i=e[2]/100,s,n,a;return s=t*3.2406+r*-1.5372+i*-.4986,n=t*-.9689+r*1.8758+i*.0415,a=t*.0557+r*-.204+i*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,s=Math.min(Math.max(0,s),1),n=Math.min(Math.max(0,n),1),a=Math.min(Math.max(0,a),1),[s*255,n*255,a*255]};ct.xyz.lab=function(e){var t=e[0],r=e[1],i=e[2],s,n,a;return t/=95.047,r/=100,i/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*r-16,n=500*(t-r),a=200*(r-i),[s,n,a]};ct.lab.xyz=function(e){var t=e[0],r=e[1],i=e[2],s,n,a;n=(t+16)/116,s=r/500+n,a=n-i/200;var o=Math.pow(n,3),u=Math.pow(s,3),d=Math.pow(a,3);return n=o>.008856?o:(n-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,a=d>.008856?d:(a-16/116)/7.787,s*=95.047,n*=100,a*=108.883,[s,n,a]};ct.lab.lch=function(e){var t=e[0],r=e[1],i=e[2],s,n,a;return s=Math.atan2(i,r),n=s*360/2/Math.PI,n<0&&(n+=360),a=Math.sqrt(r*r+i*i),[t,a,n]};ct.lch.lab=function(e){var t=e[0],r=e[1],i=e[2],s,n,a;return a=i/360*2*Math.PI,s=r*Math.cos(a),n=r*Math.sin(a),[t,s,n]};ct.rgb.ansi16=function(e){var t=e[0],r=e[1],i=e[2],s=1 in arguments?arguments[1]:ct.rgb.hsv(e)[2];if(s=Math.round(s/50),s===0)return 30;var n=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return s===2&&(n+=60),n};ct.hsv.ansi16=function(e){return ct.rgb.ansi16(ct.hsv.rgb(e),e[2])};ct.rgb.ansi256=function(e){var t=e[0],r=e[1],i=e[2];if(t===r&&r===i)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var s=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5);return s};ct.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,i=(t&1)*r*255,s=(t>>1&1)*r*255,n=(t>>2&1)*r*255;return[i,s,n]};ct.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,i=Math.floor(e/36)/5*255,s=Math.floor((r=e%36)/6)/5*255,n=r%6/5*255;return[i,s,n]};ct.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};ct.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(o){return o+o}).join(""));var i=parseInt(r,16),s=i>>16&255,n=i>>8&255,a=i&255;return[s,n,a]};ct.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,i=e[2]/255,s=Math.max(Math.max(t,r),i),n=Math.min(Math.min(t,r),i),a=s-n,o,u;return a<1?o=n/(1-a):o=0,a<=0?u=0:s===t?u=(r-i)/a%6:s===r?u=2+(i-t)/a:u=4+(t-r)/a+4,u/=6,u%=1,[u*360,a*100,o*100]};ct.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,i=1,s=0;return r<.5?i=2*t*r:i=2*t*(1-r),i<1&&(s=(r-.5*i)/(1-i)),[e[0],i*100,s*100]};ct.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,i=t*r,s=0;return i<1&&(s=(r-i)/(1-i)),[e[0],i*100,s*100]};ct.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,i=e[2]/100;if(r===0)return[i*255,i*255,i*255];var s=[0,0,0],n=t%1*6,a=n%1,o=1-a,u=0;switch(Math.floor(n)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return u=(1-r)*i,[(r*s[0]+u)*255,(r*s[1]+u)*255,(r*s[2]+u)*255]};ct.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,i=t+r*(1-t),s=0;return i>0&&(s=t/i),[e[0],s*100,i*100]};ct.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,i=r*(1-t)+.5*t,s=0;return i>0&&i<.5?s=t/(2*i):i>=.5&&i<1&&(s=t/(2*(1-i))),[e[0],s*100,i*100]};ct.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,i=t+r*(1-t);return[e[0],(i-t)*100,(1-i)*100]};ct.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,i=1-r,s=i-t,n=0;return s<1&&(n=(i-s)/(1-s)),[e[0],s*100,n*100]};ct.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};ct.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};ct.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};ct.gray.hsl=ct.gray.hsv=function(e){return[0,0,e[0]]};ct.gray.hwb=function(e){return[0,100,e[0]]};ct.gray.cmyk=function(e){return[0,0,0,e[0]]};ct.gray.lab=function(e){return[e[0],0,0]};ct.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,i=r.toString(16).toUpperCase();return"000000".substring(i.length)+i};ct.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}}),dD=O((sWe,pD)=>{var ib=fC();function Bve(){for(var e={},t=Object.keys(ib),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}function Uve(e){var t=Bve(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),s=Object.keys(ib[i]),n=s.length,a=0;a<n;a++){var o=s[a],u=t[o];u.distance===-1&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(o))}return t}function Hve(e,t){return function(r){return t(e(r))}}function Gve(e,t){for(var r=[t[e].parent,e],i=ib[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),i=Hve(ib[t[s].parent][s],i),s=t[s].parent;return i.conversion=r,i}pD.exports=function(e){for(var t=Uve(e),r={},i=Object.keys(t),s=i.length,n=0;n<s;n++){var a=i[n],o=t[a];if(o.parent===null)continue;r[a]=Gve(a,t)}return r}}),gD=O((aWe,mD)=>{var hC=fC(),zve=dD(),km={},Vve=Object.keys(hC);function Wve(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Kve(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var i=e(r);if(typeof i=="object")for(var s=i.length,n=0;n<s;n++)i[n]=Math.round(i[n]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Vve.forEach(function(e){km[e]={},Object.defineProperty(km[e],"channels",{value:hC[e].channels}),Object.defineProperty(km[e],"labels",{value:hC[e].labels});var t=zve(e),r=Object.keys(t);r.forEach(function(i){var s=t[i];km[e][i]=Kve(s),km[e][i].raw=Wve(s)})});mD.exports=km}),_D=O((oWe,yD)=>{"use strict";var Mv=cD(),Ra=gD(),pC=[].slice,vD=["keyword","gray","hex"],dC={};Object.keys(Ra).forEach(function(e){dC[pC.call(Ra[e].labels).sort().join("")]=e});var sb={};function Mi(e,t){if(!(this instanceof Mi))return new Mi(e,t);if(t&&t in vD&&(t=null),t&&!(t in Ra))throw new Error("Unknown model: "+t);var r,i;if(!e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Mi)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var s=Mv.get(e);if(s===null)throw new Error("Unable to parse color from string: "+e);this.model=s.model,i=Ra[this.model].channels,this.color=s.value.slice(0,i),this.valpha=typeof s.value[i]=="number"?s.value[i]:1}else if(e.length){this.model=t||"rgb",i=Ra[this.model].channels;var n=pC.call(e,0,i);this.color=mC(n,i),this.valpha=typeof e[i]=="number"?e[i]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var o=a.sort().join("");if(!(o in dC))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=dC[o];var u=Ra[this.model].labels,d=[];for(r=0;r<u.length;r++)d.push(e[u[r]]);this.color=mC(d)}if(sb[this.model])for(i=Ra[this.model].channels,r=0;r<i;r++){var m=sb[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Mi.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in Mv.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);var r=t.valpha===1?t.color:t.color.concat(this.valpha);return Mv.to[t.model](r)},percentString:function(e){var t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:t.color.concat(this.valpha);return Mv.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=Ra[this.model].channels,r=Ra[this.model].labels,i=0;i<t;i++)e[r[i]]=this.color[i];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new Mi(this.color.map(Xve(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new Mi(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:An("rgb",0,ni(255)),green:An("rgb",1,ni(255)),blue:An("rgb",2,ni(255)),hue:An(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:An("hsl",1,ni(100)),lightness:An("hsl",2,ni(100)),saturationv:An("hsv",1,ni(100)),value:An("hsv",2,ni(100)),chroma:An("hcg",1,ni(100)),gray:An("hcg",2,ni(100)),white:An("hwb",1,ni(100)),wblack:An("hwb",2,ni(100)),cyan:An("cmyk",0,ni(100)),magenta:An("cmyk",1,ni(100)),yellow:An("cmyk",2,ni(100)),black:An("cmyk",3,ni(100)),x:An("xyz",0,ni(100)),y:An("xyz",1,ni(100)),z:An("xyz",2,ni(100)),l:An("lab",0,ni(100)),a:An("lab",1),b:An("lab",2),keyword:function(e){return arguments.length?new Mi(e):Ra[this.model].keyword(this.color)},hex:function(e){return arguments.length?new Mi(e):Mv.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var i=e[r]/255;t[r]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Mi.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=e.rgb(),i=this.rgb(),s=t===void 0?.5:t,n=2*s-1,a=r.alpha()-i.alpha(),o=((n*a===-1?n:(n+a)/(1+n*a))+1)/2,u=1-o;return Mi.rgb(o*r.red()+u*i.red(),o*r.green()+u*i.green(),o*r.blue()+u*i.blue(),r.alpha()*s+i.alpha()*(1-s))}};Object.keys(Ra).forEach(function(e){if(vD.indexOf(e)!==-1)return;var t=Ra[e].channels;Mi.prototype[e]=function(){if(this.model===e)return new Mi(this);if(arguments.length)return new Mi(arguments,e);var r=typeof arguments[t]=="number"?t:this.valpha;return new Mi(Yve(Ra[this.model][e].raw(this.color)).concat(r),e)},Mi[e]=function(r){return typeof r=="number"&&(r=mC(pC.call(arguments),t)),new Mi(r,e)}});function Jve(e,t){return Number(e.toFixed(t))}function Xve(e){return function(t){return Jve(t,e)}}function An(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach(function(i){(sb[i]||(sb[i]=[]))[t]=r}),e=e[0],function(i){var s;return arguments.length?(r&&(i=r(i)),s=this[e](),s.color[t]=i,s):(s=this[e]().color[t],r&&(s=r(s)),s)}}function ni(e){return function(t){return Math.max(0,Math.min(e,t))}}function Yve(e){return Array.isArray(e)?e:[e]}function mC(e,t){for(var r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}yD.exports=Mi}),bD=O((cWe,wD)=>{"use strict";wD.exports=function(t){for(var r=0,i=0;r<t.length;i=t.charCodeAt(r++)+((i<<5)-i));var s=Math.floor(Math.abs(Math.sin(i)*1e4%1*16777216)).toString(16);return"#"+Array(6-s.length+1).join("0")+s}}),RD=O((lWe,xD)=>{"use strict";var ED=_D(),SD=bD();xD.exports=function(t,r){var i=t.split(r||":"),s=SD(i[0]);if(!i.length)return s;for(var n=0,a=i.length-1;n<a;n++)s=ED(s).mix(ED(SD(i[n+1]))).saturate(1).hex();return s}}),TD=O((uWe,AD)=>{"use strict";function Qo(e,t){if(t)return new Qo(e).style(t);if(!(this instanceof Qo))return new Qo(e);this.text=e}Qo.prototype.prefix="[";Qo.prototype.suffix="m";Qo.prototype.hex=function(t){t=t[0]==="#"?t.substring(1):t,t.length===3&&(t=t.split(""),t[5]=t[2],t[4]=t[2],t[3]=t[1],t[2]=t[1],t[1]=t[0],t=t.join(""));var r=t.substring(0,2),i=t.substring(2,4),s=t.substring(4,6);return[parseInt(r,16),parseInt(i,16),parseInt(s,16)]};Qo.prototype.rgb=function(t,r,i){var s=t/255*5,n=r/255*5,a=i/255*5;return this.ansi(s,n,a)};Qo.prototype.ansi=function(t,r,i){var s=Math.round(t),n=Math.round(r),a=Math.round(i);return 16+s*36+n*6+a};Qo.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};Qo.prototype.style=function(t){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(t))+this.suffix+this.text+this.reset()};AD.exports=Qo}),OD=O((fWe,CD)=>{var Zve=RD(),Qve=TD();CD.exports=function(t,r){var i=r.namespace,s=r.colors!==!1?Qve(i+":",Zve(i)):i+":";return t[0]=s+" "+t[0],t}}),PD=O((hWe,kD)=>{"use strict";kD.exports=function(t,r){if(!r)return!1;for(var i=r.split(/[\s,]+/),s=0;s<i.length;s++){if(r=i[s].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(t))return!1;continue}if(new RegExp("^"+r+"$").test(t))return!0}return!1}}),qD=O((pWe,ID)=>{var e1e=PD();ID.exports=function(t){return function(i){try{return e1e(i,t())}catch(s){}return!1}}}),MD=O((dWe,ND)=>{var t1e=qD();ND.exports=t1e(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})}),DD=O((mWe,LD)=>{LD.exports=function(e,t){try{Function.prototype.apply.call(console.log,console,t)}catch(r){}}}),jD=O((gWe,$D)=>{var r1e=oC(),n1e=require("tty").isatty(1),ab=r1e(function e(t,r){return r=r||{},r.colors="colors"in r?r.colors:n1e,r.namespace=t,r.prod=!1,r.dev=!0,!e.enabled(t)&&!(r.force||e.force)?e.nope(r):e.yep(r)});ab.modify(OD());ab.use(MD());ab.set(DD());$D.exports=ab}),Lv=O((yWe,gC)=>{process.env.NODE_ENV==="production"?gC.exports=Q6():gC.exports=jD()}),BD=O((vWe,FD)=>{"use strict";var yC=require("fs"),{StringDecoder:i1e}=require("string_decoder"),{Stream:s1e}=Cm();function a1e(){}FD.exports=(e,t)=>{let r=Buffer.alloc(64*1024),i=new i1e("utf8"),s=new s1e,n="",a=0,o=0;return e.start===-1&&delete e.start,s.readable=!0,s.destroy=()=>{s.destroyed=!0,s.emit("end"),s.emit("close")},yC.open(e.file,"a+","0644",(u,d)=>{if(u){t?t(u):s.emit("error",u),s.destroy();return}(function m(){if(s.destroyed){yC.close(d,a1e);return}return yC.read(d,r,0,r.length,a,(f,x)=>{if(f){t?t(f):s.emit("error",f),s.destroy();return}if(!x)return n&&((e.start==null||o>e.start)&&(t?t(null,n):s.emit("line",n)),o++,n=""),setTimeout(m,1e3);let T=i.write(r.slice(0,x));t||s.emit("data",T),T=(n+T).split(/\n+/);let q=T.length-1,F=0;for(;F<q;F++)(e.start==null||o>e.start)&&(t?t(null,T[F]):s.emit("line",T[F])),o++;return n=T[q],a+=x,m()})})()}),t?s.destroy:s}}),GD=O((wWe,UD)=>{"use strict";var Tu=require("fs"),Xi=require("path"),o1e=t6(),c1e=require("zlib"),{MESSAGE:l1e}=xu(),{Stream:u1e,PassThrough:HD}=Cm(),f1e=$p(),ec=Lv()("winston:file"),h1e=require("os"),p1e=BD();UD.exports=class extends f1e{constructor(t={}){super(t);this.name=t.name||"file";function r(i,...s){s.slice(1).forEach(n=>{if(t[n])throw new Error(`Cannot set ${n} and ${i} together`)})}if(this._stream=new HD,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),t.filename||t.dirname)r("filename or dirname","stream"),this._basename=this.filename=t.filename?Xi.basename(t.filename):"winston.log",this.dirname=t.dirname||Xi.dirname(t.filename),this.options=t.options||{flags:"a"};else if(t.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(t.stream)),this.dirname=Xi.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=t.maxsize||null,this.rotationFormat=t.rotationFormat||!1,this.zippedArchive=t.zippedArchive||!1,this.maxFiles=t.maxFiles||null,this.eol=t.eol||h1e.EOL,this.tailable=t.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(t,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(t,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(t,r)});return}let i=`${t[l1e]}${this.eol}`,s=Buffer.byteLength(i);function n(){if(this._size+=s,this._pendingSize-=s,ec("logged %s %s",this._size,i),this.emit("logged",t),this._opening)return;if(!this._needsNewFile())return;this._rotate=!0,this._endStream(()=>this._rotateFile())}this._pendingSize+=s,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let a=this._stream.write(i,n.bind(this));return a?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),ec("written",a,this._drain),this.finishIfEnding(),a}query(t,r){typeof t=="function"&&(r=t,t={}),t=f(t);let i=Xi.join(this.dirname,this.filename),s="",n=[],a=0,o=Tu.createReadStream(i,{encoding:"utf8"});o.on("error",x=>(o.readable&&o.destroy(),r?x.code!=="ENOENT"?r(x):r(null,n):void 0)),o.on("data",x=>{x=(s+x).split(/\n+/);let T=x.length-1,q=0;for(;q<T;q++)(!t.start||a>=t.start)&&u(x[q]),a++;s=x[T]}),o.on("close",()=>{s&&u(s,!0),t.order==="desc"&&(n=n.reverse()),r&&r(null,n)});function u(x,T){try{let q=JSON.parse(x);m(q)&&d(q)}catch(q){T||o.emit("error",q)}}function d(x){if(t.rows&&n.length>=t.rows&&t.order!=="desc"){o.readable&&o.destroy();return}t.fields&&(x=t.fields.reduce((T,q)=>(T[q]=x[q],T),{})),t.order==="desc"&&(n.length>=t.rows&&n.shift()),n.push(x)}function m(x){if(!x)return;if(typeof x!="object")return;let T=new Date(x.timestamp);return t.from&&T<t.from||t.until&&T>t.until||t.level&&t.level!==x.level?void 0:!0}function f(x){return x=x||{},x.rows=x.rows||x.limit||10,x.start=x.start||0,x.until=x.until||new Date,typeof x.until!="object"&&(x.until=new Date(x.until)),x.from=x.from||x.until-24*60*60*1e3,typeof x.from!="object"&&(x.from=new Date(x.from)),x.order=x.order||"desc",x}}stream(t={}){let r=Xi.join(this.dirname,this.filename),i=new u1e,s={file:r,start:t.start};return i.destroy=p1e(s,(n,a)=>{if(n)return i.emit("error",n);try{i.emit("data",a),a=JSON.parse(a),i.emit("log",a)}catch(o){i.emit("error",o)}}),i}open(){if(!this.filename)return;if(this._opening)return;this._opening=!0,this.stat((t,r)=>{if(t)return this.emit("error",t);ec("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})}stat(t){let r=this._getFile(),i=Xi.join(this.dirname,r);Tu.stat(i,(s,n)=>{if(s&&s.code==="ENOENT")return ec("ENOENT\xA0ok",i),this.filename=r,t(null,0);if(s)return ec(`err ${s.code} ${i}`),t(s);if(!n||this._needsNewFile(n.size))return this._incFile(()=>this.stat(t));this.filename=r,t(null,n.size)})}close(t){if(!this._stream)return;this._stream.end(()=>{t&&t(),this.emit("flush"),this.emit("closed")})}_needsNewFile(t){return t=t||this._size,this.maxsize&&t>=this.maxsize}_onError(t){this.emit("error",t)}_setupStream(t){return t.on("error",this._onError),t}_cleanupStream(t){return t.removeListener("error",this._onError),t}_rotateFile(){this._incFile(()=>this.open())}_endStream(t=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),t()})):t()}_createStream(t){let r=Xi.join(this.dirname,this.filename);ec("create stream start",r,this.options);let i=Tu.createWriteStream(r,this.options).on("error",s=>ec(s)).on("close",()=>ec("close",i.path,i.bytesWritten)).on("open",()=>{ec("file open ok",r),this.emit("open",r),t.pipe(i),this.rotatedWhileOpening&&(this._stream=new HD,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(i),t.end())});if(ec("create stream ok",r),this.zippedArchive){let s=c1e.createGzip();return s.pipe(i),s}return i}_incFile(t){ec("_incFile",this.filename);let r=Xi.extname(this._basename),i=Xi.basename(this._basename,r);this.tailable?this._checkMaxFilesTailable(r,i,t):(this._created+=1,this._checkMaxFilesIncrementing(r,i,t))}_getFile(){let t=Xi.extname(this._basename),r=Xi.basename(this._basename,t),i=this.rotationFormat?this.rotationFormat():this._created,s=!this.tailable&&this._created?`${r}${i}${t}`:`${r}${t}`;return this.zippedArchive&&!this.tailable?`${s}.gz`:s}_checkMaxFilesIncrementing(t,r,i){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(i);let s=this._created-this.maxFiles,n=s!==0?s:"",a=this.zippedArchive?".gz":"",o=`${r}${n}${t}${a}`,u=Xi.join(this.dirname,o);Tu.unlink(u,i)}_checkMaxFilesTailable(t,r,i){let s=[];if(!this.maxFiles)return;let n=this.zippedArchive?".gz":"";for(let a=this.maxFiles-1;a>1;a--)s.push(function(o,u){let d=`${r}${o-1}${t}${n}`,m=Xi.join(this.dirname,d);Tu.exists(m,f=>{if(!f)return u(null);d=`${r}${o}${t}${n}`,Tu.rename(m,Xi.join(this.dirname,d),u)})}.bind(this,a));o1e(s,()=>{Tu.rename(Xi.join(this.dirname,`${r}${t}`),Xi.join(this.dirname,`${r}1${t}${n}`),i)})}_createLogDirIfNotExist(t){Tu.existsSync(t)||Tu.mkdirSync(t,{recursive:!0})}}}),VD=O((xWe,zD)=>{"use strict";var d1e=require("http"),m1e=require("https"),{Stream:g1e}=Cm(),y1e=$p();zD.exports=class extends y1e{constructor(t={}){super(t);this.options=t,this.name=t.name||"http",this.ssl=!!t.ssl,this.host=t.host||"localhost",this.port=t.port,this.auth=t.auth,this.path=t.path||"",this.agent=t.agent,this.headers=t.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(t,r){this._request(t,(i,s)=>{s&&s.statusCode!==200&&(i=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),i?this.emit("warn",i):this.emit("logged",t)}),r&&setImmediate(r)}query(t,r){typeof t=="function"&&(r=t,t={}),t={method:"query",params:this.normalizeQuery(t)},t.params.path&&(t.path=t.params.path,delete t.params.path),t.params.auth&&(t.auth=t.params.auth,delete t.params.auth),this._request(t,(i,s,n)=>{if(s&&s.statusCode!==200&&(i=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),i)return r(i);if(typeof n=="string")try{n=JSON.parse(n)}catch(a){return r(a)}r(null,n)})}stream(t={}){let r=new g1e;t={method:"stream",params:t},t.params.path&&(t.path=t.params.path,delete t.params.path),t.params.auth&&(t.auth=t.params.auth,delete t.params.auth);let i="",s=this._request(t);return r.destroy=()=>s.destroy(),s.on("data",n=>{n=(i+n).split(/\n+/);let a=n.length-1,o=0;for(;o<a;o++)try{r.emit("log",JSON.parse(n[o]))}catch(u){r.emit("error",u)}i=n[a]}),s.on("error",n=>r.emit("error",n)),r}_request(t,r){t=t||{};let i=t.auth||this.auth,s=t.path||this.path||"";delete t.auth,delete t.path;let n=Object.assign({},this.headers);i&&i.bearer&&(n.Authorization=`Bearer ${i.bearer}`);let a=(this.ssl?m1e:d1e).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${s.replace(/^\//,"")}`,headers:n,auth:i&&i.username&&i.password?`${i.username}:${i.password}`:"",agent:this.agent});a.on("error",r),a.on("response",o=>o.on("end",()=>r(null,o)).resume()),a.end(Buffer.from(JSON.stringify(t),"utf8"))}}}),vC=O((EWe,WD)=>{"use strict";var tl=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";tl.writable=e=>tl(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";tl.readable=e=>tl(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";tl.duplex=e=>tl.writable(e)&&tl.readable(e);tl.transform=e=>tl.duplex(e)&&typeof e._transform=="function"&&typeof e._transformState=="object";WD.exports=tl}),XD=O((RWe,KD)=>{"use strict";var v1e=vC(),{MESSAGE:_1e}=xu(),w1e=require("os"),b1e=$p();KD.exports=class extends b1e{constructor(t={}){super(t);if(!t.stream||!v1e(t.stream))throw new Error("options.stream is required.");this._stream=t.stream,this._stream.setMaxListeners(Infinity),this.isObjectMode=t.stream._writableState.objectMode,this.eol=t.eol||w1e.EOL}log(t,r){if(setImmediate(()=>this.emit("logged",t)),this.isObjectMode){this._stream.write(t),r&&r();return}this._stream.write(`${t[_1e]}${this.eol}`),r&&r()}}}),YD=O(Dv=>{"use strict";Object.defineProperty(Dv,"Console",{configurable:!0,enumerable:!0,get(){return _5()}});Object.defineProperty(Dv,"File",{configurable:!0,enumerable:!0,get(){return GD()}});Object.defineProperty(Dv,"Http",{configurable:!0,enumerable:!0,get(){return VD()}});Object.defineProperty(Dv,"Stream",{configurable:!0,enumerable:!0,get(){return XD()}})}),cb=O($v=>{"use strict";var ob=require("logform"),{configs:_C}=xu();$v.cli=ob.levels(_C.cli);$v.npm=ob.levels(_C.npm);$v.syslog=ob.levels(_C.syslog);$v.addColors=ob.levels}),ZD=O((lb,JD)=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});var x1e=Aw(),E1e=Vp(x1e),S1e=Dw(),R1e=Vp(S1e),A1e=kT(),T1e=Vp(A1e),C1e=TT(),O1e=Vp(C1e),k1e=CT(),P1e=Vp(k1e),I1e=Fp(),q1e=Vp(I1e),N1e=Em(),M1e=Vp(N1e);function Vp(e){return e&&e.__esModule?e:{default:e}}function L1e(e,t,r){r=(0,O1e.default)(r);var i=0,s=0,{length:n}=e,a=!1;n===0&&r(null);function o(u,d){if(u===!1&&(a=!0),a===!0)return;u?r(u):(++s===n||d===R1e.default)&&r(null)}for(;i<n;i++)t(e[i],i,(0,P1e.default)(o))}function D1e(e,t,r){return(0,T1e.default)(e,Infinity,t,r)}function $1e(e,t,r){var i=(0,E1e.default)(e)?L1e:D1e;return i(e,(0,q1e.default)(t),r)}lb.default=(0,M1e.default)($1e,3);JD.exports=lb.default}),e$=O((ub,QD)=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.default=j1e;function j1e(e){return(t,r,i)=>e(t,i)}QD.exports=ub.default}),pb=O((fb,t$)=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});var F1e=ZD(),B1e=hb(F1e),U1e=e$(),H1e=hb(U1e),G1e=Fp(),z1e=hb(G1e),V1e=Em(),W1e=hb(V1e);function hb(e){return e&&e.__esModule?e:{default:e}}function K1e(e,t,r){return(0,B1e.default)(e,(0,H1e.default)((0,z1e.default)(t)),r)}fb.default=(0,W1e.default)(K1e,3);t$.exports=fb.default}),n$=O((CWe,r$)=>{"use strict";var X1e=Object.prototype.toString;r$.exports=function(t){if(typeof t.displayName=="string"&&t.constructor.name)return t.displayName;if(typeof t.name=="string"&&t.name)return t.name;if(typeof t=="object"&&t.constructor&&typeof t.constructor.name=="string")return t.constructor.name;var r=t.toString(),i=X1e.call(t).slice(8,-1);return i==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=i,r||"anonymous"}}),wC=O((OWe,i$)=>{"use strict";var Y1e=n$();i$.exports=function(t){var r=0,i;function s(){return r||(r=1,i=t.apply(this,arguments),t=null),i}return s.displayName=Y1e(t),s}}),bC=O(jv=>{jv.get=function(e){var t=Error.stackTraceLimit;Error.stackTraceLimit=Infinity;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(n,a){return a},Error.captureStackTrace(r,e||jv.get);var s=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=t,s};jv.parse=function(e){if(!e.stack)return[];var t=this,r=e.stack.split(`
`).slice(1);return r.map(function(i){if(i.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:i,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var s=i.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!s)return;var n=null,a=null,o=null,u=null,d=null,m=s[5]==="native";if(s[1]){o=s[1];var f=o.lastIndexOf(".");if(o[f-1]=="."&&f--,f>0){n=o.substr(0,f),a=o.substr(f+1);var x=n.indexOf(".Module");x>0&&(o=o.substr(x+1),n=n.substr(0,x))}u=null}a&&(u=n,d=a),a==="<anonymous>"&&(d=null,o=null);var T={fileName:s[2]||null,lineNumber:parseInt(s[3],10)||null,functionName:o,typeName:u,methodName:d,columnNumber:parseInt(s[4],10)||null,native:m};return t._createParsedCallSite(T)}).filter(function(i){return!!i})};function Fv(e){for(var t in e)this[t]=e[t]}var J1e=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Z1e=["topLevel","eval","native","constructor"];J1e.forEach(function(e){Fv.prototype[e]=null,Fv.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}});Z1e.forEach(function(e){Fv.prototype[e]=!1,Fv.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}});jv._createParsedCallSite=function(e){return new Fv(e)}}),xC=O((IWe,s$)=>{"use strict";var{Writable:Q1e}=Cm();s$.exports=class extends Q1e{constructor(t){super({objectMode:!0});if(!t)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=t}_write(t,r,i){return t.exception?this.transport.log(t,i):(i(),!0)}}}),SC=O((NWe,a$)=>{"use strict";var o$=require("os"),e_e=pb(),EC=Lv()("winston:exception"),t_e=wC(),c$=bC(),r_e=xC();a$.exports=class{constructor(t){if(!t)throw new Error("Logger is required to handle exceptions");this.logger=t,this.handlers=new Map}handle(...t){t.forEach(r=>{if(Array.isArray(r))return r.forEach(i=>this._addHandler(i));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(t=>this.logger.unpipe(t)))}getAllInfo(t){let{message:r}=t;return!r&&typeof t=="string"&&(r=t),{error:t,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,t.stack||"  No stack trace"].join(`
`),stack:t.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(t)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:o$.loadavg(),uptime:o$.uptime()}}getTrace(t){let r=t?c$.parse(t):c$.get();return r.map(i=>({column:i.getColumnNumber(),file:i.getFileName(),function:i.getFunctionName(),line:i.getLineNumber(),method:i.getMethodName(),native:i.isNative()}))}_addHandler(t){if(!this.handlers.has(t)){t.handleExceptions=!0;let r=new r_e(t);this.handlers.set(t,r),this.logger.pipe(r)}}_uncaughtException(t){let r=this.getAllInfo(t),i=this._getExceptionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(t):this.logger.exitOnError,n;!i.length&&s&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),s=!1);function a(){EC("doExit",s),EC("process._exiting",process._exiting),s&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!i||i.length===0)return process.nextTick(a);e_e(i,(o,u)=>{let d=t_e(u),m=o.transport||o;function f(x){return()=>{EC(x),d()}}m._ending=!0,m.once("finish",f("finished")),m.once("error",f("error"))},()=>s&&a()),this.logger.log(r),s&&(n=setTimeout(a,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(t=>{let r=t.transport||t;return r.handleExceptions})}}}),AC=O((LWe,l$)=>{"use strict";var u$=require("os"),n_e=pb(),RC=Lv()("winston:rejection"),i_e=wC(),f$=bC(),s_e=xC();l$.exports=class{constructor(t){if(!t)throw new Error("Logger is required to handle rejections");this.logger=t,this.handlers=new Map}handle(...t){t.forEach(r=>{if(Array.isArray(r))return r.forEach(i=>this._addHandler(i));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(t=>this.logger.unpipe(t)))}getAllInfo(t){let{message:r}=t;return!r&&typeof t=="string"&&(r=t),{error:t,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,t.stack||"  No stack trace"].join(`
`),stack:t.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(t)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:u$.loadavg(),uptime:u$.uptime()}}getTrace(t){let r=t?f$.parse(t):f$.get();return r.map(i=>({column:i.getColumnNumber(),file:i.getFileName(),function:i.getFunctionName(),line:i.getLineNumber(),method:i.getMethodName(),native:i.isNative()}))}_addHandler(t){if(!this.handlers.has(t)){t.handleRejections=!0;let r=new s_e(t);this.handlers.set(t,r),this.logger.pipe(r)}}_unhandledRejection(t){let r=this.getAllInfo(t),i=this._getRejectionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(t):this.logger.exitOnError,n;!i.length&&s&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),s=!1);function a(){RC("doExit",s),RC("process._exiting",process._exiting),s&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!i||i.length===0)return process.nextTick(a);n_e(i,(o,u)=>{let d=i_e(u),m=o.transport||o;function f(x){return()=>{RC(x),d()}}m._ending=!0,m.once("finish",f("finished")),m.once("error",f("error"))},()=>s&&a()),this.logger.log(r),s&&(n=setTimeout(a,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(t=>{let r=t.transport||t;return r.handleRejections})}}}),p$=O(($We,h$)=>{"use strict";h$.exports=class{constructor(t){if(!t)throw new Error("Logger is required for profiling.");this.logger=t,this.start=Date.now()}done(...t){typeof t[t.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());let r=typeof t[t.length-1]=="object"?t.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}}}),v$=O((jWe,d$)=>{"use strict";var{Stream:a_e,Transform:o_e}=Cm(),m$=pb(),{LEVEL:rl,SPLAT:g$}=xu(),y$=vC(),c_e=SC(),l_e=AC(),u_e=ST(),f_e=p$(),{warn:h_e}=ZA(),p_e=cb(),d_e=/%[scdjifoO%]/g,TC=class extends o_e{constructor(t){super({objectMode:!0});this.configure(t)}child(t){let r=this;return Object.create(r,{write:{value:function(i){let s=Object.assign({},t,i);i instanceof Error&&(s.stack=i.stack,s.message=i.message),r.write(s)}}})}configure({silent:t,format:r,defaultMeta:i,levels:s,level:n="info",exitOnError:a=!0,transports:o,colors:u,emitErrs:d,formatters:m,padLevels:f,rewriters:x,stripColors:T,exceptionHandlers:q,rejectionHandlers:F}={}){if(this.transports.length&&this.clear(),this.silent=t,this.format=r||this.format||require("logform/json")(),this.defaultMeta=i||null,this.levels=s||this.levels||p_e.npm.levels,this.level=n,this.exceptions=new c_e(this),this.rejections=new l_e(this),this.profilers={},this.exitOnError=a,o&&(o=Array.isArray(o)?o:[o],o.forEach($=>this.add($))),u||d||m||f||x||T)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));q&&this.exceptions.handle(q),F&&this.rejections.handle(F)}isLevelEnabled(t){let r=CC(this.levels,t);if(r===null)return!1;let i=CC(this.levels,this.level);if(i===null)return!1;if(!this.transports||this.transports.length===0)return i>=r;let s=this.transports.findIndex(n=>{let a=CC(this.levels,n.level);return a===null&&(a=i),a>=r});return s!==-1}log(t,r,...i){if(arguments.length===1)return t[rl]=t.level,this._addDefaultMeta(t),this.write(t),this;if(arguments.length===2)return r&&typeof r=="object"?(r[rl]=r.level=t,this._addDefaultMeta(r),this.write(r),this):(this.write({[rl]:t,level:t,message:r}),this);let[s]=i;if(typeof s=="object"&&s!==null){let n=r&&r.match&&r.match(d_e);if(!n){let a=Object.assign({},this.defaultMeta,s,{[rl]:t,[g$]:i,level:t,message:r});return s.message&&(a.message=`${a.message} ${s.message}`),s.stack&&(a.stack=s.stack),this.write(a),this}}return this.write(Object.assign({},this.defaultMeta,{[rl]:t,[g$]:i,level:t,message:r})),this}_transform(t,r,i){if(this.silent)return i();t[rl]||(t[rl]=t.level),!this.levels[t[rl]]&&this.levels[t[rl]]!==0&&console.error("[winston] Unknown logger level: %s",t[rl]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",t);try{this.push(this.format.transform(t,this.format.options))}catch(s){throw s}finally{i()}}_final(t){let r=this.transports.slice();m$(r,(i,s)=>{if(!i||i.finished)return setImmediate(s);i.once("finish",s),i.end()},t)}add(t){let r=!y$(t)||t.log.length>2?new u_e({transport:t}):t;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),t.handleExceptions&&this.exceptions.handle(),t.handleRejections&&this.rejections.handle(),this}remove(t){if(!t)return this;let r=t;return(!y$(t)||t.log.length>2)&&(r=this.transports.filter(i=>i.transport===t)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){h_e.deprecated("setLevels")}query(t,r){typeof t=="function"&&(r=t,t={}),t=t||{};let i={},s=Object.assign({},t.query||{});function n(o,u){t.query&&typeof o.formatQuery=="function"&&(t.query=o.formatQuery(s)),o.query(t,(d,m)=>{if(d)return u(d);typeof o.formatResults=="function"&&(m=o.formatResults(m,t.format)),u(null,m)})}function a(o,u){n(o,(d,m)=>{u&&(m=d||m,m&&(i[o.name]=m),u()),u=null})}m$(this.transports.filter(o=>!!o.query),a,()=>r(null,i))}stream(t={}){let r=new a_e,i=[];return r._streams=i,r.destroy=()=>{let s=i.length;for(;s--;)i[s].destroy()},this.transports.filter(s=>!!s.stream).forEach(s=>{let n=s.stream(t);if(!n)return;i.push(n),n.on("log",a=>{a.transport=a.transport||[],a.transport.push(s.name),r.emit("log",a)}),n.on("error",a=>{a.transport=a.transport||[],a.transport.push(s.name),r.emit("error",a)})}),r}startTimer(){return new f_e(this)}profile(t,...r){let i=Date.now();if(this.profilers[t]){let s=this.profilers[t];delete this.profilers[t],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let n=typeof r[r.length-1]=="object"?r.pop():{};return n.level=n.level||"info",n.durationMs=i-s,n.message=n.message||t,this.write(n)}return this.profilers[t]=i,this}handleExceptions(...t){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...t)}unhandleExceptions(...t){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...t)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(t,r){function i(s){t==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(t,s,r)}r["__winston"+t]||(r["__winston"+t]=i.bind(this),r.on(t,r["__winston"+t]))}_addDefaultMeta(t){this.defaultMeta&&Object.assign(t,this.defaultMeta)}};function CC(e,t){let r=e[t];return!r&&r!==0?null:r}Object.defineProperty(TC.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}});d$.exports=TC}),OC=O((FWe,_$)=>{"use strict";var{LEVEL:m_e}=xu(),g_e=cb(),y_e=v$(),v_e=Lv()("winston:create-logger");function __e(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}_$.exports=function(e={}){e.levels=e.levels||g_e.npm.levels;class t extends y_e{constructor(s){super(s)}}let r=new t(e);return Object.keys(e.levels).forEach(function(i){if(v_e('Define prototype method for "%s"',i),i==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}t.prototype[i]=function(...s){let n=this||r;if(s.length===1){let[a]=s,o=a&&a.message&&a||{message:a};return o.level=o[m_e]=i,n._addDefaultMeta(o),n.write(o),this||r}return s.length===0?(n.log(i,""),n):n.log(i,...s)},t.prototype[__e(i)]=function(){return(this||r).isLevelEnabled(i)}}),r}}),b$=O((UWe,w$)=>{"use strict";var w_e=OC();w$.exports=class{constructor(t={}){this.loggers=new Map,this.options=t}add(t,r){if(!this.loggers.has(t)){r=Object.assign({},r||this.options);let i=r.transports||this.options.transports;r.transports=i?i.slice():[];let s=w_e(r);s.on("close",()=>this._delete(t)),this.loggers.set(t,s)}return this.loggers.get(t)}get(t,r){return this.add(t,r)}has(t){return!!this.loggers.has(t)}close(t){if(t)return this._removeLogger(t);this.loggers.forEach((r,i)=>this._removeLogger(i))}_removeLogger(t){if(!this.loggers.has(t))return;let r=this.loggers.get(t);r.close(),this._delete(t)}_delete(t){this.loggers.delete(t)}}}),rr=O(x$=>{"use strict";var E$=require("logform"),{warn:Pm}=ZA(),Jr=x$;Jr.version=xL().version;Jr.transports=YD();Jr.config=cb();Jr.addColors=E$.levels;Jr.format=E$.format;Jr.createLogger=OC();Jr.ExceptionHandler=SC();Jr.RejectionHandler=AC();Jr.Container=b$();Jr.Transport=$p();Jr.loggers=new Jr.Container;var Cu=Jr.createLogger();Object.keys(Jr.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(e=>Jr[e]=(...t)=>Cu[e](...t));Object.defineProperty(Jr,"level",{get(){return Cu.level},set(e){Cu.level=e}});Object.defineProperty(Jr,"exceptions",{get(){return Cu.exceptions}});["exitOnError"].forEach(e=>{Object.defineProperty(Jr,e,{get(){return Cu[e]},set(t){Cu[e]=t}})});Object.defineProperty(Jr,"default",{get(){return{exceptionHandlers:Cu.exceptionHandlers,rejectionHandlers:Cu.rejectionHandlers,transports:Cu.transports}}});Pm.deprecated(Jr,"setLevels");Pm.forFunctions(Jr,"useFormat",["cli"]);Pm.forProperties(Jr,"useFormat",["padLevels","stripColors"]);Pm.forFunctions(Jr,"deprecated",["addRewriter","addFilter","clone","extend"]);Pm.forProperties(Jr,"deprecated",["emitErrs","levelLength"]);Pm.moved(Jr,"createLogger","Logger")}),Tt=O((Im,Bv)=>{(function(){var e,t="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",n="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",o=500,u="__lodash_placeholder__",d=1,m=2,f=4,x=1,T=2,q=1,F=2,$=4,H=8,oe=16,Q=32,pe=64,ve=128,Ce=256,fe=512,Pe=30,Ve="...",Ie=800,Ot=16,lt=1,Ye=2,At=3,gt=1/0,ut=9007199254740991,$t=17976931348623157e292,de=0/0,cr=4294967295,tr=cr-1,fn=cr>>>1,pi=[["ary",ve],["bind",q],["bindKey",F],["curry",H],["curryRight",oe],["flip",fe],["partial",Q],["partialRight",pe],["rearg",Ce]],gs="[object Arguments]",Yl="[object Array]",x0="[object AsyncFunction]",ma="[object Boolean]",Gi="[object Date]",di="[object DOMException]",za="[object Error]",$o="[object Function]",jo="[object GeneratorFunction]",Oi="[object Map]",Fo="[object Number]",mp="[object Null]",ys="[object Object]",kc="[object Promise]",E0="[object Proxy]",Pc="[object RegExp]",zi="[object Set]",Bo="[object String]",xn="[object Symbol]",Vi="[object Undefined]",Bn="[object WeakMap]",hn="[object WeakSet]",pn="[object ArrayBuffer]",U="[object DataView]",V="[object Float32Array]",te="[object Float64Array]",xe="[object Int8Array]",$e="[object Int16Array]",qe="[object Int32Array]",We="[object Uint8Array]",ot="[object Uint8ClampedArray]",bt="[object Uint16Array]",_t="[object Uint32Array]",Qt=/\b__p \+= '';/g,sn=/\b(__p \+=) '' \+/g,ki=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bf=/&(?:amp|lt|gt|quot|#39);/g,xf=/[&<>"']/g,Va=RegExp(bf.source),et=RegExp(xf.source),ga=/<%-([\s\S]+?)%>/g,Jl=/<%([\s\S]+?)%>/g,By=/<%=([\s\S]+?)%>/g,Ic=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uo=/^\w*$/,S0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zl=/[\\^$.*+?()[\]{}|]/g,R0=RegExp(Zl.source),gp=/^\s+/,yp=/\s/,A0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Uy=/\{\n\/\* \[wrapped with (.+)\] \*/,Hy=/,? & /,Gy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wa=/[()=,{}\[\]\/\s]/,qc=/\\(\\)?/g,T0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ql=/\w*$/,vt=/^[-+]0x[0-9a-f]+$/i,C0=/^0b[01]+$/i,zy=/^\[object .+?Constructor\]$/,O0=/^0o[0-7]+$/i,ya=/^(?:0|[1-9]\d*)$/,nt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ho=/($^)/,vp=/['\n\r\u2028\u2029\\]/g,be="\\ud800-\\udfff",Un="\\u0300-\\u036f",Vy="\\ufe20-\\ufe2f",ri="\\u20d0-\\u20ff",Wy=Un+Vy+ri,Ky="\\u2700-\\u27bf",Go="a-z\\xdf-\\xf6\\xf8-\\xff",eu="\\xac\\xb1\\xd7\\xf7",_p="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xy="\\u2000-\\u206f",Yy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",k0="A-Z\\xc0-\\xd6\\xd8-\\xde",P0="\\ufe0e\\ufe0f",I0=eu+_p+Xy+Yy,Ef="['\u2019]",O2="["+be+"]",q0="["+I0+"]",Sf="["+Wy+"]",Jy="\\d+",Zy="["+Ky+"]",an="["+Go+"]",N0="[^"+be+I0+Jy+Ky+Go+k0+"]",wp="\\ud83c[\\udffb-\\udfff]",Qy="(?:"+Sf+"|"+wp+")",bp="[^"+be+"]",Ka="(?:\\ud83c[\\udde6-\\uddff]){2}",Rf="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="["+k0+"]",Xa="\\u200d",M0="(?:"+an+"|"+N0+")",ev="(?:"+dn+"|"+N0+")",Nc="(?:"+Ef+"(?:d|ll|m|re|s|t|ve))?",L0="(?:"+Ef+"(?:D|LL|M|RE|S|T|VE))?",D0=Qy+"?",Af="["+P0+"]?",Mc="(?:"+Xa+"(?:"+[bp,Ka,Rf].join("|")+")"+Af+D0+")*",tu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lc=Af+D0+Mc,j0="(?:"+[Zy,Ka,Rf].join("|")+")"+Lc,Dc="(?:"+[bp+Sf+"?",Sf,Ka,Rf,O2].join("|")+")",F0=RegExp(Ef,"g"),B0=RegExp(Sf,"g"),ru=RegExp(wp+"(?="+wp+")|"+Dc+Lc,"g"),U0=RegExp([dn+"?"+an+"+"+Nc+"(?="+[q0,dn,"$"].join("|")+")",ev+"+"+L0+"(?="+[q0,dn+M0,"$"].join("|")+")",dn+"?"+M0+"+"+Nc,dn+"+"+L0,$0,tu,Jy,j0].join("|"),"g"),H0=RegExp("["+Xa+be+Wy+P0+"]"),xp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ep=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],G0=-1,vr={};vr[V]=vr[te]=vr[xe]=vr[$e]=vr[qe]=vr[We]=vr[ot]=vr[bt]=vr[_t]=!0,vr[gs]=vr[Yl]=vr[pn]=vr[ma]=vr[U]=vr[Gi]=vr[za]=vr[$o]=vr[Oi]=vr[Fo]=vr[ys]=vr[Pc]=vr[zi]=vr[Bo]=vr[Bn]=!1;var xr={};xr[gs]=xr[Yl]=xr[pn]=xr[U]=xr[ma]=xr[Gi]=xr[V]=xr[te]=xr[xe]=xr[$e]=xr[qe]=xr[Oi]=xr[Fo]=xr[ys]=xr[Pc]=xr[zi]=xr[Bo]=xr[xn]=xr[We]=xr[ot]=xr[bt]=xr[_t]=!0,xr[za]=xr[$o]=xr[Bn]=!1;var Hs={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},zo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},z0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},V0=parseFloat,$c=parseInt,jc=typeof global=="object"&&global&&global.Object===Object&&global,W0=typeof self=="object"&&self&&self.Object===Object&&self,on=jc||W0||Function("return this")(),Pi=typeof Im=="object"&&Im&&!Im.nodeType&&Im,vs=Pi&&typeof Bv=="object"&&Bv&&!Bv.nodeType&&Bv,Fc=vs&&vs.exports===Pi,mi=Fc&&jc.process,Hr=function(){try{var le=vs&&vs.require&&vs.require("util").types;return le||mi&&mi.binding&&mi.binding("util")}catch(Re){}}(),Tf=Hr&&Hr.isArrayBuffer,nu=Hr&&Hr.isDate,Cf=Hr&&Hr.isMap,K0=Hr&&Hr.isRegExp,Ya=Hr&&Hr.isSet,Of=Hr&&Hr.isTypedArray;function Ii(le,Re,ge){switch(ge.length){case 0:return le.call(Re);case 1:return le.call(Re,ge[0]);case 2:return le.call(Re,ge[0],ge[1]);case 3:return le.call(Re,ge[0],ge[1],ge[2])}return le.apply(Re,ge)}function tv(le,Re,ge,Ze){for(var Pt=-1,or=le==null?0:le.length;++Pt<or;){var Gr=le[Pt];Re(Ze,Gr,ge(Gr),le)}return Ze}function mn(le,Re){for(var ge=-1,Ze=le==null?0:le.length;++ge<Ze&&!(Re(le[ge],ge,le)===!1););return le}function X0(le,Re){for(var ge=le==null?0:le.length;ge--&&!(Re(le[ge],ge,le)===!1););return le}function Y0(le,Re){for(var ge=-1,Ze=le==null?0:le.length;++ge<Ze;)if(!Re(le[ge],ge,le))return!1;return!0}function va(le,Re){for(var ge=-1,Ze=le==null?0:le.length,Pt=0,or=[];++ge<Ze;){var Gr=le[ge];Re(Gr,ge,le)&&(or[Pt++]=Gr)}return or}function Bc(le,Re){var ge=le==null?0:le.length;return!!ge&&Gc(le,Re,0)>-1}function iu(le,Re,ge){for(var Ze=-1,Pt=le==null?0:le.length;++Ze<Pt;)if(ge(Re,le[Ze]))return!0;return!1}function Or(le,Re){for(var ge=-1,Ze=le==null?0:le.length,Pt=Array(Ze);++ge<Ze;)Pt[ge]=Re(le[ge],ge,le);return Pt}function _s(le,Re){for(var ge=-1,Ze=Re.length,Pt=le.length;++ge<Ze;)le[Pt+ge]=Re[ge];return le}function su(le,Re,ge,Ze){var Pt=-1,or=le==null?0:le.length;for(Ze&&or&&(ge=le[++Pt]);++Pt<or;)ge=Re(ge,le[Pt],Pt,le);return ge}function Uc(le,Re,ge,Ze){var Pt=le==null?0:le.length;for(Ze&&Pt&&(ge=le[--Pt]);Pt--;)ge=Re(ge,le[Pt],Pt,le);return ge}function kf(le,Re){for(var ge=-1,Ze=le==null?0:le.length;++ge<Ze;)if(Re(le[ge],ge,le))return!0;return!1}var rv=qf("length");function nv(le){return le.split("")}function Pf(le){return le.match(Gy)||[]}function J0(le,Re,ge){var Ze;return ge(le,function(Pt,or,Gr){if(Re(Pt,or,Gr))return Ze=or,!1}),Ze}function Hc(le,Re,ge,Ze){for(var Pt=le.length,or=ge+(Ze?1:-1);Ze?or--:++or<Pt;)if(Re(le[or],or,le))return or;return-1}function Gc(le,Re,ge){return Re===Re?I2(le,Re,ge):Hc(le,If,ge)}function iv(le,Re,ge,Ze){for(var Pt=ge-1,or=le.length;++Pt<or;)if(Ze(le[Pt],Re))return Pt;return-1}function If(le){return le!==le}function Z0(le,Re){var ge=le==null?0:le.length;return ge?au(le,Re)/ge:de}function qf(le){return function(Re){return Re==null?e:Re[le]}}function Rp(le){return function(Re){return le==null?e:le[Re]}}function Ap(le,Re,ge,Ze,Pt){return Pt(le,function(or,Gr,lr){ge=Ze?(Ze=!1,or):Re(ge,or,Gr,lr)}),ge}function Tp(le,Re){var ge=le.length;for(le.sort(Re);ge--;)le[ge]=le[ge].value;return le}function au(le,Re){for(var ge,Ze=-1,Pt=le.length;++Ze<Pt;){var or=Re(le[Ze]);or!==e&&(ge=ge===e?or:ge+or)}return ge}function ou(le,Re){for(var ge=-1,Ze=Array(le);++ge<le;)Ze[ge]=Re(ge);return Ze}function cu(le,Re){return Or(Re,function(ge){return[ge,le[ge]]})}function M(le){return le&&le.slice(0,q2(le)+1).replace(gp,"")}function j(le){return function(Re){return le(Re)}}function Y(le,Re){return Or(Re,function(ge){return le[ge]})}function Z(le,Re){return le.has(Re)}function ce(le,Re){for(var ge=-1,Ze=le.length;++ge<Ze&&Gc(Re,le[ge],0)>-1;);return ge}function ae(le,Re){for(var ge=le.length;ge--&&Gc(Re,le[ge],0)>-1;);return ge}function Ae(le,Re){for(var ge=le.length,Ze=0;ge--;)le[ge]===Re&&++Ze;return Ze}var Ue=Rp(Hs),kt=Rp(zo);function xt(le){return"\\"+Sp[le]}function En(le,Re){return le==null?e:le[Re]}function cn(le){return H0.test(le)}function Q0(le){return xp.test(le)}function em(le){for(var Re,ge=[];!(Re=le.next()).done;)ge.push(Re.value);return ge}function sv(le){var Re=-1,ge=Array(le.size);return le.forEach(function(Ze,Pt){ge[++Re]=[Pt,Ze]}),ge}function k2(le,Re){return function(ge){return le(Re(ge))}}function Vo(le,Re){for(var ge=-1,Ze=le.length,Pt=0,or=[];++ge<Ze;){var Gr=le[ge];(Gr===Re||Gr===u)&&(le[ge]=u,or[Pt++]=ge)}return or}function Gs(le){var Re=-1,ge=Array(le.size);return le.forEach(function(Ze){ge[++Re]=Ze}),ge}function P2(le){var Re=-1,ge=Array(le.size);return le.forEach(function(Ze){ge[++Re]=[Ze,Ze]}),ge}function I2(le,Re,ge){for(var Ze=ge-1,Pt=le.length;++Ze<Pt;)if(le[Ze]===Re)return Ze;return-1}function Wo(le,Re,ge){for(var Ze=ge+1;Ze--;)if(le[Ze]===Re)return Ze;return Ze}function Nf(le){return cn(le)?QR(le):rv(le)}function _a(le){return cn(le)?eA(le):nv(le)}function q2(le){for(var Re=le.length;Re--&&yp.test(le.charAt(Re)););return Re}var N2=Rp(z0);function QR(le){for(var Re=ru.lastIndex=0;ru.test(le);)++Re;return Re}function eA(le){return le.match(ru)||[]}function F3(le){return le.match(U0)||[]}var B3=function le(Re){Re=Re==null?on:zc.defaults(on.Object(),Re,zc.pick(on,Ep));var ge=Re.Array,Ze=Re.Date,Pt=Re.Error,or=Re.Function,Gr=Re.Math,lr=Re.Object,tm=Re.RegExp,M2=Re.String,zs=Re.TypeError,rm=ge.prototype,tA=or.prototype,Mf=lr.prototype,nm=Re["__core-js_shared__"],im=tA.toString,_r=Mf.hasOwnProperty,rA=0,L2=function(){var l=/[^.]+$/.exec(nm&&nm.keys&&nm.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Vc=Mf.toString,Qe=im.call(lr),ur=on._,D2=tm("^"+im.call(_r).replace(Zl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sm=Fc?Re.Buffer:e,Wc=Re.Symbol,ws=Re.Uint8Array,ir=sm?sm.allocUnsafe:e,lu=k2(lr.getPrototypeOf,lr),av=lr.create,$2=Mf.propertyIsEnumerable,am=rm.splice,j2=Wc?Wc.isConcatSpreadable:e,Cp=Wc?Wc.iterator:e,uu=Wc?Wc.toStringTag:e,om=function(){try{var l=Np(lr,"defineProperty");return l({},"",{}),l}catch(h){}}(),F2=Re.clearTimeout!==on.clearTimeout&&Re.clearTimeout,B2=Ze&&Ze.now!==on.Date.now&&Ze.now,nA=Re.setTimeout!==on.setTimeout&&Re.setTimeout,In=Gr.ceil,fu=Gr.floor,Kc=lr.getOwnPropertySymbols,U2=sm?sm.isBuffer:e,Bt=Re.isFinite,H2=rm.join,G2=k2(lr.keys,lr),Hn=Gr.max,gn=Gr.min,z2=Ze.now,iA=Re.parseInt,sA=Gr.random,U3=rm.reverse,bs=Np(Re,"DataView"),hu=Np(Re,"Map"),cm=Np(Re,"Promise"),Ko=Np(Re,"Set"),Op=Np(Re,"WeakMap"),kp=Np(lr,"create"),lm=Op&&new Op,Lf={},aA=Mp(bs),oA=Mp(hu),cA=Mp(cm),lA=Mp(Ko),uA=Mp(Op),um=Wc?Wc.prototype:e,Df=um?um.valueOf:e,xs=um?um.toString:e;function G(l){if(Sn(l)&&!Mt(l)&&!(l instanceof zt)){if(l instanceof Vs)return l;if(_r.call(l,"__wrapped__"))return qM(l)}return new Vs(l)}var $f=function(){function l(){}return function(h){if(!yn(h))return{};if(av)return av(h);l.prototype=h;var b=new l;return l.prototype=e,b}}();function fm(){}function Vs(l,h){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=e}G.templateSettings={escape:ga,evaluate:Jl,interpolate:By,variable:"",imports:{_:G}},G.prototype=fm.prototype,G.prototype.constructor=G,Vs.prototype=$f(fm.prototype),Vs.prototype.constructor=Vs;function zt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cr,this.__views__=[]}function fA(){var l=new zt(this.__wrapped__);return l.__actions__=Ws(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Ws(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Ws(this.__views__),l}function V2(){if(this.__filtered__){var l=new zt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Pp(){var l=this.__wrapped__.value(),h=this.__dir__,b=Mt(l),P=h<0,D=b?l.length:0,z=Uue(0,D,this.__views__),ee=z.start,se=z.end,ue=se-ee,Oe=P?se:ee-1,ke=this.__iteratees__,Me=ke.length,Xe=0,ft=gn(ue,this.__takeCount__);if(!b||!P&&D==ue&&ft==ue)return rM(l,this.__actions__);var Et=[];e:for(;ue--&&Xe<ft;){Oe+=h;for(var Ht=-1,St=l[Oe];++Ht<Me;){var er=ke[Ht],sr=er.iteratee,xa=er.type,Rs=sr(St);if(xa==Ye)St=Rs;else if(!Rs){if(xa==lt)continue e;break e}}Et[Xe++]=St}return Et}zt.prototype=$f(fm.prototype),zt.prototype.constructor=zt;function Xo(l){var h=-1,b=l==null?0:l.length;for(this.clear();++h<b;){var P=l[h];this.set(P[0],P[1])}}function pu(){this.__data__=kp?kp(null):{},this.size=0}function hA(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}function W2(l){var h=this.__data__;if(kp){var b=h[l];return b===a?e:b}return _r.call(h,l)?h[l]:e}function ov(l){var h=this.__data__;return kp?h[l]!==e:_r.call(h,l)}function hm(l,h){var b=this.__data__;return this.size+=this.has(l)?0:1,b[l]=kp&&h===e?a:h,this}Xo.prototype.clear=pu,Xo.prototype.delete=hA,Xo.prototype.get=W2,Xo.prototype.has=ov,Xo.prototype.set=hm;function Yo(l){var h=-1,b=l==null?0:l.length;for(this.clear();++h<b;){var P=l[h];this.set(P[0],P[1])}}function cv(){this.__data__=[],this.size=0}function c(l){var h=this.__data__,b=Ne(h,l);if(b<0)return!1;var P=h.length-1;return b==P?h.pop():am.call(h,b,1),--this.size,!0}function p(l){var h=this.__data__,b=Ne(h,l);return b<0?e:h[b][1]}function y(l){return Ne(this.__data__,l)>-1}function g(l,h){var b=this.__data__,P=Ne(b,l);return P<0?(++this.size,b.push([l,h])):b[P][1]=h,this}Yo.prototype.clear=cv,Yo.prototype.delete=c,Yo.prototype.get=p,Yo.prototype.has=y,Yo.prototype.set=g;function _(l){var h=-1,b=l==null?0:l.length;for(this.clear();++h<b;){var P=l[h];this.set(P[0],P[1])}}function w(){this.size=0,this.__data__={hash:new Xo,map:new(hu||Yo),string:new Xo}}function v(l){var h=iw(this,l).delete(l);return this.size-=h?1:0,h}function S(l){return iw(this,l).get(l)}function A(l){return iw(this,l).has(l)}function E(l,h){var b=iw(this,l),P=b.size;return b.set(l,h),this.size+=b.size==P?0:1,this}_.prototype.clear=w,_.prototype.delete=v,_.prototype.get=S,_.prototype.has=A,_.prototype.set=E;function R(l){var h=-1,b=l==null?0:l.length;for(this.__data__=new _;++h<b;)this.add(l[h])}function k(l){return this.__data__.set(l,a),this}function I(l){return this.__data__.has(l)}R.prototype.add=R.prototype.push=k,R.prototype.has=I;function C(l){var h=this.__data__=new Yo(l);this.size=h.size}function L(){this.__data__=new Yo,this.size=0}function N(l){var h=this.__data__,b=h.delete(l);return this.size=h.size,b}function B(l){return this.__data__.get(l)}function W(l){return this.__data__.has(l)}function J(l,h){var b=this.__data__;if(b instanceof Yo){var P=b.__data__;if(!hu||P.length<r-1)return P.push([l,h]),this.size=++b.size,this;b=this.__data__=new _(P)}return b.set(l,h),this.size=b.size,this}C.prototype.clear=L,C.prototype.delete=N,C.prototype.get=B,C.prototype.has=W,C.prototype.set=J;function re(l,h){var b=Mt(l),P=!b&&Lp(l),D=!b&&!P&&zf(l),z=!b&&!P&&!D&&gm(l),ee=b||P||D||z,se=ee?ou(l.length,M2):[],ue=se.length;for(var Oe in l)(h||_r.call(l,Oe))&&!(ee&&(Oe=="length"||D&&(Oe=="offset"||Oe=="parent")||z&&(Oe=="buffer"||Oe=="byteLength"||Oe=="byteOffset")||vu(Oe,ue)))&&se.push(Oe);return se}function me(l){var h=l.length;return h?l[yA(0,h-1)]:e}function He(l,h){return sw(Ws(l),ne(h,0,l.length))}function Fe(l){return sw(Ws(l))}function ie(l,h,b){(b!==e&&!Jo(l[h],b)||b===e&&!(h in l))&&Ee(l,h,b)}function Te(l,h,b){var P=l[h];(!(_r.call(l,h)&&Jo(P,b))||b===e&&!(h in l))&&Ee(l,h,b)}function Ne(l,h){for(var b=l.length;b--;)if(Jo(l[b][0],h))return b;return-1}function Se(l,h,b,P){return Wt(l,function(D,z,ee){h(P,D,b(D),ee)}),P}function Le(l,h){return l&&Jc(h,_i(h),l)}function ye(l,h){return l&&Jc(h,Xs(h),l)}function Ee(l,h,b){h=="__proto__"&&om?om(l,h,{configurable:!0,enumerable:!0,value:b,writable:!0}):l[h]=b}function _e(l,h){for(var b=-1,P=h.length,D=ge(P),z=l==null;++b<P;)D[b]=z?e:UA(l,h[b]);return D}function ne(l,h,b){return l===l&&(b!==e&&(l=l<=b?l:b),h!==e&&(l=l>=h?l:h)),l}function Be(l,h,b,P,D,z){var ee,se=h&d,ue=h&m,Oe=h&f;if(b&&(ee=D?b(l,P,D,z):b(l)),ee!==e)return ee;if(!yn(l))return l;var ke=Mt(l);if(ke){if(ee=Gue(l),!se)return Ws(l,ee)}else{var Me=Wi(l),Xe=Me==$o||Me==jo;if(zf(l))return sM(l,se);if(Me==ys||Me==gs||Xe&&!D){if(ee=ue||Xe?{}:SM(l),!se)return ue?que(l,ye(ee,l)):Iue(l,Le(ee,l))}else{if(!xr[Me])return D?l:{};ee=zue(l,Me,se)}}z||(z=new C);var ft=z.get(l);if(ft)return ft;z.set(l,ee),QM(l)?l.forEach(function(St){ee.add(Be(St,h,b,St,l,z))}):JM(l)&&l.forEach(function(St,er){ee.set(er,Be(St,h,b,er,l,z))});var Et=Oe?ue?CA:TA:ue?Xs:_i,Ht=ke?e:Et(l);return mn(Ht||l,function(St,er){Ht&&(er=St,St=l[er]),Te(ee,er,Be(St,h,b,er,l,z))}),ee}function it(l){var h=_i(l);return function(b){return tt(b,l,h)}}function tt(l,h,b){var P=b.length;if(l==null)return!P;for(l=lr(l);P--;){var D=b[P],z=h[D],ee=l[D];if(ee===e&&!(D in l)||!z(ee))return!1}return!0}function Je(l,h,b){if(typeof l!="function")throw new zs(s);return hv(function(){l.apply(e,b)},h)}function mt(l,h,b,P){var D=-1,z=Bc,ee=!0,se=l.length,ue=[],Oe=h.length;if(!se)return ue;b&&(h=Or(h,j(b))),P?(z=iu,ee=!1):h.length>=r&&(z=Z,ee=!1,h=new R(h));e:for(;++D<se;){var ke=l[D],Me=b==null?ke:b(ke);if(ke=P||ke!==0?ke:0,ee&&Me===Me){for(var Xe=Oe;Xe--;)if(h[Xe]===Me)continue e;ue.push(ke)}else z(h,Me,P)||ue.push(ke)}return ue}var Wt=uM(kr),Ke=uM(It,!0);function gi(l,h){var b=!0;return Wt(l,function(P,D,z){return b=!!h(P,D,z),b}),b}function jt(l,h,b){for(var P=-1,D=l.length;++P<D;){var z=l[P],ee=h(z);if(ee!=null&&(se===e?ee===ee&&!ba(ee):b(ee,se)))var se=ee,ue=z}return ue}function jf(l,h,b,P){var D=l.length;for(b=Ut(b),b<0&&(b=-b>D?0:D+b),P=P===e||P>D?D:Ut(P),P<0&&(P+=D),P=b>P?0:tL(P);b<P;)l[b++]=h;return l}function qi(l,h){var b=[];return Wt(l,function(P,D,z){h(P,D,z)&&b.push(P)}),b}function Kt(l,h,b,P,D){var z=-1,ee=l.length;for(b||(b=Wue),D||(D=[]);++z<ee;){var se=l[z];h>0&&b(se)?h>1?Kt(se,h-1,b,P,D):_s(D,se):P||(D[D.length]=se)}return D}var Ja=fM(),yi=fM(!0);function kr(l,h){return l&&Ja(l,h,_i)}function It(l,h){return l&&yi(l,h,_i)}function du(l,h){return va(h,function(b){return _u(l[b])})}function Ni(l,h){h=Hf(h,l);for(var b=0,P=h.length;l!=null&&b<P;)l=l[Zc(h[b++])];return b&&b==P?l:e}function Es(l,h,b){var P=h(l);return Mt(l)?P:_s(P,b(l))}function rt(l){return l==null?l===e?Vi:mp:uu&&uu in lr(l)?Bue(l):efe(l)}function Pr(l,h){return l>h}function Xc(l,h){return l!=null&&_r.call(l,h)}function Ip(l,h){return l!=null&&h in lr(l)}function Xr(l,h,b){return l>=gn(h,b)&&l<Hn(h,b)}function qp(l,h,b){for(var P=b?iu:Bc,D=l[0].length,z=l.length,ee=z,se=ge(z),ue=Infinity,Oe=[];ee--;){var ke=l[ee];ee&&h&&(ke=Or(ke,j(h))),ue=gn(ke.length,ue),se[ee]=!b&&(h||D>=120&&ke.length>=120)?new R(ee&&ke):e}ke=l[0];var Me=-1,Xe=se[0];e:for(;++Me<D&&Oe.length<ue;){var ft=ke[Me],Et=h?h(ft):ft;if(ft=b||ft!==0?ft:0,!(Xe?Z(Xe,Et):P(Oe,Et,b))){for(ee=z;--ee;){var Ht=se[ee];if(!(Ht?Z(Ht,Et):P(l[ee],Et,b)))continue e}Xe&&Xe.push(Et),Oe.push(ft)}}return Oe}function K2(l,h,b,P){return kr(l,function(D,z,ee){h(P,b(D),z,ee)}),P}function Ff(l,h,b){h=Hf(h,l),l=CM(l,h);var P=l==null?l:l[Zc(Qa(h))];return P==null?e:Ii(P,l,b)}function Bf(l){return Sn(l)&&rt(l)==gs}function vi(l){return Sn(l)&&rt(l)==pn}function mu(l){return Sn(l)&&rt(l)==Gi}function Xt(l,h,b,P,D){return l===h?!0:l==null||h==null||!Sn(l)&&!Sn(h)?l!==l&&h!==h:ze(l,h,b,P,Xt,D)}function ze(l,h,b,P,D,z){var ee=Mt(l),se=Mt(h),ue=ee?Yl:Wi(l),Oe=se?Yl:Wi(h);ue=ue==gs?ys:ue,Oe=Oe==gs?ys:Oe;var ke=ue==ys,Me=Oe==ys,Xe=ue==Oe;if(Xe&&zf(l)){if(!zf(h))return!1;ee=!0,ke=!1}if(Xe&&!ke)return z||(z=new C),ee||gm(l)?bM(l,h,b,P,D,z):jue(l,h,ue,b,P,D,z);if(!(b&x)){var ft=ke&&_r.call(l,"__wrapped__"),Et=Me&&_r.call(h,"__wrapped__");if(ft||Et){var Ht=ft?l.value():l,St=Et?h.value():h;return z||(z=new C),D(Ht,St,b,P,z)}}return Xe?(z||(z=new C),Fue(l,h,b,P,D,z)):!1}function Yc(l){return Sn(l)&&Wi(l)==Oi}function pA(l,h,b,P){var D=b.length,z=D,ee=!P;if(l==null)return!z;for(l=lr(l);D--;){var se=b[D];if(ee&&se[2]?se[1]!==l[se[0]]:!(se[0]in l))return!1}for(;++D<z;){se=b[D];var ue=se[0],Oe=l[ue],ke=se[1];if(ee&&se[2]){if(Oe===e&&!(ue in l))return!1}else{var Me=new C;if(P)var Xe=P(Oe,ke,ue,l,h,Me);if(!(Xe===e?Xt(ke,Oe,x|T,P,Me):Xe))return!1}}return!0}function H3(l){if(!yn(l)||Xue(l))return!1;var h=_u(l)?D2:zy;return h.test(Mp(l))}function due(l){return Sn(l)&&rt(l)==Pc}function mue(l){return Sn(l)&&Wi(l)==zi}function gue(l){return Sn(l)&&fw(l.length)&&!!vr[rt(l)]}function G3(l){return typeof l=="function"?l:l==null?Ys:typeof l=="object"?Mt(l)?W3(l[0],l[1]):V3(l):hL(l)}function dA(l){if(!fv(l))return G2(l);var h=[];for(var b in lr(l))_r.call(l,b)&&b!="constructor"&&h.push(b);return h}function yue(l){if(!yn(l))return Que(l);var h=fv(l),b=[];for(var P in l)P=="constructor"&&(h||!_r.call(l,P))||b.push(P);return b}function mA(l,h){return l<h}function z3(l,h){var b=-1,P=Ks(l)?ge(l.length):[];return Wt(l,function(D,z,ee){P[++b]=h(D,z,ee)}),P}function V3(l){var h=kA(l);return h.length==1&&h[0][2]?AM(h[0][0],h[0][1]):function(b){return b===l||pA(b,l,h)}}function W3(l,h){return IA(l)&&RM(h)?AM(Zc(l),h):function(b){var P=UA(b,l);return P===e&&P===h?HA(b,l):Xt(h,P,x|T)}}function X2(l,h,b,P,D){if(l===h)return;Ja(h,function(z,ee){if(D||(D=new C),yn(z))vue(l,h,ee,b,X2,P,D);else{var se=P?P(NA(l,ee),z,ee+"",l,h,D):e;se===e&&(se=z),ie(l,ee,se)}},Xs)}function vue(l,h,b,P,D,z,ee){var se=NA(l,b),ue=NA(h,b),Oe=ee.get(ue);if(Oe){ie(l,b,Oe);return}var ke=z?z(se,ue,b+"",l,h,ee):e,Me=ke===e;if(Me){var Xe=Mt(ue),ft=!Xe&&zf(ue),Et=!Xe&&!ft&&gm(ue);ke=ue,Xe||ft||Et?Mt(se)?ke=se:qn(se)?ke=Ws(se):ft?(Me=!1,ke=sM(ue,!0)):Et?(Me=!1,ke=aM(ue,!0)):ke=[]:pv(ue)||Lp(ue)?(ke=se,Lp(se)?ke=rL(se):(!yn(se)||_u(se))&&(ke=SM(ue))):Me=!1}Me&&(ee.set(ue,ke),D(ke,ue,P,z,ee),ee.delete(ue)),ie(l,b,ke)}function K3(l,h){var b=l.length;return b?(h+=h<0?b:0,vu(h,b)?l[h]:e):void 0}function X3(l,h,b){h.length?h=Or(h,function(z){return Mt(z)?function(ee){return Ni(ee,z.length===1?z[0]:z)}:z}):h=[Ys];var P=-1;h=Or(h,j(wt()));var D=z3(l,function(z,ee,se){var ue=Or(h,function(Oe){return Oe(z)});return{criteria:ue,index:++P,value:z}});return Tp(D,function(z,ee){return Pue(z,ee,b)})}function _ue(l,h){return Y3(l,h,function(b,P){return HA(l,P)})}function Y3(l,h,b){for(var P=-1,D=h.length,z={};++P<D;){var ee=h[P],se=Ni(l,ee);b(se,ee)&&lv(z,Hf(ee,l),se)}return z}function wue(l){return function(h){return Ni(h,l)}}function gA(l,h,b,P){var D=P?iv:Gc,z=-1,ee=h.length,se=l;for(l===h&&(h=Ws(h)),b&&(se=Or(l,j(b)));++z<ee;)for(var ue=0,Oe=h[z],ke=b?b(Oe):Oe;(ue=D(se,ke,ue,P))>-1;)se!==l&&am.call(se,ue,1),am.call(l,ue,1);return l}function J3(l,h){for(var b=l?h.length:0,P=b-1;b--;){var D=h[b];if(b==P||D!==z){var z=D;vu(D)?am.call(l,D,1):wA(l,D)}}return l}function yA(l,h){return l+fu(sA()*(h-l+1))}function bue(l,h,b,P){for(var D=-1,z=Hn(In((h-l)/(b||1)),0),ee=ge(z);z--;)ee[P?z:++D]=l,l+=b;return ee}function vA(l,h){var b="";if(!l||h<1||h>ut)return b;do h%2&&(b+=l),h=fu(h/2),h&&(l+=l);while(h);return b}function Vt(l,h){return MA(TM(l,h,Ys),l+"")}function xue(l){return me(ym(l))}function Eue(l,h){var b=ym(l);return sw(b,ne(h,0,b.length))}function lv(l,h,b,P){if(!yn(l))return l;h=Hf(h,l);for(var D=-1,z=h.length,ee=z-1,se=l;se!=null&&++D<z;){var ue=Zc(h[D]),Oe=b;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return l;if(D!=ee){var ke=se[ue];Oe=P?P(ke,ue,se):e,Oe===e&&(Oe=yn(ke)?ke:vu(h[D+1])?[]:{})}Te(se,ue,Oe),se=se[ue]}return l}var Z3=lm?function(l,h){return lm.set(l,h),l}:Ys,Sue=om?function(l,h){return om(l,"toString",{configurable:!0,enumerable:!1,value:zA(h),writable:!0})}:Ys;function Rue(l){return sw(ym(l))}function Za(l,h,b){var P=-1,D=l.length;h<0&&(h=-h>D?0:D+h),b=b>D?D:b,b<0&&(b+=D),D=h>b?0:b-h>>>0,h>>>=0;for(var z=ge(D);++P<D;)z[P]=l[P+h];return z}function Aue(l,h){var b;return Wt(l,function(P,D,z){return b=h(P,D,z),!b}),!!b}function Y2(l,h,b){var P=0,D=l==null?P:l.length;if(typeof h=="number"&&h===h&&D<=fn){for(;P<D;){var z=P+D>>>1,ee=l[z];ee!==null&&!ba(ee)&&(b?ee<=h:ee<h)?P=z+1:D=z}return D}return _A(l,h,Ys,b)}function _A(l,h,b,P){var D=0,z=l==null?0:l.length;if(z===0)return 0;h=b(h);for(var ee=h!==h,se=h===null,ue=ba(h),Oe=h===e;D<z;){var ke=fu((D+z)/2),Me=b(l[ke]),Xe=Me!==e,ft=Me===null,Et=Me===Me,Ht=ba(Me);if(ee)var St=P||Et;else Oe?St=Et&&(P||Xe):se?St=Et&&Xe&&(P||!ft):ue?St=Et&&Xe&&!ft&&(P||!Ht):ft||Ht?St=!1:St=P?Me<=h:Me<h;St?D=ke+1:z=ke}return gn(z,tr)}function Q3(l,h){for(var b=-1,P=l.length,D=0,z=[];++b<P;){var ee=l[b],se=h?h(ee):ee;if(!b||!Jo(se,ue)){var ue=se;z[D++]=ee===0?0:ee}}return z}function eM(l){return typeof l=="number"?l:ba(l)?de:+l}function wa(l){if(typeof l=="string")return l;if(Mt(l))return Or(l,wa)+"";if(ba(l))return xs?xs.call(l):"";var h=l+"";return h=="0"&&1/l==-gt?"-0":h}function Uf(l,h,b){var P=-1,D=Bc,z=l.length,ee=!0,se=[],ue=se;if(b)ee=!1,D=iu;else if(z>=r){var Oe=h?null:Due(l);if(Oe)return Gs(Oe);ee=!1,D=Z,ue=new R}else ue=h?[]:se;e:for(;++P<z;){var ke=l[P],Me=h?h(ke):ke;if(ke=b||ke!==0?ke:0,ee&&Me===Me){for(var Xe=ue.length;Xe--;)if(ue[Xe]===Me)continue e;h&&ue.push(Me),se.push(ke)}else D(ue,Me,b)||(ue!==se&&ue.push(Me),se.push(ke))}return se}function wA(l,h){return h=Hf(h,l),l=CM(l,h),l==null||delete l[Zc(Qa(h))]}function tM(l,h,b,P){return lv(l,h,b(Ni(l,h)),P)}function J2(l,h,b,P){for(var D=l.length,z=P?D:-1;(P?z--:++z<D)&&h(l[z],z,l););return b?Za(l,P?0:z,P?z+1:D):Za(l,P?z+1:0,P?D:z)}function rM(l,h){var b=l;return b instanceof zt&&(b=b.value()),su(h,function(P,D){return D.func.apply(D.thisArg,_s([P],D.args))},b)}function bA(l,h,b){var P=l.length;if(P<2)return P?Uf(l[0]):[];for(var D=-1,z=ge(P);++D<P;)for(var ee=l[D],se=-1;++se<P;)se!=D&&(z[D]=mt(z[D]||ee,l[se],h,b));return Uf(Kt(z,1),h,b)}function nM(l,h,b){for(var P=-1,D=l.length,z=h.length,ee={};++P<D;){var se=P<z?h[P]:e;b(ee,l[P],se)}return ee}function xA(l){return qn(l)?l:[]}function EA(l){return typeof l=="function"?l:Ys}function Hf(l,h){return Mt(l)?l:IA(l,h)?[l]:IM(Er(l))}var Tue=Vt;function Gf(l,h,b){var P=l.length;return b=b===e?P:b,!h&&b>=P?l:Za(l,h,b)}var iM=F2||function(l){return on.clearTimeout(l)};function sM(l,h){if(h)return l.slice();var b=l.length,P=ir?ir(b):new l.constructor(b);return l.copy(P),P}function SA(l){var h=new l.constructor(l.byteLength);return new ws(h).set(new ws(l)),h}function Cue(l,h){var b=h?SA(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.byteLength)}function Oue(l){var h=new l.constructor(l.source,Ql.exec(l));return h.lastIndex=l.lastIndex,h}function kue(l){return Df?lr(Df.call(l)):{}}function aM(l,h){var b=h?SA(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.length)}function oM(l,h){if(l!==h){var b=l!==e,P=l===null,D=l===l,z=ba(l),ee=h!==e,se=h===null,ue=h===h,Oe=ba(h);if(!se&&!Oe&&!z&&l>h||z&&ee&&ue&&!se&&!Oe||P&&ee&&ue||!b&&ue||!D)return 1;if(!P&&!z&&!Oe&&l<h||Oe&&b&&D&&!P&&!z||se&&b&&D||!ee&&D||!ue)return-1}return 0}function Pue(l,h,b){for(var P=-1,D=l.criteria,z=h.criteria,ee=D.length,se=b.length;++P<ee;){var ue=oM(D[P],z[P]);if(ue){if(P>=se)return ue;var Oe=b[P];return ue*(Oe=="desc"?-1:1)}}return l.index-h.index}function cM(l,h,b,P){for(var D=-1,z=l.length,ee=b.length,se=-1,ue=h.length,Oe=Hn(z-ee,0),ke=ge(ue+Oe),Me=!P;++se<ue;)ke[se]=h[se];for(;++D<ee;)(Me||D<z)&&(ke[b[D]]=l[D]);for(;Oe--;)ke[se++]=l[D++];return ke}function lM(l,h,b,P){for(var D=-1,z=l.length,ee=-1,se=b.length,ue=-1,Oe=h.length,ke=Hn(z-se,0),Me=ge(ke+Oe),Xe=!P;++D<ke;)Me[D]=l[D];for(var ft=D;++ue<Oe;)Me[ft+ue]=h[ue];for(;++ee<se;)(Xe||D<z)&&(Me[ft+b[ee]]=l[D++]);return Me}function Ws(l,h){var b=-1,P=l.length;for(h||(h=ge(P));++b<P;)h[b]=l[b];return h}function Jc(l,h,b,P){var D=!b;b||(b={});for(var z=-1,ee=h.length;++z<ee;){var se=h[z],ue=P?P(b[se],l[se],se,b,l):e;ue===e&&(ue=l[se]),D?Ee(b,se,ue):Te(b,se,ue)}return b}function Iue(l,h){return Jc(l,PA(l),h)}function que(l,h){return Jc(l,xM(l),h)}function Z2(l,h){return function(b,P){var D=Mt(b)?tv:Se,z=h?h():{};return D(b,l,wt(P,2),z)}}function pm(l){return Vt(function(h,b){var P=-1,D=b.length,z=D>1?b[D-1]:e,ee=D>2?b[2]:e;for(z=l.length>3&&typeof z=="function"?(D--,z):e,ee&&Ss(b[0],b[1],ee)&&(z=D<3?e:z,D=1),h=lr(h);++P<D;){var se=b[P];se&&l(h,se,P,z)}return h})}function uM(l,h){return function(b,P){if(b==null)return b;if(!Ks(b))return l(b,P);for(var D=b.length,z=h?D:-1,ee=lr(b);(h?z--:++z<D)&&!(P(ee[z],z,ee)===!1););return b}}function fM(l){return function(h,b,P){for(var D=-1,z=lr(h),ee=P(h),se=ee.length;se--;){var ue=ee[l?se:++D];if(b(z[ue],ue,z)===!1)break}return h}}function Nue(l,h,b){var P=h&q,D=uv(l);function z(){var ee=this&&this!==on&&this instanceof z?D:l;return ee.apply(P?b:this,arguments)}return z}function hM(l){return function(h){h=Er(h);var b=cn(h)?_a(h):e,P=b?b[0]:h.charAt(0),D=b?Gf(b,1).join(""):h.slice(1);return P[l]()+D}}function dm(l){return function(h){return su(uL(lL(h).replace(F0,"")),l,"")}}function uv(l){return function(){var h=arguments;switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3]);case 5:return new l(h[0],h[1],h[2],h[3],h[4]);case 6:return new l(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new l(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var b=$f(l.prototype),P=l.apply(b,h);return yn(P)?P:b}}function Mue(l,h,b){var P=uv(l);function D(){for(var z=arguments.length,ee=ge(z),se=z,ue=mm(D);se--;)ee[se]=arguments[se];var Oe=z<3&&ee[0]!==ue&&ee[z-1]!==ue?[]:Vo(ee,ue);if(z-=Oe.length,z<b)return yM(l,h,Q2,D.placeholder,e,ee,Oe,e,e,b-z);var ke=this&&this!==on&&this instanceof D?P:l;return Ii(ke,this,ee)}return D}function pM(l){return function(h,b,P){var D=lr(h);if(!Ks(h)){var z=wt(b,3);h=_i(h),b=function(se){return z(D[se],se,D)}}var ee=l(h,b,P);return ee>-1?D[z?h[ee]:ee]:e}}function dM(l){return yu(function(h){var b=h.length,P=b,D=Vs.prototype.thru;for(l&&h.reverse();P--;){var z=h[P];if(typeof z!="function")throw new zs(s);if(D&&!ee&&nw(z)=="wrapper")var ee=new Vs([],!0)}for(P=ee?P:b;++P<b;){z=h[P];var se=nw(z),ue=se=="wrapper"?OA(z):e;ue&&qA(ue[0])&&ue[1]==(ve|H|Q|Ce)&&!ue[4].length&&ue[9]==1?ee=ee[nw(ue[0])].apply(ee,ue[3]):ee=z.length==1&&qA(z)?ee[se]():ee.thru(z)}return function(){var Oe=arguments,ke=Oe[0];if(ee&&Oe.length==1&&Mt(ke))return ee.plant(ke).value();for(var Me=0,Xe=b?h[Me].apply(this,Oe):ke;++Me<b;)Xe=h[Me].call(this,Xe);return Xe}})}function Q2(l,h,b,P,D,z,ee,se,ue,Oe){var ke=h&ve,Me=h&q,Xe=h&F,ft=h&(H|oe),Et=h&fe,Ht=Xe?e:uv(l);function St(){for(var er=arguments.length,sr=ge(er),xa=er;xa--;)sr[xa]=arguments[xa];if(ft)var Rs=mm(St),Ea=Ae(sr,Rs);if(P&&(sr=cM(sr,P,D,ft)),z&&(sr=lM(sr,z,ee,ft)),er-=Ea,ft&&er<Oe){var Nn=Vo(sr,Rs);return yM(l,h,Q2,St.placeholder,b,sr,Nn,se,ue,Oe-er)}var Zo=Me?b:this,bu=Xe?Zo[l]:l;return er=sr.length,se?sr=tfe(sr,se):Et&&er>1&&sr.reverse(),ke&&ue<er&&(sr.length=ue),this&&this!==on&&this instanceof St&&(bu=Ht||uv(bu)),bu.apply(Zo,sr)}return St}function mM(l,h){return function(b,P){return K2(b,l,h(P),{})}}function ew(l,h){return function(b,P){var D;if(b===e&&P===e)return h;if(b!==e&&(D=b),P!==e){if(D===e)return P;typeof b=="string"||typeof P=="string"?(b=wa(b),P=wa(P)):(b=eM(b),P=eM(P)),D=l(b,P)}return D}}function RA(l){return yu(function(h){return h=Or(h,j(wt())),Vt(function(b){var P=this;return l(h,function(D){return Ii(D,P,b)})})})}function tw(l,h){h=h===e?" ":wa(h);var b=h.length;if(b<2)return b?vA(h,l):h;var P=vA(h,In(l/Nf(h)));return cn(h)?Gf(_a(P),0,l).join(""):P.slice(0,l)}function Lue(l,h,b,P){var D=h&q,z=uv(l);function ee(){for(var se=-1,ue=arguments.length,Oe=-1,ke=P.length,Me=ge(ke+ue),Xe=this&&this!==on&&this instanceof ee?z:l;++Oe<ke;)Me[Oe]=P[Oe];for(;ue--;)Me[Oe++]=arguments[++se];return Ii(Xe,D?b:this,Me)}return ee}function gM(l){return function(h,b,P){return P&&typeof P!="number"&&Ss(h,b,P)&&(b=P=e),h=wu(h),b===e?(b=h,h=0):b=wu(b),P=P===e?h<b?1:-1:wu(P),bue(h,b,P,l)}}function rw(l){return function(h,b){return typeof h=="string"&&typeof b=="string"||(h=eo(h),b=eo(b)),l(h,b)}}function yM(l,h,b,P,D,z,ee,se,ue,Oe){var ke=h&H,Me=ke?ee:e,Xe=ke?e:ee,ft=ke?z:e,Et=ke?e:z;h|=ke?Q:pe,h&=~(ke?pe:Q),h&$||(h&=~(q|F));var Ht=[l,h,D,ft,Me,Et,Xe,se,ue,Oe],St=b.apply(e,Ht);return qA(l)&&OM(St,Ht),St.placeholder=P,kM(St,l,h)}function AA(l){var h=Gr[l];return function(b,P){if(b=eo(b),P=P==null?0:gn(Ut(P),292),P&&Bt(b)){var D=(Er(b)+"e").split("e"),z=h(D[0]+"e"+(+D[1]+P));return D=(Er(z)+"e").split("e"),+(D[0]+"e"+(+D[1]-P))}return h(b)}}var Due=Ko&&1/Gs(new Ko([,-0]))[1]==gt?function(l){return new Ko(l)}:KA;function vM(l){return function(h){var b=Wi(h);return b==Oi?sv(h):b==zi?P2(h):cu(h,l(h))}}function gu(l,h,b,P,D,z,ee,se){var ue=h&F;if(!ue&&typeof l!="function")throw new zs(s);var Oe=P?P.length:0;if(Oe||(h&=~(Q|pe),P=D=e),ee=ee===e?ee:Hn(Ut(ee),0),se=se===e?se:Ut(se),Oe-=D?D.length:0,h&pe){var ke=P,Me=D;P=D=e}var Xe=ue?e:OA(l),ft=[l,h,b,P,D,ke,Me,z,ee,se];if(Xe&&Zue(ft,Xe),l=ft[0],h=ft[1],b=ft[2],P=ft[3],D=ft[4],se=ft[9]=ft[9]===e?ue?0:l.length:Hn(ft[9]-Oe,0),!se&&h&(H|oe)&&(h&=~(H|oe)),!h||h==q)var Et=Nue(l,h,b);else h==H||h==oe?Et=Mue(l,h,se):(h==Q||h==(q|Q))&&!D.length?Et=Lue(l,h,b,P):Et=Q2.apply(e,ft);var Ht=Xe?Z3:OM;return kM(Ht(Et,ft),l,h)}function _M(l,h,b,P){return l===e||Jo(l,Mf[b])&&!_r.call(P,b)?h:l}function wM(l,h,b,P,D,z){return yn(l)&&yn(h)&&(z.set(h,l),X2(l,h,e,wM,z),z.delete(h)),l}function $ue(l){return pv(l)?e:l}function bM(l,h,b,P,D,z){var ee=b&x,se=l.length,ue=h.length;if(se!=ue&&!(ee&&ue>se))return!1;var Oe=z.get(l),ke=z.get(h);if(Oe&&ke)return Oe==h&&ke==l;var Me=-1,Xe=!0,ft=b&T?new R:e;for(z.set(l,h),z.set(h,l);++Me<se;){var Et=l[Me],Ht=h[Me];if(P)var St=ee?P(Ht,Et,Me,h,l,z):P(Et,Ht,Me,l,h,z);if(St!==e){if(St)continue;Xe=!1;break}if(ft){if(!kf(h,function(er,sr){if(!Z(ft,sr)&&(Et===er||D(Et,er,b,P,z)))return ft.push(sr)})){Xe=!1;break}}else if(!(Et===Ht||D(Et,Ht,b,P,z))){Xe=!1;break}}return z.delete(l),z.delete(h),Xe}function jue(l,h,b,P,D,z,ee){switch(b){case U:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case pn:return!(l.byteLength!=h.byteLength||!z(new ws(l),new ws(h)));case ma:case Gi:case Fo:return Jo(+l,+h);case za:return l.name==h.name&&l.message==h.message;case Pc:case Bo:return l==h+"";case Oi:var se=sv;case zi:var ue=P&x;if(se||(se=Gs),l.size!=h.size&&!ue)return!1;var Oe=ee.get(l);if(Oe)return Oe==h;P|=T,ee.set(l,h);var ke=bM(se(l),se(h),P,D,z,ee);return ee.delete(l),ke;case xn:if(Df)return Df.call(l)==Df.call(h)}return!1}function Fue(l,h,b,P,D,z){var ee=b&x,se=TA(l),ue=se.length,Oe=TA(h),ke=Oe.length;if(ue!=ke&&!ee)return!1;for(var Me=ue;Me--;){var Xe=se[Me];if(!(ee?Xe in h:_r.call(h,Xe)))return!1}var ft=z.get(l),Et=z.get(h);if(ft&&Et)return ft==h&&Et==l;var Ht=!0;z.set(l,h),z.set(h,l);for(var St=ee;++Me<ue;){Xe=se[Me];var er=l[Xe],sr=h[Xe];if(P)var xa=ee?P(sr,er,Xe,h,l,z):P(er,sr,Xe,l,h,z);if(!(xa===e?er===sr||D(er,sr,b,P,z):xa)){Ht=!1;break}St||(St=Xe=="constructor")}if(Ht&&!St){var Rs=l.constructor,Ea=h.constructor;Rs!=Ea&&"constructor"in l&&"constructor"in h&&!(typeof Rs=="function"&&Rs instanceof Rs&&typeof Ea=="function"&&Ea instanceof Ea)&&(Ht=!1)}return z.delete(l),z.delete(h),Ht}function yu(l){return MA(TM(l,e,LM),l+"")}function TA(l){return Es(l,_i,PA)}function CA(l){return Es(l,Xs,xM)}var OA=lm?function(l){return lm.get(l)}:KA;function nw(l){for(var h=l.name+"",b=Lf[h],P=_r.call(Lf,h)?b.length:0;P--;){var D=b[P],z=D.func;if(z==null||z==l)return D.name}return h}function mm(l){var h=_r.call(G,"placeholder")?G:l;return h.placeholder}function wt(){var l=G.iteratee||VA;return l=l===VA?G3:l,arguments.length?l(arguments[0],arguments[1]):l}function iw(l,h){var b=l.__data__;return Kue(h)?b[typeof h=="string"?"string":"hash"]:b.map}function kA(l){for(var h=_i(l),b=h.length;b--;){var P=h[b],D=l[P];h[b]=[P,D,RM(D)]}return h}function Np(l,h){var b=En(l,h);return H3(b)?b:e}function Bue(l){var h=_r.call(l,uu),b=l[uu];try{l[uu]=e;var P=!0}catch(z){}var D=Vc.call(l);return P&&(h?l[uu]=b:delete l[uu]),D}var PA=Kc?function(l){return l==null?[]:(l=lr(l),va(Kc(l),function(h){return $2.call(l,h)}))}:XA,xM=Kc?function(l){for(var h=[];l;)_s(h,PA(l)),l=lu(l);return h}:XA,Wi=rt;(bs&&Wi(new bs(new ArrayBuffer(1)))!=U||hu&&Wi(new hu)!=Oi||cm&&Wi(cm.resolve())!=kc||Ko&&Wi(new Ko)!=zi||Op&&Wi(new Op)!=Bn)&&(Wi=function(l){var h=rt(l),b=h==ys?l.constructor:e,P=b?Mp(b):"";if(P)switch(P){case aA:return U;case oA:return Oi;case cA:return kc;case lA:return zi;case uA:return Bn}return h});function Uue(l,h,b){for(var P=-1,D=b.length;++P<D;){var z=b[P],ee=z.size;switch(z.type){case"drop":l+=ee;break;case"dropRight":h-=ee;break;case"take":h=gn(h,l+ee);break;case"takeRight":l=Hn(l,h-ee);break}}return{start:l,end:h}}function Hue(l){var h=l.match(Uy);return h?h[1].split(Hy):[]}function EM(l,h,b){h=Hf(h,l);for(var P=-1,D=h.length,z=!1;++P<D;){var ee=Zc(h[P]);if(!(z=l!=null&&b(l,ee)))break;l=l[ee]}return z||++P!=D?z:(D=l==null?0:l.length,!!D&&fw(D)&&vu(ee,D)&&(Mt(l)||Lp(l)))}function Gue(l){var h=l.length,b=new l.constructor(h);return h&&typeof l[0]=="string"&&_r.call(l,"index")&&(b.index=l.index,b.input=l.input),b}function SM(l){return typeof l.constructor=="function"&&!fv(l)?$f(lu(l)):{}}function zue(l,h,b){var P=l.constructor;switch(h){case pn:return SA(l);case ma:case Gi:return new P(+l);case U:return Cue(l,b);case V:case te:case xe:case $e:case qe:case We:case ot:case bt:case _t:return aM(l,b);case Oi:return new P;case Fo:case Bo:return new P(l);case Pc:return Oue(l);case zi:return new P;case xn:return kue(l)}}function Vue(l,h){var b=h.length;if(!b)return l;var P=b-1;return h[P]=(b>1?"& ":"")+h[P],h=h.join(b>2?", ":" "),l.replace(A0,`{
/* [wrapped with `+h+`] */
`)}function Wue(l){return Mt(l)||Lp(l)||!!(j2&&l&&l[j2])}function vu(l,h){var b=typeof l;return h=h??ut,!!h&&(b=="number"||b!="symbol"&&ya.test(l))&&(l>-1&&l%1==0)&&l<h}function Ss(l,h,b){if(!yn(b))return!1;var P=typeof h;return(P=="number"?Ks(b)&&vu(h,b.length):P=="string"&&h in b)?Jo(b[h],l):!1}function IA(l,h){if(Mt(l))return!1;var b=typeof l;return b=="number"||b=="symbol"||b=="boolean"||l==null||ba(l)?!0:Uo.test(l)||!Ic.test(l)||h!=null&&l in lr(h)}function Kue(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function qA(l){var h=nw(l),b=G[h];if(typeof b!="function"||!(h in zt.prototype))return!1;if(l===b)return!0;var P=OA(b);return!!P&&l===P[0]}function Xue(l){return!!L2&&L2 in l}var Yue=nm?_u:YA;function fv(l){var h=l&&l.constructor,b=typeof h=="function"&&h.prototype||Mf;return l===b}function RM(l){return l===l&&!yn(l)}function AM(l,h){return function(b){return b==null?!1:b[l]===h&&(h!==e||l in lr(b))}}function Jue(l){var h=lw(l,function(P){return b.size===o&&b.clear(),P}),b=h.cache;return h}function Zue(l,h){var b=l[1],P=h[1],D=b|P,z=D<(q|F|ve),ee=P==ve&&b==H||P==ve&&b==Ce&&l[7].length<=h[8]||P==(ve|Ce)&&h[7].length<=h[8]&&b==H;if(!(z||ee))return l;P&q&&(l[2]=h[2],D|=b&q?0:$);var se=h[3];if(se){var ue=l[3];l[3]=ue?cM(ue,se,h[4]):se,l[4]=ue?Vo(l[3],u):h[4]}return se=h[5],se&&(ue=l[5],l[5]=ue?lM(ue,se,h[6]):se,l[6]=ue?Vo(l[5],u):h[6]),se=h[7],se&&(l[7]=se),P&ve&&(l[8]=l[8]==null?h[8]:gn(l[8],h[8])),l[9]==null&&(l[9]=h[9]),l[0]=h[0],l[1]=D,l}function Que(l){var h=[];if(l!=null)for(var b in lr(l))h.push(b);return h}function efe(l){return Vc.call(l)}function TM(l,h,b){return h=Hn(h===e?l.length-1:h,0),function(){for(var P=arguments,D=-1,z=Hn(P.length-h,0),ee=ge(z);++D<z;)ee[D]=P[h+D];D=-1;for(var se=ge(h+1);++D<h;)se[D]=P[D];return se[h]=b(ee),Ii(l,this,se)}}function CM(l,h){return h.length<2?l:Ni(l,Za(h,0,-1))}function tfe(l,h){for(var b=l.length,P=gn(h.length,b),D=Ws(l);P--;){var z=h[P];l[P]=vu(z,b)?D[z]:e}return l}function NA(l,h){return h==="constructor"&&typeof l[h]=="function"||h=="__proto__"?void 0:l[h]}var OM=PM(Z3),hv=nA||function(l,h){return on.setTimeout(l,h)},MA=PM(Sue);function kM(l,h,b){var P=h+"";return MA(l,Vue(P,rfe(Hue(P),b)))}function PM(l){var h=0,b=0;return function(){var P=z2(),D=Ot-(P-b);if(b=P,D>0){if(++h>=Ie)return arguments[0]}else h=0;return l.apply(e,arguments)}}function sw(l,h){var b=-1,P=l.length,D=P-1;for(h=h===e?P:h;++b<h;){var z=yA(b,D),ee=l[z];l[z]=l[b],l[b]=ee}return l.length=h,l}var IM=Jue(function(l){var h=[];return l.charCodeAt(0)===46&&h.push(""),l.replace(S0,function(b,P,D,z){h.push(D?z.replace(qc,"$1"):P||b)}),h});function Zc(l){if(typeof l=="string"||ba(l))return l;var h=l+"";return h=="0"&&1/l==-gt?"-0":h}function Mp(l){if(l!=null){try{return im.call(l)}catch(h){}try{return l+""}catch(h){}}return""}function rfe(l,h){return mn(pi,function(b){var P="_."+b[0];h&b[1]&&!Bc(l,P)&&l.push(P)}),l.sort()}function qM(l){if(l instanceof zt)return l.clone();var h=new Vs(l.__wrapped__,l.__chain__);return h.__actions__=Ws(l.__actions__),h.__index__=l.__index__,h.__values__=l.__values__,h}function nfe(l,h,b){(b?Ss(l,h,b):h===e)?h=1:h=Hn(Ut(h),0);var P=l==null?0:l.length;if(!P||h<1)return[];for(var D=0,z=0,ee=ge(In(P/h));D<P;)ee[z++]=Za(l,D,D+=h);return ee}function ife(l){for(var h=-1,b=l==null?0:l.length,P=0,D=[];++h<b;){var z=l[h];z&&(D[P++]=z)}return D}function sfe(){var l=arguments.length;if(!l)return[];for(var h=ge(l-1),b=arguments[0],P=l;P--;)h[P-1]=arguments[P];return _s(Mt(b)?Ws(b):[b],Kt(h,1))}var afe=Vt(function(l,h){return qn(l)?mt(l,Kt(h,1,qn,!0)):[]}),ofe=Vt(function(l,h){var b=Qa(h);return qn(b)&&(b=e),qn(l)?mt(l,Kt(h,1,qn,!0),wt(b,2)):[]}),cfe=Vt(function(l,h){var b=Qa(h);return qn(b)&&(b=e),qn(l)?mt(l,Kt(h,1,qn,!0),e,b):[]});function lfe(l,h,b){var P=l==null?0:l.length;return P?(h=b||h===e?1:Ut(h),Za(l,h<0?0:h,P)):[]}function ufe(l,h,b){var P=l==null?0:l.length;return P?(h=b||h===e?1:Ut(h),h=P-h,Za(l,0,h<0?0:h)):[]}function ffe(l,h){return l&&l.length?J2(l,wt(h,3),!0,!0):[]}function hfe(l,h){return l&&l.length?J2(l,wt(h,3),!0):[]}function pfe(l,h,b,P){var D=l==null?0:l.length;return D?(b&&typeof b!="number"&&Ss(l,h,b)&&(b=0,P=D),jf(l,h,b,P)):[]}function NM(l,h,b){var P=l==null?0:l.length;if(!P)return-1;var D=b==null?0:Ut(b);return D<0&&(D=Hn(P+D,0)),Hc(l,wt(h,3),D)}function MM(l,h,b){var P=l==null?0:l.length;if(!P)return-1;var D=P-1;return b!==e&&(D=Ut(b),D=b<0?Hn(P+D,0):gn(D,P-1)),Hc(l,wt(h,3),D,!0)}function LM(l){var h=l==null?0:l.length;return h?Kt(l,1):[]}function dfe(l){var h=l==null?0:l.length;return h?Kt(l,gt):[]}function mfe(l,h){var b=l==null?0:l.length;return b?(h=h===e?1:Ut(h),Kt(l,h)):[]}function gfe(l){for(var h=-1,b=l==null?0:l.length,P={};++h<b;){var D=l[h];P[D[0]]=D[1]}return P}function DM(l){return l&&l.length?l[0]:e}function yfe(l,h,b){var P=l==null?0:l.length;if(!P)return-1;var D=b==null?0:Ut(b);return D<0&&(D=Hn(P+D,0)),Gc(l,h,D)}function vfe(l){var h=l==null?0:l.length;return h?Za(l,0,-1):[]}var _fe=Vt(function(l){var h=Or(l,xA);return h.length&&h[0]===l[0]?qp(h):[]}),wfe=Vt(function(l){var h=Qa(l),b=Or(l,xA);return h===Qa(b)?h=e:b.pop(),b.length&&b[0]===l[0]?qp(b,wt(h,2)):[]}),bfe=Vt(function(l){var h=Qa(l),b=Or(l,xA);return h=typeof h=="function"?h:e,h&&b.pop(),b.length&&b[0]===l[0]?qp(b,e,h):[]});function xfe(l,h){return l==null?"":H2.call(l,h)}function Qa(l){var h=l==null?0:l.length;return h?l[h-1]:e}function Efe(l,h,b){var P=l==null?0:l.length;if(!P)return-1;var D=P;return b!==e&&(D=Ut(b),D=D<0?Hn(P+D,0):gn(D,P-1)),h===h?Wo(l,h,D):Hc(l,If,D,!0)}function Sfe(l,h){return l&&l.length?K3(l,Ut(h)):e}var Rfe=Vt($M);function $M(l,h){return l&&l.length&&h&&h.length?gA(l,h):l}function Afe(l,h,b){return l&&l.length&&h&&h.length?gA(l,h,wt(b,2)):l}function Tfe(l,h,b){return l&&l.length&&h&&h.length?gA(l,h,e,b):l}var Cfe=yu(function(l,h){var b=l==null?0:l.length,P=_e(l,h);return J3(l,Or(h,function(D){return vu(D,b)?+D:D}).sort(oM)),P});function Ofe(l,h){var b=[];if(!(l&&l.length))return b;var P=-1,D=[],z=l.length;for(h=wt(h,3);++P<z;){var ee=l[P];h(ee,P,l)&&(b.push(ee),D.push(P))}return J3(l,D),b}function LA(l){return l==null?l:U3.call(l)}function kfe(l,h,b){var P=l==null?0:l.length;return P?(b&&typeof b!="number"&&Ss(l,h,b)?(h=0,b=P):(h=h==null?0:Ut(h),b=b===e?P:Ut(b)),Za(l,h,b)):[]}function Pfe(l,h){return Y2(l,h)}function Ife(l,h,b){return _A(l,h,wt(b,2))}function qfe(l,h){var b=l==null?0:l.length;if(b){var P=Y2(l,h);if(P<b&&Jo(l[P],h))return P}return-1}function Nfe(l,h){return Y2(l,h,!0)}function Mfe(l,h,b){return _A(l,h,wt(b,2),!0)}function Lfe(l,h){var b=l==null?0:l.length;if(b){var P=Y2(l,h,!0)-1;if(Jo(l[P],h))return P}return-1}function Dfe(l){return l&&l.length?Q3(l):[]}function $fe(l,h){return l&&l.length?Q3(l,wt(h,2)):[]}function jfe(l){var h=l==null?0:l.length;return h?Za(l,1,h):[]}function Ffe(l,h,b){return l&&l.length?(h=b||h===e?1:Ut(h),Za(l,0,h<0?0:h)):[]}function Bfe(l,h,b){var P=l==null?0:l.length;return P?(h=b||h===e?1:Ut(h),h=P-h,Za(l,h<0?0:h,P)):[]}function Ufe(l,h){return l&&l.length?J2(l,wt(h,3),!1,!0):[]}function Hfe(l,h){return l&&l.length?J2(l,wt(h,3)):[]}var Gfe=Vt(function(l){return Uf(Kt(l,1,qn,!0))}),zfe=Vt(function(l){var h=Qa(l);return qn(h)&&(h=e),Uf(Kt(l,1,qn,!0),wt(h,2))}),Vfe=Vt(function(l){var h=Qa(l);return h=typeof h=="function"?h:e,Uf(Kt(l,1,qn,!0),e,h)});function Wfe(l){return l&&l.length?Uf(l):[]}function Kfe(l,h){return l&&l.length?Uf(l,wt(h,2)):[]}function Xfe(l,h){return h=typeof h=="function"?h:e,l&&l.length?Uf(l,e,h):[]}function DA(l){if(!(l&&l.length))return[];var h=0;return l=va(l,function(b){if(qn(b))return h=Hn(b.length,h),!0}),ou(h,function(b){return Or(l,qf(b))})}function jM(l,h){if(!(l&&l.length))return[];var b=DA(l);return h==null?b:Or(b,function(P){return Ii(h,e,P)})}var Yfe=Vt(function(l,h){return qn(l)?mt(l,h):[]}),Jfe=Vt(function(l){return bA(va(l,qn))}),Zfe=Vt(function(l){var h=Qa(l);return qn(h)&&(h=e),bA(va(l,qn),wt(h,2))}),Qfe=Vt(function(l){var h=Qa(l);return h=typeof h=="function"?h:e,bA(va(l,qn),e,h)}),ehe=Vt(DA);function the(l,h){return nM(l||[],h||[],Te)}function rhe(l,h){return nM(l||[],h||[],lv)}var nhe=Vt(function(l){var h=l.length,b=h>1?l[h-1]:e;return b=typeof b=="function"?(l.pop(),b):e,jM(l,b)});function FM(l){var h=G(l);return h.__chain__=!0,h}function ihe(l,h){return h(l),l}function aw(l,h){return h(l)}var she=yu(function(l){var h=l.length,b=h?l[0]:0,P=this.__wrapped__,D=function(z){return _e(z,l)};return h>1||this.__actions__.length||!(P instanceof zt)||!vu(b)?this.thru(D):(P=P.slice(b,+b+(h?1:0)),P.__actions__.push({func:aw,args:[D],thisArg:e}),new Vs(P,this.__chain__).thru(function(z){return h&&!z.length&&z.push(e),z}))});function ahe(){return FM(this)}function ohe(){return new Vs(this.value(),this.__chain__)}function che(){this.__values__===e&&(this.__values__=eL(this.value()));var l=this.__index__>=this.__values__.length,h=l?e:this.__values__[this.__index__++];return{done:l,value:h}}function lhe(){return this}function uhe(l){for(var h,b=this;b instanceof fm;){var P=qM(b);P.__index__=0,P.__values__=e,h?D.__wrapped__=P:h=P;var D=P;b=b.__wrapped__}return D.__wrapped__=l,h}function fhe(){var l=this.__wrapped__;if(l instanceof zt){var h=l;return this.__actions__.length&&(h=new zt(this)),h=h.reverse(),h.__actions__.push({func:aw,args:[LA],thisArg:e}),new Vs(h,this.__chain__)}return this.thru(LA)}function hhe(){return rM(this.__wrapped__,this.__actions__)}var phe=Z2(function(l,h,b){_r.call(l,b)?++l[b]:Ee(l,b,1)});function dhe(l,h,b){var P=Mt(l)?Y0:gi;return b&&Ss(l,h,b)&&(h=e),P(l,wt(h,3))}function mhe(l,h){var b=Mt(l)?va:qi;return b(l,wt(h,3))}var ghe=pM(NM),yhe=pM(MM);function vhe(l,h){return Kt(ow(l,h),1)}function _he(l,h){return Kt(ow(l,h),gt)}function whe(l,h,b){return b=b===e?1:Ut(b),Kt(ow(l,h),b)}function BM(l,h){var b=Mt(l)?mn:Wt;return b(l,wt(h,3))}function UM(l,h){var b=Mt(l)?X0:Ke;return b(l,wt(h,3))}var bhe=Z2(function(l,h,b){_r.call(l,b)?l[b].push(h):Ee(l,b,[h])});function xhe(l,h,b,P){l=Ks(l)?l:ym(l),b=b&&!P?Ut(b):0;var D=l.length;return b<0&&(b=Hn(D+b,0)),hw(l)?b<=D&&l.indexOf(h,b)>-1:!!D&&Gc(l,h,b)>-1}var Ehe=Vt(function(l,h,b){var P=-1,D=typeof h=="function",z=Ks(l)?ge(l.length):[];return Wt(l,function(ee){z[++P]=D?Ii(h,ee,b):Ff(ee,h,b)}),z}),She=Z2(function(l,h,b){Ee(l,b,h)});function ow(l,h){var b=Mt(l)?Or:z3;return b(l,wt(h,3))}function Rhe(l,h,b,P){return l==null?[]:(Mt(h)||(h=h==null?[]:[h]),b=P?e:b,Mt(b)||(b=b==null?[]:[b]),X3(l,h,b))}var Ahe=Z2(function(l,h,b){l[b?0:1].push(h)},function(){return[[],[]]});function The(l,h,b){var P=Mt(l)?su:Ap,D=arguments.length<3;return P(l,wt(h,4),b,D,Wt)}function Che(l,h,b){var P=Mt(l)?Uc:Ap,D=arguments.length<3;return P(l,wt(h,4),b,D,Ke)}function Ohe(l,h){var b=Mt(l)?va:qi;return b(l,uw(wt(h,3)))}function khe(l){var h=Mt(l)?me:xue;return h(l)}function Phe(l,h,b){(b?Ss(l,h,b):h===e)?h=1:h=Ut(h);var P=Mt(l)?He:Eue;return P(l,h)}function Ihe(l){var h=Mt(l)?Fe:Rue;return h(l)}function qhe(l){if(l==null)return 0;if(Ks(l))return hw(l)?Nf(l):l.length;var h=Wi(l);return h==Oi||h==zi?l.size:dA(l).length}function Nhe(l,h,b){var P=Mt(l)?kf:Aue;return b&&Ss(l,h,b)&&(h=e),P(l,wt(h,3))}var Mhe=Vt(function(l,h){if(l==null)return[];var b=h.length;return b>1&&Ss(l,h[0],h[1])?h=[]:b>2&&Ss(h[0],h[1],h[2])&&(h=[h[0]]),X3(l,Kt(h,1),[])}),cw=B2||function(){return on.Date.now()};function Lhe(l,h){if(typeof h!="function")throw new zs(s);return l=Ut(l),function(){if(--l<1)return h.apply(this,arguments)}}function HM(l,h,b){return h=b?e:h,h=l&&h==null?l.length:h,gu(l,ve,e,e,e,e,h)}function GM(l,h){var b;if(typeof h!="function")throw new zs(s);return l=Ut(l),function(){return--l>0&&(b=h.apply(this,arguments)),l<=1&&(h=e),b}}var $A=Vt(function(l,h,b){var P=q;if(b.length){var D=Vo(b,mm($A));P|=Q}return gu(l,P,h,b,D)}),zM=Vt(function(l,h,b){var P=q|F;if(b.length){var D=Vo(b,mm(zM));P|=Q}return gu(h,P,l,b,D)});function VM(l,h,b){h=b?e:h;var P=gu(l,H,e,e,e,e,e,h);return P.placeholder=VM.placeholder,P}function WM(l,h,b){h=b?e:h;var P=gu(l,oe,e,e,e,e,e,h);return P.placeholder=WM.placeholder,P}function KM(l,h,b){var P,D,z,ee,se,ue,Oe=0,ke=!1,Me=!1,Xe=!0;if(typeof l!="function")throw new zs(s);h=eo(h)||0,yn(b)&&(ke=!!b.leading,Me="maxWait"in b,z=Me?Hn(eo(b.maxWait)||0,h):z,Xe="trailing"in b?!!b.trailing:Xe);function ft(Nn){var Zo=P,bu=D;return P=D=e,Oe=Nn,ee=l.apply(bu,Zo),ee}function Et(Nn){return Oe=Nn,se=hv(er,h),ke?ft(Nn):ee}function Ht(Nn){var Zo=Nn-ue,bu=Nn-Oe,pL=h-Zo;return Me?gn(pL,z-bu):pL}function St(Nn){var Zo=Nn-ue,bu=Nn-Oe;return ue===e||Zo>=h||Zo<0||Me&&bu>=z}function er(){var Nn=cw();if(St(Nn))return sr(Nn);se=hv(er,Ht(Nn))}function sr(Nn){return se=e,Xe&&P?ft(Nn):(P=D=e,ee)}function xa(){se!==e&&iM(se),Oe=0,P=ue=D=se=e}function Rs(){return se===e?ee:sr(cw())}function Ea(){var Nn=cw(),Zo=St(Nn);if(P=arguments,D=this,ue=Nn,Zo){if(se===e)return Et(ue);if(Me)return iM(se),se=hv(er,h),ft(ue)}return se===e&&(se=hv(er,h)),ee}return Ea.cancel=xa,Ea.flush=Rs,Ea}var Dhe=Vt(function(l,h){return Je(l,1,h)}),$he=Vt(function(l,h,b){return Je(l,eo(h)||0,b)});function jhe(l){return gu(l,fe)}function lw(l,h){if(typeof l!="function"||h!=null&&typeof h!="function")throw new zs(s);var b=function(){var P=arguments,D=h?h.apply(this,P):P[0],z=b.cache;if(z.has(D))return z.get(D);var ee=l.apply(this,P);return b.cache=z.set(D,ee)||z,ee};return b.cache=new(lw.Cache||_),b}lw.Cache=_;function uw(l){if(typeof l!="function")throw new zs(s);return function(){var h=arguments;switch(h.length){case 0:return!l.call(this);case 1:return!l.call(this,h[0]);case 2:return!l.call(this,h[0],h[1]);case 3:return!l.call(this,h[0],h[1],h[2])}return!l.apply(this,h)}}function Fhe(l){return GM(2,l)}var Bhe=Tue(function(l,h){h=h.length==1&&Mt(h[0])?Or(h[0],j(wt())):Or(Kt(h,1),j(wt()));var b=h.length;return Vt(function(P){for(var D=-1,z=gn(P.length,b);++D<z;)P[D]=h[D].call(this,P[D]);return Ii(l,this,P)})}),jA=Vt(function(l,h){var b=Vo(h,mm(jA));return gu(l,Q,e,h,b)}),XM=Vt(function(l,h){var b=Vo(h,mm(XM));return gu(l,pe,e,h,b)}),Uhe=yu(function(l,h){return gu(l,Ce,e,e,e,h)});function Hhe(l,h){if(typeof l!="function")throw new zs(s);return h=h===e?h:Ut(h),Vt(l,h)}function Ghe(l,h){if(typeof l!="function")throw new zs(s);return h=h==null?0:Hn(Ut(h),0),Vt(function(b){var P=b[h],D=Gf(b,0,h);return P&&_s(D,P),Ii(l,this,D)})}function zhe(l,h,b){var P=!0,D=!0;if(typeof l!="function")throw new zs(s);return yn(b)&&(P="leading"in b?!!b.leading:P,D="trailing"in b?!!b.trailing:D),KM(l,h,{leading:P,maxWait:h,trailing:D})}function Vhe(l){return HM(l,1)}function Whe(l,h){return jA(EA(h),l)}function Khe(){if(!arguments.length)return[];var l=arguments[0];return Mt(l)?l:[l]}function Xhe(l){return Be(l,f)}function Yhe(l,h){return h=typeof h=="function"?h:e,Be(l,f,h)}function Jhe(l){return Be(l,d|f)}function Zhe(l,h){return h=typeof h=="function"?h:e,Be(l,d|f,h)}function Qhe(l,h){return h==null||tt(l,h,_i(h))}function Jo(l,h){return l===h||l!==l&&h!==h}var epe=rw(Pr),tpe=rw(function(l,h){return l>=h}),Lp=Bf(function(){return arguments}())?Bf:function(l){return Sn(l)&&_r.call(l,"callee")&&!$2.call(l,"callee")},Mt=ge.isArray,rpe=Tf?j(Tf):vi;function Ks(l){return l!=null&&fw(l.length)&&!_u(l)}function qn(l){return Sn(l)&&Ks(l)}function npe(l){return l===!0||l===!1||Sn(l)&&rt(l)==ma}var zf=U2||YA,ipe=nu?j(nu):mu;function spe(l){return Sn(l)&&l.nodeType===1&&!pv(l)}function ape(l){if(l==null)return!0;if(Ks(l)&&(Mt(l)||typeof l=="string"||typeof l.splice=="function"||zf(l)||gm(l)||Lp(l)))return!l.length;var h=Wi(l);if(h==Oi||h==zi)return!l.size;if(fv(l))return!dA(l).length;for(var b in l)if(_r.call(l,b))return!1;return!0}function ope(l,h){return Xt(l,h)}function cpe(l,h,b){b=typeof b=="function"?b:e;var P=b?b(l,h):e;return P===e?Xt(l,h,e,b):!!P}function FA(l){if(!Sn(l))return!1;var h=rt(l);return h==za||h==di||typeof l.message=="string"&&typeof l.name=="string"&&!pv(l)}function lpe(l){return typeof l=="number"&&Bt(l)}function _u(l){if(!yn(l))return!1;var h=rt(l);return h==$o||h==jo||h==x0||h==E0}function YM(l){return typeof l=="number"&&l==Ut(l)}function fw(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ut}function yn(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}function Sn(l){return l!=null&&typeof l=="object"}var JM=Cf?j(Cf):Yc;function upe(l,h){return l===h||pA(l,h,kA(h))}function fpe(l,h,b){return b=typeof b=="function"?b:e,pA(l,h,kA(h),b)}function hpe(l){return ZM(l)&&l!=+l}function ppe(l){if(Yue(l))throw new Pt(i);return H3(l)}function dpe(l){return l===null}function mpe(l){return l==null}function ZM(l){return typeof l=="number"||Sn(l)&&rt(l)==Fo}function pv(l){if(!Sn(l)||rt(l)!=ys)return!1;var h=lu(l);if(h===null)return!0;var b=_r.call(h,"constructor")&&h.constructor;return typeof b=="function"&&b instanceof b&&im.call(b)==Qe}var BA=K0?j(K0):due;function gpe(l){return YM(l)&&l>=-ut&&l<=ut}var QM=Ya?j(Ya):mue;function hw(l){return typeof l=="string"||!Mt(l)&&Sn(l)&&rt(l)==Bo}function ba(l){return typeof l=="symbol"||Sn(l)&&rt(l)==xn}var gm=Of?j(Of):gue;function ype(l){return l===e}function vpe(l){return Sn(l)&&Wi(l)==Bn}function _pe(l){return Sn(l)&&rt(l)==hn}var wpe=rw(mA),bpe=rw(function(l,h){return l<=h});function eL(l){if(!l)return[];if(Ks(l))return hw(l)?_a(l):Ws(l);if(Cp&&l[Cp])return em(l[Cp]());var h=Wi(l),b=h==Oi?sv:h==zi?Gs:ym;return b(l)}function wu(l){if(!l)return l===0?l:0;if(l=eo(l),l===gt||l===-gt){var h=l<0?-1:1;return h*$t}return l===l?l:0}function Ut(l){var h=wu(l),b=h%1;return h===h?b?h-b:h:0}function tL(l){return l?ne(Ut(l),0,cr):0}function eo(l){if(typeof l=="number")return l;if(ba(l))return de;if(yn(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=yn(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=M(l);var b=C0.test(l);return b||O0.test(l)?$c(l.slice(2),b?2:8):vt.test(l)?de:+l}function rL(l){return Jc(l,Xs(l))}function xpe(l){return l?ne(Ut(l),-ut,ut):l===0?l:0}function Er(l){return l==null?"":wa(l)}var Epe=pm(function(l,h){if(fv(h)||Ks(h)){Jc(h,_i(h),l);return}for(var b in h)_r.call(h,b)&&Te(l,b,h[b])}),nL=pm(function(l,h){Jc(h,Xs(h),l)}),pw=pm(function(l,h,b,P){Jc(h,Xs(h),l,P)}),Spe=pm(function(l,h,b,P){Jc(h,_i(h),l,P)}),Rpe=yu(_e);function Ape(l,h){var b=$f(l);return h==null?b:Le(b,h)}var Tpe=Vt(function(l,h){l=lr(l);var b=-1,P=h.length,D=P>2?h[2]:e;for(D&&Ss(h[0],h[1],D)&&(P=1);++b<P;)for(var z=h[b],ee=Xs(z),se=-1,ue=ee.length;++se<ue;){var Oe=ee[se],ke=l[Oe];(ke===e||Jo(ke,Mf[Oe])&&!_r.call(l,Oe))&&(l[Oe]=z[Oe])}return l}),Cpe=Vt(function(l){return l.push(e,wM),Ii(iL,e,l)});function Ope(l,h){return J0(l,wt(h,3),kr)}function kpe(l,h){return J0(l,wt(h,3),It)}function Ppe(l,h){return l==null?l:Ja(l,wt(h,3),Xs)}function Ipe(l,h){return l==null?l:yi(l,wt(h,3),Xs)}function qpe(l,h){return l&&kr(l,wt(h,3))}function Npe(l,h){return l&&It(l,wt(h,3))}function Mpe(l){return l==null?[]:du(l,_i(l))}function Lpe(l){return l==null?[]:du(l,Xs(l))}function UA(l,h,b){var P=l==null?e:Ni(l,h);return P===e?b:P}function Dpe(l,h){return l!=null&&EM(l,h,Xc)}function HA(l,h){return l!=null&&EM(l,h,Ip)}var $pe=mM(function(l,h,b){h!=null&&typeof h.toString!="function"&&(h=Vc.call(h)),l[h]=b},zA(Ys)),jpe=mM(function(l,h,b){h!=null&&typeof h.toString!="function"&&(h=Vc.call(h)),_r.call(l,h)?l[h].push(b):l[h]=[b]},wt),Fpe=Vt(Ff);function _i(l){return Ks(l)?re(l):dA(l)}function Xs(l){return Ks(l)?re(l,!0):yue(l)}function Bpe(l,h){var b={};return h=wt(h,3),kr(l,function(P,D,z){Ee(b,h(P,D,z),P)}),b}function Upe(l,h){var b={};return h=wt(h,3),kr(l,function(P,D,z){Ee(b,D,h(P,D,z))}),b}var Hpe=pm(function(l,h,b){X2(l,h,b)}),iL=pm(function(l,h,b,P){X2(l,h,b,P)}),Gpe=yu(function(l,h){var b={};if(l==null)return b;var P=!1;h=Or(h,function(z){return z=Hf(z,l),P||(P=z.length>1),z}),Jc(l,CA(l),b),P&&(b=Be(b,d|m|f,$ue));for(var D=h.length;D--;)wA(b,h[D]);return b});function zpe(l,h){return sL(l,uw(wt(h)))}var Vpe=yu(function(l,h){return l==null?{}:_ue(l,h)});function sL(l,h){if(l==null)return{};var b=Or(CA(l),function(P){return[P]});return h=wt(h),Y3(l,b,function(P,D){return h(P,D[0])})}function Wpe(l,h,b){h=Hf(h,l);var P=-1,D=h.length;for(D||(D=1,l=e);++P<D;){var z=l==null?e:l[Zc(h[P])];z===e&&(P=D,z=b),l=_u(z)?z.call(l):z}return l}function Kpe(l,h,b){return l==null?l:lv(l,h,b)}function Xpe(l,h,b,P){return P=typeof P=="function"?P:e,l==null?l:lv(l,h,b,P)}var aL=vM(_i),oL=vM(Xs);function Ype(l,h,b){var P=Mt(l),D=P||zf(l)||gm(l);if(h=wt(h,4),b==null){var z=l&&l.constructor;D?b=P?new z:[]:yn(l)?b=_u(z)?$f(lu(l)):{}:b={}}return(D?mn:kr)(l,function(ee,se,ue){return h(b,ee,se,ue)}),b}function Jpe(l,h){return l==null?!0:wA(l,h)}function Zpe(l,h,b){return l==null?l:tM(l,h,EA(b))}function Qpe(l,h,b,P){return P=typeof P=="function"?P:e,l==null?l:tM(l,h,EA(b),P)}function ym(l){return l==null?[]:Y(l,_i(l))}function ede(l){return l==null?[]:Y(l,Xs(l))}function tde(l,h,b){return b===e&&(b=h,h=e),b!==e&&(b=eo(b),b=b===b?b:0),h!==e&&(h=eo(h),h=h===h?h:0),ne(eo(l),h,b)}function rde(l,h,b){return h=wu(h),b===e?(b=h,h=0):b=wu(b),l=eo(l),Xr(l,h,b)}function nde(l,h,b){if(b&&typeof b!="boolean"&&Ss(l,h,b)&&(h=b=e),b===e&&(typeof h=="boolean"?(b=h,h=e):typeof l=="boolean"&&(b=l,l=e)),l===e&&h===e?(l=0,h=1):(l=wu(l),h===e?(h=l,l=0):h=wu(h)),l>h){var P=l;l=h,h=P}if(b||l%1||h%1){var D=sA();return gn(l+D*(h-l+V0("1e-"+((D+"").length-1))),h)}return yA(l,h)}var ide=dm(function(l,h,b){return h=h.toLowerCase(),l+(b?cL(h):h)});function cL(l){return GA(Er(l).toLowerCase())}function lL(l){return l=Er(l),l&&l.replace(nt,Ue).replace(B0,"")}function sde(l,h,b){l=Er(l),h=wa(h);var P=l.length;b=b===e?P:ne(Ut(b),0,P);var D=b;return b-=h.length,b>=0&&l.slice(b,D)==h}function ade(l){return l=Er(l),l&&et.test(l)?l.replace(xf,kt):l}function ode(l){return l=Er(l),l&&R0.test(l)?l.replace(Zl,"\\$&"):l}var cde=dm(function(l,h,b){return l+(b?"-":"")+h.toLowerCase()}),lde=dm(function(l,h,b){return l+(b?" ":"")+h.toLowerCase()}),ude=hM("toLowerCase");function fde(l,h,b){l=Er(l),h=Ut(h);var P=h?Nf(l):0;if(!h||P>=h)return l;var D=(h-P)/2;return tw(fu(D),b)+l+tw(In(D),b)}function hde(l,h,b){l=Er(l),h=Ut(h);var P=h?Nf(l):0;return h&&P<h?l+tw(h-P,b):l}function pde(l,h,b){l=Er(l),h=Ut(h);var P=h?Nf(l):0;return h&&P<h?tw(h-P,b)+l:l}function dde(l,h,b){return b||h==null?h=0:h&&(h=+h),iA(Er(l).replace(gp,""),h||0)}function mde(l,h,b){return(b?Ss(l,h,b):h===e)?h=1:h=Ut(h),vA(Er(l),h)}function gde(){var l=arguments,h=Er(l[0]);return l.length<3?h:h.replace(l[1],l[2])}var yde=dm(function(l,h,b){return l+(b?"_":"")+h.toLowerCase()});function vde(l,h,b){return b&&typeof b!="number"&&Ss(l,h,b)&&(h=b=e),b=b===e?cr:b>>>0,b?(l=Er(l),l&&(typeof h=="string"||h!=null&&!BA(h))&&(h=wa(h),!h&&cn(l))?Gf(_a(l),0,b):l.split(h,b)):[]}var _de=dm(function(l,h,b){return l+(b?" ":"")+GA(h)});function wde(l,h,b){return l=Er(l),b=b==null?0:ne(Ut(b),0,l.length),h=wa(h),l.slice(b,b+h.length)==h}function bde(l,h,b){var P=G.templateSettings;b&&Ss(l,h,b)&&(h=e),l=Er(l),h=pw({},h,P,_M);var D=pw({},h.imports,P.imports,_M),z=_i(D),ee=Y(D,z),se,ue,Oe=0,ke=h.interpolate||Ho,Me="__p += '",Xe=tm((h.escape||Ho).source+"|"+ke.source+"|"+(ke===By?T0:Ho).source+"|"+(h.evaluate||Ho).source+"|$","g"),ft="//# sourceURL="+(_r.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++G0+"]")+`
`;l.replace(Xe,function(St,er,sr,xa,Rs,Ea){return sr||(sr=xa),Me+=l.slice(Oe,Ea).replace(vp,xt),er&&(se=!0,Me+=`' +
__e(`+er+`) +
'`),Rs&&(ue=!0,Me+=`';
`+Rs+`;
__p += '`),sr&&(Me+=`' +
((__t = (`+sr+`)) == null ? '' : __t) +
'`),Oe=Ea+St.length,St}),Me+=`';
`;var Et=_r.call(h,"variable")&&h.variable;if(!Et)Me=`with (obj) {
`+Me+`
}
`;else if(Wa.test(Et))throw new Pt(n);Me=(ue?Me.replace(Qt,""):Me).replace(sn,"$1").replace(ki,"$1;"),Me="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var Ht=fL(function(){return or(z,ft+"return "+Me).apply(e,ee)});if(Ht.source=Me,FA(Ht))throw Ht;return Ht}function xde(l){return Er(l).toLowerCase()}function Ede(l){return Er(l).toUpperCase()}function Sde(l,h,b){if(l=Er(l),l&&(b||h===e))return M(l);if(!l||!(h=wa(h)))return l;var P=_a(l),D=_a(h),z=ce(P,D),ee=ae(P,D)+1;return Gf(P,z,ee).join("")}function Rde(l,h,b){if(l=Er(l),l&&(b||h===e))return l.slice(0,q2(l)+1);if(!l||!(h=wa(h)))return l;var P=_a(l),D=ae(P,_a(h))+1;return Gf(P,0,D).join("")}function Ade(l,h,b){if(l=Er(l),l&&(b||h===e))return l.replace(gp,"");if(!l||!(h=wa(h)))return l;var P=_a(l),D=ce(P,_a(h));return Gf(P,D).join("")}function Tde(l,h){var b=Pe,P=Ve;if(yn(h)){var D="separator"in h?h.separator:D;b="length"in h?Ut(h.length):b,P="omission"in h?wa(h.omission):P}l=Er(l);var z=l.length;if(cn(l)){var ee=_a(l);z=ee.length}if(b>=z)return l;var se=b-Nf(P);if(se<1)return P;var ue=ee?Gf(ee,0,se).join(""):l.slice(0,se);if(D===e)return ue+P;if(ee&&(se+=ue.length-se),BA(D)){if(l.slice(se).search(D)){var Oe,ke=ue;for(D.global||(D=tm(D.source,Er(Ql.exec(D))+"g")),D.lastIndex=0;Oe=D.exec(ke);)var Me=Oe.index;ue=ue.slice(0,Me===e?se:Me)}}else if(l.indexOf(wa(D),se)!=se){var Xe=ue.lastIndexOf(D);Xe>-1&&(ue=ue.slice(0,Xe))}return ue+P}function Cde(l){return l=Er(l),l&&Va.test(l)?l.replace(bf,N2):l}var Ode=dm(function(l,h,b){return l+(b?" ":"")+h.toUpperCase()}),GA=hM("toUpperCase");function uL(l,h,b){return l=Er(l),h=b?e:h,h===e?Q0(l)?F3(l):Pf(l):l.match(h)||[]}var fL=Vt(function(l,h){try{return Ii(l,e,h)}catch(b){return FA(b)?b:new Pt(b)}}),kde=yu(function(l,h){return mn(h,function(b){b=Zc(b),Ee(l,b,$A(l[b],l))}),l});function Pde(l){var h=l==null?0:l.length,b=wt();return l=h?Or(l,function(P){if(typeof P[1]!="function")throw new zs(s);return[b(P[0]),P[1]]}):[],Vt(function(P){for(var D=-1;++D<h;){var z=l[D];if(Ii(z[0],this,P))return Ii(z[1],this,P)}})}function Ide(l){return it(Be(l,d))}function zA(l){return function(){return l}}function qde(l,h){return l==null||l!==l?h:l}var Nde=dM(),Mde=dM(!0);function Ys(l){return l}function VA(l){return G3(typeof l=="function"?l:Be(l,d))}function Lde(l){return V3(Be(l,d))}function Dde(l,h){return W3(l,Be(h,d))}var $de=Vt(function(l,h){return function(b){return Ff(b,l,h)}}),jde=Vt(function(l,h){return function(b){return Ff(l,b,h)}});function WA(l,h,b){var P=_i(h),D=du(h,P);b==null&&!(yn(h)&&(D.length||!P.length))&&(b=h,h=l,l=this,D=du(h,_i(h)));var z=!(yn(b)&&"chain"in b)||!!b.chain,ee=_u(l);return mn(D,function(se){var ue=h[se];l[se]=ue,ee&&(l.prototype[se]=function(){var Oe=this.__chain__;if(z||Oe){var ke=l(this.__wrapped__),Me=ke.__actions__=Ws(this.__actions__);return Me.push({func:ue,args:arguments,thisArg:l}),ke.__chain__=Oe,ke}return ue.apply(l,_s([this.value()],arguments))})}),l}function Fde(){return on._===this&&(on._=ur),this}function KA(){}function Bde(l){return l=Ut(l),Vt(function(h){return K3(h,l)})}var Ude=RA(Or),Hde=RA(Y0),Gde=RA(kf);function hL(l){return IA(l)?qf(Zc(l)):wue(l)}function zde(l){return function(h){return l==null?e:Ni(l,h)}}var Vde=gM(),Wde=gM(!0);function XA(){return[]}function YA(){return!1}function Kde(){return{}}function Xde(){return""}function Yde(){return!0}function Jde(l,h){if(l=Ut(l),l<1||l>ut)return[];var b=cr,P=gn(l,cr);h=wt(h),l-=cr;for(var D=ou(P,h);++b<l;)h(b);return D}function Zde(l){return Mt(l)?Or(l,Zc):ba(l)?[l]:Ws(IM(Er(l)))}function Qde(l){var h=++rA;return Er(l)+h}var e0e=ew(function(l,h){return l+h},0),t0e=AA("ceil"),r0e=ew(function(l,h){return l/h},1),n0e=AA("floor");function i0e(l){return l&&l.length?jt(l,Ys,Pr):e}function s0e(l,h){return l&&l.length?jt(l,wt(h,2),Pr):e}function a0e(l){return Z0(l,Ys)}function o0e(l,h){return Z0(l,wt(h,2))}function c0e(l){return l&&l.length?jt(l,Ys,mA):e}function l0e(l,h){return l&&l.length?jt(l,wt(h,2),mA):e}var u0e=ew(function(l,h){return l*h},1),f0e=AA("round"),h0e=ew(function(l,h){return l-h},0);function p0e(l){return l&&l.length?au(l,Ys):0}function d0e(l,h){return l&&l.length?au(l,wt(h,2)):0}return G.after=Lhe,G.ary=HM,G.assign=Epe,G.assignIn=nL,G.assignInWith=pw,G.assignWith=Spe,G.at=Rpe,G.before=GM,G.bind=$A,G.bindAll=kde,G.bindKey=zM,G.castArray=Khe,G.chain=FM,G.chunk=nfe,G.compact=ife,G.concat=sfe,G.cond=Pde,G.conforms=Ide,G.constant=zA,G.countBy=phe,G.create=Ape,G.curry=VM,G.curryRight=WM,G.debounce=KM,G.defaults=Tpe,G.defaultsDeep=Cpe,G.defer=Dhe,G.delay=$he,G.difference=afe,G.differenceBy=ofe,G.differenceWith=cfe,G.drop=lfe,G.dropRight=ufe,G.dropRightWhile=ffe,G.dropWhile=hfe,G.fill=pfe,G.filter=mhe,G.flatMap=vhe,G.flatMapDeep=_he,G.flatMapDepth=whe,G.flatten=LM,G.flattenDeep=dfe,G.flattenDepth=mfe,G.flip=jhe,G.flow=Nde,G.flowRight=Mde,G.fromPairs=gfe,G.functions=Mpe,G.functionsIn=Lpe,G.groupBy=bhe,G.initial=vfe,G.intersection=_fe,G.intersectionBy=wfe,G.intersectionWith=bfe,G.invert=$pe,G.invertBy=jpe,G.invokeMap=Ehe,G.iteratee=VA,G.keyBy=She,G.keys=_i,G.keysIn=Xs,G.map=ow,G.mapKeys=Bpe,G.mapValues=Upe,G.matches=Lde,G.matchesProperty=Dde,G.memoize=lw,G.merge=Hpe,G.mergeWith=iL,G.method=$de,G.methodOf=jde,G.mixin=WA,G.negate=uw,G.nthArg=Bde,G.omit=Gpe,G.omitBy=zpe,G.once=Fhe,G.orderBy=Rhe,G.over=Ude,G.overArgs=Bhe,G.overEvery=Hde,G.overSome=Gde,G.partial=jA,G.partialRight=XM,G.partition=Ahe,G.pick=Vpe,G.pickBy=sL,G.property=hL,G.propertyOf=zde,G.pull=Rfe,G.pullAll=$M,G.pullAllBy=Afe,G.pullAllWith=Tfe,G.pullAt=Cfe,G.range=Vde,G.rangeRight=Wde,G.rearg=Uhe,G.reject=Ohe,G.remove=Ofe,G.rest=Hhe,G.reverse=LA,G.sampleSize=Phe,G.set=Kpe,G.setWith=Xpe,G.shuffle=Ihe,G.slice=kfe,G.sortBy=Mhe,G.sortedUniq=Dfe,G.sortedUniqBy=$fe,G.split=vde,G.spread=Ghe,G.tail=jfe,G.take=Ffe,G.takeRight=Bfe,G.takeRightWhile=Ufe,G.takeWhile=Hfe,G.tap=ihe,G.throttle=zhe,G.thru=aw,G.toArray=eL,G.toPairs=aL,G.toPairsIn=oL,G.toPath=Zde,G.toPlainObject=rL,G.transform=Ype,G.unary=Vhe,G.union=Gfe,G.unionBy=zfe,G.unionWith=Vfe,G.uniq=Wfe,G.uniqBy=Kfe,G.uniqWith=Xfe,G.unset=Jpe,G.unzip=DA,G.unzipWith=jM,G.update=Zpe,G.updateWith=Qpe,G.values=ym,G.valuesIn=ede,G.without=Yfe,G.words=uL,G.wrap=Whe,G.xor=Jfe,G.xorBy=Zfe,G.xorWith=Qfe,G.zip=ehe,G.zipObject=the,G.zipObjectDeep=rhe,G.zipWith=nhe,G.entries=aL,G.entriesIn=oL,G.extend=nL,G.extendWith=pw,WA(G,G),G.add=e0e,G.attempt=fL,G.camelCase=ide,G.capitalize=cL,G.ceil=t0e,G.clamp=tde,G.clone=Xhe,G.cloneDeep=Jhe,G.cloneDeepWith=Zhe,G.cloneWith=Yhe,G.conformsTo=Qhe,G.deburr=lL,G.defaultTo=qde,G.divide=r0e,G.endsWith=sde,G.eq=Jo,G.escape=ade,G.escapeRegExp=ode,G.every=dhe,G.find=ghe,G.findIndex=NM,G.findKey=Ope,G.findLast=yhe,G.findLastIndex=MM,G.findLastKey=kpe,G.floor=n0e,G.forEach=BM,G.forEachRight=UM,G.forIn=Ppe,G.forInRight=Ipe,G.forOwn=qpe,G.forOwnRight=Npe,G.get=UA,G.gt=epe,G.gte=tpe,G.has=Dpe,G.hasIn=HA,G.head=DM,G.identity=Ys,G.includes=xhe,G.indexOf=yfe,G.inRange=rde,G.invoke=Fpe,G.isArguments=Lp,G.isArray=Mt,G.isArrayBuffer=rpe,G.isArrayLike=Ks,G.isArrayLikeObject=qn,G.isBoolean=npe,G.isBuffer=zf,G.isDate=ipe,G.isElement=spe,G.isEmpty=ape,G.isEqual=ope,G.isEqualWith=cpe,G.isError=FA,G.isFinite=lpe,G.isFunction=_u,G.isInteger=YM,G.isLength=fw,G.isMap=JM,G.isMatch=upe,G.isMatchWith=fpe,G.isNaN=hpe,G.isNative=ppe,G.isNil=mpe,G.isNull=dpe,G.isNumber=ZM,G.isObject=yn,G.isObjectLike=Sn,G.isPlainObject=pv,G.isRegExp=BA,G.isSafeInteger=gpe,G.isSet=QM,G.isString=hw,G.isSymbol=ba,G.isTypedArray=gm,G.isUndefined=ype,G.isWeakMap=vpe,G.isWeakSet=_pe,G.join=xfe,G.kebabCase=cde,G.last=Qa,G.lastIndexOf=Efe,G.lowerCase=lde,G.lowerFirst=ude,G.lt=wpe,G.lte=bpe,G.max=i0e,G.maxBy=s0e,G.mean=a0e,G.meanBy=o0e,G.min=c0e,G.minBy=l0e,G.stubArray=XA,G.stubFalse=YA,G.stubObject=Kde,G.stubString=Xde,G.stubTrue=Yde,G.multiply=u0e,G.nth=Sfe,G.noConflict=Fde,G.noop=KA,G.now=cw,G.pad=fde,G.padEnd=hde,G.padStart=pde,G.parseInt=dde,G.random=nde,G.reduce=The,G.reduceRight=Che,G.repeat=mde,G.replace=gde,G.result=Wpe,G.round=f0e,G.runInContext=le,G.sample=khe,G.size=qhe,G.snakeCase=yde,G.some=Nhe,G.sortedIndex=Pfe,G.sortedIndexBy=Ife,G.sortedIndexOf=qfe,G.sortedLastIndex=Nfe,G.sortedLastIndexBy=Mfe,G.sortedLastIndexOf=Lfe,G.startCase=_de,G.startsWith=wde,G.subtract=h0e,G.sum=p0e,G.sumBy=d0e,G.template=bde,G.times=Jde,G.toFinite=wu,G.toInteger=Ut,G.toLength=tL,G.toLower=xde,G.toNumber=eo,G.toSafeInteger=xpe,G.toString=Er,G.toUpper=Ede,G.trim=Sde,G.trimEnd=Rde,G.trimStart=Ade,G.truncate=Tde,G.unescape=Cde,G.uniqueId=Qde,G.upperCase=Ode,G.upperFirst=GA,G.each=BM,G.eachRight=UM,G.first=DM,WA(G,function(){var l={};return kr(G,function(h,b){_r.call(G.prototype,b)||(l[b]=h)}),l}(),{chain:!1}),G.VERSION=t,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){G[l].placeholder=G}),mn(["drop","take"],function(l,h){zt.prototype[l]=function(b){b=b===e?1:Hn(Ut(b),0);var P=this.__filtered__&&!h?new zt(this):this.clone();return P.__filtered__?P.__takeCount__=gn(b,P.__takeCount__):P.__views__.push({size:gn(b,cr),type:l+(P.__dir__<0?"Right":"")}),P},zt.prototype[l+"Right"]=function(b){return this.reverse()[l](b).reverse()}}),mn(["filter","map","takeWhile"],function(l,h){var b=h+1,P=b==lt||b==At;zt.prototype[l]=function(D){var z=this.clone();return z.__iteratees__.push({iteratee:wt(D,3),type:b}),z.__filtered__=z.__filtered__||P,z}}),mn(["head","last"],function(l,h){var b="take"+(h?"Right":"");zt.prototype[l]=function(){return this[b](1).value()[0]}}),mn(["initial","tail"],function(l,h){var b="drop"+(h?"":"Right");zt.prototype[l]=function(){return this.__filtered__?new zt(this):this[b](1)}}),zt.prototype.compact=function(){return this.filter(Ys)},zt.prototype.find=function(l){return this.filter(l).head()},zt.prototype.findLast=function(l){return this.reverse().find(l)},zt.prototype.invokeMap=Vt(function(l,h){return typeof l=="function"?new zt(this):this.map(function(b){return Ff(b,l,h)})}),zt.prototype.reject=function(l){return this.filter(uw(wt(l)))},zt.prototype.slice=function(l,h){l=Ut(l);var b=this;return b.__filtered__&&(l>0||h<0)?new zt(b):(l<0?b=b.takeRight(-l):l&&(b=b.drop(l)),h!==e&&(h=Ut(h),b=h<0?b.dropRight(-h):b.take(h-l)),b)},zt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},zt.prototype.toArray=function(){return this.take(cr)},kr(zt.prototype,function(l,h){var b=/^(?:filter|find|map|reject)|While$/.test(h),P=/^(?:head|last)$/.test(h),D=G[P?"take"+(h=="last"?"Right":""):h],z=P||/^find/.test(h);if(!D)return;G.prototype[h]=function(){var ee=this.__wrapped__,se=P?[1]:arguments,ue=ee instanceof zt,Oe=se[0],ke=ue||Mt(ee),Me=function(er){var sr=D.apply(G,_s([er],se));return P&&Xe?sr[0]:sr};ke&&b&&typeof Oe=="function"&&Oe.length!=1&&(ue=ke=!1);var Xe=this.__chain__,ft=!!this.__actions__.length,Et=z&&!Xe,Ht=ue&&!ft;if(!z&&ke){ee=Ht?ee:new zt(this);var St=l.apply(ee,se);return St.__actions__.push({func:aw,args:[Me],thisArg:e}),new Vs(St,Xe)}return Et&&Ht?l.apply(this,se):(St=this.thru(Me),Et?P?St.value()[0]:St.value():St)}}),mn(["pop","push","shift","sort","splice","unshift"],function(l){var h=rm[l],b=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",P=/^(?:pop|shift)$/.test(l);G.prototype[l]=function(){var D=arguments;if(P&&!this.__chain__){var z=this.value();return h.apply(Mt(z)?z:[],D)}return this[b](function(ee){return h.apply(Mt(ee)?ee:[],D)})}}),kr(zt.prototype,function(l,h){var b=G[h];if(b){var P=b.name+"";_r.call(Lf,P)||(Lf[P]=[]),Lf[P].push({name:h,func:b})}}),Lf[Q2(e,F).name]=[{name:"wrapper",func:e}],zt.prototype.clone=fA,zt.prototype.reverse=V2,zt.prototype.value=Pp,G.prototype.at=she,G.prototype.chain=ahe,G.prototype.commit=ohe,G.prototype.next=che,G.prototype.plant=uhe,G.prototype.reverse=fhe,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=hhe,G.prototype.first=G.prototype.head,Cp&&(G.prototype[Cp]=lhe),G},zc=B3();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(on._=zc,define(function(){return zc})):vs?((vs.exports=zc)._=zc,Pi._=zc):on._=zc}).call(Im)}),R$=O((GWe,S$)=>{var th=require("constants"),b_e=process.cwd,db=null,x_e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return db||(db=b_e.call(process)),db};try{process.cwd()}catch(e){}typeof process.chdir=="function"&&(kC=process.chdir,process.chdir=function(e){db=null,kC.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,kC));var kC;S$.exports=E_e;function E_e(e){th.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=n(e.chown),e.fchown=n(e.fchown),e.lchown=n(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=s(e.chmodSync),e.fchmodSync=s(e.fchmodSync),e.lchmodSync=s(e.lchmodSync),e.stat=o(e.stat),e.fstat=o(e.fstat),e.lstat=o(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(m,f,x){x&&process.nextTick(x)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(m,f,x,T){T&&process.nextTick(T)},e.lchownSync=function(){}),x_e==="win32"&&(e.rename=function(m){return function(f,x,T){var q=Date.now(),F=0;m(f,x,function $(H){if(H&&(H.code==="EACCES"||H.code==="EPERM"||H.code==="EBUSY")&&Date.now()-q<6e4){setTimeout(function(){e.stat(x,function(oe,Q){oe&&oe.code==="ENOENT"?m(f,x,$):T(H)})},F),F<100&&(F+=10);return}T&&T(H)})}}(e.rename)),e.read=function(m){function f(x,T,q,F,$,H){var oe;if(H&&typeof H=="function"){var Q=0;oe=function(pe,ve,Ce){if(pe&&pe.code==="EAGAIN"&&Q<10)return Q++,m.call(e,x,T,q,F,$,oe);H.apply(this,arguments)}}return m.call(e,x,T,q,F,$,oe)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,m),f}(e.read),e.readSync=function(m){return function(f,x,T,q,F){for(var $=0;;)try{return m.call(e,f,x,T,q,F)}catch(H){if(H.code==="EAGAIN"&&$<10){$++;continue}throw H}}}(e.readSync);function t(m){m.lchmod=function(f,x,T){m.open(f,th.O_WRONLY|th.O_SYMLINK,x,function(q,F){if(q){T&&T(q);return}m.fchmod(F,x,function($){m.close(F,function(H){T&&T($||H)})})})},m.lchmodSync=function(f,x){var T=m.openSync(f,th.O_WRONLY|th.O_SYMLINK,x),q=!0,F;try{F=m.fchmodSync(T,x),q=!1}finally{if(q)try{m.closeSync(T)}catch($){}else m.closeSync(T)}return F}}function r(m){th.hasOwnProperty("O_SYMLINK")?(m.lutimes=function(f,x,T,q){m.open(f,th.O_SYMLINK,function(F,$){if(F){q&&q(F);return}m.futimes($,x,T,function(H){m.close($,function(oe){q&&q(H||oe)})})})},m.lutimesSync=function(f,x,T){var q=m.openSync(f,th.O_SYMLINK),F,$=!0;try{F=m.futimesSync(q,x,T),$=!1}finally{if($)try{m.closeSync(q)}catch(H){}else m.closeSync(q)}return F}):(m.lutimes=function(f,x,T,q){q&&process.nextTick(q)},m.lutimesSync=function(){})}function i(m){return m&&function(f,x,T){return m.call(e,f,x,function(q){d(q)&&(q=null),T&&T.apply(this,arguments)})}}function s(m){return m&&function(f,x){try{return m.call(e,f,x)}catch(T){if(!d(T))throw T}}}function n(m){return m&&function(f,x,T,q){return m.call(e,f,x,T,function(F){d(F)&&(F=null),q&&q.apply(this,arguments)})}}function a(m){return m&&function(f,x,T){try{return m.call(e,f,x,T)}catch(q){if(!d(q))throw q}}}function o(m){return m&&function(f,x,T){typeof x=="function"&&(T=x,x=null);function q(F,$){$&&($.uid<0&&($.uid+=4294967296),$.gid<0&&($.gid+=4294967296)),T&&T.apply(this,arguments)}return x?m.call(e,f,x,q):m.call(e,f,q)}}function u(m){return m&&function(f,x){var T=x?m.call(e,f,x):m.call(e,f);return T.uid<0&&(T.uid+=4294967296),T.gid<0&&(T.gid+=4294967296),T}}function d(m){if(!m)return!0;if(m.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(m.code==="EINVAL"||m.code==="EPERM"))}}}),C$=O((zWe,A$)=>{var T$=require("stream").Stream;A$.exports=S_e;function S_e(e){return{ReadStream:t,WriteStream:r};function t(i,s){if(!(this instanceof t))return new t(i,s);T$.call(this);var n=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var a=Object.keys(s),o=0,u=a.length;o<u;o++){var d=a[o];this[d]=s[d]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=Infinity;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){n._read()});return}e.open(this.path,this.flags,this.mode,function(m,f){if(m){n.emit("error",m),n.readable=!1;return}n.fd=f,n.emit("open",f),n._read()})}function r(i,s){if(!(this instanceof r))return new r(i,s);T$.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var n=Object.keys(s),a=0,o=n.length;a<o;a++){var u=n[a];this[u]=s[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}),k$=O((VWe,O$)=>{"use strict";O$.exports=R_e;var A_e=Object.getPrototypeOf||function(e){return e.__proto__};function R_e(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:A_e(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}}),ii=O((WWe,PC)=>{var vn=require("fs"),T_e=R$(),C_e=C$(),O_e=k$(),mb=require("util"),Li,gb;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Li=Symbol.for("graceful-fs.queue"),gb=Symbol.for("graceful-fs.previous")):(Li="___graceful-fs.queue",gb="___graceful-fs.previous");function k_e(){}function P$(e,t){Object.defineProperty(e,Li,{get:function(){return t}})}var Wp=k_e;mb.debuglog?Wp=mb.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Wp=function(){var e=mb.format.apply(mb,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});vn[Li]||(I$=global[Li]||[],P$(vn,I$),vn.close=function(e){function t(r,i){return e.call(vn,r,function(s){s||q$(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,gb,{value:e}),t}(vn.close),vn.closeSync=function(e){function t(r){e.apply(vn,arguments),q$()}return Object.defineProperty(t,gb,{value:e}),t}(vn.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Wp(vn[Li]),require("assert").equal(vn[Li].length,0)}));var I$;global[Li]||P$(global,vn[Li]);PC.exports=IC(O_e(vn));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!vn.__patched&&(PC.exports=IC(vn),vn.__patched=!0);function IC(e){T_e(e),e.gracefulify=IC,e.createReadStream=pe,e.createWriteStream=ve;var t=e.readFile;e.readFile=r;function r(Pe,Ve,Ie){return typeof Ve=="function"&&(Ie=Ve,Ve=null),Ot(Pe,Ve,Ie);function Ot(lt,Ye,At,gt){return t(lt,Ye,function(ut){ut&&(ut.code==="EMFILE"||ut.code==="ENFILE")?qm([Ot,[lt,Ye,At],ut,gt||Date.now(),Date.now()]):typeof At=="function"&&At.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=s;function s(Pe,Ve,Ie,Ot){return typeof Ie=="function"&&(Ot=Ie,Ie=null),lt(Pe,Ve,Ie,Ot);function lt(Ye,At,gt,ut,$t){return i(Ye,At,gt,function(de){de&&(de.code==="EMFILE"||de.code==="ENFILE")?qm([lt,[Ye,At,gt,ut],de,$t||Date.now(),Date.now()]):typeof ut=="function"&&ut.apply(this,arguments)})}}var n=e.appendFile;n&&(e.appendFile=a);function a(Pe,Ve,Ie,Ot){return typeof Ie=="function"&&(Ot=Ie,Ie=null),lt(Pe,Ve,Ie,Ot);function lt(Ye,At,gt,ut,$t){return n(Ye,At,gt,function(de){de&&(de.code==="EMFILE"||de.code==="ENFILE")?qm([lt,[Ye,At,gt,ut],de,$t||Date.now(),Date.now()]):typeof ut=="function"&&ut.apply(this,arguments)})}}var o=e.copyFile;o&&(e.copyFile=u);function u(Pe,Ve,Ie,Ot){return typeof Ie=="function"&&(Ot=Ie,Ie=0),lt(Pe,Ve,Ie,Ot);function lt(Ye,At,gt,ut,$t){return o(Ye,At,gt,function(de){de&&(de.code==="EMFILE"||de.code==="ENFILE")?qm([lt,[Ye,At,gt,ut],de,$t||Date.now(),Date.now()]):typeof ut=="function"&&ut.apply(this,arguments)})}}var d=e.readdir;e.readdir=m;function m(Pe,Ve,Ie){return typeof Ve=="function"&&(Ie=Ve,Ve=null),Ot(Pe,Ve,Ie);function Ot(lt,Ye,At,gt){return d(lt,Ye,function(ut,$t){ut&&(ut.code==="EMFILE"||ut.code==="ENFILE")?qm([Ot,[lt,Ye,At],ut,gt||Date.now(),Date.now()]):($t&&$t.sort&&$t.sort(),typeof At=="function"&&At.call(this,ut,$t))})}}if(process.version.substr(0,4)==="v0.8"){var f=C_e(e);$=f.ReadStream,oe=f.WriteStream}var x=e.ReadStream;x&&($.prototype=Object.create(x.prototype),$.prototype.open=H);var T=e.WriteStream;T&&(oe.prototype=Object.create(T.prototype),oe.prototype.open=Q),Object.defineProperty(e,"ReadStream",{get:function(){return $},set:function(Pe){$=Pe},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return oe},set:function(Pe){oe=Pe},enumerable:!0,configurable:!0});var q=$;Object.defineProperty(e,"FileReadStream",{get:function(){return q},set:function(Pe){q=Pe},enumerable:!0,configurable:!0});var F=oe;Object.defineProperty(e,"FileWriteStream",{get:function(){return F},set:function(Pe){F=Pe},enumerable:!0,configurable:!0});function $(Pe,Ve){return this instanceof $?(x.apply(this,arguments),this):$.apply(Object.create($.prototype),arguments)}function H(){var Pe=this;fe(Pe.path,Pe.flags,Pe.mode,function(Ve,Ie){Ve?(Pe.autoClose&&Pe.destroy(),Pe.emit("error",Ve)):(Pe.fd=Ie,Pe.emit("open",Ie),Pe.read())})}function oe(Pe,Ve){return this instanceof oe?(T.apply(this,arguments),this):oe.apply(Object.create(oe.prototype),arguments)}function Q(){var Pe=this;fe(Pe.path,Pe.flags,Pe.mode,function(Ve,Ie){Ve?(Pe.destroy(),Pe.emit("error",Ve)):(Pe.fd=Ie,Pe.emit("open",Ie))})}function pe(Pe,Ve){return new e.ReadStream(Pe,Ve)}function ve(Pe,Ve){return new e.WriteStream(Pe,Ve)}var Ce=e.open;e.open=fe;function fe(Pe,Ve,Ie,Ot){return typeof Ie=="function"&&(Ot=Ie,Ie=null),lt(Pe,Ve,Ie,Ot);function lt(Ye,At,gt,ut,$t){return Ce(Ye,At,gt,function(de,cr){de&&(de.code==="EMFILE"||de.code==="ENFILE")?qm([lt,[Ye,At,gt,ut],de,$t||Date.now(),Date.now()]):typeof ut=="function"&&ut.apply(this,arguments)})}}return e}function qm(e){Wp("ENQUEUE",e[0].name,e[1]),vn[Li].push(e),qC()}var yb;function q$(){for(var e=Date.now(),t=0;t<vn[Li].length;++t)vn[Li][t].length>2&&(vn[Li][t][3]=e,vn[Li][t][4]=e);qC()}function qC(){if(clearTimeout(yb),yb=void 0,vn[Li].length===0)return;var e=vn[Li].shift(),t=e[0],r=e[1],i=e[2],s=e[3],n=e[4];if(s===void 0)Wp("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){Wp("TIMEOUT",t.name,r);var a=r.pop();typeof a=="function"&&a.call(null,i)}else{var o=Date.now()-n,u=Math.max(n-s,1),d=Math.min(u*1.2,100);o>=d?(Wp("RETRY",t.name,r),t.apply(null,r.concat([s]))):vn[Li].push(e)}yb===void 0&&(yb=setTimeout(qC,0))}}),M$=O((KWe,N$)=>{"use strict";var{inspect:P_e}=require("util");N$.exports=function(t,...r){let i=/%(?:(%)|(-)?(\*)?(?:\((\w+)\))?([A-Za-z]))/g,s=t.replace(i,function(n,a,o,u,d,m){if(a)return"%";let f=0;if(u){if(r.length===0)throw new TypeError("not enough arguments for format string");if(f=r.shift(),!Number.isInteger(f))throw new TypeError("* wants int")}let x;if(d!==void 0){let T=r[0];if(typeof T!="object"||T===null)throw new TypeError("format requires a mapping");if(!(d in T))throw new TypeError(`no such key: '${d}'`);x=T[d]}else{if(r.length===0)throw new TypeError("not enough arguments for format string");x=r.shift()}switch(m){case"s":x=String(x);break;case"r":x=P_e(x);break;case"d":case"i":if(typeof x!="number")throw new TypeError(`%${m} format: a number is required, not ${typeof x}`);x=String(x.toFixed(0));break;default:throw new TypeError(`unsupported format character '${m}'`)}return f>0?o?x.padEnd(f):x.padStart(f):x});if(r.length&&!(r.length===1&&typeof r[0]=="object"&&r[0]!==null))throw new TypeError("not all arguments converted during string formatting");return s}}),MC=O((XWe,L$)=>{"use strict";var I_e=/([\t\n\x0b\x0c\r ]+)/,NC=class{constructor(t={}){let{width:r=70,initial_indent:i="",subsequent_indent:s="",expand_tabs:n=!0,replace_whitespace:a=!0,fix_sentence_endings:o=!1,break_long_words:u=!0,drop_whitespace:d=!0,break_on_hyphens:m=!0,tabsize:f=8,max_lines:x=void 0,placeholder:T=" [...]"}=t;this.width=r,this.initial_indent=i,this.subsequent_indent=s,this.expand_tabs=n,this.replace_whitespace=a,this.fix_sentence_endings=o,this.break_long_words=u,this.drop_whitespace=d,this.break_on_hyphens=m,this.tabsize=f,this.max_lines=x,this.placeholder=T}_munge_whitespace(t){return this.expand_tabs&&(t=t.replace(/\t/g," ".repeat(this.tabsize))),this.replace_whitespace&&(t=t.replace(/[\t\n\x0b\x0c\r]/g," ")),t}_split(t){let r=t.split(I_e);return r=r.filter(Boolean),r}_handle_long_word(t,r,i,s){let n;s<1?n=1:n=s-i,this.break_long_words?(r.push(t[t.length-1].slice(0,n)),t[t.length-1]=t[t.length-1].slice(n)):r||r.push(...t.pop())}_wrap_chunks(t){let r=[],i;if(this.width<=0)throw Error(`invalid width ${this.width} (must be > 0)`);if(this.max_lines!==void 0&&(this.max_lines>1?i=this.subsequent_indent:i=this.initial_indent,i.length+this.placeholder.trimStart().length>this.width))throw Error("placeholder too large for max width");for(t=t.reverse();t.length>0;){let s=[],n=0,a;r?a=this.subsequent_indent:a=this.initial_indent;let o=this.width-a.length;for(this.drop_whitespace&&t[t.length-1].trim()===""&&r.length>0&&t.pop();t.length>0;){let u=t[t.length-1].length;if(n+u<=o)s.push(t.pop()),n+=u;else break}if(t.length&&t[t.length-1].length>o&&(this._handle_long_word(t,s,n,o),n=s.map(u=>u.length).reduce((u,d)=>u+d,0)),this.drop_whitespace&&s.length>0&&s[s.length-1].trim()===""&&(n-=s[s.length-1].length,s.pop()),s)if(this.max_lines===void 0||r.length+1<this.max_lines||(t.length===0||this.drop_whitespace&&t.length===1&&!t[0].trim())&&n<=o)r.push(a+s.join(""));else{let u=!1;for(;s;){if(s[s.length-1].trim()&&n+this.placeholder.length<=o){s.push(this.placeholder),r.push(a+s.join("")),u=!0;break}n-=s[-1].length,s.pop()}if(!u){if(r){let d=r[r.length-1].trimEnd();if(d.length+this.placeholder.length<=this.width){r[r.length-1]=d+this.placeholder;break}}r.push(a+this.placeholder.lstrip())}break}}return r}_split_chunks(t){return t=this._munge_whitespace(t),this._split(t)}wrap(t){let r=this._split_chunks(t);return this._wrap_chunks(r)}fill(t){return this.wrap(t).join(`
`)}};function q_e(e,t={}){let{width:r=70,...i}=t,s=new NC(Object.assign({width:r},i));return s.wrap(e)}function N_e(e,t={}){let{width:r=70,...i}=t,s=new NC(Object.assign({width:r},i));return s.fill(e)}var M_e=/^[ \t]+$/mg,L_e=/(^[ \t]*)(?:[^ \t\n])/mg;function D_e(e){let t;e=e.replace(M_e,"");let r=e.match(L_e)||[];for(let i of r)if(i=i.slice(0,-1),t===void 0)t=i;else if(!i.startsWith(t)){if(t.startsWith(i))t=i;else for(let s=0;s<t.length&&s<i.length;s++)if(t[s]!==i[s]){t=t.slice(0,s);break}}return t&&(e=e.replace(new RegExp("^"+t,"mg"),"")),e}L$.exports={wrap:q_e,fill:N_e,dedent:D_e}}),X$=O((RKe,LC)=>{"use strict";var Sr="==SUPPRESS==",Aa="?",rh="*",Uv="+",nh="A...",Kp="...",Nm="_unrecognized_args",vb=require("assert"),nl=require("util"),_b=require("fs"),Ge=M$(),$_e=require("path"),Xp=nl.inspect;function D$(){return process.argv.slice(1)}function j_e(){return{columns:+process.env.COLUMNS||process.stdout.columns||80}}function Ou(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yi(e,t,r){return Ou(e,t)?e[t]:r}function no(e,t,r){e[t]=r}function Mm(e,t,r){return Ou(e,t)||(e[t]=r),e[t]}function $$(e,t){delete e[t]}function DC(e,t,r=1){if(arguments.length===1&&([t,e]=[e,0]),typeof e!="number"||typeof t!="number"||typeof r!="number")throw new TypeError("argument cannot be interpreted as an integer");if(r===0)throw new TypeError("range() arg 3 must not be zero");let i=[];if(r>0)for(let s=e;s<t;s+=r)i.push(s);else for(let s=e;s>t;s+=r)i.push(s);return i}function $C(e,t=!1){let r;if(!t)r=e.split(/\r\n|[\n\r\v\f\x1c\x1d\x1e\x85\u2028\u2029]/);else{r=[];let i=e.split(/(\r\n|[\n\r\v\f\x1c\x1d\x1e\x85\u2028\u2029])/);for(let s=0;s<i.length;s+=2)r.push(i[s]+(s+1<i.length?i[s+1]:""))}return r[r.length-1]||r.pop(),r}function F_e(e,t){let r=0;for(;r<e.length&&t.includes(e[r]);)r++;return r?e.slice(r):e}function j$(e,t,r){let i=e.split(t);return i.length>r&&(i=i.slice(0,r).concat([i.slice(r).join(t)])),i}function B_e(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Hv(e,t){let r=e.indexOf(t);if(r===-1)throw new TypeError(Ge("%r not in list",t));e.splice(r,1)}function wb(e){if(e===void 0)return[];if(Array.isArray(e))return e;if(e!==null&&typeof e[Symbol.iterator]=="function")return Array.from(e);if(typeof e=="object"&&e!==null)return Object.keys(e);throw new Error(Ge("invalid choices value: %r",e))}function Lr(e){let t={[e.name]:function(...r){let i=new.target===t||!new.target;return Reflect.construct(e,r,i?e:new.target)}};return t[e.name].prototype=e.prototype,e.prototype[Symbol.toStringTag]=e.name,t[e.name]}function U_e(e,t,r){try{let i=e.constructor.name;Object.defineProperty(e,t,{value:nl.deprecate(e[r],Ge("%s.%s() is renamed to %s.%s()",i,t,i,r)),enumerable:!1})}catch{}}function il(e){for(let t of Object.getOwnPropertyNames(e.prototype)){let r=t.replace(/\w_[a-z]/g,i=>i[0]+i[2].toUpperCase());r!==t&&U_e(e.prototype,r,t)}return e}function F$(e){return e=e.replace(/\w_[a-z]/g,t=>t[0]+t[2].toUpperCase()),e==="default"&&(e="defaultValue"),e==="const"&&(e="constant"),e}function B$(e){return e==="defaultValue"&&(e="default"),e==="constant"&&(e="const"),e=e.replace(/[A-Z]/g,t=>"_"+t.toLowerCase()),e}var qt=Symbol("no_default_value");function ln(e,t){function r(){let d=new Error().stack.split(`
`).map(m=>m.match(/^    at (.*) \(.*\)$/)).filter(Boolean).map(m=>m[1]).map(m=>m.match(/[^ .]*$/)[0]);return d.length&&d[0]===r.name&&d.shift(),d.length&&d[0]===ln.name&&d.shift(),d.length?d[0]:""}e=Array.from(e);let i={},s=[],n=e.length&&e[e.length-1];typeof n=="object"&&n!==null&&!Array.isArray(n)&&(!n.constructor||n.constructor.name==="Object")&&(i=Object.assign({},e.pop()));let a=[];for(let d of Object.keys(t)){let m=F$(d);m!==d&&m in i&&(d in i||(i[d]=i[m]),a.push([m,d]),delete i[m])}if(a.length){let d=r();Yp("camelcase_"+d,Ge("%s(): following options are renamed: %s",d,a.map(([m,f])=>Ge("%r -> %r",m,f))))}let o=[],u=e.length;for(let[d,m]of Object.entries(t))if(d[0]==="*")if(d.length>0&&d[1]==="*"){let f=[];for(let x of Object.keys(i)){let T=B$(x);T!==x&&x in i&&(T in i||(i[T]=i[x]),f.push([x,T]),delete i[x])}if(f.length){let x=r();Yp("camelcase_"+x,Ge("%s(): following options are renamed: %s",x,f.map(([T,q])=>Ge("%r -> %r",T,q))))}s.push(i),i={}}else s.push(e),e=[];else{if(d in i&&e.length>0)throw new TypeError(Ge("%s() got multiple values for argument %r",r(),d));d in i?(s.push(i[d]),delete i[d]):e.length>0?s.push(e.shift()):m!==qt?s.push(m):o.push(d)}if(Object.keys(i).length)throw new TypeError(Ge("%s() got an unexpected keyword argument %r",r(),Object.keys(i)[0]));if(e.length){let d=Object.entries(t).filter(([f,x])=>f[0]!=="*"&&x!==qt).length,m=Object.entries(t).filter(([f])=>f[0]!=="*").length;throw new TypeError(Ge("%s() takes %s positional argument%s but %s %s given",r(),d===m?Ge("from %s to %s",d,m):m,d===m&&m===1?"":"s",u,u===1?"was":"were"))}if(o.length){let d=o.map(Xp);d.length>1&&(d[d.length-1]="and "+d[d.length-1]);let m=d.join(d.length===2?"":", ");throw new TypeError(Ge("%s() missing %i required positional argument%s: %s",r(),d.length,d.length===1?"":"s",m))}return s}var jC={};function Yp(e,t){jC[e]=jC[e]||nl.deprecate(()=>{},t),jC[e]()}function FC(e=Object){return class extends e{[nl.inspect.custom](){let r=this.constructor.name,i=[],s={};for(let n of this._get_args())i.push(Xp(n));for(let[n,a]of this._get_kwargs())/^[a-z_][a-z0-9_$]*$/i.test(n)?i.push(Ge("%s=%r",n,a)):s[n]=a;return Object.keys(s).length&&i.push(Ge("**%s",Xp(s))),Ge("%s(%s)",r,i.join(", "))}toString(){return this[nl.inspect.custom]()}_get_kwargs(){return Object.entries(this)}_get_args(){return[]}}}function BC(e){return e===void 0?[]:e.slice(0)}var Lm=il(Lr(class{constructor(){let[t,r,i,s]=ln(arguments,{prog:qt,indent_increment:2,max_help_position:24,width:void 0});s===void 0&&(s=j_e().columns,s-=2),this._prog=t,this._indent_increment=r,this._max_help_position=Math.min(i,Math.max(s-20,r*2)),this._width=s,this._current_indent=0,this._level=0,this._action_max_length=0,this._root_section=this._Section(this,void 0),this._current_section=this._root_section,this._whitespace_matcher=/[ \t\n\r\f\v]+/g,this._long_break_matcher=/\n\n\n+/g}_indent(){this._current_indent+=this._indent_increment,this._level+=1}_dedent(){this._current_indent-=this._indent_increment,vb(this._current_indent>=0,"Indent decreased below 0."),this._level-=1}_add_item(t,r){this._current_section.items.push([t,r])}start_section(t){this._indent();let r=this._Section(this,this._current_section,t);this._add_item(r.format_help.bind(r),[]),this._current_section=r}end_section(){this._current_section=this._current_section.parent,this._dedent()}add_text(t){t!==Sr&&t!==void 0&&this._add_item(this._format_text.bind(this),[t])}add_usage(t,r,i,s=void 0){if(t!==Sr){let n=[t,r,i,s];this._add_item(this._format_usage.bind(this),n)}}add_argument(t){if(t.help!==Sr){let r=[this._format_action_invocation(t)];for(let n of this._iter_indented_subactions(t))r.push(this._format_action_invocation(n));let i=Math.max(...r.map(n=>n.length)),s=i+this._current_indent;this._action_max_length=Math.max(this._action_max_length,s),this._add_item(this._format_action.bind(this),[t])}}add_arguments(t){for(let r of t)this.add_argument(r)}format_help(){let t=this._root_section.format_help();return t&&(t=t.replace(this._long_break_matcher,`

`),t=t.replace(/^\n+|\n+$/g,"")+`
`),t}_join_parts(t){return t.filter(r=>r&&r!==Sr).join("")}_format_usage(t,r,i,s){if(s===void 0&&(s="usage: "),t!==void 0)t=Ge(t,{prog:this._prog});else if(t===void 0&&!r.length)t=Ge("%(prog)s",{prog:this._prog});else if(t===void 0){let n=Ge("%(prog)s",{prog:this._prog}),a=[],o=[];for(let m of r)m.option_strings.length?a.push(m):o.push(m);let u=this._format_actions_usage([].concat(a).concat(o),i);t=[n,u].map(String).join(" ");let d=this._width-this._current_indent;if(s.length+t.length>d){let m=/\(.*?\)+(?=\s|$)|\[.*?\]+(?=\s|$)|\S+/g,f=this._format_actions_usage(a,i),x=this._format_actions_usage(o,i),T=f.match(m)||[],q=x.match(m)||[];vb(T.join(" ")===f),vb(q.join(" ")===x);let F=(H,oe,Q=void 0)=>{let pe=[],ve=[],Ce;Q!==void 0?Ce=Q.length-1:Ce=oe.length-1;for(let fe of H)Ce+1+fe.length>d&&ve&&(pe.push(oe+ve.join(" ")),ve=[],Ce=oe.length-1),ve.push(fe),Ce+=fe.length+1;return ve.length&&pe.push(oe+ve.join(" ")),Q!==void 0&&(pe[0]=pe[0].slice(oe.length)),pe},$;if(s.length+n.length<=.75*d){let H=" ".repeat(s.length+n.length+1);T.length?($=F([n].concat(T),H,s),$=$.concat(F(q,H))):q.length?$=F([n].concat(q),H,s):$=[n]}else{let H=" ".repeat(s.length),oe=[].concat(T).concat(q);$=F(oe,H),$.length>1&&($=[],$=$.concat(F(T,H)),$=$.concat(F(q,H))),$=[n].concat($)}t=$.join(`
`)}}return Ge(`%s%s

`,s,t)}_format_actions_usage(t,r){let i=new Set,s={};for(let o of r){let u=t.indexOf(o._group_actions[0]);if(u===-1)continue;{let d=u+o._group_actions.length;if(B_e(t.slice(u,d),o._group_actions)){for(let m of o._group_actions)i.add(m);o.required?(u in s?s[u]+=" (":s[u]="(",d in s?s[d]+=")":s[d]=")"):(u in s?s[u]+=" [":s[u]="[",d in s?s[d]+="]":s[d]="]");for(let m of DC(u+1,d))s[m]="|"}}}let n=[];for(let[o,u]of Object.entries(t))if(u.help===Sr)n.push(void 0),s[+o]==="|"?delete s[+o]:s[+o+1]==="|"&&delete s[+o+1];else if(u.option_strings.length){let d=u.option_strings[0],m;if(u.nargs===0)m=u.format_usage();else{let f=this._get_default_metavar_for_optional(u),x=this._format_args(u,f);m=Ge("%s %s",d,x)}!u.required&&!i.has(u)&&(m=Ge("[%s]",m)),n.push(m)}else{let d=this._get_default_metavar_for_positional(u),m=this._format_args(u,d);i.has(u)&&(m[0]==="["&&m[m.length-1]==="]"&&(m=m.slice(1,-1))),n.push(m)}for(let o of Object.keys(s).map(Number).sort((u,d)=>d-u))n.splice(+o,0,s[+o]);let a=n.filter(Boolean).join(" ");return a=a.replace(/([\[(]) /g,"$1"),a=a.replace(/ ([\])])/g,"$1"),a=a.replace(/[\[(] *[\])]/g,""),a=a.replace(/\(([^|]*)\)/g,"$1",a),a=a.trim(),a}_format_text(t){t.includes("%(prog)")&&(t=Ge(t,{prog:this._prog}));let r=Math.max(this._width-this._current_indent,11),i=" ".repeat(this._current_indent);return this._fill_text(t,r,i)+`

`}_format_action(t){let r=Math.min(this._action_max_length+2,this._max_help_position),i=Math.max(this._width-r,11),s=r-this._current_indent-2,n=this._format_action_invocation(t),a;if(t.help)if(n.length<=s){let u=[this._current_indent,"",s,n];n=Ge("%*s%-*s  ",...u),a=0}else{let u=[this._current_indent,"",n];n=Ge(`%*s%s
`,...u),a=r}else{let u=[this._current_indent,"",n];n=Ge(`%*s%s
`,...u)}let o=[n];if(t.help){let u=this._expand_help(t),d=this._split_lines(u,i);o.push(Ge(`%*s%s
`,a,"",d[0]));for(let m of d.slice(1))o.push(Ge(`%*s%s
`,r,"",m))}else n.endsWith(`
`)||o.push(`
`);for(let u of this._iter_indented_subactions(t))o.push(this._format_action(u));return this._join_parts(o)}_format_action_invocation(t){if(t.option_strings.length){let r=[];if(t.nargs===0)r=r.concat(t.option_strings);else{let i=this._get_default_metavar_for_optional(t),s=this._format_args(t,i);for(let n of t.option_strings)r.push(Ge("%s %s",n,s))}return r.join(", ")}else{let r=this._get_default_metavar_for_positional(t),i=this._metavar_formatter(t,r)(1)[0];return i}}_metavar_formatter(t,r){let i;if(t.metavar!==void 0)i=t.metavar;else if(t.choices!==void 0){let n=wb(t.choices).map(String);i=Ge("{%s}",n.join(","))}else i=r;function s(n){return Array.isArray(i)?i:Array(n).fill(i)}return s}_format_args(t,r){let i=this._metavar_formatter(t,r),s;if(t.nargs===void 0)s=Ge("%s",...i(1));else if(t.nargs===Aa)s=Ge("[%s]",...i(1));else if(t.nargs===rh){let n=i(1);n.length===2?s=Ge("[%s [%s ...]]",...n):s=Ge("[%s ...]",...n)}else if(t.nargs===Uv)s=Ge("%s [%s ...]",...i(2));else if(t.nargs===Kp)s="...";else if(t.nargs===nh)s=Ge("%s ...",...i(1));else if(t.nargs===Sr)s="";else{let n;try{n=DC(t.nargs).map(()=>"%s")}catch(a){throw new TypeError("invalid nargs value")}s=Ge(n.join(" "),...i(t.nargs))}return s}_expand_help(t){let r=Object.assign({prog:this._prog},t);for(let i of Object.keys(r))r[i]===Sr&&delete r[i];for(let i of Object.keys(r))r[i]&&r[i].name&&(r[i]=r[i].name);if(r.choices!==void 0){let i=wb(r.choices).map(String).join(", ");r.choices=i}for(let i of Object.keys(r)){let s=F$(i);s!==i&&(r[s]=r[i])}return Ge(this._get_help_string(t),r)}*_iter_indented_subactions(t){typeof t._get_subactions=="function"&&(this._indent(),yield*t._get_subactions(),this._dedent())}_split_lines(t,r){t=t.replace(this._whitespace_matcher," ").trim();let i=MC();return i.wrap(t,{width:r})}_fill_text(t,r,i){t=t.replace(this._whitespace_matcher," ").trim();let s=MC();return s.fill(t,{width:r,initial_indent:i,subsequent_indent:i})}_get_help_string(t){return t.help}_get_default_metavar_for_optional(t){return t.dest.toUpperCase()}_get_default_metavar_for_positional(t){return t.dest}}));Lm.prototype._Section=Lr(class{constructor(t,r,i=void 0){this.formatter=t,this.parent=r,this.heading=i,this.items=[]}format_help(){this.parent!==void 0&&this.formatter._indent();let t=this.formatter._join_parts(this.items.map(([i,s])=>i.apply(null,s)));if(this.parent!==void 0&&this.formatter._dedent(),!t)return"";let r;if(this.heading!==Sr&&this.heading!==void 0){let i=this.formatter._current_indent;r=Ge(`%*s%s:
`,i,"",this.heading)}else r="";return this.formatter._join_parts([`
`,r,t,`
`])}});var U$=il(Lr(class extends Lm{_fill_text(t,r,i){return $C(t,!0).map(s=>i+s).join("")}})),H_e=il(Lr(class extends U${_split_lines(t){return $C(t)}})),G_e=il(Lr(class extends Lm{_get_help_string(t){let r=t.help;if(!t.help.includes("%(default)")&&!t.help.includes("%(defaultValue)")&&t.default!==Sr){let i=[Aa,rh];(t.option_strings.length||i.includes(t.nargs))&&(r+=" (default: %(default)s)")}return r}})),z_e=il(Lr(class extends Lm{_get_default_metavar_for_optional(t){return typeof t.type=="function"?t.type.name:t.type}_get_default_metavar_for_positional(t){return typeof t.type=="function"?t.type.name:t.type}}));function bb(e){return e===void 0?void 0:e.option_strings.length?e.option_strings.join("/"):[void 0,Sr].includes(e.metavar)?[void 0,Sr].includes(e.dest)?void 0:e.dest:e.metavar}var io=Lr(class extends Error{constructor(t,r){super();this.name="ArgumentError",this._argument_name=bb(t),this._message=r,this.message=this.str()}str(){let t;return this._argument_name===void 0?t="%(message)s":t="argument %(argument_name)s: %(message)s",Ge(t,{message:this._message,argument_name:this._argument_name})}}),UC=Lr(class extends Error{constructor(t){super(t);this.name="ArgumentTypeError"}}),tc=il(Lr(class extends FC(Function){constructor(){let[t,r,i,s,n,a,o,u,d,m]=ln(arguments,{option_strings:qt,dest:qt,nargs:void 0,const:void 0,default:void 0,type:void 0,choices:void 0,required:!1,help:void 0,metavar:void 0});super("return arguments.callee.call.apply(arguments.callee, arguments)");this.option_strings=t,this.dest=r,this.nargs=i,this.const=s,this.default=n,this.type=a,this.choices=o,this.required=u,this.help=d,this.metavar=m}_get_kwargs(){let t=["option_strings","dest","nargs","const","default","type","choices","help","metavar"];return t.map(r=>[r,Yi(this,r)])}format_usage(){return this.option_strings[0]}call(){throw new Error(".call() not defined")}})),V_e=il(Lr(class extends tc{constructor(){let[t,r,i,s,n,a,o,u]=ln(arguments,{option_strings:qt,dest:qt,default:void 0,type:void 0,choices:void 0,required:!1,help:void 0,metavar:void 0}),d=[];for(let m of t)d.push(m),m.startsWith("--")&&(m="--no-"+m.slice(2),d.push(m));o!==void 0&&i!==void 0&&(o+=` (default: ${i})`),super({option_strings:d,dest:r,nargs:0,default:i,type:s,choices:n,required:a,help:o,metavar:u})}call(t,r,i,s=void 0){this.option_strings.includes(s)&&no(r,this.dest,!s.startsWith("--no-"))}format_usage(){return this.option_strings.join(" | ")}})),H$=Lr(class extends tc{constructor(){let[t,r,i,s,n,a,o,u,d,m]=ln(arguments,{option_strings:qt,dest:qt,nargs:void 0,const:void 0,default:void 0,type:void 0,choices:void 0,required:!1,help:void 0,metavar:void 0});if(i===0)throw new TypeError("nargs for store actions must be != 0; if you have nothing to store, actions such as store true or store const may be more appropriate");if(s!==void 0&&i!==Aa)throw new TypeError(Ge("nargs must be %r to supply const",Aa));super({option_strings:t,dest:r,nargs:i,const:s,default:n,type:a,choices:o,required:u,help:d,metavar:m})}call(t,r,i){no(r,this.dest,i)}}),HC=Lr(class extends tc{constructor(){let[t,r,i,s,n,a]=ln(arguments,{option_strings:qt,dest:qt,const:qt,default:void 0,required:!1,help:void 0,metavar:void 0});super({option_strings:t,dest:r,nargs:0,const:i,default:s,required:n,help:a})}call(t,r){no(r,this.dest,this.const)}}),W_e=Lr(class extends HC{constructor(){let[t,r,i,s,n]=ln(arguments,{option_strings:qt,dest:qt,default:!1,required:!1,help:void 0});super({option_strings:t,dest:r,const:!0,default:i,required:s,help:n})}}),K_e=Lr(class extends HC{constructor(){let[t,r,i,s,n]=ln(arguments,{option_strings:qt,dest:qt,default:!0,required:!1,help:void 0});super({option_strings:t,dest:r,const:!1,default:i,required:s,help:n})}}),G$=Lr(class extends tc{constructor(){let[t,r,i,s,n,a,o,u,d,m]=ln(arguments,{option_strings:qt,dest:qt,nargs:void 0,const:void 0,default:void 0,type:void 0,choices:void 0,required:!1,help:void 0,metavar:void 0});if(i===0)throw new TypeError("nargs for append actions must be != 0; if arg strings are not supplying the value to append, the append const action may be more appropriate");if(s!==void 0&&i!==Aa)throw new TypeError(Ge("nargs must be %r to supply const",Aa));super({option_strings:t,dest:r,nargs:i,const:s,default:n,type:a,choices:o,required:u,help:d,metavar:m})}call(t,r,i){let s=Yi(r,this.dest,void 0);s=BC(s),s.push(i),no(r,this.dest,s)}}),X_e=Lr(class extends tc{constructor(){let[t,r,i,s,n,a,o]=ln(arguments,{option_strings:qt,dest:qt,const:qt,default:void 0,required:!1,help:void 0,metavar:void 0});super({option_strings:t,dest:r,nargs:0,const:i,default:s,required:n,help:a,metavar:o})}call(t,r){let i=Yi(r,this.dest,void 0);i=BC(i),i.push(this.const),no(r,this.dest,i)}}),Y_e=Lr(class extends tc{constructor(){let[t,r,i,s,n]=ln(arguments,{option_strings:qt,dest:qt,default:void 0,required:!1,help:void 0});super({option_strings:t,dest:r,nargs:0,default:i,required:s,help:n})}call(t,r){let i=Yi(r,this.dest,void 0);i===void 0&&(i=0),no(r,this.dest,i+1)}}),J_e=Lr(class extends tc{constructor(){let[t,r,i,s]=ln(arguments,{option_strings:qt,dest:Sr,default:Sr,help:void 0});super({option_strings:t,dest:r,default:i,nargs:0,help:s})}call(t){t.print_help(),t.exit()}}),Z_e=Lr(class extends tc{constructor(){let[t,r,i,s,n]=ln(arguments,{option_strings:qt,version:void 0,dest:Sr,default:Sr,help:"show program's version number and exit"});super({option_strings:t,dest:i,default:s,nargs:0,help:n});this.version=r}call(t){let r=this.version;r===void 0&&(r=t.version);let i=t._get_formatter();i.add_text(r),t._print_message(i.format_help(),process.stdout),t.exit()}}),z$=il(Lr(class extends tc{constructor(){let[t,r,i,s,n,a,o]=ln(arguments,{option_strings:qt,prog:qt,parser_class:qt,dest:Sr,required:!1,help:void 0,metavar:void 0}),u={};super({option_strings:t,dest:s,nargs:nh,choices:u,required:n,help:a,metavar:o});this._prog_prefix=r,this._parser_class=i,this._name_parser_map=u,this._choices_actions=[]}add_parser(){let[t,r]=ln(arguments,{name:qt,"**kwargs":qt});r.prog===void 0&&(r.prog=Ge("%s %s",this._prog_prefix,t));let i=Yi(r,"aliases",[]);if(delete r.aliases,"help"in r){let n=r.help;delete r.help;let a=this._ChoicesPseudoAction(t,i,n);this._choices_actions.push(a)}let s=new this._parser_class(r);this._name_parser_map[t]=s;for(let n of i)this._name_parser_map[n]=s;return s}_get_subactions(){return this._choices_actions}call(t,r,i){let s=i[0],n=i.slice(1);if(this.dest!==Sr&&no(r,this.dest,s),Ou(this._name_parser_map,s))t=this._name_parser_map[s];else{let o={parser_name:s,choices:this._name_parser_map.join(", ")},u=Ge("unknown parser %(parser_name)r (choices: %(choices)s)",o);throw new io(this,u)}let a;[a,n]=t.parse_known_args(n,void 0);for(let[o,u]of Object.entries(a))no(r,o,u);n.length&&(Mm(r,Nm,[]),Yi(r,Nm).push(...n))}}));z$.prototype._ChoicesPseudoAction=Lr(class extends tc{constructor(t,r,i){let s=t,n=t;r.length&&(s+=Ge(" (%s)",r.join(", "))),super({option_strings:[],dest:n,help:i,metavar:s})}});var Q_e=Lr(class extends G${call(t,r,i){let s=Yi(r,this.dest,void 0);s=BC(s),s=s.concat(i),no(r,this.dest,s)}}),V$=Lr(class extends Function{constructor(){let[t,r,i,s,n,a,o,u,d]=ln(arguments,{flags:"r",encoding:void 0,mode:void 0,autoClose:void 0,emitClose:void 0,start:void 0,end:void 0,highWaterMark:void 0,fs:void 0});super("return arguments.callee.call.apply(arguments.callee, arguments)");Object.defineProperty(this,"name",{get(){return Ge("FileType(%r)",t)}}),this._flags=t,this._options={},r!==void 0&&(this._options.encoding=r),i!==void 0&&(this._options.mode=i),s!==void 0&&(this._options.autoClose=s),n!==void 0&&(this._options.emitClose=n),a!==void 0&&(this._options.start=a),o!==void 0&&(this._options.end=o),u!==void 0&&(this._options.highWaterMark=u),d!==void 0&&(this._options.fs=d)}call(t){if(t==="-"){if(this._flags.includes("r"))return process.stdin;if(this._flags.includes("w"))return process.stdout;{let s=Ge('argument "-" with mode %r',this._flags);throw new TypeError(s)}}let r;try{r=_b.openSync(t,this._flags,this._options.mode)}catch(s){let n={filename:t,error:s.message},a="can't open '%(filename)s': %(error)s";throw new UC(Ge(a,n))}let i=Object.assign({fd:r,flags:this._flags},this._options);if(this._flags.includes("r"))return _b.createReadStream(void 0,i);if(this._flags.includes("w"))return _b.createWriteStream(void 0,i);{let s=Ge('argument "%s" with mode %r',t,this._flags);throw new TypeError(s)}}[nl.inspect.custom](){let t=[this._flags],r=Object.entries(this._options).map(([s,n])=>(s==="mode"&&(n={value:n,[nl.inspect.custom](){return"0o"+this.value.toString(8)}}),[s,n])),i=[].concat(t.filter(s=>s!==-1).map(Xp)).concat(r.filter(([,s])=>s!==void 0).map(([s,n])=>Ge("%s=%r",s,n))).join(", ");return Ge("%s(%s)",this.constructor.name,i)}toString(){return this[nl.inspect.custom]()}}),GC=Lr(class extends FC(){constructor(t={}){super();Object.assign(this,t)}});GC.prototype[Symbol.toStringTag]=void 0;var K$=il(Lr(class{constructor(){let[t,r,i,s]=ln(arguments,{description:qt,prefix_chars:qt,argument_default:qt,conflict_handler:qt});this.description=t,this.argument_default=i,this.prefix_chars=r,this.conflict_handler=s,this._registries={},this.register("action",void 0,H$),this.register("action","store",H$),this.register("action","store_const",HC),this.register("action","store_true",W_e),this.register("action","store_false",K_e),this.register("action","append",G$),this.register("action","append_const",X_e),this.register("action","count",Y_e),this.register("action","help",J_e),this.register("action","version",Z_e),this.register("action","parsers",z$),this.register("action","extend",Q_e),["storeConst","storeTrue","storeFalse","appendConst"].forEach(n=>{let a=B$(n);this.register("action",n,nl.deprecate(this._registry_get("action",a),Ge('{action: "%s"} is renamed to {action: "%s"}',n,a)))}),this._get_handler(),this._actions=[],this._option_string_actions={},this._action_groups=[],this._mutually_exclusive_groups=[],this._defaults={},this._negative_number_matcher=/^-\d+$|^-\d*\.\d+$/,this._has_negative_number_optionals=[]}register(t,r,i){let s=Mm(this._registries,t,{});s[r]=i}_registry_get(t,r,i=void 0){return Yi(this._registries[t],r,i)}set_defaults(t){Object.assign(this._defaults,t);for(let r of this._actions)r.dest in t&&(r.default=t[r.dest])}get_default(t){for(let r of this._actions)if(r.dest===t&&r.default!==void 0)return r.default;return this._defaults[t]}add_argument(){let[t,r]=ln(arguments,{"*args":qt,"**kwargs":qt});t.length===1&&Array.isArray(t[0])&&(t=t[0],Yp("argument-array",Ge("use add_argument(%(args)s, {...}) instead of add_argument([ %(args)s ], { ... })",{args:t.map(Xp).join(", ")})));let i=this.prefix_chars;if(!t.length||t.length===1&&!i.includes(t[0][0])){if(t.length&&"dest"in r)throw new TypeError("dest supplied twice for positional argument");r=this._get_positional_kwargs(...t,r)}else r=this._get_optional_kwargs(...t,r);if(!("default"in r)){let o=r.dest;o in this._defaults?r.default=this._defaults[o]:this.argument_default!==void 0&&(r.default=this.argument_default)}let s=this._pop_action_class(r);if(typeof s!="function")throw new TypeError(Ge('unknown action "%s"',s));let n=new s(r),a=this._registry_get("type",n.type,n.type);if(typeof a!="function")throw new TypeError(Ge("%r is not callable",a));if(a===V$)throw new TypeError(Ge("%r is a FileType class object, instance of it must be passed",a));if("_get_formatter"in this)try{this._get_formatter()._format_args(n,void 0)}catch(o){throw o instanceof TypeError&&o.message!=="invalid nargs value"?new TypeError("length of metavar tuple does not match nargs"):o}return this._add_action(n)}add_argument_group(){let t=W$(this,...arguments);return this._action_groups.push(t),t}add_mutually_exclusive_group(){let t=e2e(this,...arguments);return this._mutually_exclusive_groups.push(t),t}_add_action(t){this._check_conflict(t),this._actions.push(t),t.container=this;for(let r of t.option_strings)this._option_string_actions[r]=t;for(let r of t.option_strings)this._negative_number_matcher.test(r)&&(this._has_negative_number_optionals.length||this._has_negative_number_optionals.push(!0));return t}_remove_action(t){Hv(this._actions,t)}_add_container_actions(t){let r={};for(let s of this._action_groups){if(s.title in r){let n="cannot merge actions - two groups are named %r";throw new TypeError(Ge(n,s.title))}r[s.title]=s}let i=new Map;for(let s of t._action_groups){s.title in r||(r[s.title]=this.add_argument_group({title:s.title,description:s.description,conflict_handler:s.conflict_handler}));for(let n of s._group_actions)i.set(n,r[s.title])}for(let s of t._mutually_exclusive_groups){let n=this.add_mutually_exclusive_group({required:s.required});for(let a of s._group_actions)i.set(a,n)}for(let s of t._actions)i.get(s)._add_action(s)}_get_positional_kwargs(){let[t,r]=ln(arguments,{dest:qt,"**kwargs":qt});if("required"in r){let i="'required' is an invalid argument for positionals";throw new TypeError(i)}return[Aa,rh].includes(r.nargs)||(r.required=!0),r.nargs===rh&&!("default"in r)&&(r.required=!0),Object.assign(r,{dest:t,option_strings:[]})}_get_optional_kwargs(){let[t,r]=ln(arguments,{"*args":qt,"**kwargs":qt}),i=[],s=[],n;for(n of t){if(!this.prefix_chars.includes(n[0])){let o={option:n,prefix_chars:this.prefix_chars},u="invalid option string %(option)r: must start with a character %(prefix_chars)r";throw new TypeError(Ge(u,o))}i.push(n),n.length>1&&this.prefix_chars.includes(n[1])&&s.push(n)}let a=r.dest;if(delete r.dest,a===void 0){let o;if(s.length?o=s[0]:o=i[0],a=F_e(o,this.prefix_chars),!a){let u="dest= is required for options like %r";throw new TypeError(Ge(u,n))}a=a.replace(/-/g,"_")}return Object.assign(r,{dest:a,option_strings:i})}_pop_action_class(t,r=void 0){let i=Yi(t,"action",r);return delete t.action,this._registry_get("action",i,i)}_get_handler(){let t=Ge("_handle_conflict_%s",this.conflict_handler);if(typeof this[t]=="function")return this[t];{let r="invalid conflict_resolution value: %r";throw new TypeError(Ge(r,this.conflict_handler))}}_check_conflict(t){let r=[];for(let i of t.option_strings)if(Ou(this._option_string_actions,i)){let s=this._option_string_actions[i];r.push([i,s])}if(r.length){let i=this._get_handler();i.call(this,t,r)}}_handle_conflict_error(t,r){let i=r.length===1?"conflicting option string: %s":"conflicting option strings: %s",s=r.map(([n])=>n).join(", ");throw new io(t,Ge(i,s))}_handle_conflict_resolve(t,r){for(let[i,s]of r)Hv(s.option_strings,i),delete this._option_string_actions[i],s.option_strings.length||s.container._remove_action(s)}})),W$=Lr(class extends K${constructor(){let[t,r,i,s]=ln(arguments,{container:qt,title:void 0,description:void 0,"**kwargs":qt});Mm(s,"conflict_handler",t.conflict_handler),Mm(s,"prefix_chars",t.prefix_chars),Mm(s,"argument_default",t.argument_default),super(Object.assign({description:i},s)),this.title=r,this._group_actions=[],this._registries=t._registries,this._actions=t._actions,this._option_string_actions=t._option_string_actions,this._defaults=t._defaults,this._has_negative_number_optionals=t._has_negative_number_optionals,this._mutually_exclusive_groups=t._mutually_exclusive_groups}_add_action(t){return t=super._add_action(t),this._group_actions.push(t),t}_remove_action(t){super._remove_action(t),Hv(this._group_actions,t)}}),e2e=Lr(class extends W${constructor(){let[t,r]=ln(arguments,{container:qt,required:!1});super(t);this.required=r,this._container=t}_add_action(t){if(t.required){let r="mutually exclusive arguments must be optional";throw new TypeError(r)}return t=this._container._add_action(t),this._group_actions.push(t),t}_remove_action(t){this._container._remove_action(t),Hv(this._group_actions,t)}}),t2e=il(Lr(class extends FC(K$){constructor(){let[t,r,i,s,n,a,o,u,d,m,f,x,T,q,F]=ln(arguments,{prog:void 0,usage:void 0,description:void 0,epilog:void 0,parents:[],formatter_class:Lm,prefix_chars:"-",fromfile_prefix_chars:void 0,argument_default:void 0,conflict_handler:"error",add_help:!0,allow_abbrev:!0,exit_on_error:!0,debug:void 0,version:void 0});q!==void 0&&Yp("debug",'The "debug" argument to ArgumentParser is deprecated. Please override ArgumentParser.exit function instead.'),F!==void 0&&Yp("version",`The "version" argument to ArgumentParser is deprecated. Please use add_argument(..., { action: 'version', version: 'N', ... }) instead.`),super({description:i,prefix_chars:o,argument_default:d,conflict_handler:m}),t===void 0&&(t=$_e.basename(D$()[0]||"")),this.prog=t,this.usage=r,this.epilog=s,this.formatter_class=a,this.fromfile_prefix_chars=u,this.add_help=f,this.allow_abbrev=x,this.exit_on_error=T,this.debug=q,this._positionals=this.add_argument_group("positional arguments"),this._optionals=this.add_argument_group("optional arguments"),this._subparsers=void 0;function $(oe){return oe}this.register("type",void 0,$),this.register("type",null,$),this.register("type","auto",$),this.register("type","int",function(oe){let Q=Number(oe);if(!Number.isInteger(Q))throw new TypeError(Ge("could not convert string to int: %r",oe));return Q}),this.register("type","float",function(oe){let Q=Number(oe);if(isNaN(Q))throw new TypeError(Ge("could not convert string to float: %r",oe));return Q}),this.register("type","str",String),this.register("type","string",nl.deprecate(String,'use {type:"str"} or {type:String} instead of {type:"string"}'));let H=o.includes("-")?"-":o[0];this.add_help&&this.add_argument(H+"h",H.repeat(2)+"help",{action:"help",default:Sr,help:"show this help message and exit"}),F&&this.add_argument(H+"v",H.repeat(2)+"version",{action:"version",default:Sr,version:this.version,help:"show program's version number and exit"});for(let oe of n)this._add_container_actions(oe),Object.assign(this._defaults,oe._defaults)}_get_kwargs(){let t=["prog","usage","description","formatter_class","conflict_handler","add_help"];return t.map(r=>[r,Yi(this,r)])}add_subparsers(){let[t]=ln(arguments,{"**kwargs":qt});if(this._subparsers!==void 0&&this.error("cannot have multiple subparser arguments"),Mm(t,"parser_class",this.constructor),"title"in t||"description"in t){let s=Yi(t,"title","subcommands"),n=Yi(t,"description",void 0);delete t.title,delete t.description,this._subparsers=this.add_argument_group(s,n)}else this._subparsers=this._positionals;if(t.prog===void 0){let s=this._get_formatter(),n=this._get_positional_actions(),a=this._mutually_exclusive_groups;s.add_usage(this.usage,n,a,""),t.prog=s.format_help().trim()}let r=this._pop_action_class(t,"parsers"),i=new r(Object.assign({option_strings:[]},t));return this._subparsers._add_action(i),i}_add_action(t){return t.option_strings.length?this._optionals._add_action(t):this._positionals._add_action(t),t}_get_optional_actions(){return this._actions.filter(t=>t.option_strings.length)}_get_positional_actions(){return this._actions.filter(t=>!t.option_strings.length)}parse_args(t=void 0,r=void 0){let i;if([t,i]=this.parse_known_args(t,r),i&&i.length>0){let s="unrecognized arguments: %s";this.error(Ge(s,i.join(" ")))}return t}parse_known_args(t=void 0,r=void 0){t===void 0&&(t=D$().slice(1)),r===void 0&&(r=new GC);for(let i of this._actions)i.dest!==Sr&&(Ou(r,i.dest)||i.default!==Sr&&no(r,i.dest,i.default));for(let i of Object.keys(this._defaults))Ou(r,i)||no(r,i,this._defaults[i]);if(this.exit_on_error)try{[r,t]=this._parse_known_args(t,r)}catch(i){if(i instanceof io)this.error(i.message);else throw i}else[r,t]=this._parse_known_args(t,r);return Ou(r,Nm)&&(t=t.concat(Yi(r,Nm)),$$(r,Nm)),[r,t]}_parse_known_args(t,r){this.fromfile_prefix_chars!==void 0&&(t=this._read_args_from_files(t));let i=new Map;for(let Q of this._mutually_exclusive_groups){let pe=Q._group_actions;for(let[ve,Ce]of Object.entries(Q._group_actions)){let fe=i.get(Ce)||[];fe=fe.concat(pe.slice(0,+ve)),fe=fe.concat(pe.slice(+ve+1)),i.set(Ce,fe)}}let s={},n=[],a=Object.entries(t)[Symbol.iterator]();for(let[Q,pe]of a)if(pe==="--"){n.push("-");for([Q,pe]of a)n.push("A")}else{let ve=this._parse_optional(pe),Ce;ve===void 0?Ce="A":(s[Q]=ve,Ce="O"),n.push(Ce)}let o=n.join(""),u=new Set,d=new Set,m,f=(Q,pe,ve=void 0)=>{u.add(Q);let Ce=this._get_values(Q,pe);if(Ce!==Q.default){d.add(Q);for(let fe of i.get(Q)||[])if(d.has(fe)){let Pe="not allowed with argument %s",Ve=bb(fe);throw new io(Q,Ge(Pe,Ve))}}Ce!==Sr&&Q(this,r,Ce,ve)},x=Q=>{let pe=s[Q],[ve,Ce,fe]=pe,Pe=[],Ve;for(;;){if(ve===void 0)return m.push(t[Q]),Q+1;if(fe!==void 0){let Ie=this._match_argument(ve,"A"),Ot=this.prefix_chars;if(Ie===0&&!Ot.includes(Ce[1])){Pe.push([ve,[],Ce]);let lt=Ce[0];Ce=lt+fe[0];let Ye=fe.slice(1)||void 0,At=this._option_string_actions;if(Ou(At,Ce))ve=At[Ce],fe=Ye;else{let gt="ignored explicit argument %r";throw new io(ve,Ge(gt,fe))}}else if(Ie===1){Ve=Q+1;let lt=[fe];Pe.push([ve,lt,Ce]);break}else{let lt="ignored explicit argument %r";throw new io(ve,Ge(lt,fe))}}else{let Ie=Q+1,Ot=o.slice(Ie),lt=this._match_argument(ve,Ot);Ve=Ie+lt;let Ye=t.slice(Ie,Ve);Pe.push([ve,Ye,Ce]);break}}vb(Pe.length);for(let[Ie,Ot,lt]of Pe)f(Ie,Ot,lt);return Ve},T=this._get_positional_actions(),q=Q=>{let pe=o.slice(Q),ve=this._match_arguments_partial(T,pe);for(let Ce=0;Ce<T.length&&Ce<ve.length;Ce++){let fe=T[Ce],Pe=ve[Ce],Ve=t.slice(Q,Q+Pe);Q+=Pe,f(fe,Ve)}return T=T.slice(ve.length),Q};m=[];let F=0,$=Math.max(-1,...Object.keys(s).map(Number));for(;F<=$;){let Q=Math.min(...Object.keys(s).map(Number).filter(pe=>pe>=F));if(F!==Q){let pe=q(F);if(pe>F){F=pe;continue}else F=pe}if(!(F in s)){let pe=t.slice(F,Q);m=m.concat(pe),F=Q}F=x(F)}let H=q(F);m=m.concat(t.slice(H));let oe=[];for(let Q of this._actions)u.has(Q)||(Q.required?oe.push(bb(Q)):Q.default!==void 0&&typeof Q.default=="string"&&Ou(r,Q.dest)&&Q.default===Yi(r,Q.dest)&&no(r,Q.dest,this._get_value(Q,Q.default)));oe.length&&this.error(Ge("the following arguments are required: %s",oe.join(", ")));for(let Q of this._mutually_exclusive_groups)if(Q.required){let pe=!0;for(let ve of Q._group_actions)if(d.has(ve)){pe=!1;break}if(pe){let ve=Q._group_actions.filter(fe=>fe.help!==Sr).map(fe=>bb(fe)),Ce="one of the arguments %s is required";this.error(Ge(Ce,ve.join(" ")))}}return[r,m]}_read_args_from_files(t){let r=[];for(let i of t)if(!i||!this.fromfile_prefix_chars.includes(i[0]))r.push(i);else try{let s=_b.readFileSync(i.slice(1),"utf8"),n=[];for(let a of $C(s))for(let o of this.convert_arg_line_to_args(a))n.push(o);n=this._read_args_from_files(n),r=r.concat(n)}catch(s){this.error(s.message)}return r}convert_arg_line_to_args(t){return[t]}_match_argument(t,r){let i=this._get_nargs_pattern(t),s=r.match(new RegExp("^"+i));if(s===null){let n={undefined:"expected one argument",[Aa]:"expected at most one argument",[Uv]:"expected at least one argument"},a=n[t.nargs];throw a===void 0&&(a=Ge(t.nargs===1?"expected %s argument":"expected %s arguments",t.nargs)),new io(t,a)}return s[1].length}_match_arguments_partial(t,r){let i=[];for(let s of DC(t.length,0,-1)){let n=t.slice(0,s),a=n.map(u=>this._get_nargs_pattern(u)).join(""),o=r.match(new RegExp("^"+a));if(o!==null){i=i.concat(o.slice(1).map(u=>u.length));break}}return i}_parse_optional(t){if(!t)return;if(!this.prefix_chars.includes(t[0]))return;if(t in this._option_string_actions){let i=this._option_string_actions[t];return[i,t,void 0]}if(t.length===1)return;if(t.includes("=")){let[i,s]=j$(t,"=",1);if(i in this._option_string_actions){let n=this._option_string_actions[i];return[n,i,s]}}let r=this._get_option_tuples(t);if(r.length>1){let i=r.map(([,a])=>a).join(", "),s={option:t,matches:i},n="ambiguous option: %(option)s could match %(matches)s";this.error(Ge(n,s))}else if(r.length===1){let[i]=r;return i}return this._negative_number_matcher.test(t)&&!this._has_negative_number_optionals.length||t.includes(" ")?void 0:[void 0,t,void 0]}_get_option_tuples(t){let r=[],i=this.prefix_chars;if(i.includes(t[0])&&i.includes(t[1])){if(this.allow_abbrev){let s,n;t.includes("=")?[s,n]=j$(t,"=",1):(s=t,n=void 0);for(let a of Object.keys(this._option_string_actions))if(a.startsWith(s)){let o=this._option_string_actions[a],u=[o,a,n];r.push(u)}}}else if(i.includes(t[0])&&!i.includes(t[1])){let s=t,n,a=t.slice(0,2),o=t.slice(2);for(let u of Object.keys(this._option_string_actions))if(u===a){let d=this._option_string_actions[u],m=[d,u,o];r.push(m)}else if(u.startsWith(s)){let d=this._option_string_actions[u],m=[d,u,n];r.push(m)}}else this.error(Ge("unexpected option string: %s",t));return r}_get_nargs_pattern(t){let r=t.nargs,i;return r===void 0?i="(-*A-*)":r===Aa?i="(-*A?-*)":r===rh?i="(-*[A-]*)":r===Uv?i="(-*A[A-]*)":r===Kp?i="([-AO]*)":r===nh?i="(-*A[-AO]*)":r===Sr?i="(-*-*)":i=Ge("(-*%s-*)","A".repeat(r).split("").join("-*")),t.option_strings.length&&(i=i.replace(/-\*/g,""),i=i.replace(/-/g,"")),i}parse_intermixed_args(t=void 0,r=void 0){let i;if([t,i]=this.parse_known_intermixed_args(t,r),i.length){let s="unrecognized arguments: %s";this.error(Ge(s,i.join(" ")))}return t}parse_known_intermixed_args(t=void 0,r=void 0){let i,s=this._get_positional_actions(),n=s.filter(o=>[nh,Kp].includes(o.nargs));if(n.length)throw new TypeError(Ge("parse_intermixed_args: positional arg with nargs=%s",n[0].nargs));for(let o of this._mutually_exclusive_groups)for(let u of o._group_actions)if(s.includes(u))throw new TypeError("parse_intermixed_args: positional in mutuallyExclusiveGroup");let a;try{a=this.usage;let o;try{this.usage===void 0&&(this.usage=this.format_usage().slice(7));for(let d of s)d.save_nargs=d.nargs,d.nargs=Sr,d.save_default=d.default,d.default=Sr;[r,o]=this.parse_known_args(t,r);for(let d of s){let m=Yi(r,d.dest);Array.isArray(m)&&m.length===0&&(console.warn(Ge("Do not expect %s in %s",d.dest,r)),$$(r,d.dest))}}finally{for(let d of s)d.nargs=d.save_nargs,d.default=d.save_default}let u=this._get_optional_actions();try{for(let d of u)d.save_required=d.required,d.required=!1;for(let d of this._mutually_exclusive_groups)d.save_required=d.required,d.required=!1;[r,i]=this.parse_known_args(o,r)}finally{for(let d of u)d.required=d.save_required;for(let d of this._mutually_exclusive_groups)d.required=d.save_required}}finally{this.usage=a}return[r,i]}_get_values(t,r){if(![nh,Kp].includes(t.nargs))try{Hv(r,"--")}catch(s){}let i;if(!r.length&&t.nargs===Aa)t.option_strings.length?i=t.const:i=t.default,typeof i=="string"&&(i=this._get_value(t,i),this._check_value(t,i));else if(!r.length&&t.nargs===rh&&!t.option_strings.length)t.default!==void 0?i=t.default:i=r,this._check_value(t,i);else if(r.length===1&&[void 0,Aa].includes(t.nargs)){let s=r[0];i=this._get_value(t,s),this._check_value(t,i)}else if(t.nargs===Kp)i=r.map(s=>this._get_value(t,s));else if(t.nargs===nh)i=r.map(s=>this._get_value(t,s)),this._check_value(t,i[0]);else if(t.nargs===Sr)i=Sr;else{i=r.map(s=>this._get_value(t,s));for(let s of i)this._check_value(t,s)}return i}_get_value(t,r){let i=this._registry_get("type",t.type,t.type);if(typeof i!="function"){let n="%r is not callable";throw new io(t,Ge(n,i))}let s;try{try{s=i(r)}catch(n){if(n instanceof TypeError&&/Class constructor .* cannot be invoked without 'new'/.test(n.message))s=new i(r);else throw n}}catch(n){if(n instanceof UC){let a=n.message;throw new io(t,a)}else if(n instanceof TypeError){let a=Yi(t.type,"name",Xp(t.type)),o={type:a,value:r},u="invalid %(type)s value: %(value)r";throw new io(t,Ge(u,o))}else throw n}return s}_check_value(t,r){if(t.choices!==void 0&&!wb(t.choices).includes(r)){let i={value:r,choices:wb(t.choices).map(Xp).join(", ")},s="invalid choice: %(value)r (choose from %(choices)s)";throw new io(t,Ge(s,i))}}format_usage(){let t=this._get_formatter();return t.add_usage(this.usage,this._actions,this._mutually_exclusive_groups),t.format_help()}format_help(){let t=this._get_formatter();t.add_usage(this.usage,this._actions,this._mutually_exclusive_groups),t.add_text(this.description);for(let r of this._action_groups)t.start_section(r.title),t.add_text(r.description),t.add_arguments(r._group_actions),t.end_section();return t.add_text(this.epilog),t.format_help()}_get_formatter(){return new this.formatter_class({prog:this.prog})}print_usage(t=void 0){t===void 0&&(t=process.stdout),this._print_message(this.format_usage(),t)}print_help(t=void 0){t===void 0&&(t=process.stdout),this._print_message(this.format_help(),t)}_print_message(t,r=void 0){t&&(r===void 0&&(r=process.stderr),r.write(t))}exit(t=0,r=void 0){r&&this._print_message(r,process.stderr),process.exit(t)}error(t){if(this.debug===!0)throw new Error(t);this.print_usage(process.stderr);let r={prog:this.prog,message:t};this.exit(2,Ge(`%(prog)s: error: %(message)s
`,r))}}));LC.exports={ArgumentParser:t2e,ArgumentError:io,ArgumentTypeError:UC,BooleanOptionalAction:V_e,FileType:V$,HelpFormatter:Lm,ArgumentDefaultsHelpFormatter:G_e,RawDescriptionHelpFormatter:U$,RawTextHelpFormatter:H_e,MetavarTypeHelpFormatter:z_e,Namespace:GC,Action:tc,ONE_OR_MORE:Uv,OPTIONAL:Aa,PARSER:nh,REMAINDER:Kp,SUPPRESS:Sr,ZERO_OR_MORE:rh};Object.defineProperty(LC.exports,"Const",{get(){let e={};return Object.entries({ONE_OR_MORE:Uv,OPTIONAL:Aa,PARSER:nh,REMAINDER:Kp,SUPPRESS:Sr,ZERO_OR_MORE:rh}).forEach(([t,r])=>{Object.defineProperty(e,t,{get(){return Yp(t,Ge("use argparse.%s instead of argparse.Const.%s",t,t)),r}})}),Object.entries({_UNRECOGNIZED_ARGS_ATTR:Nm}).forEach(([t,r])=>{Object.defineProperty(e,t,{get(){return Yp(t,Ge("argparse.Const.%s is an internal symbol and will no longer be available",t)),r}})}),e},enumerable:!1})}),Z$=O(zC=>{zC.quote=function(e){return e.map(function(t){return t&&typeof t=="object"?t.op.replace(/(.)/g,"\\$1"):/["\s]/.test(t)&&!/'/.test(t)?"'"+t.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(t)?'"'+t.replace(/(["\\$`!])/g,"\\$1")+'"':String(t).replace(/([A-z]:)?([#!"$&'()*,:;<=>?@\[\\\]^`{|}])/g,"$1\\$2")}).join(" ")};var VC="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",Y$="|&;()<> \\t",r2e=`(\\\\['"`+Y$+`]|[^\\s'"`+Y$+"])+",n2e='"((\\\\"|[^"])*?)"',i2e="'((\\\\'|[^'])*?)'",Jp="";for(var J$=0;J$<4;J$++)Jp+=(Math.pow(16,8)*Math.random()).toString(16);zC.parse=function(e,t,r){var i=s2e(e,t,r);return typeof t!="function"?i:i.reduce(function(s,n){if(typeof n=="object")return s.concat(n);var a=n.split(RegExp("("+Jp+".*?"+Jp+")","g"));return a.length===1?s.concat(a[0]):s.concat(a.filter(Boolean).map(function(o){return RegExp("^"+Jp).test(o)?JSON.parse(o.split(Jp)[1]):o}))},[])};function s2e(e,t,r){var i=new RegExp(["("+VC+")","("+r2e+"|"+n2e+"|"+i2e+")*"].join("|"),"g"),s=e.match(i).filter(Boolean),n=!1;if(!s)return[];return t||(t={}),r||(r={}),s.map(function(o,u){if(n)return;if(RegExp("^"+VC+"$").test(o))return{op:o};for(var d="'",m='"',f="$",x=r.escape||"\\",T=!1,q=!1,F="",$=!1,H=0,oe=o.length;H<oe;H++){var Q=o.charAt(H);if($=$||!T&&(Q==="*"||Q==="?"),q)F+=Q,q=!1;else if(T)Q===T?T=!1:T==d?F+=Q:Q===x?(H+=1,Q=o.charAt(H),Q===m||Q===x||Q===f?F+=Q:F+=x+Q):Q===f?F+=pe():F+=Q;else if(Q===m||Q===d)T=Q;else{if(RegExp("^"+VC+"$").test(Q))return{op:o};if(RegExp("^#$").test(Q))return n=!0,F.length?[F,{comment:o.slice(H+1)+s.slice(u+1).join(" ")}]:[{comment:o.slice(H+1)+s.slice(u+1).join(" ")}];Q===x?q=!0:Q===f?F+=pe():F+=Q}}if($)return{op:"glob",pattern:F};return F;function pe(){H+=1;var ve,Ce;if(o.charAt(H)==="{"){if(H+=1,o.charAt(H)==="}")throw new Error("Bad substitution: "+o.substr(H-2,3));if(ve=o.indexOf("}",H),ve<0)throw new Error("Bad substitution: "+o.substr(H));Ce=o.substr(H,ve-H),H=ve}else/[*@#?$!_\-]/.test(o.charAt(H))?(Ce=o.charAt(H),H+=1):(ve=o.substr(H).match(/[^\w\d_]/),ve?(Ce=o.substr(H,ve.index),H+=ve.index-1):(Ce=o.substr(H),H=o.length));return a(null,"",Ce)}}).reduce(function(o,u){return u===void 0?o:o.concat(u)},[]);function a(o,u,d){var m=typeof t=="function"?t(d):t[d];return m===void 0&&d!=""?m="":m===void 0&&(m="$"),typeof m=="object"?u+Jp+JSON.stringify(m)+Jp:u+m}}}),ej=O((TKe,Q$)=>{var WC=Tt(),a2e=["UPM_CACHE_PATH","UPM_CACHE_ROOT","UPM_CONFIG_FILE","UPM_ENABLE_GIT_LFS_CACHE","UPM_GIT_LFS_CACHE_PATH","UPM_GLOBAL_CONFIG_FILE","UPM_NPM_CACHE_PATH","UPM_NPM_REGISTRY","UPM_REGISTRY","UPM_USER_CONFIG_FILE","UPM_METADATA_REFRESH_INTERVAL"],o2e=["GIT_ASKPASS","GIT_LFS_CACHE","GIT_LFS_CACHE_PATH","GIT_SSH","GIT_SSH_COMMAND","GIT_SSH_VARIANT","GIT_TERMINAL_PROMPT"],c2e=["HTTP_PROXY","HTTPS_PROXY","ALL_PROXY","NO_PROXY"];function l2e(e){let t=[...a2e,...c2e,...o2e],[r,i]=WC.partition(WC.keys(e),s=>t.includes(s.toUpperCase()));return{valid:WC.pick(e,r),invalid:i.filter(s=>s.match(/^upm_/i))}}Q$.exports={getUpmEnvironmentVariables:l2e}}),KC=O((CKe,tj)=>{"use strict";tj.exports=function(...e){try{return JSON.stringify.apply(null,e)}catch(t){return"[Cannot display object: "+t.message+"]"}}}),Gv=O((rj,nj)=>{"use strict";var u2e=KC();nj.exports=class extends Error{constructor(e){let t=e.filter(r=>r!=="").map(r=>typeof r=="string"?r:r instanceof Error?r.message:u2e(r));super(t.join(" ")||"Unknown error");typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rj.assert)}}}),dt=O((OKe,ij)=>{"use strict";var f2e=Gv();ij.exports=function(e,...t){if(e)return;throw t.length===1&&t[0]instanceof Error?t[0]:new f2e(t)}}),so=O((kKe,sj)=>{"use strict";var XC=dt(),aj={};sj.exports=function(e,t,r){if(t===!1||t===null||t===void 0)return e;r=r||{},typeof r=="string"&&(r={separator:r});let i=Array.isArray(t);XC(!i||!r.separator,"Separator option no valid for array-based chain");let s=i?t:t.split(r.separator||"."),n=e;for(let a=0;a<s.length;++a){let o=s[a],u=r.iterables&&aj.iterables(n);if(Array.isArray(n)||u==="set"){let d=Number(o);Number.isInteger(d)&&(o=d<0?n.length+d:d)}if(!n||typeof n=="function"&&r.functions===!1||!u&&n[o]===void 0){XC(!r.strict||a+1===s.length,"Missing segment",o,"in reach path ",t),XC(typeof n=="object"||r.functions===!0||typeof n!="function","Invalid segment",o,"in reach path ",t),n=r.default;break}u?u==="set"?n=[...n][o]:n=n.get(o):n=n[o]}return n};aj.iterables=function(e){if(e instanceof Set)return"set";if(e instanceof Map)return"map"}}),YC=O((As,oj)=>{"use strict";var cj={};As=oj.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype};cj.typeMap=new Map([["[object Error]",As.error],["[object Map]",As.map],["[object Promise]",As.promise],["[object Set]",As.set],["[object WeakMap]",As.weakMap],["[object WeakSet]",As.weakSet]]);As.getInternalProto=function(e){if(Array.isArray(e))return As.array;if(Buffer&&e instanceof Buffer)return As.buffer;if(e instanceof Date)return As.date;if(e instanceof RegExp)return As.regex;if(e instanceof Error)return As.error;let t=Object.prototype.toString.call(e);return cj.typeMap.get(t)||As.generic}}),xb=O(lj=>{"use strict";lj.keys=function(e,t={}){return t.symbols!==!1?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}}),zr=O((IKe,uj)=>{"use strict";var h2e=so(),Ta=YC(),p2e=xb(),ku={needsProtoHack:new Set([Ta.set,Ta.map,Ta.weakSet,Ta.weakMap])};uj.exports=ku.clone=function(e,t={},r=null){if(typeof e!="object"||e===null)return e;let i=ku.clone,s=r;if(t.shallow){if(t.shallow!==!0)return ku.cloneWithShallow(e,t);i=u=>u}else if(s){let u=s.get(e);if(u)return u}else s=new Map;let n=Ta.getInternalProto(e);if(n===Ta.buffer)return Buffer&&Buffer.from(e);if(n===Ta.date)return new Date(e.getTime());if(n===Ta.regex)return new RegExp(e);let a=ku.base(e,n,t);if(a===e)return e;if(s&&s.set(e,a),n===Ta.set)for(let u of e)a.add(i(u,t,s));else if(n===Ta.map)for(let[u,d]of e)a.set(u,i(d,t,s));let o=p2e.keys(e,t);for(let u of o){if(u==="__proto__")continue;if(n===Ta.array&&u==="length"){a.length=e.length;continue}let d=Object.getOwnPropertyDescriptor(e,u);d?d.get||d.set?Object.defineProperty(a,u,d):d.enumerable?a[u]=i(e[u],t,s):Object.defineProperty(a,u,{enumerable:!1,writable:!0,configurable:!0,value:i(e[u],t,s)}):Object.defineProperty(a,u,{enumerable:!0,writable:!0,configurable:!0,value:i(e[u],t,s)})}return a};ku.cloneWithShallow=function(e,t){let r=t.shallow;t=Object.assign({},t),t.shallow=!1;let i=new Map;for(let s of r){let n=h2e(e,s);(typeof n=="object"||typeof n=="function")&&i.set(n,n)}return ku.clone(e,t,i)};ku.base=function(e,t,r){if(r.prototype===!1)return ku.needsProtoHack.has(t)?new t.constructor:t===Ta.array?[]:{};let i=Object.getPrototypeOf(e);if(i&&i.isImmutable)return e;if(t===Ta.array){let s=[];return i!==t&&Object.setPrototypeOf(s,i),s}if(ku.needsProtoHack.has(t)){let s=new i.constructor;return i!==t&&Object.setPrototypeOf(s,i),s}return Object.create(i)}}),zv=O((qKe,fj)=>{"use strict";var JC=dt(),hj=zr(),d2e=xb(),pj={};fj.exports=pj.merge=function(e,t,r){if(JC(e&&typeof e=="object","Invalid target value: must be an object"),JC(t==null||typeof t=="object","Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){JC(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let s=0;s<t.length;++s)e.push(hj(t[s],{symbols:r.symbols}));return e}let i=d2e.keys(t,r);for(let s=0;s<i.length;++s){let n=i[s];if(n==="__proto__"||!Object.prototype.propertyIsEnumerable.call(t,n))continue;let a=t[n];if(a&&typeof a=="object"){if(e[n]===a)continue;!e[n]||typeof e[n]!="object"||Array.isArray(e[n])!==Array.isArray(a)||a instanceof Date||Buffer&&Buffer.isBuffer(a)||a instanceof RegExp?e[n]=hj(a,{symbols:r.symbols}):pj.merge(e[n],a,r)}else(a!=null||r.nullOverride)&&(e[n]=a)}return e}}),Rb=O((NKe,dj)=>{"use strict";var Eb=dt(),mj=zr(),gj=zv(),yj=so(),Sb={};dj.exports=function(e,t,r={}){if(Eb(e&&typeof e=="object","Invalid defaults value: must be an object"),Eb(!t||t===!0||typeof t=="object","Invalid source value: must be true, falsy or an object"),Eb(typeof r=="object","Invalid options: must be an object"),!t)return null;if(r.shallow)return Sb.applyToDefaultsWithShallow(e,t,r);let i=mj(e);if(t===!0)return i;let s=r.nullOverride!==void 0?r.nullOverride:!1;return gj(i,t,{nullOverride:s,mergeArrays:!1})};Sb.applyToDefaultsWithShallow=function(e,t,r){let i=r.shallow;Eb(Array.isArray(i),"Invalid keys");let s=new Map,n=t===!0?null:new Set;for(let o of i){o=Array.isArray(o)?o:o.split(".");let u=yj(e,o);u&&typeof u=="object"?s.set(u,n&&yj(t,o)||u):n&&n.add(o)}let a=mj(e,{},s);if(!n)return a;for(let o of n)Sb.reachCopy(a,t,o);return gj(a,t,{mergeArrays:!1,nullOverride:!1})};Sb.reachCopy=function(e,t,r){for(let n of r){if(!(n in t))return;t=t[n]}let i=t,s=e;for(let n=0;n<r.length-1;++n){let a=r[n];typeof s[a]!="object"&&(s[a]={}),s=s[a]}s[r[r.length-1]]=i}}),_j=O((MKe,vj)=>{"use strict";var ZC={};vj.exports=ZC.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=ZC.Bench.now()}elapsed(){return ZC.Bench.now()-this.ts}static now(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}}}),Ab=O((LKe,wj)=>{"use strict";wj.exports=function(){}}),xj=O((DKe,bj)=>{"use strict";var m2e=Ab();bj.exports=function(){return new Promise(m2e)}}),al=O(($Ke,Ej)=>{"use strict";var sl=YC(),Ji={mismatched:null};Ej.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!Ji.isDeepEqual(e,t,r,[])};Ji.isDeepEqual=function(e,t,r,i){if(e===t)return e!==0||1/e===1/t;let s=typeof e;if(s!==typeof t)return!1;if(e===null||t===null)return!1;if(s==="function"){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if(s!=="object")return e!==e&&t!==t;let n=Ji.getSharedType(e,t,!!r.prototype);switch(n){case sl.buffer:return Buffer&&Buffer.prototype.equals.call(e,t);case sl.promise:return e===t;case sl.regex:return e.toString()===t.toString();case Ji.mismatched:return!1}for(let a=i.length-1;a>=0;--a)if(i[a].isSame(e,t))return!0;i.push(new Ji.SeenEntry(e,t));try{return!!Ji.isDeepEqualObj(n,e,t,r,i)}finally{i.pop()}};Ji.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?Ji.mismatched:sl.getInternalProto(e);let i=sl.getInternalProto(e);return i!==sl.getInternalProto(t)?Ji.mismatched:i};Ji.valueOf=function(e){let t=e.valueOf;if(t===void 0)return e;try{return t.call(e)}catch(r){return r}};Ji.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)};Ji.isSetSimpleEqual=function(e,t){for(let r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0};Ji.isDeepEqualObj=function(e,t,r,i,s){let{isDeepEqual:n,valueOf:a,hasOwnEnumerableProperty:o}=Ji,{keys:u,getOwnPropertySymbols:d}=Object;if(e===sl.array)if(i.part){for(let q of t)for(let F of r)if(n(q,F,i,s))return!0}else{if(t.length!==r.length)return!1;for(let q=0;q<t.length;++q)if(!n(t[q],r[q],i,s))return!1;return!0}else if(e===sl.set){if(t.size!==r.size)return!1;if(!Ji.isSetSimpleEqual(t,r)){let q=new Set(Set.prototype.values.call(r));for(let F of Set.prototype.values.call(t)){if(q.delete(F))continue;let $=!1;for(let H of q)if(n(F,H,i,s)){q.delete(H),$=!0;break}if(!$)return!1}}}else if(e===sl.map){if(t.size!==r.size)return!1;for(let[q,F]of Map.prototype.entries.call(t)){if(F===void 0&&!Map.prototype.has.call(r,q))return!1;if(!n(F,Map.prototype.get.call(r,q),i,s))return!1}}else if(e===sl.error&&(t.name!==r.name||t.message!==r.message))return!1;let m=a(t),f=a(r);if((t!==m||r!==f)&&!n(m,f,i,s))return!1;let x=u(t);if(!i.part&&x.length!==u(r).length&&!i.skip)return!1;let T=0;for(let q of x){if(i.skip&&i.skip.includes(q)){r[q]===void 0&&++T;continue}if(!o(r,q))return!1;if(!n(t[q],r[q],i,s))return!1}if(!i.part&&x.length-T!==u(r).length)return!1;if(i.symbols!==!1){let q=d(t),F=new Set(d(r));for(let $ of q){if(!i.skip||!i.skip.includes($)){if(o(t,$)){if(!o(r,$))return!1;if(!n(t[$],r[$],i,s))return!1}else if(o(r,$))return!1}F.delete($)}for(let $ of F)if(o(r,$))return!1}return!0};Ji.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}}),Dm=O((jKe,Sj)=>{"use strict";Sj.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}}),Aj=O((FKe,Rj)=>{"use strict";var Tb=dt(),g2e=al(),y2e=Dm(),v2e=xb(),Ca={};Rj.exports=function(e,t,r={}){return typeof t!="object"&&(t=[t]),Tb(!Array.isArray(t)||t.length,"Values array cannot be empty"),typeof e=="string"?Ca.string(e,t,r):Array.isArray(e)?Ca.array(e,t,r):(Tb(typeof e=="object","Reference must be string or an object"),Ca.object(e,t,r))};Ca.array=function(e,t,r){if(Array.isArray(t)||(t=[t]),!e.length)return!1;if(r.only&&r.once&&e.length!==t.length)return!1;let i,s=new Map;for(let a of t)if(!r.deep||!a||typeof a!="object"){let o=s.get(a);o?++o.allowed:s.set(a,{allowed:1,hits:0})}else{i=i||Ca.compare(r);let o=!1;for(let[u,d]of s.entries())if(i(u,a)){++d.allowed,o=!0;break}o||s.set(a,{allowed:1,hits:0})}let n=0;for(let a of e){let o;if(!r.deep||!a||typeof a!="object")o=s.get(a);else{i=i||Ca.compare(r);for(let[u,d]of s.entries())if(i(u,a)){o=d;break}}if(o&&(++o.hits,++n,r.once&&o.hits>o.allowed))return!1}if(r.only&&n!==e.length)return!1;for(let a of s.values()){if(a.hits===a.allowed)continue;if(a.hits<a.allowed&&!r.part)return!1}return!!n};Ca.object=function(e,t,r){Tb(r.once===void 0,"Cannot use option once with object");let i=v2e.keys(e,r);if(!i.length)return!1;if(Array.isArray(t))return Ca.array(i,t,r);let s=Object.getOwnPropertySymbols(t).filter(u=>t.propertyIsEnumerable(u)),n=[...Object.keys(t),...s],a=Ca.compare(r),o=new Set(n);for(let u of i){if(!o.has(u)){if(r.only)return!1;continue}if(!a(t[u],e[u]))return!1;o.delete(u)}return o.size?r.part?o.size<n.length:!1:!0};Ca.string=function(e,t,r){if(e==="")return t.length===1&&t[0]===""||!r.once&&!t.some(u=>u!=="");let i=new Map,s=[];for(let u of t)if(Tb(typeof u=="string","Cannot compare string reference to non-string value"),u){let d=i.get(u);d?++d.allowed:(i.set(u,{allowed:1,hits:0}),s.push(y2e(u)))}else if(r.once||r.only)return!1;if(!s.length)return!0;let n=new RegExp(`(${s.join("|")})`,"g"),a=e.replace(n,(u,d)=>(++i.get(d).hits,""));if(r.only&&a)return!1;let o=!1;for(let u of i.values()){if(u.hits&&(o=!0),u.hits===u.allowed)continue;if(u.hits<u.allowed&&!r.part)return!1;if(r.once)return!1}return!!o};Ca.compare=function(e){if(!e.deep)return Ca.shallow;let t=e.only!==void 0,r=e.part!==void 0,i={prototype:t?e.only:r?!e.part:!1,part:t?!e.only:r?e.part:!1};return(s,n)=>g2e(s,n,i)};Ca.shallow=function(e,t){return e===t}}),Cj=O((BKe,Tj)=>{"use strict";var _2e=dt();Tj.exports=function(e){return _2e(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}}),Cb=O((UKe,Oj)=>{"use strict";var ih={};Oj.exports=function(e){if(!e)return"";let t="";for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);ih.isSafe(i)?t+=e[r]:t+=ih.escapeHtmlChar(i)}return t};ih.escapeHtmlChar=function(e){let t=ih.namedHtml[e];if(typeof t!="undefined")return t;if(e>=256)return"&#"+e+";";let r=e.toString(16).padStart(2,"0");return`&#x${r};`};ih.isSafe=function(e){return typeof ih.safeCharCodes[e]!="undefined"};ih.namedHtml={"38":"&amp;","60":"&lt;","62":"&gt;","34":"&quot;","160":"&nbsp;","162":"&cent;","163":"&pound;","164":"&curren;","169":"&copy;","174":"&reg;"};ih.safeCharCodes=function(){let e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||t===32||t===46||t===44||t===45||t===58||t===95)&&(e[t]=null);return e}()}),Pj=O((HKe,kj)=>{"use strict";kj.exports=function(e){if(!e)return"";let t=60,r=62,i=38,s=8232,n;return e.replace(/[<>&\u2028\u2029]/g,a=>(n=a.charCodeAt(0),n===t?"\\u003c":n===r?"\\u003e":n===i?"\\u0026":n===s?"\\u2028":"\\u2029"))}}),Nj=O((GKe,Ij)=>{"use strict";var qj={};Ij.exports=qj.flatten=function(e,t){let r=t||[];for(let i=0;i<e.length;++i)Array.isArray(e[i])?qj.flatten(e[i],r):r.push(e[i]);return r}}),Dj=O((zKe,Mj)=>{"use strict";var Lj={};Mj.exports=function(e,t,r={}){if(!e||!t)return r.first?null:[];let i=[],s=Array.isArray(e)?new Set(e):e,n=new Set;for(let a of t)if(Lj.has(s,a)&&!n.has(a)){if(r.first)return a;i.push(a),n.add(a)}return r.first?null:i};Lj.has=function(e,t){return typeof e.has=="function"?e.has(t):e[t]!==void 0}}),jj=O((VKe,$j)=>{"use strict";$j.exports=function(e){return!!e&&typeof e.then=="function"}}),Bj=O((WKe,Fj)=>{"use strict";Fj.exports=function(e){if(e._hoekOnce)return e;let t=!1,r=function(...i){t||(t=!0,e(...i))};return r._hoekOnce=!0,r}}),Hj=O((KKe,Uj)=>{"use strict";var w2e=so();Uj.exports=function(e,t,r){return t.replace(/{([^}]+)}/g,(i,s)=>{let n=w2e(e,s,r);return n??""})}}),zj=O((XKe,Gj)=>{"use strict";Gj.exports=function(e,t){if(typeof e!="number"&&e!==void 0)throw new TypeError("Timeout must be a number");return new Promise(r=>setTimeout(r,e,t))}}),Jt=O((YKe,Vj)=>{"use strict";Vj.exports={applyToDefaults:Rb(),assert:dt(),Bench:_j(),block:xj(),clone:zr(),contain:Aj(),deepEqual:al(),Error:Gv(),escapeHeaderAttribute:Cj(),escapeHtml:Cb(),escapeJson:Pj(),escapeRegex:Dm(),flatten:Nj(),ignore:Ab(),intersect:Dj(),isPromise:jj(),merge:zv(),once:Bj(),reach:so(),reachTemplate:Hj(),stringify:KC(),wait:zj()}}),Kj=O((JKe,Wj)=>{Wj.exports={name:"@hapi/validate",description:"Object schema validation",version:"1.1.2",repository:"git://github.com/hapijs/validate",main:"lib/index.js",files:["lib/**/*"],dependencies:{"@hapi/hoek":"^9.0.0","@hapi/topo":"^5.0.0"},devDependencies:{"@hapi/bourne":"2.x.x","@hapi/code":"8.x.x","@hapi/lab":"23.x.x"},scripts:{test:"lab -t 100 -a @hapi/code -L","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"}}),Yj=O(Xj=>{"use strict";var Mn=ol(),QC={};QC.wrap=Mn.string().min(1).max(2).allow(!1);Xj.preferences=Mn.object({allowUnknown:Mn.boolean(),abortEarly:Mn.boolean(),context:Mn.object(),convert:Mn.boolean(),dateFormat:Mn.valid("date","iso","string","time","utc"),errors:{escapeHtml:Mn.boolean(),label:Mn.valid("path","key",!1),language:[Mn.string(),Mn.object().ref()],render:Mn.boolean(),stack:Mn.boolean(),wrap:{label:QC.wrap,array:QC.wrap}},messages:Mn.object(),noDefaults:Mn.boolean(),nonEnumerables:Mn.boolean(),presence:Mn.valid("required","optional","forbidden"),skipFunctions:Mn.boolean(),stripUnknown:Mn.object({arrays:Mn.boolean(),objects:Mn.boolean()}).or("arrays","objects").allow(!0,!1)}).strict()}),sh=O(rc=>{"use strict";var ao=dt(),b2e=zr(),x2e=so(),Vv=_n(),cl={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};rc.create=function(e,t={}){ao(typeof e=="string","Invalid reference key:",e),Vv.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","separator"]),ao(!t.prefix||typeof t.prefix=="object","options.prefix must be of type object");let r=Object.assign({},cl.defaults,t);delete r.prefix;let i=r.separator,s=cl.context(e,i,t.prefix);if(r.type=s.type,e=s.key,r.type==="value")if(s.root&&(ao(!i||e[0]!==i,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),i&&i===e)e=null,r.ancestor=0;else if(r.ancestor!==void 0)ao(!i||!e||e[0]!==i,"Cannot combine prefix with ancestor option");else{let[n,a]=cl.ancestor(e,i);a&&(e=e.slice(a),e===""&&(e=null)),r.ancestor=n}return r.path=i?e===null?[]:e.split(i):[e],new cl.Ref(r)};rc.in=function(e,t={}){return rc.create(e,Object.assign({},t,{in:!0}))};rc.isRef=function(e){return e?!!e[Vv.symbols.ref]:!1};cl.Ref=class{constructor(e){ao(typeof e=="object","Invalid reference construction"),Vv.assertOptions(e,["adjust","ancestor","in","iterables","map","path","separator","type","depth","key","root","display"]),ao([!1,void 0].includes(e.separator)||typeof e.separator=="string"&&e.separator.length===1,"Invalid separator"),ao(!e.adjust||typeof e.adjust=="function","options.adjust must be a function"),ao(!e.map||Array.isArray(e.map),"options.map must be an array"),ao(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,cl.defaults,e),ao(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,i,s={}){return ao(!this.in||s.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(r.context,t,s):this.type==="local"?this._resolve(i,t,s):this.ancestor?this.ancestor==="root"?this._resolve(t.ancestors[t.ancestors.length-1],t,s):(ao(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,s)):this._resolve(e,t,s)}_resolve(e,t,r){let i;if(this.type==="value"&&t.mainstay.shadow&&r.shadow!==!1&&(i=t.mainstay.shadow.get(this.absolute(t))),i===void 0&&(i=x2e(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(i=this.adjust(i)),this.map){let s=this.map.get(i);s!==void 0&&(i=s)}return i}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new cl.Ref(this)}updateDisplay(){let e=this.key!==null?this.key:"";if(this.type!=="value"){this.display=`ref:${this.type}:${e}`;return}if(!this.separator){this.display=`ref:${e}`;return}if(!this.ancestor){this.display=`ref:${this.separator}${e}`;return}if(this.ancestor==="root"){this.display=`ref:root:${e}`;return}if(this.ancestor===1){this.display=`ref:${e||".."}`;return}let t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}};cl.Ref.prototype[Vv.symbols.ref]=!0;cl.context=function(e,t,r={}){if(e=e.trim(),r){let i=r.global===void 0?"$":r.global;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"global"};let s=r.local===void 0?"#":r.local;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"local"};let n=r.root===void 0?"/":r.root;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"value",root:!0}}return{key:e,type:"value"}};cl.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]};rc.toSibling=0;rc.toParent=1;rc.Manager=class{constructor(){this.refs=[]}register(e,t){if(!e)return;if(t=t===void 0?rc.toParent:t,Array.isArray(e)){for(let r of e)this.register(r,t);return}if(Vv.isSchema(e)){for(let r of e._refs.refs)r.ancestor-t>=0&&this.refs.push({ancestor:r.ancestor-t,root:r.root});return}rc.isRef(e)&&e.type==="value"&&e.ancestor-t>=0&&this.refs.push({ancestor:e.ancestor-t,root:e.root})}clone(){let e=new rc.Manager;return e.refs=b2e(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}}),Ob=O((Jj,Zj)=>{"use strict";var Qj=dt(),E2e=zr(),S2e=Cb(),eF=_n(),R2e=sh(),zn={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};Zj.exports=Jj=zn.Template=class{constructor(e,t){Qj(typeof e=="string","Template source must be a string"),Qj(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=E2e(t),this._parse()}_parse(){if(!this.source.includes("{"))return;let e=zn.encode(this.source),t=zn.split(e),r=[],i=t.shift();i&&r.push(i);for(let s of t){let n=s[0]!=="{",a=n?"}":"}}",o=s.indexOf(a),u=s.slice(n?0:1,o),d=u[0]===":";d&&(u=u.slice(1));let m=this._ref(zn.decode(u),{raw:n,wrapped:d});r.push(m);let f=s.slice(o+a.length);f&&r.push(zn.decode(f))}this._template=r}static date(e,t){return zn.dateFormat[t.dateFormat].call(e)}isDynamic(){return!!this._template}static isTemplate(e){return e?!!e[eF.symbols.template]:!1}render(e,t,r,i,s={}){if(!this.isDynamic())return this.rendered;let n=[];for(let a of this._template)if(typeof a=="string")n.push(a);else{let o=a.ref.resolve(e,t,r,i,s),u=zn.stringify(o,r,s.errors),d=a.raw||(s.errors&&s.errors.escapeHtml)===!1?u:S2e(u);n.push(zn.wrap(d,a.wrapped&&r.errors.wrap.label))}return n.join("")}_ref(e,{raw:t,wrapped:r}){let i=R2e.create(e,this._settings);return{ref:i,raw:t,wrapped:r||i.type==="local"&&i.key==="label"}}toString(){return this.source}};zn.Template.prototype[eF.symbols.template]=!0;zn.Template.prototype.isImmutable=!0;zn.encode=function(e){return e.replace(/\\(\{+)/g,(t,r)=>zn.opens.slice(0,r.length)).replace(/\\(\}+)/g,(t,r)=>zn.closes.slice(0,r.length))};zn.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")};zn.split=function(e){let t=[],r="";for(let i=0;i<e.length;++i){let s=e[i];if(s==="{"){let n="";for(;i+1<e.length&&e[i+1]==="{";)n+="{",++i;t.push(r),r=n}else r+=s}return t.push(r),t};zn.wrap=function(e,t){return t?t.length===1?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e};zn.stringify=function(e,t,r){let i=typeof e;if(e===null)return"null";if(e===void 0)return"";if(i==="string")return e;if(i==="number"||i==="function"||i==="symbol")return e.toString();if(i!=="object")return JSON.stringify(e);if(e instanceof Date)return zn.Template.date(e,t);if(e instanceof Map){let n=[];for(let[a,o]of e.entries())n.push(`${a.toString()} -> ${o.toString()}`);e=n}if(!Array.isArray(e))return e.toString();let s="";for(let n of e)s=s+(s.length?", ":"")+zn.stringify(n,t,r);return zn.wrap(s,t.errors.wrap.array)}}),Pb=O(kb=>{"use strict";var Zp=dt(),tF=zr(),oo=Ob();kb.compile=function(e,t){if(typeof e=="string")return Zp(!t,"Cannot set single message string"),new oo(e);if(oo.isTemplate(e))return Zp(!t,"Cannot set single message template"),e;Zp(typeof e=="object"&&!Array.isArray(e),"Invalid message options"),t=t?tF(t):{};for(let r in e){let i=e[r];if(r==="root"||oo.isTemplate(i)){t[r]=i;continue}if(typeof i=="string"){t[r]=new oo(i);continue}Zp(typeof i=="object"&&!Array.isArray(i),"Invalid message for",r);let s=r;t[s]=t[s]||{};for(r in i){let n=i[r];if(r==="root"||oo.isTemplate(n)){t[s][r]=n;continue}Zp(typeof n=="string","Invalid message for",r,"in",s),t[s][r]=new oo(n)}}return t};kb.merge=function(e,t){if(!e)return kb.compile(t);if(!t)return e;if(typeof t=="string")return new oo(t);if(oo.isTemplate(t))return t;let r=tF(e);for(let i in t){let s=t[i];if(i==="root"||oo.isTemplate(s)){r[i]=s;continue}if(typeof s=="string"){r[i]=new oo(s);continue}Zp(typeof s=="object"&&!Array.isArray(s),"Invalid message for",i);let n=i;r[n]=r[n]||{};for(i in s){let a=s[i];if(i==="root"||oo.isTemplate(a)){r[n][i]=a;continue}Zp(typeof a=="string","Invalid message for",i,"in",n),r[n][i]=new oo(a)}}return r}}),_n=O(Tn=>{"use strict";var eO=dt(),A2e=Gv(),T2e=Kj(),tO,rO,C2e={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};Tn.version=T2e.version;Tn.defaults={abortEarly:!0,allowUnknown:!1,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1};Tn.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")};Tn.assertOptions=function(e,t,r="Options"){eO(e&&typeof e=="object"&&!Array.isArray(e),"Options must be of type object");let i=Object.keys(e).filter(s=>!t.includes(s));eO(i.length===0,`${r} contain unknown keys: ${i}`)};Tn.checkPreferences=function(e){rO=rO||Yj();let t=rO.preferences.validate(e);if(t.error)throw new A2e([t.error.details[0].message])};Tn.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}};Tn.default=function(e,t){return e===void 0?t:e};Tn.isIsoDate=function(e){return C2e.isoDate.test(e)};Tn.isNumber=function(e){return typeof e=="number"&&!isNaN(e)};Tn.isResolvable=function(e){return e?e[Tn.symbols.ref]||e[Tn.symbols.template]:!1};Tn.isSchema=function(e,t={}){let r=e&&e[Tn.symbols.any];return!!r};Tn.limit=function(e){return Number.isSafeInteger(e)&&e>=0};Tn.preferences=function(e,t){tO=tO||Pb(),e=e||{},t=t||{};let r=Object.assign({},e,t);return t.errors&&e.errors&&(r.errors=Object.assign({},e.errors,t.errors),r.errors.wrap=Object.assign({},e.errors.wrap,t.errors.wrap)),t.messages&&(r.messages=tO.compile(t.messages,e.messages)),delete r[Tn.symbols.prefs],r};Tn.tryWithPath=function(e,t,r={}){try{return e()}catch(i){throw i.path!==void 0?i.path=t+"."+i.path:i.path=t,r.append&&(i.message=`${i.message} (${i.path})`),i}};Tn.validateArg=function(e,t,{assert:r,message:i}){if(Tn.isSchema(r)){let s=r.validate(e);return s.error?s.error.message:void 0}else if(!r(e))return t?`${t} ${i}`:i};Tn.verifyFlat=function(e,t){for(let r of e)eO(!Array.isArray(r),"Method no longer accepts array arguments:",t)}}),Qp=O(ah=>{"use strict";var Ln=dt(),nc=_n(),$m=sh(),oh={};ah.schema=function(e,t,r={}){nc.assertOptions(r,["appendPath","override"]);try{return oh.schema(e,t,r)}catch(i){throw r.appendPath&&i.path!==void 0&&(i.message=`${i.message} (${i.path})`),i}};oh.schema=function(e,t,r){Ln(t!==void 0,"Invalid undefined schema"),Array.isArray(t)&&(Ln(t.length,"Invalid empty array schema"),t.length===1&&(t=t[0]));let i=(s,...n)=>r.override!==!1?s.valid(e.override,...n):s.valid(...n);if(oh.simple(t))return i(e,t);if(typeof t=="function")return e.custom(t);if(Ln(typeof t=="object","Invalid schema content:",typeof t),nc.isResolvable(t))return i(e,t);if(nc.isSchema(t))return t;if(Array.isArray(t)){for(let s of t)if(!oh.simple(s))return e.alternatives().try(...t);return i(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?i(e.date(),t):(Ln(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))};ah.ref=function(e,t){return $m.isRef(e)?e:$m.create(e,t)};ah.compile=function(e,t){let r=t&&t[nc.symbols.any];return r?(Ln(r.version===nc.version,"Cannot mix different versions of joi schemas:",r.version,nc.version),t):ah.schema(e,t,{appendPath:!0})};oh.simple=function(e){return e===null||["boolean","string","number"].includes(typeof e)};ah.when=function(e,t,r){if(r===void 0&&(Ln(t&&typeof t=="object","Missing options"),r=t,t=$m.create(".")),Array.isArray(r)&&(r={switch:r}),nc.assertOptions(r,["is","not","then","otherwise","switch","break"]),nc.isSchema(t))return Ln(r.is===void 0,'"is" can not be used with a schema condition'),Ln(r.not===void 0,'"not" can not be used with a schema condition'),Ln(r.switch===void 0,'"switch" can not be used with a schema condition'),oh.condition(e,{is:t,then:r.then,otherwise:r.otherwise,break:r.break});if(Ln($m.isRef(t)||typeof t=="string","Invalid condition:",t),Ln(r.not===void 0||r.is===void 0,'Cannot combine "is" with "not"'),r.switch===void 0){let s=r;r.not!==void 0&&(s={is:r.not,then:r.otherwise,otherwise:r.then,break:r.break});let n=s.is!==void 0?e.$_compile(s.is):e.$_root.invalid(null,!1,0,"").required();return Ln(s.then!==void 0||s.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),Ln(s.break===void 0||s.then===void 0||s.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),r.is!==void 0&&!$m.isRef(r.is)&&!nc.isSchema(r.is)&&(n=n.required()),oh.condition(e,{ref:ah.ref(t),is:n,then:s.then,otherwise:s.otherwise,break:s.break})}Ln(Array.isArray(r.switch),'"switch" must be an array'),Ln(r.is===void 0,'Cannot combine "switch" with "is"'),Ln(r.not===void 0,'Cannot combine "switch" with "not"'),Ln(r.then===void 0,'Cannot combine "switch" with "then"');let i={ref:ah.ref(t),switch:[],break:r.break};for(let s=0;s<r.switch.length;++s){let n=r.switch[s],a=s===r.switch.length-1;nc.assertOptions(n,a?["is","then","otherwise"]:["is","then"]),Ln(n.is!==void 0,'Switch statement missing "is"'),Ln(n.then!==void 0,'Switch statement missing "then"');let o={is:e.$_compile(n.is),then:e.$_compile(n.then)};if(!$m.isRef(n.is)&&!nc.isSchema(n.is)&&(o.is=o.is.required()),a){Ln(r.otherwise===void 0||n.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let u=r.otherwise!==void 0?r.otherwise:n.otherwise;u!==void 0&&(Ln(i.break===void 0,"Cannot specify both otherwise and break"),o.otherwise=e.$_compile(u))}i.switch.push(o)}return i};oh.condition=function(e,t){for(let r of["then","otherwise"])t[r]===void 0?delete t[r]:t[r]=e.$_compile(t[r]);return t}}),nF=O(rF=>{"use strict";var O2e=zr(),k2e=_n(),ed={annotations:Symbol("annotations")};rF.error=function(e){if(!this._original||typeof this._original!="object")return this.details[0].message;let t=e?"":"[31m",r=e?"":"[41m",i=e?"":"[0m",s=O2e(this._original);for(let o=this.details.length-1;o>=0;--o){let u=o+1,d=this.details[o],m=d.path,f=s;for(let x=0;;++x){let T=m[x];if(k2e.isSchema(f)&&(f=f.clone()),x+1<m.length&&typeof f[T]!="string")f=f[T];else{let q=f[ed.annotations]||{errors:{},missing:{}};f[ed.annotations]=q;let F=T||d.context.key;f[T]!==void 0?(q.errors[F]=q.errors[F]||[],q.errors[F].push(u)):q.missing[F]=u;break}}}let n={key:/_\$key\$_([, \d]+)_\$end\$_"/g,missing:/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,arrayIndex:/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g},a=ed.safeStringify(s,2).replace(n.key,(o,u)=>`" ${t}[${u}]${i}`).replace(n.missing,(o,u,d)=>`${r}"${u}"${i}${t} [${d}]: -- missing --${i}`).replace(n.arrayIndex,(o,u,d)=>`
${d} ${t}[${u}]${i}`).replace(n.specials,(o,u)=>u);a=`${a}
${t}`;for(let o=0;o<this.details.length;++o){let u=o+1;a=`${a}
[${u}] ${this.details[o].message}`}return a=a+i,a};ed.safeStringify=function(e,t){return JSON.stringify(e,ed.serializer(),t)};ed.serializer=function(){let e=[],t=[],r=(i,s)=>t[0]===s?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(s)).join(".")+"]";return function(i,s){if(t.length>0){let n=t.indexOf(this);~n?(t.length=n+1,e.length=n+1,e[n]=i):(t.push(this),e.push(i)),~t.indexOf(s)&&(s=r.call(this,i,s))}else t.push(s);if(s){let n=s[ed.annotations];if(n){if(Array.isArray(s)){let a=[];for(let o=0;o<s.length;++o)n.errors[o]&&a.push(`_$idx$_${n.errors[o].sort().join(", ")}_$end$_`),a.push(s[o]);s=a}else{for(let a in n.errors)s[`${a}_$key$_${n.errors[a].sort().join(", ")}_$end$_`]=s[a],s[a]=void 0;for(let a in n.missing)s[`_$miss$_${a}|${n.missing[a]}_$end$_`]="__missing__"}return s}}return s===Infinity||s===-Infinity||Number.isNaN(s)||typeof s=="function"||typeof s=="symbol"?"["+s.toString()+"]":s}}}),td=O(Vn=>{"use strict";var P2e=nF(),I2e=_n(),q2e=Ob();Vn.Report=class{constructor(e,t,r,i,s,n,a){if(this.code=e,this.flags=i,this.messages=s,this.path=n.path,this.prefs=a,this.state=n,this.value=t,this.message=null,this.local=r||{},this.local.label=Vn.label(this.flags,this.state,this.prefs,this.messages),this.value!==void 0&&!this.local.hasOwnProperty("value")&&(this.local.value=this.value),this.path.length){let o=this.path[this.path.length-1];typeof o!="object"&&(this.local.key=o)}}toString(){if(this.message)return this.message;let e=this.code;if(!this.prefs.errors.render)return this.code;let t=this._template(this.prefs.messages)||this._template(this.messages);return t===void 0?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e){return Vn.template(this.value,e,this.code,this.state,this.prefs)}};Vn.path=function(e){let t="";for(let r of e){if(typeof r=="object")continue;typeof r=="string"?(t&&(t+="."),t+=r):t+=`[${r}]`}return t};Vn.template=function(e,t,r,i,s){if(q2e.isTemplate(t))return r!=="root"?t:null;let n=s.errors.language;return I2e.isResolvable(n)&&(n=n.resolve(e,i,s)),n&&t[n]&&t[n][r]!==void 0?t[n][r]:t[r]};Vn.label=function(e,t,r,i){if(!r.errors.label)return"";let s=t.path;r.errors.label==="key"&&t.path.length>1&&(s=t.path.slice(-1));let n=Vn.path(s);return n||(Vn.template(null,r.messages,"root",t,r)||Vn.template(null,i,"root",t,r)||"value")};Vn.process=function(e,t,r){if(!e)return null;let{override:i,message:s,details:n}=Vn.details(e);if(i)return i;if(r.errors.stack)return new Vn.ValidationError(s,n,t);let a=Error.stackTraceLimit;Error.stackTraceLimit=0;let o=new Vn.ValidationError(s,n,t);return Error.stackTraceLimit=a,o};Vn.details=function(e,t={}){let r=[],i=[];for(let s of e){if(s instanceof Error){if(t.override!==!1)return{override:s};let a=s.toString();r.push(a),i.push({message:a,type:"override",context:{error:s}});continue}let n=s.toString();r.push(n),i.push({message:n,path:s.path.filter(a=>typeof a!="object"),type:s.code,context:s.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:i}};Vn.ValidationError=class extends Error{constructor(e,t,r){super(e);this._original=r,this.details=t}static isError(e){return e instanceof Vn.ValidationError}};Vn.ValidationError.prototype.isJoi=!0;Vn.ValidationError.prototype.name="ValidationError";Vn.ValidationError.prototype.annotate=P2e.error}),sF=O(iF=>{"use strict";var jm=dt(),N2e=zr(),M2e=_n(),L2e=Pb();iF.type=function(e,t){let r=Object.getPrototypeOf(e),i=N2e(r),s=e._assign(Object.create(i)),n=Object.assign({},t);delete n.base,i._definition=n;let a=r._definition||{};n.messages=L2e.merge(a.messages,n.messages),n.properties=Object.assign({},a.properties,n.properties),s.type=n.type,n.flags=Object.assign({},a.flags,n.flags);let o=Object.assign({},a.terms);if(n.terms)for(let d in n.terms){let m=n.terms[d];jm(s.$_terms[d]===void 0,"Invalid term override for",n.type,d),s.$_terms[d]=m.init,o[d]=m}n.terms=o,n.args||(n.args=a.args),n.coerce&&(typeof n.coerce=="function"&&(n.coerce={method:n.coerce}),n.coerce.from&&!Array.isArray(n.coerce.from)&&(n.coerce={method:n.coerce.method,from:[].concat(n.coerce.from)})),n.coerce=n.coerce||a.coerce,n.validate=n.validate||a.validate;let u=Object.assign({},a.rules);if(n.rules)for(let d in n.rules){let m=n.rules[d];jm(typeof m=="object","Invalid rule definition for",n.type,d);let f=m.method;if(f&&(jm(!i[d],"Rule conflict in",n.type,d),i[d]=f),jm(!u[d],"Rule conflict in",n.type,d),u[d]=m,m.alias){let x=[].concat(m.alias);for(let T of x)i[T]=m.method}m.args&&(m.argsByName=new Map,m.args=m.args.map(x=>(typeof x=="string"&&(x={name:x}),jm(!m.argsByName.has(x.name),"Duplicated argument name",x.name),m.argsByName.set(x.name,x),x)))}if(n.rules=u,n.overrides){i._super=r,s.$_super={};for(let d in n.overrides)jm(r[d],"Cannot override missing",d),n.overrides[d][M2e.symbols.parent]=r[d],s.$_super[d]=r[d].bind(s);Object.assign(i,n.overrides)}return n.cast=Object.assign({},a.cast,n.cast),n.rebuild=n.rebuild||a.rebuild,s}}),oF=O(nO=>{"use strict";var rd=dt(),aF=_n(),D2e=sh(),ch={};nO.Ids=ch.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let e=new ch.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(let[t,r]of e._byId.entries())rd(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(let[t,r]of e._byKey.entries())rd(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}reach(e,t=[]){let r=e[0],i=this._get(r);rd(i,"Schema does not contain path",[...t,...e].join("."));let s=e.slice(1);return s.length?i.schema._ids.reach(s,[...t,r]):i.schema}register(e,{key:t}={}){if(!e||!aF.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);let r=e._flags.id;if(r){let i=this._byId.get(r);rd(!i||i.schema===e,"Cannot add different schemas with the same id:",r),rd(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(rd(!this._byKey.has(t),"Schema already contains key:",t),rd(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_get(e){return this._byId.get(e)||this._byKey.get(e)}};nO.schema=function(e,t){let r;for(let i in e._flags){if(i[0]==="_")continue;let s=ch.scan(e._flags[i],{source:"flags",name:i},t);s!==void 0&&(r=r||e.clone(),r._flags[i]=s)}for(let i=0;i<e._rules.length;++i){let s=e._rules[i],n=ch.scan(s.args,{source:"rules",name:s.name},t);if(n!==void 0){r=r||e.clone();let a=Object.assign({},s);a.args=n,r._rules[i]=a;let o=r._singleRules.get(s.name);o===s&&r._singleRules.set(s.name,a)}}for(let i in e.$_terms){if(i[0]==="_")continue;let s=ch.scan(e.$_terms[i],{source:"terms",name:i},t);s!==void 0&&(r=r||e.clone(),r.$_terms[i]=s)}return r};ch.scan=function(e,t,r,i,s){let n=i||[];if(e===null||typeof e!="object")return;let a;if(Array.isArray(e)){for(let o=0;o<e.length;++o){let u=t.name==="keys"&&e[o].key,d=ch.scan(e[o],t,r,[o,...n],u);d!==void 0&&(a=a||e.slice(),a[o]=d)}return a}if(r.schema!==!1&&aF.isSchema(e)||r.ref!==!1&&D2e.isRef(e)){let o=r.each(e,{...t,path:n,key:s});return o}for(let o in e){if(o[0]==="_")continue;let u=ch.scan(e[o],t,r,[o,...n],s);u!==void 0&&(a=a||Object.assign({},e),a[o]=u)}return a}}),uF=O((oXe,cF)=>{"use strict";var $2e=zr(),lF=so(),j2e=_n(),ll={value:Symbol("value")};cF.exports=ll.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas}localize(e,t=null,r=null){let i=new ll.State(e,t,this);return r&&i.schemas&&(i.schemas=[ll.schemas(r),...i.schemas]),i}nest(e){let t=new ll.State(this.path,this.ancestors,this);return t.schemas=t.schemas&&[ll.schemas(e),...t.schemas],t}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new ll.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=$2e(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}};ll.schemas=function(e){return j2e.isSchema(e)?{schema:e}:e};ll.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length)return;if(r==="strip"&&typeof e[e.length-1]=="number")return;this._values=this._values||new Map;let i=this._values;for(let s=0;s<e.length;++s){let n=e[s],a=i.get(n);a||(a=new Map,i.set(n,a)),i=a}i[ll.value]=t}get(e){let t=this.node(e);if(t)return t[ll.value]}node(e){return this._values?lF(this._values,e,{iterables:!0}):void 0}override(e,t){if(!this._values)return;let r=e.slice(0,-1),i=e[e.length-1],s=lF(this._values,r,{iterables:!0});if(t){s.set(i,t);return}s&&s.delete(i)}}}),hF=O(Ib=>{"use strict";var F2e=dt(),fF=zr(),Ts=_n(),iO=td(),B2e=uF(),Ir={result:Symbol("result")};Ib.entry=function(e,t,r){let i=Ts.defaults;r&&(i=Ts.preferences(Ts.defaults,r));let s=Ir.entry(e,t,i),n={value:s.value};return s.error&&(n.error=s.error),n};Ir.entry=function(e,t,r){let i=t._ids._schemaChain?new Map:null,s={links:i},n=t._ids._schemaChain?[{schema:t}]:null,a=new B2e([],[],{mainstay:s,schemas:n}),o=Ib.validate(e,t,a,r),u=iO.process(o.errors,e,r);return{value:o.value,error:u,mainstay:s}};Ib.validate=function(e,t,r,i,s={}){t.$_terms.whens&&(t=t._generate(e,r,i).schema),t._preferences&&(i=Ir.prefs(t,i));let n=(f,x,T)=>t.$_createError(f,e,x,T||r,i),a={original:e,prefs:i,schema:t,state:r,error:n,errorsArray:Ir.errorsArray,message:(f,x)=>t.$_createError("custom",e,x,r,i,{messages:f})},o=t._definition;if(o.coerce&&e!==void 0&&i.convert&&(!o.coerce.from||o.coerce.from.includes(typeof e))){let f=o.coerce.method(e,a);if(f){if(f.errors)return Ir.finalize(f.value,[].concat(f.errors),a);e=f.value}}let u=t._flags.empty;u&&u.$_match(Ir.trim(e,t),r.nest(u),Ts.defaults)&&(e=void 0);let d=s.presence||t._flags.presence||(t._flags._endedSwitch?null:i.presence);if(e===void 0){if(d==="forbidden")return Ir.finalize(e,null,a);if(d==="required")return Ir.finalize(e,[t.$_createError("any.required",e,null,r,i)],a);if(d==="optional"){if(t._flags.default!==Ts.symbols.deepDefault)return Ir.finalize(e,null,a);e={}}}else if(d==="forbidden")return Ir.finalize(e,[t.$_createError("any.unknown",e,null,r,i)],a);let m=[];if(t._valids){let f=t._valids.get(e,r,i,t._flags.insensitive);if(f)return i.convert&&(e=f.value),Ir.finalize(e,null,a);if(t._flags.only){let x=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,i);if(i.abortEarly)return Ir.finalize(e,[x],a);m.push(x)}}if(t._invalids){let f=t._invalids.get(e,r,i,t._flags.insensitive);if(f){let x=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,i);if(i.abortEarly)return Ir.finalize(e,[x],a);m.push(x)}}if(o.validate){let f=o.validate(e,a);if(f&&(e=f.value,f.errors)){if(!Array.isArray(f.errors))return m.push(f.errors),Ir.finalize(e,m,a);if(f.errors.length)return m.push(...f.errors),Ir.finalize(e,m,a)}}return t._rules.length?Ir.rules(e,m,a):Ir.finalize(e,m,a)};Ir.rules=function(e,t,r){let{schema:i,state:s,prefs:n}=r;for(let a of i._rules){let o=i._definition.rules[a.method];if(o.convert&&n.convert)continue;let u,d=a.args;if(a._resolve.length){d=Object.assign({},d);for(let f of a._resolve){let x=o.argsByName.get(f),T=d[f].resolve(e,s,n),q=x.normalize?x.normalize(T):T,F=Ts.validateArg(q,null,x);if(F){u=i.$_createError("any.ref",T,{arg:f,ref:d[f],reason:F},s,n);break}d[f]=q}}u=u||o.validate(e,r,d,a);let m=Ir.rule(u,a);if(m.errors){if(n.abortEarly)return Ir.finalize(e,m.errors,r);t.push(...m.errors)}else e=m.value}return Ir.finalize(e,t,r)};Ir.rule=function(e,t){return e instanceof iO.Report?{errors:[e],value:null}:Array.isArray(e)&&e[Ts.symbols.errors]?{errors:e,value:null}:{errors:null,value:e}};Ir.finalize=function(e,t,r){t=t||[];let{schema:i,state:s}=r;if(t.length){let a=Ir.default("failover",void 0,t,r);a!==void 0&&(e=a,t=[])}if(t.length&&i._flags.error)if(typeof i._flags.error=="function"){t=i._flags.error(t),Array.isArray(t)||(t=[t]);for(let a of t)F2e(a instanceof Error||a instanceof iO.Report,"error() must return an Error object")}else t=[i._flags.error];if(e===void 0){let a=Ir.default("default",e,t,r);e=a}if(i._flags.cast&&e!==void 0){let a=i._definition.cast[i._flags.cast];if(a.from(e)){let o=a.to(e,r);e=o}}let n={value:e,errors:t.length?t:null};return i._flags.result&&(n.value=i._flags.result==="strip"?void 0:r.original,s.shadow(e,i._flags.result)),n};Ir.prefs=function(e,t){let r=t===Ts.defaults;return r&&e._preferences[Ts.symbols.prefs]?e._preferences[Ts.symbols.prefs]:(t=Ts.preferences(t,e._preferences),r&&(e._preferences[Ts.symbols.prefs]=t),t)};Ir.default=function(e,t,r,i){let{schema:s,state:n,prefs:a}=i,o=s._flags[e];if(a.noDefaults||o===void 0)return t;if(!o)return o;if(typeof o=="function"){let u=o.length?[fF(n.ancestors[0]),i]:[];try{return o(...u)}catch(d){r.push(s.$_createError(`any.${e}`,null,{error:d},n,a));return}}return typeof o!="object"?o:o[Ts.symbols.literal]?o.literal:Ts.isResolvable(o)?o.resolve(t,n,a):fF(o)};Ir.trim=function(e,t){if(typeof e!="string")return e;let r=t.$_getRule("trim");return!r||!r.args.enabled?e:e.trim()};Ir.errorsArray=function(){let e=[];return e[Ts.symbols.errors]=!0,e}}),aO=O((lXe,pF)=>{"use strict";var U2e=dt(),dF=al(),sO=_n(),Pu={};pF.exports=Pu.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=Pu.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){if(sO.isResolvable(e)){this._refs.has(e)||(this._refs.add(e),t&&t.register(e));return}this.has(e,null,null,!1)||(this._values.add(e),typeof e=="string"&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new Pu.Values,t){if(t._override)return t.clone();for(let i of[...t._values,...t._refs])e.add(i)}if(r)for(let i of[...r._values,...r._refs])e.remove(i);return e.length?e:null}remove(e){if(sO.isResolvable(e)){this._refs.delete(e);return}this._values.delete(e),typeof e=="string"&&this._lowercase.delete(e.toLowerCase())}has(e,t,r,i){return!!this.get(e,t,r,i)}get(e,t,r,i){if(!this.length)return!1;if(this._values.has(e))return{value:e};if(typeof e=="string"&&e&&i){let s=this._lowercase.get(e.toLowerCase());if(s)return{value:s}}if(!this._refs.size&&typeof e!="object")return!1;if(typeof e=="object"){for(let s of this._values)if(dF(s,e))return{value:s}}if(t)for(let s of this._refs){let n=s.resolve(e,t,r,null,{in:!0});if(n===void 0)continue;let a=!s.in||typeof n!="object"?[n]:Array.isArray(n)?n:Object.keys(n);for(let o of a){if(typeof o!==typeof e)continue;if(i&&e&&typeof e=="string"){if(o.toLowerCase()===e.toLowerCase())return{value:o,ref:s}}else if(dF(o,e))return{value:o,ref:s}}}return!1}override(){this._override=!0}values(e){if(e&&e.display){let t=[];for(let r of[...this._values,...this._refs])r!==void 0&&t.push(r);return t}return Array.from([...this._values,...this._refs])}clone(){let e=new Pu.Values(this._values,this._refs);return e._override=this._override,e}concat(e){U2e(!e._override,"Cannot concat override set of values");let t=new Pu.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}};Pu.Values.prototype[sO.symbols.values]=!0;Pu.Values.prototype.slice=Pu.Values.prototype.clone;Pu.lowercases=function(e){let t=new Map;if(e)for(let r of e)typeof r=="string"&&t.set(r.toLowerCase(),r);return t}}),_F=O((uXe,mF)=>{"use strict";var Vr=dt(),H2e=zr(),gF=al(),oO=zv(),wi=_n(),cO=Qp(),G2e=td(),z2e=sF(),V2e=Pb(),yF=oF(),vF=sh(),lO=hF(),qb=aO(),bi={};bi.Base=class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._ids=new yF.Ids,this._preferences=null,this._refs=new vF.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={whens:{}}}allow(...e){return wi.verifyFlat(e,"allow"),this._values(e,"_valids")}cast(e){return Vr(e===!1||typeof e=="string","Invalid to value"),Vr(e===!1||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",e===!1?void 0:e)}default(e,t){return this._default("default",e,t)}empty(e){let t=this.clone();return e!==void 0&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return Vr(e,"Missing error"),Vr(e instanceof Error||typeof e=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",e)}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(Vr(typeof e=="string","id must be a non-empty string"),Vr(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}only(e=!0){return Vr(typeof e=="boolean","Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){Vr(e,"Missing preferences"),Vr(e.context===void 0,"Cannot override context"),wi.checkPreferences(e);let t=this.clone();return t._preferences=wi.preferences(t._preferences,e),t}presence(e){return Vr(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}required(){return this.presence("required")}strict(e){let t=this.clone(),r=e===void 0?!1:!e;return t._preferences=wi.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}valid(...e){wi.verifyFlat(e,"valid");let t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){let r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);let i=cO.when(r,e,t);if(!["any","link"].includes(r.type)){let s=i.is?[i]:i.switch;for(let n of s)Vr(!n.then||n.then.type==="any"||n.then.type===r.type,"Cannot combine",r.type,"with",n.then&&n.then.type),Vr(!n.otherwise||n.otherwise.type==="any"||n.otherwise.type===r.type,"Cannot combine",r.type,"with",n.otherwise&&n.otherwise.type)}return r.$_terms.whens.push(i),r.$_mutateRebuild()}clone(){let e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){Vr(wi.isSchema(e),"Invalid schema object"),Vr(this.type==="any"||e.type==="any"||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type);let t=this.clone();if(this.type==="any"&&e.type!=="any"){let r=e.clone();for(let i of Object.keys(t))i!=="type"&&(r[i]=t[i]);t=r}t._ids.concat(e._ids),t._refs.register(e,vF.toSibling),t._preferences=t._preferences?wi.preferences(t._preferences,e._preferences):e._preferences,t._valids=qb.merge(t._valids,e._valids,e._invalids),t._invalids=qb.merge(t._invalids,e._invalids,e._valids);for(let r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter(i=>i.name!==r),t._singleRules.delete(r));for(let r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);let r=Object.assign({},e._flags);delete r.empty,oO(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;let r=Object.assign({},e._flags);delete r.empty,oO(t._flags,r)}else oO(t._flags,e._flags);for(let r in e.$_terms){let i=e.$_terms[r];if(!i){t.$_terms[r]||(t.$_terms[r]=i);continue}if(!t.$_terms[r]){t.$_terms[r]=i.slice();continue}t.$_terms[r]=t.$_terms[r].concat(i)}return t.$_mutateRebuild()}validate(e,t){return lO.entry(e,this,t)}validateAsync(e,t){let r=this.validate(e,t);if(r.error)throw r.error;return r.value}$_addRule(e){typeof e=="string"&&(e={name:e}),Vr(e&&typeof e=="object","Invalid options"),Vr(e.name&&typeof e.name=="string","Invalid rule name");for(let n in e)Vr(n[0]!=="_","Cannot set private rule properties");let t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;let r=this._definition.rules[t.method],i=t.args;Vr(r,"Unknown rule",t.method);let s=this.clone();if(i){Vr(Object.keys(i).length===1||Object.keys(i).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(let n in i){let a=i[n];if(a===void 0){delete i[n];continue}if(r.argsByName){let o=r.argsByName.get(n);if(o.ref&&wi.isResolvable(a))t._resolve.push(n),s.$_mutateRegister(a);else if(o.normalize&&(a=o.normalize(a),i[n]=a),o.assert){let u=wi.validateArg(a,n,o);Vr(!u,u,"or reference")}}i[n]=a}}return r.multi||(s._ruleRemove(t.name),s._singleRules.set(t.name,t)),r.priority?s._rules.unshift(t):s._rules.push(t),s}$_compile(e,t){return cO.schema(this.$_root,e,t)}$_createError(e,t,r,i,s,n={}){let a=n.flags!==!1?this._flags:{},o=n.messages?V2e.merge(this._definition.messages,n.messages):this._definition.messages;return new G2e.Report(e,t,r,a,o,i,s)}$_getRule(e){return this._singleRules.get(e)}$_match(e,t,r,i){r=Object.assign({},r),r.abortEarly=!0,r._externals=!1,t.snapshot();let s=!lO.validate(e,this,t,r,i).errors;return t.restore(),s}$_modify(e){return wi.assertOptions(e,["each","once","ref","schema"]),yF.schema(this,e)||this}$_mutateRebuild(){this._refs.reset(),this._ids.reset();let e=(t,{source:r,name:i,path:s,key:n})=>{let a=this._definition[r][i]&&this._definition[r][i].register;a!==!1&&this.$_mutateRegister(t,{family:a,key:n})};return this.$_modify({each:e}),this._definition.rebuild&&this._definition.rebuild(this),this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){let i=this._definition.flags[e]||{};if(gF(t,i.default)&&(t=void 0),gF(t,this._flags[e]))return this;let s=r.clone!==!1?this.clone():this;return t!==void 0?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],s}$_parent(e,...t){return this[e][wi.symbols.parent].call(this,...t)}$_validate(e,t,r){return lO.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=H2e(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(let t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(let t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_default(e,t,r={}){wi.assertOptions(r,"literal"),Vr(t!==void 0,"Missing",e,"value"),Vr(typeof t=="function"||!r.literal,"Only function value supports literal option"),typeof t=="function"&&r.literal&&(t={[wi.symbols.literal]:!0,literal:t});let i=this.$_setFlag(e,t);return i}_extend(e){return Vr(!e.base,"Cannot extend type with another base"),z2e.type(this,e)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};let i=[],s=[];for(let o=0;o<this.$_terms.whens.length;++o){let u=this.$_terms.whens[o];if(u.concat){i.push(u.concat),s.push(`${o}.concat`);continue}let d=u.ref?u.ref.resolve(e,t,r):e,m=u.is?[u]:u.switch,f=s.length;for(let x=0;x<m.length;++x){let{is:T,then:q,otherwise:F}=m[x],$=`${o}${u.switch?"."+x:""}`;if(T.$_match(d,t.nest(T,`${$}.is`),r)){if(q){let H=t.localize([...t.path,`${$}.then`],t.ancestors,t.schemas),{schema:oe,id:Q}=q._generate(e,H,r);i.push(oe),s.push(`${$}.then${Q?`(${Q})`:""}`);break}}else if(F){let H=t.localize([...t.path,`${$}.otherwise`],t.ancestors,t.schemas),{schema:oe,id:Q}=F._generate(e,H,r);i.push(oe),s.push(`${$}.otherwise${Q?`(${Q})`:""}`);break}}if(u.break&&s.length>f)break}let n=s.join(", ");if(!n)return{schema:this};if(this.$_temp.whens[n])return{schema:this.$_temp.whens[n],id:n};let a=this;this._definition.generate&&(a=this._definition.generate(this,e,t,r));for(let o of i)a=a.concat(o);return this.$_temp.whens[n]=a,{schema:a,id:n}}_ruleRemove(e){if(!this._singleRules.has(e))return this;this._singleRules.delete(e);let t=[];for(let r=0;r<this._rules.length;++r){let i=this._rules[r];if(i.name===e)continue;t.push(i)}this._rules=t}_values(e,t){wi.verifyFlat(e,t.slice(1,-1));let r=this.clone(),i=e[0]===wi.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new qb:i&&(r[t]=e.length?new qb:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();for(let s of e){Vr(s!==void 0,"Cannot call allow/valid/invalid with undefined"),Vr(s!==wi.symbols.override,"Override must be the first value");let n=t==="_invalids"?"_valids":"_invalids";r[n]&&(r[n].remove(s),r[n].length||(Vr(t==="_valids"||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[n]=null)),r[t].add(s,r._refs)}return r}};bi.Base.prototype[wi.symbols.any]={version:wi.version,compile:cO.compile,root:"$_root"};bi.Base.prototype.isImmutable=!0;bi.Base.prototype.deny=bi.Base.prototype.invalid;bi.Base.prototype.disallow=bi.Base.prototype.invalid;bi.Base.prototype.equal=bi.Base.prototype.valid;bi.Base.prototype.exist=bi.Base.prototype.required;bi.Base.prototype.not=bi.Base.prototype.invalid;bi.Base.prototype.options=bi.Base.prototype.prefs;bi.Base.prototype.preferences=bi.Base.prototype.prefs;mF.exports=new bi.Base}),co=O((fXe,wF)=>{"use strict";var uO=dt(),W2e=_F(),K2e=_n();wF.exports=W2e._extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return uO(typeof e=="function","Method must be a function"),uO(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(i){return t.error("any.custom",{error:i})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){uO(K2e.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");let t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":"{{#label}} must be one of {{#valids}}","any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})}),SF=O((hXe,bF)=>{"use strict";var nd=dt(),X2e=co(),xF=_n(),Y2e=Qp(),EF=td(),J2e=sh(),Fm={};bF.exports=X2e._extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:J2e.toSibling}},args(e,...t){return t.length===1&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t)},validate(e,t){let{schema:r,error:i,state:s,prefs:n}=t;if(r._flags.match){let o=0,u;for(let d=0;d<r.$_terms.matches.length;++d){let m=r.$_terms.matches[d],f=s.nest(m.schema,`match.${d}`);f.snapshot();let x=m.schema.$_validate(e,f,n);x.errors?f.restore():(++o,u=x.value)}return o?r._flags.match==="one"?o===1?{value:u}:{errors:i("alternatives.one")}:o===r.$_terms.matches.length?{value:e}:{errors:i("alternatives.all")}:{errors:i("alternatives.any")}}let a=[];for(let o=0;o<r.$_terms.matches.length;++o){let u=r.$_terms.matches[o];if(u.schema){let f=s.nest(u.schema,`match.${o}`);f.snapshot();let x=u.schema.$_validate(e,f,n);if(!x.errors)return x;f.restore(),a.push({schema:u.schema,reports:x.errors});continue}let d=u.ref?u.ref.resolve(e,s,n):e,m=u.is?[u]:u.switch;for(let f=0;f<m.length;++f){let x=m[f],{is:T,then:q,otherwise:F}=x,$=`match.${o}${u.switch?"."+f:""}`;if(T.$_match(d,s.nest(T,`${$}.is`),n)){if(q)return q.$_validate(e,s.nest(q,`${$}.then`),n)}else if(F)return F.$_validate(e,s.nest(F,`${$}.otherwise`),n)}}return Fm.errors(a,t)},rules:{conditional:{method(e,t){nd(!this._flags._endedSwitch,"Unreachable condition"),nd(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),nd(t.break===void 0,"Cannot use break option with alternatives conditional");let r=this.clone(),i=Y2e.when(r,e,t),s=i.is?[i]:i.switch;for(let n of s)if(n.then&&n.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(i),r.$_mutateRebuild()}},match:{method(e){if(nd(["any","one","all"].includes(e),"Invalid alternatives match mode",e),e!=="any")for(let t of this.$_terms.matches)nd(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){nd(e.length,"Missing alternative schemas"),xF.verifyFlat(e,"try"),nd(!this._flags._endedSwitch,"Unreachable condition");let t=this.clone();for(let r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},rebuild(e){let t=r=>{xF.isSchema(r)&&r.type==="array"&&e.$_setFlag("_arrayItems",!0,{clone:!1})};e.$_modify({each:t})},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}});Fm.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(e.length===1)return{errors:e[0].reports};let i=new Set,s=[];for(let{reports:n,schema:a}of e){if(n.length>1)return Fm.unmatched(e,t);let o=n[0];if(o instanceof EF.Report===!1)return Fm.unmatched(e,t);if(o.state.path.length!==r.path.length){s.push({type:a.type,report:o});continue}if(o.code==="any.only"){for(let m of o.local.valids)i.add(m);continue}let[u,d]=o.code.split(".");if(d!=="base"){s.push({type:a.type,report:o});continue}i.add(u)}return s.length?s.length===1?{errors:s[0].report}:Fm.unmatched(e,t):{errors:t("alternatives.types",{types:[...i]})}};Fm.unmatched=function(e,t){let r=[];for(let i of e)r.push(...i.reports);return{errors:t("alternatives.match",EF.details(r,{override:!1}))}}}),AF=O((pXe,RF)=>{"use strict";var Wv=dt(),Z2e=al(),Q2e=so(),ewe=co(),lo=_n(),twe=Qp(),Dn={};RF.exports=ewe._extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[]},ordered:{init:[]},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:i}){if(!Array.isArray(e))return;let s=t.$_getRule("sort");return s?Dn.sort(t,e,s.args.options,r,i):void 0}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){let i=[e];return i[lo.symbols.arraySingle]=!0,{value:i}}return{errors:r("array.base")}}return t.$_getRule("items")?{value:e.slice()}:void 0},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});let t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:i},{schema:s}){let n=[e,...t.ancestors];for(let a=0;a<e.length;++a){let o=t.localize([...t.path,a],n,s);if(s.$_match(e[a],o,r))return e}return i("array.hasUnknown",null)},multi:!0},items:{method(...e){lo.verifyFlat(e,"items");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let i=lo.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});t.$_terms.items.push(i)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:i,prefs:s,errorsArray:n}){let a=t.$_terms._requireds.slice(),o=t.$_terms.ordered.slice(),u=[...t.$_terms._inclusions,...a],d=!e[lo.symbols.arraySingle];delete e[lo.symbols.arraySingle];let m=n(),f=e.length;for(let x=0;x<f;++x){let T=e[x],q=!1,F=!1,$=d?x:new Number(x),H=[...i.path,$];if(!t._flags.sparse&&T===void 0){if(m.push(r("array.sparse",{key:$,path:H,pos:x,value:void 0},i.localize(H))),s.abortEarly)return m;o.shift();continue}let oe=[e,...i.ancestors];for(let Ce of t.$_terms._exclusions){if(!Ce.$_match(T,i.localize(H,oe,Ce),s,{presence:"ignore"}))continue;if(m.push(r("array.excludes",{pos:x,value:T},i.localize(H))),s.abortEarly)return m;q=!0,o.shift();break}if(q)continue;if(t.$_terms.ordered.length){if(o.length){let Ce=o.shift(),fe=Ce.$_validate(T,i.localize(H,oe,Ce),s);if(fe.errors){if(m.push(...fe.errors),s.abortEarly)return m}else if(Ce._flags.result==="strip")Dn.fastSplice(e,x),--x,--f;else if(!t._flags.sparse&&fe.value===void 0){if(m.push(r("array.sparse",{key:$,path:H,pos:x,value:void 0},i.localize(H))),s.abortEarly)return m;continue}else e[x]=fe.value;continue}else if(!t.$_terms.items.length){if(m.push(r("array.orderedLength",{pos:x,limit:t.$_terms.ordered.length})),s.abortEarly)return m;break}}let Q=[],pe=a.length;for(let Ce=0;Ce<pe;++Ce){let fe=i.localize(H,oe,a[Ce]);fe.snapshot();let Pe=a[Ce].$_validate(T,fe,s);if(Q[Ce]=Pe,!Pe.errors){if(e[x]=Pe.value,F=!0,Dn.fastSplice(a,Ce),--Ce,--pe,!t._flags.sparse&&Pe.value===void 0&&(m.push(r("array.sparse",{key:$,path:H,pos:x,value:void 0},i.localize(H))),s.abortEarly))return m;break}fe.restore()}if(F)continue;let ve=s.stripUnknown&&!!s.stripUnknown.arrays||!1;pe=u.length;for(let Ce of u){let fe,Pe=a.indexOf(Ce);if(Pe!==-1)fe=Q[Pe];else{let Ve=i.localize(H,oe,Ce);if(Ve.snapshot(),fe=Ce.$_validate(T,Ve,s),!fe.errors){Ce._flags.result==="strip"?(Dn.fastSplice(e,x),--x,--f):!t._flags.sparse&&fe.value===void 0?(m.push(r("array.sparse",{key:$,path:H,pos:x,value:void 0},i.localize(H))),q=!0):e[x]=fe.value,F=!0;break}Ve.restore()}if(pe===1){if(ve){Dn.fastSplice(e,x),--x,--f,F=!0;break}if(m.push(...fe.errors),s.abortEarly)return m;q=!0;break}}if(q)continue;if(t.$_terms._inclusions.length&&!F){if(ve){Dn.fastSplice(e,x),--x,--f;continue}if(m.push(r("array.includes",{pos:x,value:T},i.localize(H))),s.abortEarly)return m}}return a.length&&Dn.fillMissedErrors(t,m,a,e,i,s),o.length&&Dn.fillOrderedErrors(t,m,o,e,i,s),m.length?m:e},priority:!0},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:i,operator:s,args:n}){return lo.compare(e.length,r,s)?e:t.error("array."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:lo.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){lo.verifyFlat(e,"ordered");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let i=lo.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});Dn.validateSingle(i,t),t.$_mutateRegister(i),t.$_terms.ordered.push(i)}return t.$_mutateRebuild()}},single:{method(e){let t=e===void 0?!0:!!e;return Wv(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){lo.assertOptions(e,["by","order"]);let t={order:e.order||"ascending"};return e.by&&(t.by=twe.ref(e.by,{ancestor:0}),Wv(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:i,schema:s},{options:n}){let{value:a,errors:o}=Dn.sort(s,e,n,r,i);if(o)return o;for(let u=0;u<e.length;++u)if(e[u]!==a[u])return t("array.sort",{order:n.order,by:n.by?n.by.key:"value"});return e},convert:!0},sparse:{method(e){let t=e===void 0?!0:!!e;if(this._flags.sparse===t)return this;let r=t?this.clone():this.$_addRule("items");return r.$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){Wv(!e||typeof e=="function"||typeof e=="string","comparator must be a function or a string"),lo.assertOptions(t,["ignoreUndefined","separator"]);let r={name:"unique",args:{options:t,comparator:e}};if(e)if(typeof e=="string"){let i=lo.default(t.separator,".");r.path=i?e.split(i):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:i},{comparator:s,options:n},{comparator:a,path:o}){let u={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},d=a||Z2e,m=n.ignoreUndefined;for(let f=0;f<e.length;++f){let x=o?Q2e(e[f],o):e[f],T=a?u.custom:u[typeof x];if(Wv(T,"Failed to find unique map container for type",typeof x),T instanceof Map){let q=T.entries(),F;for(;!(F=q.next()).done;)if(d(F.value[0],x)){let $=t.localize([...t.path,f],[e,...t.ancestors]),H={pos:f,value:e[f],dupePos:F.value[1],dupeValue:e[F.value[1]]};return o&&(H.path=s),r("array.unique",H,$)}T.set(x,f)}else{if((!m||x!==void 0)&&T[x]!==void 0){let q={pos:f,value:e[f],dupePos:T[x],dupeValue:e[T[x]]};o&&(q.path=s);let F=t.localize([...t.path,f],[e,...t.ancestors]);return r("array.unique",q,F)}T[x]=f}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to(e,t){return new Set(e)}}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(let t of e.$_terms.items)Dn.validateSingle(t,e),t._flags.presence==="required"?e.$_terms._requireds.push(t):t._flags.presence==="forbidden"?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(let t of e.$_terms.ordered)Dn.validateSingle(t,e)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}});Dn.fillMissedErrors=function(e,t,r,i,s,n){let a=0;for(let o=0;o<r.length;++o)++a;t.push(e.$_createError("array.includesRequiredUnknowns",i,{unknownMisses:a},s,n))};Dn.fillOrderedErrors=function(e,t,r,i,s,n){let a=[];for(let o of r)o._flags.presence==="required"&&a.push(o);a.length&&Dn.fillMissedErrors(e,t,a,i,s,n)};Dn.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length};Dn.validateSingle=function(e,t){(e.type==="array"||e._flags._arrayItems)&&(Wv(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))};Dn.sort=function(e,t,r,i,s){let n=r.order==="ascending"?1:-1,a=-1*n,o=n,u=(d,m)=>{let f=Dn.compare(d,m,a,o);if(f!==null)return f;if(r.by&&(d=r.by.resolve(d,i,s),m=r.by.resolve(m,i,s)),f=Dn.compare(d,m,a,o),f!==null)return f;let x=typeof d;if(x!==typeof m)throw e.$_createError("array.sort.mismatching",t,null,i,s);if(x!=="number"&&x!=="string")throw e.$_createError("array.sort.unsupported",t,{type:x},i,s);return x==="number"?(d-m)*n:d<m?a:o};try{return{value:t.slice().sort(u)}}catch(d){return{errors:d}}};Dn.compare=function(e,t,r,i){return e===t?0:e===void 0?1:t===void 0?-1:e===null?i:t===null?r:null}}),PF=O((dXe,TF)=>{"use strict";var CF=dt(),rwe=co(),OF=_n(),kF=aO(),fO={};fO.isBool=function(e){return typeof e=="boolean"};TF.exports=rwe._extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null},truthy:{init:null}},coerce(e,{schema:t}){if(typeof e=="boolean")return;if(typeof e=="string"){let r=t._flags.sensitive?e:e.toLowerCase();e=r==="true"?!0:r==="false"?!1:e}return typeof e!="boolean"&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(t.$_terms.falsy&&t.$_terms.falsy.has(e,null,null,!t._flags.sensitive)?!1:e)),{value:e}},validate(e,{error:t}){if(typeof e!="boolean")return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){OF.verifyFlat(e,"truthy");let t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new kF;for(let r=0;r<e.length;++r){let i=e[r];CF(i!==void 0,"Cannot call truthy with undefined"),t.$_terms.truthy.add(i)}return t}},falsy:{method(...e){OF.verifyFlat(e,"falsy");let t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new kF;for(let r=0;r<e.length;++r){let i=e[r];CF(i!==void 0,"Cannot call falsy with undefined"),t.$_terms.falsy.add(i)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:fO.isBool,to(e,t){return e?1:0}},string:{from:fO.isBool,to(e,t){return e?"true":"false"}}},messages:{"boolean.base":"{{#label}} must be a boolean"}})}),MF=O((mXe,IF)=>{"use strict";var qF=dt(),nwe=co(),NF=_n(),iwe=Ob(),ic={};ic.isDate=function(e){return e instanceof Date};IF.exports=nwe._extend({type:"date",coerce:{from:["number","string"],method(e,{schema:t}){return{value:ic.parse(e,t._flags.format)||e}}},validate(e,{schema:t,error:r,prefs:i}){if(e instanceof Date&&!isNaN(e.getTime()))return;let s=t._flags.format;return!i.convert||!s||typeof e!="string"?{value:e,errors:r("date.base")}:{value:e,errors:r("date.format",{format:s})}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:i,operator:s,args:n}){let a=r==="now"?Date.now():r.getTime();return NF.compare(e.getTime(),a,s)?e:t.error("date."+i,{limit:n.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>e==="now"?e:ic.parse(e),assert:e=>e!==null,message:"must have a valid date format"}]},format:{method(e){return qF(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return qF(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:ic.isDate,to(e,t){return e.getTime()}},string:{from:ic.isDate,to(e,{prefs:t}){return iwe.date(e,t)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":"{{#label}} must be in {{#format}} format","date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}"}});ic.parse=function(e,t){if(e instanceof Date)return e;if(typeof e!="string"&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if(t==="iso")return NF.isIsoDate(e)?ic.date(e.toString()):null;let r=e;if(typeof e=="string"&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if(t==="javascript")return ic.date(1*e);if(t==="unix")return ic.date(1e3*e);if(typeof r=="string")return null}return ic.date(e)};ic.date=function(e){let t=new Date(e);return isNaN(t.getTime())?null:t}}),Nb=O(LF=>{"use strict";var Bm=dt(),DF={};LF.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){t=t||{};let r=[].concat(t.before||[]),i=[].concat(t.after||[]),s=t.group||"?",n=t.sort||0;Bm(!r.includes(s),`Item cannot come before itself: ${s}`),Bm(!r.includes("?"),"Item cannot come before unassociated items"),Bm(!i.includes(s),`Item cannot come after itself: ${s}`),Bm(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(let o of e){let u={seq:this._items.length,sort:n,before:r,after:i,group:s,node:o};this._items.push(u)}let a=this._sort();return Bm(a,"item",s!=="?"?`added into group ${s}`:"","created a dependencies error"),this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(let r of e)if(r)for(let i of r._items)this._items.push(Object.assign({},i));this._items.sort(DF.mergeSort);for(let r=0;r<this._items.length;++r)this._items[r].seq=r;let t=this._sort();return Bm(t,"merge created a dependencies error"),this.nodes}_sort(){let e={},t=Object.create(null),r=Object.create(null);for(let o of this._items){let u=o.seq,d=o.group;r[d]=r[d]||[],r[d].push(u),e[u]=o.before;for(let m of o.after)t[m]=t[m]||[],t[m].push(u)}for(let o in e){let u=[];for(let d in e[o]){let m=e[o][d];r[m]=r[m]||[],u.push(...r[m])}e[o]=u}for(let o in t)if(r[o])for(let u of r[o])e[u].push(...t[o]);let i={};for(let o in e){let u=e[o];for(let d of u)i[d]=i[d]||[],i[d].push(o)}let s={},n=[];for(let o=0;o<this._items.length;++o){let u=o;if(i[o]){u=null;for(let d=0;d<this._items.length;++d){if(s[d]===!0)continue;i[d]||(i[d]=[]);let m=i[d].length,f=0;for(let x=0;x<m;++x)s[i[d][x]]&&++f;if(f===m){u=d;break}}}u!==null&&(s[u]=!0,n.push(u))}if(n.length!==this._items.length)return!1;let a={};for(let o of this._items)a[o.seq]=o;this._items=[],this.nodes=[];for(let o of n){let u=a[o];this.nodes.push(u.node),this._items.push(u)}return!0}};DF.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1}),pO=O((yXe,$F)=>{"use strict";var swe=Rb(),uo=dt(),jF=zr(),awe=Nb(),owe=co(),Zi=_n(),hO=Qp(),cwe=td(),lwe=sh(),wn={renameDefaults:{alias:!1,multiple:!1,override:!1}};$F.exports=owe._extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null},patterns:{init:null},renames:{init:null}},args(e,t){return e.keys(t)},validate(e,{schema:t,error:r,state:i,prefs:s}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!t.$_terms.renames&&!t.$_terms.dependencies&&!t.$_terms.keys&&!t.$_terms.patterns)return;e=wn.clone(e,s);let n=[];if(t.$_terms.renames&&!wn.rename(t,e,i,s,n))return{value:e,errors:n};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:n};let a=new Set(Object.keys(e));if(t.$_terms.keys){let o=[e,...i.ancestors];for(let u of t.$_terms.keys){let d=u.key,m=e[d];a.delete(d);let f=i.localize([...i.path,d],o,u),x=u.schema.$_validate(m,f,s);if(x.errors){if(s.abortEarly)return{value:e,errors:x.errors};n.push(...x.errors)}else u.schema._flags.result==="strip"||x.value===void 0&&m!==void 0?delete e[d]:x.value!==void 0&&(e[d]=x.value)}}if(a.size||t._flags._hasPatternMatch){let o=wn.unknown(t,e,a,n,i,s);if(o)return o}if(t.$_terms.dependencies)for(let o of t.$_terms.dependencies){if(o.key&&o.key.resolve(e,i,s,null,{shadow:!1})===void 0)continue;let u=wn.dependencies[o.rel](t,o,e,i,s);if(u){let d=t.$_createError(u.code,e,u.context,i,s);if(s.abortEarly)return{value:e,errors:d};n.push(d)}}return{value:e,errors:n}},rules:{and:{method(...e){return Zi.verifyFlat(e,"and"),wn.dependency(this,"and",null,e)}},append:{method(e){return e==null||Object.keys(e).length===0?this:this.keys(e)}},assert:{method(e,t,r){e=hO.ref(e),uo(r===void 0||typeof r=="string","Message must be a string"),t=this.$_compile(t,{appendPath:!0});let i=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return i.$_mutateRegister(e),i.$_mutateRegister(t),i},validate(e,{error:t,prefs:r,state:i},{subject:s,schema:n,message:a}){let o=s.resolve(e,i,r),u=s.absolute(i);return n.$_match(o,i.localize(u,[e,...i.ancestors],n),r)?e:t("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return uo(typeof e=="function","constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate(e,t,{constructor:r,name:i}){return e instanceof r?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method(e){uo(e===void 0||typeof e=="object","Object schema must be a valid object"),uo(!Zi.isSchema(e),"Object schema cannot be a joi schema");let t=this.clone();if(!e)t.$_terms.keys=null;else if(!Object.keys(e).length)t.$_terms.keys=new wn.Keys;else{t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(r=>!e.hasOwnProperty(r.key)):new wn.Keys;for(let r in e)Zi.tryWithPath(()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])}),r)}return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:i,operator:s,args:n}){return Zi.compare(Object.keys(e).length,r,s)?e:t.error("object."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:Zi.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return Zi.verifyFlat(e,"nand"),wn.dependency(this,"nand",null,e)}},or:{method(...e){return Zi.verifyFlat(e,"or"),wn.dependency(this,"or",null,e)}},oxor:{method(...e){return wn.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){let i=e instanceof RegExp;i||(e=this.$_compile(e,{appendPath:!0})),uo(t!==void 0,"Invalid rule"),Zi.assertOptions(r,["fallthrough","matches"]),i&&uo(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});let s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];let n={[i?"regex":"schema"]:e,rule:t};return r.matches&&(n.matches=this.$_compile(r.matches),n.matches.type!=="array"&&(n.matches=n.matches.$_root.array().items(n.matches)),s.$_mutateRegister(n.matches),s.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(n.fallthrough=!0),s.$_terms.patterns.push(n),s.$_mutateRegister(t),s}},ref:{method(){return this.$_addRule("ref")},validate(e,t){return lwe.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method(){return this.$_addRule("regex")},validate(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method(e,t,r={}){uo(typeof e=="string"||e instanceof RegExp,"Rename missing the from argument"),uo(typeof t=="string","Invalid rename to argument"),uo(t!==e,"Cannot rename key to same name:",e),Zi.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);let i=this.clone();i.$_terms.renames=i.$_terms.renames||[];for(let s of i.$_terms.renames)uo(s.from!==e,"Cannot rename the same key multiple times");return i.$_terms.renames.push({from:e,to:t,options:swe(wn.renameDefaults,r)}),i}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate(e,t,{type:r}){return Zi.isSchema(e)&&(r==="any"||e.type===r)?e:t.error("object.schema",{type:r})}},unknown:{method(e){return this.$_setFlag("unknown",e!==!1)}},with:{method(e,t,r={}){return wn.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return wn.dependency(this,"without",e,t,r)}},xor:{method(...e){return Zi.verifyFlat(e,"xor"),wn.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return e===void 0&&(e=Zi.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){let t=new awe.Sorter;for(let r of e.$_terms.keys)Zi.tryWithPath(()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key}),r.key);e.$_terms.keys=new wn.Keys(...t.nodes)}},messages:{"object.and":"{{#label}} contains {{#present}} without its required peers {{#missing}}","object.assert":"{{#label}} is invalid because it failed to pass the assertion test","object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":"{{#label}} must have {{#limit}} keys","object.max":"{{#label}} must have less than or equal to {{#limit}} keys","object.min":"{{#label}} must have at least {{#limit}} keys","object.missing":"{{#label}} must contain at least one of {{#peers}}","object.nand":"{{:#main}} must not exist simultaneously with {{#peers}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peers}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#main}} missing required peer {{:#peer}}","object.without":"{{:#main}} conflict with forbidden peer {{:#peer}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peers}}"}});wn.clone=function(e,t){if(typeof e=="object"){if(t.nonEnumerables)return jF(e,{shallow:!0});let i=Object.create(Object.getPrototypeOf(e));return Object.assign(i,e),i}let r=function(...i){return e.apply(this,i)};return r.prototype=jF(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r};wn.dependency=function(e,t,r,i,s){uo(r===null||typeof r=="string",t,"key must be a strings"),s||(s=i.length>1&&typeof i[i.length-1]=="object"?i.pop():{}),Zi.assertOptions(s,["separator"]),i=[].concat(i);let n=Zi.default(s.separator,"."),a=[];for(let u of i)uo(typeof u=="string",t,"peers must be a string or a reference"),a.push(hO.ref(u,{separator:n,ancestor:0,prefix:!1}));r!==null&&(r=hO.ref(r,{separator:n,ancestor:0,prefix:!1}));let o=e.clone();return o.$_terms.dependencies=o.$_terms.dependencies||[],o.$_terms.dependencies.push(new wn.Dependency(t,r,a,i)),o};wn.dependencies={and(e,t,r,i,s){let n=[],a=[],o=t.peers.length;for(let u of t.peers)u.resolve(r,i,s,null,{shadow:!1})===void 0?n.push(u.key):a.push(u.key);if(n.length!==o&&a.length!==o)return{code:"object.and",context:{present:a,missing:n}}},nand(e,t,r,i,s){let n=[];for(let u of t.peers)u.resolve(r,i,s,null,{shadow:!1})!==void 0&&n.push(u.key);if(n.length!==t.peers.length)return;let a=t.paths[0],o=t.paths.slice(1);return{code:"object.nand",context:{main:a,peers:o}}},or(e,t,r,i,s){for(let n of t.peers)if(n.resolve(r,i,s,null,{shadow:!1})!==void 0)return;return{code:"object.missing",context:{peers:t.paths}}},oxor(e,t,r,i,s){let n=[];for(let o of t.peers)o.resolve(r,i,s,null,{shadow:!1})!==void 0&&n.push(o.key);if(!n.length||n.length===1)return;let a={peers:t.paths};return a.present=n,{code:"object.oxor",context:a}},with(e,t,r,i,s){for(let n of t.peers)if(n.resolve(r,i,s,null,{shadow:!1})===void 0)return{code:"object.with",context:{main:t.key.key,peer:n.key}}},without(e,t,r,i,s){for(let n of t.peers)if(n.resolve(r,i,s,null,{shadow:!1})!==void 0)return{code:"object.without",context:{main:t.key.key,peer:n.key}}},xor(e,t,r,i,s){let n=[];for(let o of t.peers)o.resolve(r,i,s,null,{shadow:!1})!==void 0&&n.push(o.key);if(n.length===1)return;let a={peers:t.paths};return n.length===0?{code:"object.missing",context:a}:(a.present=n,{code:"object.xor",context:a})}};wn.rename=function(e,t,r,i,s){let n={};for(let a of e.$_terms.renames){let o=[],u=typeof a.from!="string";if(!u)Object.prototype.hasOwnProperty.call(t,a.from)&&(t[a.from]!==void 0||!a.options.ignoreUndefined)&&o.push(a);else for(let d in t){if(t[d]===void 0&&a.options.ignoreUndefined)continue;if(d===a.to)continue;let m=a.from.exec(d);if(!m)continue;o.push({from:d,to:a.to,match:m})}for(let d of o){let m=d.from,f=d.to;if(!a.options.multiple&&n[f]&&(s.push(e.$_createError("object.rename.multiple",t,{from:m,to:f,pattern:u},r,i)),i.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,f)&&!a.options.override&&!n[f]&&(s.push(e.$_createError("object.rename.override",t,{from:m,to:f,pattern:u},r,i)),i.abortEarly))return!1;t[m]===void 0?delete t[f]:t[f]=t[m],n[f]=!0,a.options.alias||delete t[m]}}return!0};wn.unknown=function(e,t,r,i,s,n){if(e.$_terms.patterns){let o=!1,u=e.$_terms.patterns.map(m=>{if(m.matches)return o=!0,[]}),d=[t,...s.ancestors];for(let m of r){let f=t[m],x=[...s.path,m];for(let T=0;T<e.$_terms.patterns.length;++T){let q=e.$_terms.patterns[T];if(q.regex){let H=q.regex.test(m);if(!H)continue}else if(!q.schema.$_match(m,s.nest(q.schema,`pattern.${T}`),n))continue;r.delete(m);let F=s.localize(x,d,{schema:q.rule,key:m}),$=q.rule.$_validate(f,F,n);if($.errors){if(n.abortEarly)return{value:t,errors:$.errors};i.push(...$.errors)}if(q.matches&&u[T].push(m),t[m]=$.value,!q.fallthrough)break}}if(o)for(let m=0;m<u.length;++m){let f=u[m];if(!f)continue;let x=e.$_terms.patterns[m].matches,T=s.localize(s.path,d,x),q=x.$_validate(f,T,n);if(q.errors){let F=cwe.details(q.errors,{override:!1});F.matches=f;let $=e.$_createError("object.pattern.match",t,F,s,n);if(n.abortEarly)return{value:t,errors:$};i.push($)}}}if(!r.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(n.stripUnknown&&!e._flags.unknown||n.skipFunctions){let o=n.stripUnknown?n.stripUnknown===!0?!0:!!n.stripUnknown.objects:!1;for(let u of r)o?(delete t[u],r.delete(u)):typeof t[u]=="function"&&r.delete(u)}let a=!Zi.default(e._flags.unknown,n.allowUnknown);if(a)for(let o of r){let u=s.localize([...s.path,o],[]),d=e.$_createError("object.unknown",t[o],{child:o},u,n,{flags:!1});if(n.abortEarly)return{value:t,errors:d};i.push(d)}};wn.Dependency=class{constructor(e,t,r,i){this.rel=e,this.key=t,this.peers=r,this.paths=i}};wn.Keys=class extends Array{concat(e){let t=this.slice(),r=new Map;for(let i=0;i<t.length;++i)r.set(t[i].key,i);for(let i of e){let s=i.key,n=r.get(s);n!==void 0?t[n]={key:s,schema:t[n].schema.concat(i.schema)}:t.push(i)}return t}}}),BF=O((vXe,FF)=>{"use strict";var dO=dt(),uwe=pO();FF.exports=uwe._extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return dO(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate(e,t,{n:r}){return e.length===r?e:t.error("function.arity",{n:r})}},class:{method(){return this.$_addRule("class")},validate(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method(e){return dO(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate(e,t,{n:r}){return e.length>=r?e:t.error("function.minArity",{n:r})}},maxArity:{method(e){return dO(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate(e,t,{n:r}){return e.length<=r?e:t.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})}),HF=O((_Xe,UF)=>{"use strict";var lh=dt(),fwe=co(),hwe=_n(),pwe=Qp(),dwe=td(),Iu={};UF.exports=fwe._extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,register:!1}},args(e,t){return e.ref(t)},validate(e,{schema:t,state:r,prefs:i}){lh(t.$_terms.link,"Uninitialized link schema");let s=Iu.generate(t,e,r,i),n=t.$_terms.link[0].ref;return s.$_validate(e,r.nest(s,`link:${n.display}:${s.type}`),i)},generate(e,t,r,i){return Iu.generate(e,t,r,i)},rules:{ref:{method(e){lh(!this.$_terms.link,"Cannot reinitialize schema"),e=pwe.ref(e),lh(e.type==="value"||e.type==="local","Invalid reference type:",e.type),lh(e.type==="local"||e.ancestor==="root"||e.ancestor>0,"Link cannot reference itself");let t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){lh(this.$_terms.link,"Uninitialized link schema"),lh(hwe.isSchema(e),"Invalid schema object"),lh(e.type!=="link","Cannot merge type link with another link");let t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}}});Iu.generate=function(e,t,r,i){let s=r.mainstay.links.get(e);if(s)return s._generate(t,r,i).schema;let n=e.$_terms.link[0].ref,{perspective:a,path:o}=Iu.perspective(n,r);Iu.assert(a,"which is outside of schema boundaries",n,e,r,i);try{s=o.length?a.$_reach(o):a}catch(u){Iu.assert(!1,"to non-existing schema",n,e,r,i)}return Iu.assert(s.type!=="link","which is another link",n,e,r,i),e._flags.relative||r.mainstay.links.set(e,s),s._generate(t,r,i).schema};Iu.perspective=function(e,t){if(e.type==="local"){for(let{schema:r,key:i}of t.schemas){let s=r._flags.id||i;if(s===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared){for(let n of r.$_terms.shared)if(n._flags.id===e.path[0])return{perspective:n,path:e.path.slice(1)}}}return{perspective:null,path:null}}return e.ancestor==="root"?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}};Iu.assert=function(e,t,r,i,s,n){if(e)return;lh(!1,`"${dwe.label(i._flags,s,n)}" contains link reference "${r.display}" ${t}`)}}),zF=O((wXe,GF)=>{"use strict";var mO=dt(),mwe=co(),gO=_n(),id={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};GF.exports=mwe._extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){let i=e.match(id.numberRx);if(!i)return;e=e.trim();let s={value:parseFloat(e)};if(s.value===0&&(s.value=0),!t._flags.unsafe)if(e.match(/e/i)){let n=id.normalizeExponent(`${s.value/Math.pow(10,i[1])}e${i[1]}`);if(n!==id.normalizeExponent(e))return s.errors=r("number.unsafe"),s}else{let n=s.value.toString();if(n.match(/e/i))return s;if(n!==id.normalizeDecimal(e))return s.errors=r("number.unsafe"),s}return s}},validate(e,{schema:t,error:r,prefs:i}){if(e===Infinity||e===-Infinity)return{value:e,errors:r("number.infinity")};if(!gO.isNumber(e))return{value:e,errors:r("number.base")};let s={value:e};if(i.convert){let n=t.$_getRule("precision");if(n){let a=Math.pow(10,n.args.limit);s.value=Math.round(s.value*a)/a}}return s.value===0&&(s.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate(e,t,{limit:r},{name:i,operator:s,args:n}){return gO.compare(e,r,s)?e:t.error("number."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:gO.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate(e,t){return Math.trunc(e)-e===0?e:t.error("number.integer")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate(e,t,{base:r},i){return e%r===0?e:t.error("number.multiple",{multiple:i.args.base,value:e})},args:[{name:"base",ref:!0,assert:e=>typeof e=="number"&&isFinite(e)&&e>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method(){return this.sign("positive")}},precision:{method(e){return mO(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){let i=e.toString().match(id.precisionRx),s=Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0);return s<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return mO(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate(e,t,{sign:r}){return r==="negative"&&e<0||r==="positive"&&e>0?e:t.error(`number.${r}`)}},unsafe:{method(e=!0){return mO(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>typeof e=="number",to(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}});id.normalizeExponent=function(e){return e.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")};id.normalizeDecimal=function(e){return e=e.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([1-9])/,"$1$2"),e.includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e==="-0"?"0":e}}),WF=O((bXe,VF)=>{"use strict";var gwe=pO();VF.exports=gwe._extend({type:"object",cast:{map:{from:e=>e&&typeof e=="object",to(e,t){return new Map(Object.entries(e))}}}})}),XF=O((xXe,KF)=>{"use strict";var ywe=require("url"),xi=dt(),vwe=Dm(),_we=co(),ul=_n(),qr={base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"],domainControlRx:/[\x00-\x20@\:\/]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/};KF.exports=_we._extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:i}){let s=t.$_getRule("normalize");s&&(e=e.normalize(s.args.form));let n=t.$_getRule("case");n&&(e=n.args.direction==="upper"?e.toLocaleUpperCase():e.toLocaleLowerCase());let a=t.$_getRule("trim");if(a&&a.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(let u of t.$_terms.replacements)e=e.replace(u.pattern,u.replacement);let o=t.$_getRule("hex");if(o&&o.args.options.byteAligned&&e.length%2!==0&&(e=`0${e}`),t.$_getRule("isoDate")){let u=qr.isoDate(e);u&&(e=u)}if(t._flags.truncate){let u=t.$_getRule("max");if(u){let d=u.args.limit;if(ul.isResolvable(d)&&(d=d.resolve(e,r,i),!ul.limit(d)))return{value:e,errors:t.$_createError("any.ref",d,{ref:u.args.limit,arg:"limit",reason:"must be a positive integer"},r,i)};e=e.slice(0,d)}}return{value:e}}},validate(e,{error:t}){if(typeof e!="string")return{value:e,errors:t("string.base")};if(e==="")return{value:e,errors:t("string.empty")}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method(e={}){return ul.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},xi(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),xi(typeof e.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate(e,t,{options:r}){let i=qr.base64Regex[r.paddingRequired][r.urlSafe];return i.test(e)?e:t.error("string.base64")}},case:{method(e){return xi(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate(e,t,{direction:r}){return r==="lower"&&e===e.toLocaleLowerCase()||r==="upper"&&e===e.toLocaleUpperCase()?e:t.error(`string.${r}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,i=0,s=1;for(;r--;){let n=e.charAt(r)*s;i=i+(n-(n>9)*9),s=s^3}return i>0&&i%10===0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return ul.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},xi(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){let i=e.match(qr.dataUriRegex);if(i){if(!i[2])return e;if(i[2]!=="base64")return e;let s=qr.base64Regex[r.paddingRequired].false;if(s.test(i[3]))return e}return t.error("string.dataUri")}},guid:{alias:"uuid",method(e={}){ul.assertOptions(e,["version","separator"]);let t="";if(e.version){let s=[].concat(e.version);xi(s.length>=1,"version must have at least 1 valid version specified");let n=new Set;for(let a=0;a<s.length;++a){let o=s[a];xi(typeof o=="string","version at position "+a+" must be a string");let u=qr.guidVersions[o.toLowerCase()];xi(u,"version at position "+a+" must be one of "+Object.keys(qr.guidVersions).join(", ")),xi(!n.has(u),"version at position "+a+" must not be a duplicate"),t+=u,n.add(u)}}xi(qr.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');let r=e.separator===void 0?"[:-]?":e.separator===!0?"[:-]":e.separator===!1?"[]?":`\\${e.separator}`,i=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${r})[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:i})},validate(e,t,r,{regex:i}){let s=i.exec(e);return s?qr.guidBrackets[s[1]]!==s[s.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return ul.assertOptions(e,["byteAligned"]),e={byteAligned:!1,...e},xi(typeof e.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate(e,t,{options:r}){return qr.hexRegex.test(e)?r.byteAligned&&e.length%2!==0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate(e,t){return qr.isDomainValid(e)||qr.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},isoDate:{method(){return this.$_addRule("isoDate")},validate(e,{error:t}){return qr.isoDate(e)?e:t("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate(e,t){return qr.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method(e,t){return qr.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:i},{name:s,operator:n,args:a}){let o=i?Buffer&&Buffer.byteLength(e,i):e.length;return ul.compare(o,r,n)?e:t.error("string."+s,{limit:a.limit,value:e,encoding:i})},args:[{name:"limit",ref:!0,assert:ul.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return qr.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return qr.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return xi(qr.normalizationForms.includes(e),"normalization form must be one of "+qr.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate(e,{error:t},{form:r}){return e===e.normalize(r)?e:t("string.normalize",{value:e,form:r})},convert:!0},pattern:{alias:"regex",method(e,t={}){xi(e instanceof RegExp,"regex must be a RegExp"),xi(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),typeof t=="string"&&(t={name:t}),ul.assertOptions(t,["invert","name"]);let r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate(e,t,{regex:r,options:i},{errorCode:s}){let n=r.test(e);return n^i.invert?e:t.error(s,{name:i.name,regex:r,value:e})},args:["regex","options"],multi:!0},replace:{method(e,t){typeof e=="string"&&(e=new RegExp(vwe(e),"g")),xi(e instanceof RegExp,"pattern must be a RegExp"),xi(typeof t=="string","replacement must be a String");let r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method(e=!0){return xi(typeof e=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate(e,t,{enabled:r}){return!r||e===e.trim()?e:t.error("string.trim")},convert:!0},truncate:{method(e=!0){return xi(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:.} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:.} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:.} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:.} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uppercase":"{{#label}} must only contain uppercase characters"}});qr.isoDate=function(e){if(!ul.isIsoDate(e))return null;let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()};qr.length=function(e,t,r,i,s){return xi(!s||Buffer&&Buffer.isEncoding(s),"Invalid encoding:",s),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:s},operator:i})};qr.rfc3986=function(){let e={},t="\\dA-Fa-f",r="["+t+"]",i="\\w-\\.~",s="!\\$&'\\(\\)\\*\\+,;=",n="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4="(?:"+n+"\\.){3}"+n;let a=r+"{1,4}",o="(?:"+a+":"+a+"|"+e.ipv4+")",u="(?:"+a+":){6}"+o,d="::(?:"+a+":){5}"+o,m="(?:"+a+")?::(?:"+a+":){4}"+o,f="(?:(?:"+a+":){0,1}"+a+")?::(?:"+a+":){3}"+o,x="(?:(?:"+a+":){0,2}"+a+")?::(?:"+a+":){2}"+o,T="(?:(?:"+a+":){0,3}"+a+")?::"+a+":"+o,q="(?:(?:"+a+":){0,4}"+a+")?::"+o,F="(?:(?:"+a+":){0,5}"+a+")?::"+a,$="(?:(?:"+a+":){0,6}"+a+")?::";return e.v4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.v6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6="(?:"+u+"|"+d+"|"+m+"|"+f+"|"+x+"|"+T+"|"+q+"|"+F+"|"+$+")",e.ipvfuture="v"+r+"+\\.["+i+s+":]+",e};qr.ipRegex=function(){let e=["ipv4","ipv6","ipvfuture"],t=qr.rfc3986(),r=e.map(s=>{let n=`\\/${s==="ipv4"?t.v4Cidr:t.v6Cidr}`;return`${t[s]}(?:${n})?`}),i=`(?:${r.join("|")})`;return new RegExp(`^${i}$`)}();qr.isDomainValid=function(e){if(e.length>256)return!1;if(e=e.normalize("NFC"),qr.domainControlRx.test(e))return!1;e=qr.punycode(e);let t=e.split(".");for(let r=0;r<t.length;++r){let i=t[r];if(!i.length)return!1;if(i.length>63)return!1;if(r<t.length-1){if(!qr.domainSegmentRx.test(i))return!1}else if(!qr.tldSegmentRx.test(i))return!1}return!0};qr.punycode=function(e){try{return new ywe.URL(`http://${e}`).host}catch(t){return e}}}),JF=O((EXe,YF)=>{"use strict";var Mb=dt(),wwe=co(),yO={};yO.Map=class extends Map{slice(){return new yO.Map(this)}};YF.exports=wwe._extend({type:"symbol",terms:{map:{init:new yO.Map}},coerce:{method(e,{schema:t,error:r}){let i=t.$_terms.map.get(e);return i&&(e=i),!t._flags.only||typeof e=="symbol"?{value:e}:{value:e,errors:r("symbol.map",{map:t.$_terms.map})}}},validate(e,{error:t}){if(typeof e!="symbol")return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&typeof e=="object"&&(e=Object.entries(e)),Mb(e&&e[Symbol.iterator],"Iterable must be an iterable or object");let t=this.clone(),r=[];for(let i of e){Mb(i&&i[Symbol.iterator],"Entry must be an iterable");let[s,n]=i;Mb(typeof s!="object"&&typeof s!="function"&&typeof s!="symbol","Key must not be of type object, function, or Symbol"),Mb(typeof n=="symbol","Value must be a Symbol"),t.$_terms.map.set(s,n),r.push(n)}return t.valid(...r)}}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})}),e8=O((SXe,ZF)=>{"use strict";var bwe=dt(),xwe=co(),QF=_n();ZF.exports=xwe._extend({type:"binary",coerce:{from:"string",method(e,{schema:t}){try{return{value:Buffer.from(e,t._flags.encoding)}}catch(r){}}},validate(e,{error:t}){if(!Buffer.isBuffer(e))return{value:e,errors:t("binary.base")}},rules:{encoding:{method(e){return bwe(Buffer.isEncoding(e),"Invalid encoding:",e),this.$_setFlag("encoding",e)}},length:{method(e){return this.$_addRule({name:"length",method:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:i,operator:s,args:n}){return QF.compare(e.length,r,s)?e:t.error("binary."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:QF.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}}},cast:{string:{from:e=>Buffer.isBuffer(e),to(e,t){return e.toString()}}},messages:{"binary.base":"{{#label}} must be a buffer or a string","binary.length":"{{#label}} must be {{#limit}} bytes","binary.max":"{{#label}} must be less than or equal to {{#limit}} bytes","binary.min":"{{#label}} must be at least {{#limit}} bytes"}})}),ol=O((RXe,t8)=>{"use strict";var r8=dt(),Ewe=zr(),Kv=_n(),Swe=Qp(),vO=td(),_O=sh(),Zs={types:{alternatives:SF(),any:co(),array:AF(),boolean:PF(),date:MF(),function:BF(),link:HF(),number:zF(),object:WF(),string:XF(),symbol:JF()},aliases:{alt:"alternatives",bool:"boolean",func:"function"}};Buffer&&(Zs.types.binary=e8());Zs.root=function(){let e={_types:new Set(Object.keys(Zs.types))};for(let t of e._types)e[t]=function(...r){return r8(!r.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),Zs.generate(this,Zs.types[t],r)};for(let t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...r){return this.any()[t](...r)};Object.assign(e,Zs.methods);for(let t in Zs.aliases){let r=Zs.aliases[t];e[t]=e[r]}return e};Zs.methods={ValidationError:vO.ValidationError,version:Kv.version,assert(e,t,...r){Zs.assert(e,t,!0,r)},attempt(e,t,...r){return Zs.assert(e,t,!1,r)},checkPreferences(e){Kv.checkPreferences(e)},compile(e,t){return Swe.compile(this,e,t)},isError:vO.ValidationError.isError,isRef:_O.isRef,isSchema:Kv.isSchema,in(...e){return _O.in(...e)},override:Kv.symbols.override,ref(...e){return _O.create(...e)}};Zs.assert=function(e,t,r,i){let s=i[0]instanceof Error||typeof i[0]=="string"?i[0]:null,n=s?i[1]:i[0],a=t.validate(e,Kv.preferences({errors:{stack:!0}},n||{})),o=a.error;if(!o)return a.value;if(s instanceof Error)throw s;let u=r&&typeof o.annotate=="function"?o.annotate():o.message;throw o instanceof vO.ValidationError===!1&&(o=Ewe(o)),o.message=s?`${s} ${u}`:u,o};Zs.generate=function(e,t,r){return r8(e,"Must be invoked on a Joi instance."),t.$_root=e,!t._definition.args||!r.length?t:t._definition.args(t,...r)};t8.exports=Zs.root()}),Lb=O(n8=>{"use strict";n8.injection=Symbol("injection")}),c8=O((i8,s8)=>{"use strict";var Db=require("stream"),a8=require("url"),Rwe=Lb(),o8={};i8=s8.exports=o8.Request=class extends Db.Readable{constructor(e){super({emitClose:!!(e.simulate&&e.simulate.close),autoDestroy:!0});let t=e.url;typeof t=="object"&&(t=a8.format(t));let r=a8.parse(t);this.url=r.path,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={};let i=e.headers||{},s=Object.keys(i);s.forEach(o=>{this.headers[o.toLowerCase()]=i[o]}),this.headers["user-agent"]=this.headers["user-agent"]||"shot";let n=function(){return r.port?r.host:r.protocol?r.hostname+(r.protocol==="https:"?":443":":80"):null};this.headers.host=this.headers.host||n()||e.authority||"localhost:80",this.connection={remoteAddress:e.remoteAddress||"127.0.0.1"};let a=e.payload||null;return a&&typeof a!="string"&&!(a instanceof Db)&&!Buffer.isBuffer(a)&&(a=JSON.stringify(a),this.headers["content-type"]=this.headers["content-type"]||"application/json"),a&&!(a instanceof Db)&&!this.headers.hasOwnProperty("content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(a)?a.length:Buffer.byteLength(a)).toString()),this._shot={payload:a,isDone:!1,simulate:e.simulate||{}},this}prepare(e){if(this._shot.payload instanceof Db===!1)return e();let t=[];this._shot.payload.on("data",r=>t.push(Buffer.from(r))),this._shot.payload.on("end",()=>{let r=Buffer.concat(t);return this.headers["content-length"]=this.headers["content-length"]||r.length,this._shot.payload=r,e()})}_read(e){setImmediate(()=>{if(this._shot.isDone){this._shot.simulate.end!==!1&&this.push(null);return}this._shot.isDone=!0,this._shot.payload&&(this._shot.simulate.split?(this.push(this._shot.payload.slice(0,1)),this.push(this._shot.payload.slice(1))):this.push(this._shot.payload)),this._shot.simulate.error?this.destroy(new Error("Simulated")):this._shot.simulate.end!==!1?this.push(null):this._shot.simulate.close&&this.emit("close")})}};o8.Request.prototype[Rwe.injection]=!0}),f8=O((l8,u8)=>{"use strict";var Awe=require("http"),Twe=require("stream"),Cwe=Lb(),Um={};l8=u8.exports=Um.Response=class extends Awe.ServerResponse{constructor(e,t){super({method:e.method,httpVersionMajor:1,httpVersionMinor:1});this._shot={headers:null,trailers:{},payloadChunks:[]},this.assignSocket(Um.nullSocket()),e._shot.simulate.close&&e.once("close",()=>{process.nextTick(()=>this.emit("close"))}),this.once("finish",()=>{let r=Um.payload(this);r.raw.req=e,process.nextTick(()=>t(r))})}writeHead(...e){let t=e[e.length-1];if(typeof t=="object"&&t!==null){let i=Object.keys(t);for(let s=0;s<i.length;++s){let n=i[s];try{this.setHeader(n,t[n]);break}catch(a){}}}let r=super.writeHead(...e);return this._shot.headers=this.getHeaders(),["Date","Connection","Transfer-Encoding"].forEach(i=>{let s=new RegExp("\\r\\n"+i+": ([^\\r]*)\\r\\n"),n=this._header.match(s);n&&(this._shot.headers[i.toLowerCase()]=n[1])}),r}write(e,t,r){return super.write(e,t,r),this._shot.payloadChunks.push(Buffer.from(e,t)),!0}end(e,t,r){e&&this.write(e,t),super.end(r),this.emit("finish")}addTrailers(e){for(let t in e)this._shot.trailers[t.toLowerCase().trim()]=e[t].toString().trim()}};Um.Response.prototype[Cwe.injection]=!0;Um.payload=function(e){let t={raw:{res:e},headers:e._shot.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{}},r=Buffer.concat(e._shot.payloadChunks);return t.rawPayload=r,t.payload=r.toString(),t.trailers=e._shot.trailers,t};Um.nullSocket=function(){return new Twe.Writable({write(e,t,r){setImmediate(r)}})}}),p8=O(wO=>{"use strict";var Owe=Jt(),Wn=ol(),kwe=c8(),Pwe=f8(),Iwe=Lb(),h8={};h8.options=Wn.object().keys({url:Wn.alternatives([Wn.string(),Wn.object().keys({protocol:Wn.string(),hostname:Wn.string(),port:Wn.any(),pathname:Wn.string().required(),query:Wn.any()})]).required(),headers:Wn.object(),payload:Wn.any(),simulate:{end:Wn.boolean(),split:Wn.boolean(),error:Wn.boolean(),close:Wn.boolean()},authority:Wn.string(),remoteAddress:Wn.string(),method:Wn.string(),validate:Wn.boolean()});wO.inject=function(e,t){if(t=typeof t=="string"?{url:t}:t,t.validate!==!1)try{Owe.assert(typeof e=="function","Invalid dispatch function"),Wn.assert(t,h8.options)}catch(r){return Promise.reject(r)}return new Promise(r=>{let i=new kwe(t),s=new Pwe(i,r);i.prepare(()=>e(i,s))})};wO.isInjection=function(e){return!!e[Iwe.injection]}}),Nr=O(De=>{"use strict";var sd=Jt(),Qs={codes:new Map([[100,"Continue"],[101,"Switching Protocols"],[102,"Processing"],[200,"OK"],[201,"Created"],[202,"Accepted"],[203,"Non-Authoritative Information"],[204,"No Content"],[205,"Reset Content"],[206,"Partial Content"],[207,"Multi-Status"],[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Moved Temporarily"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Time-out"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request-URI Too Large"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Too Early"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Time-out"],[505,"HTTP Version Not Supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"]])};De.Boom=class extends Error{constructor(e,t={}){if(e instanceof Error)return De.boomify(sd.clone(e),t);let{statusCode:r=500,data:i=null,ctor:s=De.Boom}=t,n=new Error(e||void 0);Error.captureStackTrace(n,s),n.data=i;let a=Qs.initialize(n,r);return Object.defineProperty(a,"typeof",{value:s}),t.decorate&&Object.assign(a,t.decorate),a}static[Symbol.hasInstance](e){return De.isBoom(e)}};De.isBoom=function(e,t){return e instanceof Error&&!!e.isBoom&&(!t||e.output.statusCode===t)};De.boomify=function(e,t){return sd.assert(e instanceof Error,"Cannot wrap non-Error object"),t=t||{},t.data!==void 0&&(e.data=t.data),t.decorate&&Object.assign(e,t.decorate),e.isBoom?t.override===!1||!t.statusCode&&!t.message?e:Qs.initialize(e,t.statusCode||e.output.statusCode,t.message):Qs.initialize(e,t.statusCode||500,t.message)};De.badRequest=function(e,t){return new De.Boom(e,{statusCode:400,data:t,ctor:De.badRequest})};De.unauthorized=function(e,t,r){let i=new De.Boom(e,{statusCode:401,ctor:De.unauthorized});if(!t)return i;if(typeof t!="string")return i.output.headers["WWW-Authenticate"]=t.join(", "),i;let s=`${t}`;return(r||e)&&(i.output.payload.attributes={}),r&&(typeof r=="string"?(s+=" "+sd.escapeHeaderAttribute(r),i.output.payload.attributes=r):s+=" "+Object.keys(r).map(n=>{let a=r[n];return a==null&&(a=""),i.output.payload.attributes[n]=a,`${n}="${sd.escapeHeaderAttribute(a.toString())}"`}).join(", ")),e?(r&&(s+=","),s+=` error="${sd.escapeHeaderAttribute(e)}"`,i.output.payload.attributes.error=e):i.isMissing=!0,i.output.headers["WWW-Authenticate"]=s,i};De.paymentRequired=function(e,t){return new De.Boom(e,{statusCode:402,data:t,ctor:De.paymentRequired})};De.forbidden=function(e,t){return new De.Boom(e,{statusCode:403,data:t,ctor:De.forbidden})};De.notFound=function(e,t){return new De.Boom(e,{statusCode:404,data:t,ctor:De.notFound})};De.methodNotAllowed=function(e,t,r){let i=new De.Boom(e,{statusCode:405,data:t,ctor:De.methodNotAllowed});return typeof r=="string"&&(r=[r]),Array.isArray(r)&&(i.output.headers.Allow=r.join(", ")),i};De.notAcceptable=function(e,t){return new De.Boom(e,{statusCode:406,data:t,ctor:De.notAcceptable})};De.proxyAuthRequired=function(e,t){return new De.Boom(e,{statusCode:407,data:t,ctor:De.proxyAuthRequired})};De.clientTimeout=function(e,t){return new De.Boom(e,{statusCode:408,data:t,ctor:De.clientTimeout})};De.conflict=function(e,t){return new De.Boom(e,{statusCode:409,data:t,ctor:De.conflict})};De.resourceGone=function(e,t){return new De.Boom(e,{statusCode:410,data:t,ctor:De.resourceGone})};De.lengthRequired=function(e,t){return new De.Boom(e,{statusCode:411,data:t,ctor:De.lengthRequired})};De.preconditionFailed=function(e,t){return new De.Boom(e,{statusCode:412,data:t,ctor:De.preconditionFailed})};De.entityTooLarge=function(e,t){return new De.Boom(e,{statusCode:413,data:t,ctor:De.entityTooLarge})};De.uriTooLong=function(e,t){return new De.Boom(e,{statusCode:414,data:t,ctor:De.uriTooLong})};De.unsupportedMediaType=function(e,t){return new De.Boom(e,{statusCode:415,data:t,ctor:De.unsupportedMediaType})};De.rangeNotSatisfiable=function(e,t){return new De.Boom(e,{statusCode:416,data:t,ctor:De.rangeNotSatisfiable})};De.expectationFailed=function(e,t){return new De.Boom(e,{statusCode:417,data:t,ctor:De.expectationFailed})};De.teapot=function(e,t){return new De.Boom(e,{statusCode:418,data:t,ctor:De.teapot})};De.badData=function(e,t){return new De.Boom(e,{statusCode:422,data:t,ctor:De.badData})};De.locked=function(e,t){return new De.Boom(e,{statusCode:423,data:t,ctor:De.locked})};De.failedDependency=function(e,t){return new De.Boom(e,{statusCode:424,data:t,ctor:De.failedDependency})};De.tooEarly=function(e,t){return new De.Boom(e,{statusCode:425,data:t,ctor:De.tooEarly})};De.preconditionRequired=function(e,t){return new De.Boom(e,{statusCode:428,data:t,ctor:De.preconditionRequired})};De.tooManyRequests=function(e,t){return new De.Boom(e,{statusCode:429,data:t,ctor:De.tooManyRequests})};De.illegal=function(e,t){return new De.Boom(e,{statusCode:451,data:t,ctor:De.illegal})};De.internal=function(e,t,r=500){return Qs.serverError(e,t,r,De.internal)};De.notImplemented=function(e,t){return Qs.serverError(e,t,501,De.notImplemented)};De.badGateway=function(e,t){return Qs.serverError(e,t,502,De.badGateway)};De.serverUnavailable=function(e,t){return Qs.serverError(e,t,503,De.serverUnavailable)};De.gatewayTimeout=function(e,t){return Qs.serverError(e,t,504,De.gatewayTimeout)};De.badImplementation=function(e,t){let r=Qs.serverError(e,t,500,De.badImplementation);return r.isDeveloperError=!0,r};Qs.initialize=function(e,t,r){let i=parseInt(t,10);if(sd.assert(!isNaN(i)&&i>=400,"First argument must be a number (400+):",t),e.isBoom=!0,e.isServer=i>=500,e.hasOwnProperty("data")||(e.data=null),e.output={statusCode:i,payload:{},headers:{}},Object.defineProperty(e,"reformat",{value:Qs.reformat}),!r&&!e.message&&(e.reformat(),r=e.output.payload.error),r){let s=Object.getOwnPropertyDescriptor(e,"message")||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"message");sd.assert(!s||s.configurable&&!s.get,"The error is not compatible with boom"),e.message=r+(e.message?": "+e.message:""),e.output.payload.message=e.message}return e.reformat(),e};Qs.reformat=function(e=!1){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=Qs.codes.get(this.output.statusCode)||"Unknown",this.output.statusCode===500&&e!==!0?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)};Qs.serverError=function(e,t,r,i){return t instanceof Error&&!t.isBoom?De.boomify(t,{statusCode:r,message:e}):new De.Boom(e,{statusCode:r,data:t,ctor:i})}}),sc=O(fl=>{"use strict";var qwe=require("assert"),Nwe=Nr(),d8=Jt(),uh={system:[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,qwe.AssertionError,d8.Error]};fl.rethrow=function(e,t,r={}){return uh.catch(e,t,r,!0)};fl.ignore=function(e,t,r={}){return uh.catch(e,t,r,!1)};uh.catch=function(e,t,r,i){if(uh.match(e,t)!==i)return;if(r.override&&(e=r.override),r.decorate&&Object.assign(e,r.decorate),r.return)return e;throw e};fl.background=async function(e,t="rethrow",r="system",i={}){try{typeof e=="function"?await e():await e}catch(s){fl[t](s,r,i)}};fl.isBoom=function(e){return Nwe.isBoom(e)};fl.isError=function(e){return e instanceof Error};fl.isSystem=function(e){if(!e)return!1;if(e.isBoom)return!1;for(let t of uh.system)if(e instanceof t)return!0;return!1};uh.rules={system:fl.isSystem,boom:fl.isBoom};uh.match=function(e,t){if(!t)return!0;t=Array.isArray(t)?t:[t];for(let r of t)if(typeof r=="string"){if(uh.rules[r](e))return!0}else if(typeof r=="object"){if(d8.contain(e,r,{deep:!0,part:!0}))return!0}else if(e instanceof r)return!0;return!1}}),bO=O(ea=>{"use strict";var Mwe=sc(),Hm=Jt(),Nt={maxLength:256,wildcards:["x","X","*"],any:Symbol("any")};Nt.versionRx=/^\s*[vV]?(\d+|[xX*])(?:\.(\d+|[xX*])(?:\.(\d+|[xX*])(?:\-?([^+]+))?(?:\+(.+))?)?)?\s*$/;Nt.strict={tokenRx:/^[-\dA-Za-z]+(?:\.[-\dA-Za-z]+)*$/,numberRx:/^((?:0)|(?:[1-9]\d*))$/};ea.version=function(e,t){return new Nt.Version(e,t)};ea.range=function(e){return new Nt.Range(e)};ea.match=function(e,t){try{return ea.range(t).match(e)}catch(r){return Mwe.rethrow(r,"system"),!1}};ea.compare=function(e,t,r={}){let i=-1,s=1;e=ea.version(e,r),t=ea.version(t,r),r.range&&e.prerelease.length&&(e.major!==t.major||e.minor!==t.minor||e.patch!==t.patch||!t.prerelease.length)&&(i=-2,s=2);for(let n=0;n<3;++n){let a=e.dots[n],o=t.dots[n];if(a===o||a===Nt.any||o===Nt.any)continue;return a-o<0?i:s}if(!e.prerelease.length&&!t.prerelease.length)return 0;if(!!e.prerelease.length!==!!t.prerelease.length)return e.prerelease.length?i:s;for(let n=0;;++n){let a=e.prerelease[n],o=t.prerelease[n];if(a===void 0&&o===void 0)return 0;if(a===o)continue;if(a===void 0)return i;if(o===void 0)return s;let u=Number.isFinite(a),d=Number.isFinite(o);return u!==d?u?i:s:e<t?i:s}};Nt.Version=class{constructor(e,t={}){if(Hm.assert(e,"Missing version argument"),e instanceof Nt.Version)return e;typeof e=="object"?this._copy(e):this._parse(e,t),this.format()}_copy(e){this.major=e.major===void 0?Nt.any:e.major,this.minor=e.minor===void 0?Nt.any:e.minor,this.patch=e.patch===void 0?Nt.any:e.patch,this.prerelease=e.prerelease||[],this.build=e.build||[]}_parse(e,t){Hm.assert(typeof e=="string","Version argument must be a string"),Hm.assert(e.length<=Nt.maxLength,"Version string too long");let r=e.match(Nt.versionRx);if(!r)throw new Error(`Invalid version string format: ${e}`);this.major=Nt.Version._number(r[1],"major",t),this.minor=Nt.Version._number(r[2]||"x","minor",t),this.patch=Nt.Version._number(r[3]||"x","patch",t),this.prerelease=Nt.Version._sub(r[4],"prerelease",t),this.build=Nt.Version._sub(r[5],"build",t)}static _number(e,t,r){if(Nt.wildcards.includes(e))return Nt.any;r.strict&&Hm.assert(e.match(Nt.strict.numberRx),"Value must be 0 or a number without a leading zero:",t);let i=parseInt(e,10);return Hm.assert(i<=Number.MAX_SAFE_INTEGER,"Value must be positive and less than max safe integer:",t),i}static _sub(e,t,r){if(!e)return[];r.strict&&Hm.assert(e.match(Nt.strict.tokenRx),"Value can only contain dot-separated hyphens, digits, a-z or A-Z:",t);let i=[],s=e.split(".");for(let n of s){if(!n)throw new Error(`Invalid empty ${t} segment`);i.push(n.match(/^\d+$/)?Nt.Version._number(n,t,{strict:r.strict}):n)}return i}format(){this.version=`${Nt.dot(this.major)}.${Nt.dot(this.minor)}.${Nt.dot(this.patch)}${Nt.token(this.prerelease,"-")}${Nt.token(this.build,"+")}`,this.dots=[this.major,this.minor,this.patch],this.wildcard=this.major===Nt.any&&this.minor===Nt.any&&this.patch===Nt.any&&!this.prerelease.length}toString(){return this.version}compare(e,t){return Nt.Version.compare(this,e,t)}static compare(e,t,r={}){return ea.compare(e,t,r)}};Nt.dot=e=>e===Nt.any?"x":e;Nt.token=(e,t)=>e.length?`${t}${e.join(".")}`:"";Nt.Range=class{constructor(e,t){this._settings=Object.assign({},t),this._anything=!1,this._or=[],this._active=null,e!==void 0&&this.pattern(e),this._another()}_another(){return(!this._active||this._active.rules.length)&&(this._active={rules:[]},this._or.push(this._active)),this}_rule(e,t){t=ea.version(t,this._settings);let r=Nt.operator(e);return this._active.rules.push({compare:r,version:t,operator:e}),this}get or(){return this._another()}equal(e){return this._rule("=",e)}above(e){return this._rule(">",e)}below(e){return this._rule("<",e)}between(e,t){return this._rule(">=",e),this._rule("<=",t),this}minor(e){return e=ea.version(e,this._settings),e.major===Nt.any?(this._rule("=",e),this):(this._rule(">=",e),e.minor===Nt.any?this._rule("<",{major:e.major+1,minor:0,patch:0}):this._rule("<",{major:e.major,minor:e.minor+1,patch:0}),this)}compatible(e){return e=ea.version(e,this._settings),e.major===Nt.any?(this._rule("=",e),this):(this._rule(">=",e),e.major===0&&e.minor!==Nt.any?e.minor===0?this._rule("<",{major:0,minor:0,patch:e.patch+1}):this._rule("<",{major:0,minor:e.minor+1,patch:0}):this._rule("<",{major:e.major+1,minor:0,patch:0}),this)}pattern(e){try{return this._pattern(e),this}catch(t){throw new Error(`Invalid range: "${e}" because: ${t.message}`)}}_pattern(e){if(e===""){this._anything=!0;return}let t=Nt.normalize(e),r=t.split(/\s*\|\|\s*/);for(let i of r){if(!i){this._anything=!0;return}this._another();let s=i.split(/\s+/);for(let n of s){let a=n.indexOf("@");if(a!==-1){let m=n.slice(0,a),f=n.slice(a+1);this.between(m,f);continue}let o=n.match(/^(\^|~|<\=|>\=|<|>|\=)?(.+)$/),u=o[1],d=ea.version(o[2],this._settings);if(d.wildcard){this._anything=!0;return}if(u==="~"){this.minor(d);continue}if(u==="^"){this.compatible(d);continue}if(u){this._rule(u,d);continue}this.equal(d)}}}match(e){if(e=ea.version(e,this._settings),this._anything)return!e.prerelease.length;for(let{rules:t}of this._or){if(!t.length)continue;let r=0,i=0;for(let s of t){let n=e.compare(s.version,Object.assign(this._settings,{range:!0})),a=Math.abs(n)===2;if(s.compare.includes(n/(a?2:1)))++r,a&&++i;else break}if(r===t.length&&i<r)return!0}return!1}toString(){if(this._anything)return"*";let e="";for(let{rules:t}of this._or){if(!t.length)continue;let r=[];for(let i of t)r.push(`${i.operator!=="="?i.operator:""}${i.version.version}`);e+=(e?"||":"")+r.join(" ")}return e}};Nt.operator=function(e){switch(e){case"=":return[0];case">":return[1];case">=":return[0,1];case"<":return[-1];case"<=":return[0,-1]}};Nt.normalize=function(e){return e.replace(/ \- /g,"@").replace(/~>/g,"~").replace(/(\^|~|<\=|>\=|<|>|\=)\s*([^\s]+)/g,(t,r,i)=>`${r}${i}`)}}),Xv=O($b=>{"use strict";var xO={};$b.Team=class{#e=null;#r=null;#t=null;#n=!1;#i=!1;constructor(e){this._init(e)}_init(e={}){this.work=new Promise((r,i)=>{this._resolve=r,this._reject=i});let t=e.meetings||1;this.#e=t,this.#r=t,this.#t=[],this.#n=!1,this.#i=e.strict}attend(e){if(this.#i&&this.#n)throw new Error("Unscheduled meeting");return e instanceof Error?(this.#n=!0,this._reject(e)):(this.#t.push(e),--this.#r?void 0:(this.#n=!0,this._resolve(this.#e===1?this.#t[0]:this.#t)))}async regroup(e){await this.work,this._init(e)}};$b.Events=class{#e=null;#r=[];static isIterator(e){return e instanceof xO.EventsIterator}iterator(){return new xO.EventsIterator(this)}emit(e){this._queue({value:e,done:!1})}end(){this._queue({done:!0})}_next(){return this.#r.length?Promise.resolve(this.#r.shift()):(this.#e=new $b.Team,this.#e.work)}_queue(e){this.#e?(this.#e.attend(e),this.#e=null):this.#r.push(e)}};xO.EventsIterator=class{#e=null;constructor(e){this.#e=e}[Symbol.asyncIterator](){return this}next(){return this.#e._next()}}}),ad=O(jb=>{"use strict";var Lwe=require("os"),X=ol(),Ct={};jb.symbol=Symbol("hapi-response");jb.apply=function(e,t,...r){let i=Ct[e].validate(t);if(i.error)throw new Error(`Invalid ${e} options ${r.length?"("+r.join(" ")+")":""} ${i.error.annotate()}`);return i.value};jb.enable=function(e){let t=e?Object.assign({},e):{};return t.security===!0&&(t.security={}),t.cors===!0&&(t.cors={}),t};Ct.access=X.object({entity:X.valid("user","app","any"),scope:[!1,X.array().items(X.string()).single().min(1)]});Ct.auth=X.alternatives([X.string(),Ct.access.keys({mode:X.valid("required","optional","try"),strategy:X.string(),strategies:X.array().items(X.string()).min(1),access:X.array().items(Ct.access.min(1)).single().min(1),payload:[X.valid("required","optional"),X.boolean()]}).without("strategy","strategies").without("access",["scope","entity"])]);Ct.event=X.object({method:X.array().items(X.function()).single(),options:X.object({before:X.array().items(X.string()).single(),after:X.array().items(X.string()).single(),bind:X.any(),sandbox:X.valid("server","plugin"),timeout:X.number().integer().min(1)}).default({})});Ct.exts=X.array().items(Ct.event.keys({type:X.string().required()})).single();Ct.failAction=X.alternatives([X.valid("error","log","ignore"),X.function()]).default("error");Ct.routeBase=X.object({app:X.object().allow(null),auth:Ct.auth.allow(!1),bind:X.object().allow(null),cache:X.object({expiresIn:X.number(),expiresAt:X.string(),privacy:X.valid("default","public","private"),statuses:X.array().items(X.number().integer().min(200)).min(1).single().default([200,204]),otherwise:X.string().default("no-cache")}).allow(!1).default(),compression:X.object().pattern(/.+/,X.object()).default(),cors:X.object({origin:X.array().min(1).allow("ignore").default(["*"]),maxAge:X.number().default(86400),headers:X.array().items(X.string()).default(["Accept","Authorization","Content-Type","If-None-Match"]),additionalHeaders:X.array().items(X.string()).default([]),exposedHeaders:X.array().items(X.string()).default(["WWW-Authenticate","Server-Authorization"]),additionalExposedHeaders:X.array().items(X.string()).default([]),credentials:X.boolean().when("origin",{is:"ignore",then:!1}).default(!1)}).allow(!1,!0).default(!1),ext:X.object({onPreAuth:X.array().items(Ct.event).single(),onCredentials:X.array().items(Ct.event).single(),onPostAuth:X.array().items(Ct.event).single(),onPreHandler:X.array().items(Ct.event).single(),onPostHandler:X.array().items(Ct.event).single(),onPreResponse:X.array().items(Ct.event).single(),onPostResponse:X.array().items(Ct.event).single()}).default({}),files:X.object({relativeTo:X.string().pattern(/^([\/\.])|([A-Za-z]:\\)|(\\\\)/).default(".")}).default(),json:X.object({replacer:X.alternatives(X.function(),X.array()).allow(null).default(null),space:X.number().allow(null).default(null),suffix:X.string().allow(null).default(null),escape:X.boolean().default(!1)}).default(),jsonp:X.string(),log:X.object({collect:X.boolean().default(!1)}).default(),payload:X.object({output:X.valid("data","stream","file").default("data"),parse:X.boolean().allow("gunzip").default(!0),multipart:X.object({output:X.valid("data","stream","file","annotated").required()}).default(!1).allow(!0,!1),allow:X.array().items(X.string()).single(),override:X.string(),protoAction:X.valid("error","remove","ignore").default("error"),maxBytes:X.number().integer().positive().default(1024*1024),uploads:X.string().default(Lwe.tmpdir()),failAction:Ct.failAction,timeout:X.number().integer().positive().allow(!1).default(10*1e3),defaultContentType:X.string().default("application/json"),compression:X.object().pattern(/.+/,X.object()).default()}).default(),plugins:X.object(),response:X.object({disconnectStatusCode:X.number().integer().min(400).default(499),emptyStatusCode:X.valid(200,204).default(204),failAction:Ct.failAction,modify:X.boolean(),options:X.object(),ranges:X.boolean().default(!0),sample:X.number().min(0).max(100).when("modify",{then:X.forbidden()}),schema:X.alternatives(X.object(),X.array(),X.function()).allow(!0,!1),status:X.object().pattern(/\d\d\d/,X.alternatives(X.object(),X.array(),X.function()).allow(!0,!1))}).default(),security:X.object({hsts:X.alternatives([X.object({maxAge:X.number(),includeSubdomains:X.boolean(),includeSubDomains:X.boolean(),preload:X.boolean()}),X.boolean(),X.number()]).default(15768e3),xframe:X.alternatives([X.boolean(),X.valid("sameorigin","deny"),X.object({rule:X.valid("sameorigin","deny","allow-from"),source:X.string()})]).default("deny"),xss:X.boolean().default(!0),noOpen:X.boolean().default(!0),noSniff:X.boolean().default(!0),referrer:X.alternatives([X.boolean().valid(!1),X.valid("","no-referrer","no-referrer-when-downgrade","unsafe-url","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin")]).default(!1)}).allow(null,!1,!0).default(!1),state:X.object({parse:X.boolean().default(!0),failAction:Ct.failAction}).default(),timeout:X.object({socket:X.number().integer().positive().allow(!1),server:X.number().integer().positive().allow(!1).default(!1)}).default(),validate:X.object({headers:X.alternatives(X.object(),X.array(),X.function()).allow(null,!0),params:X.alternatives(X.object(),X.array(),X.function()).allow(null,!0),query:X.alternatives(X.object(),X.array(),X.function()).allow(null,!1,!0),payload:X.alternatives(X.object(),X.array(),X.function()).allow(null,!1,!0),state:X.alternatives(X.object(),X.array(),X.function()).allow(null,!1,!0),failAction:Ct.failAction,errorFields:X.object(),options:X.object().default(),validator:X.object()}).default()});Ct.server=X.object({address:X.string().hostname(),app:X.object().allow(null),autoListen:X.boolean(),cache:X.allow(null),compression:X.object({minBytes:X.number().min(1).integer().default(1024)}).allow(!1).default(),debug:X.object({request:X.array().items(X.string()).single().allow(!1).default(["implementation"]),log:X.array().items(X.string()).single().allow(!1)}).allow(!1).default(),host:X.string().hostname().allow(null),info:X.object({remote:X.boolean().default(!1)}).default({}),listener:X.any(),load:X.object({sampleInterval:X.number().integer().min(0).default(0)}).unknown().default(),mime:X.object().empty(null).default(),operations:X.object({cleanStop:X.boolean().default(!0)}).default(),plugins:X.object(),port:X.alternatives([X.number().integer().min(0),X.string().pattern(/\//),X.string().pattern(/^\\\\\.\\pipe\\/)]).allow(null),query:X.object({parser:X.function()}).default(),router:X.object({isCaseSensitive:X.boolean().default(!0),stripTrailingSlash:X.boolean().default(!1)}).default(),routes:Ct.routeBase.default(),state:X.object(),tls:X.alternatives([X.object().allow(null),X.boolean()]),uri:X.string().pattern(/[^/]$/)});Ct.vhost=X.alternatives([X.string().hostname(),X.array().items(X.string().hostname()).min(1)]);Ct.handler=X.alternatives([X.function(),X.object().length(1)]);Ct.route=X.object({method:X.string().pattern(/^[a-zA-Z0-9!#\$%&'\*\+\-\.^_`\|~]+$/).required(),path:X.string().required(),rules:X.object(),vhost:Ct.vhost,handler:X.any(),options:X.any(),config:X.any()}).without("config","options");Ct.pre=[X.function(),X.object({method:X.alternatives(X.string(),X.function()).required(),assign:X.string(),mode:X.valid("serial","parallel"),failAction:Ct.failAction})];Ct.routeConfig=Ct.routeBase.keys({description:X.string(),id:X.string(),isInternal:X.boolean(),notes:[X.string(),X.array().items(X.string())],pre:X.array().items(...Ct.pre.concat(X.array().items(...Ct.pre).min(1))),tags:[X.string(),X.array().items(X.string())]});Ct.cacheConfig=X.alternatives([X.function(),X.object({name:X.string().invalid("_default"),shared:X.boolean(),provider:[X.function(),{constructor:X.function().required(),options:X.object({partition:X.string().default("hapi-cache")}).unknown().default({})}],engine:X.object()}).xor("provider","engine")]);Ct.cache=X.array().items(Ct.cacheConfig).min(1).single();Ct.cachePolicy=X.object({cache:X.string().allow(null).allow(""),segment:X.string(),shared:X.boolean()}).unknown();Ct.method=X.object({bind:X.object().allow(null),generateKey:X.function(),cache:Ct.cachePolicy});Ct.methodObject=X.object({name:X.string().required(),method:X.function().required(),options:X.object()});Ct.register=X.object({once:!0,routes:X.object({prefix:X.string().pattern(/^\/.+/),vhost:Ct.vhost}).default({})});Ct.semver=X.string();Ct.plugin=Ct.register.keys({options:X.any(),plugin:X.object({register:X.function().required(),name:X.string().when("pkg.name",{is:X.exist(),otherwise:X.required()}),version:X.string(),multiple:X.boolean().default(!1),dependencies:[X.array().items(X.string()).single(),X.object().pattern(/.+/,Ct.semver)],once:!0,requirements:X.object({hapi:X.string(),node:X.string()}).default(),pkg:X.object({name:X.string(),version:X.string().default("0.0.0")}).unknown().default({})}).unknown()}).without("once","options").unknown();Ct.rules=X.object({validate:X.object({schema:X.alternatives(X.object(),X.array()).required(),options:X.object().default({allowUnknown:!0})})})}),g8=O(m8=>{"use strict";var fo={};m8.decode=function(e){let t=e.indexOf("%");if(t===-1)return e;let r="",i=0,s=0,n=t,a=fo.utf8.accept;for(;t>-1&&t<e.length;){let o=fo.resolveHex(e[t+1],4),u=fo.resolveHex(e[t+2],0),d=o|u,m=fo.utf8.data[d];if(a=fo.utf8.data[256+a+m],s=s<<6|d&fo.utf8.data[364+m],a===fo.utf8.accept){r+=e.slice(i,n),r+=s<=65535?String.fromCharCode(s):String.fromCharCode(55232+(s>>10),56320+(s&1023)),s=0,i=t+3,t=e.indexOf("%",i),n=t;continue}if(a===fo.utf8.reject)return null;if(t+=3,t>=e.length||e[t]!=="%")return null}return r+e.slice(i)};fo.resolveHex=function(e,t){let r=fo.hex[e];return r===void 0?255:r<<t};fo.hex={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};fo.utf8={accept:12,reject:0,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7]}}),v8=O(y8=>{"use strict";y8.generate=function(){let e="(?:^\\/$)",t="[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]",r="%[A-F0-9]{2}",i="(?:"+t+"|"+r+")",s=i+"+",n=i+"*",a="(?:\\{\\w+(?:\\*[1-9]\\d*)?\\})",o="(?:\\/(?:\\{\\w+(?:(?:\\*(?:[1-9]\\d*)?)|(?:\\?))?\\})?)?",u="(?:\\{\\w+\\??\\})",d="(?:(?:"+s+u+")+"+n+")|(?:"+u+"(?:"+s+u+")+"+n+")|(?:"+u+s+")",m="(?:"+s+"|"+a+"|"+d+")",f="\\/"+m,x="(?:"+f+")*",T="(?:^"+x+o+"$)",q="("+s+")|(?:\\{(\\w+)(?:(\\*)(\\d+)?)?(\\?)?\\})",F={parseParam:new RegExp(q,"g"),validatePath:new RegExp(e+"|"+T),validatePathEncoded:/%(?:2[146-9A-E]|3[\dABD]|4[\dA-F]|5[\dAF]|6[1-9A-F]|7[\dAE])/g};return F}}),b8=O((_8,w8)=>{"use strict";var Gm=Jt(),ta={};_8=w8.exports=ta.Segment=function(){this._edge=null,this._fulls=null,this._literals=null,this._param=null,this._mixed=null,this._wildcard=null};ta.Segment.prototype.add=function(e,t){let r=e[0],i=e.slice(1),s=!i.length,n=[],a=!0;for(let o=0;o<e.length&&a;++o)a=e[o].literal!==void 0,n.push(e[o].literal);if(a){this._fulls=this._fulls||new Map;let o="/"+n.join("/");t.settings.isCaseSensitive||(o=o.toLowerCase()),Gm.assert(!this._fulls.has(o),"New route",t.path,"conflicts with existing",this._fulls.has(o)&&this._fulls.get(o).record.path),this._fulls.set(o,{segment:r,record:t})}else if(r.literal!==void 0){this._literals=this._literals||new Map;let o=t.settings.isCaseSensitive?r.literal:r.literal.toLowerCase();this._literals.has(o)||this._literals.set(o,new ta.Segment),this._literals.get(o).add(i,t)}else if(r.wildcard)Gm.assert(!this._wildcard,"New route",t.path,"conflicts with existing",this._wildcard&&this._wildcard.record.path),Gm.assert(!this._param||!this._param._wildcard,"New route",t.path,"conflicts with existing",this._param&&this._param._wildcard&&this._param._wildcard.record.path),this._wildcard={segment:r,record:t};else if(r.mixed){this._mixed=this._mixed||[];let o=this._mixedLookup(r);o||(o={segment:r,node:new ta.Segment},this._mixed.push(o),this._mixed.sort(ta.mixed)),s?(Gm.assert(!o.node._edge,"New route",t.path,"conflicts with existing",o.node._edge&&o.node._edge.record.path),o.node._edge={segment:r,record:t}):o.node.add(i,t)}else this._param=this._param||new ta.Segment,s?(Gm.assert(!this._param._edge,"New route",t.path,"conflicts with existing",this._param._edge&&this._param._edge.record.path),this._param._edge={segment:r,record:t}):(Gm.assert(!this._wildcard||!i[0].wildcard,"New route",t.path,"conflicts with existing",this._wildcard&&this._wildcard.record.path),this._param.add(i,t))};ta.Segment.prototype._mixedLookup=function(e){for(let t=0;t<this._mixed.length;++t)if(ta.mixed({segment:e},this._mixed[t])===0)return this._mixed[t];return null};ta.mixed=function(e,t){let r=-1,i=1,s=e.segment,n=t.segment;if(s.length!==n.length)return s.length>n.length?r:i;if(s.first!==n.first)return s.first?i:r;for(let a=0;a<s.segments.length;++a){let o=s.segments[a],u=n.segments[a];if(o===u)continue;return o.length===u.length?o>u?i:r:o.length<u.length?i:r}return 0};ta.Segment.prototype.lookup=function(e,t,r){let i=null;if(this._fulls&&(i=this._fulls.get(r.isCaseSensitive?e:e.toLowerCase()),i))return{record:i.record,array:[]};let s=t[0],n=e.slice(s.length+1),a=t.length>1?t.slice(1):null;if(this._literals){let o=r.isCaseSensitive?s:s.toLowerCase();if(i=this._literals.get(o),i){let u=ta.deeper(i,n,a,[],r);if(u)return u}}if(this._mixed)for(let o=0;o<this._mixed.length;++o){i=this._mixed[o];let u=s.match(i.segment.mixed);if(u){let d=[];for(let f=1;f<u.length;++f)d.push(u[f]);let m=ta.deeper(i.node,n,a,d,r);if(m)return m}}if(this._param&&(s||this._param._edge&&this._param._edge.segment.empty)){let o=ta.deeper(this._param,n,a,[s],r);if(o)return o}return this._wildcard?{record:this._wildcard.record,array:[e.slice(1)]}:null};ta.deeper=function(e,t,r,i,s){if(r){let n=e.lookup(t,r,s);if(n)return{record:n.record,array:i.concat(n.array)}}else{if(e._edge)return{record:e._edge.record,array:i};if(e._wildcard)return{record:e._wildcard.record,array:i}}return null}}),S8=O(x8=>{"use strict";var E8=Nr(),fh=Jt(),Dwe=g8(),$we=v8(),jwe=b8(),Qi={pathRegex:$we.generate(),defaults:{isCaseSensitive:!0}};x8.Router=Qi.Router=function(e){this.settings=fh.applyToDefaults(Qi.defaults,e||{}),this.routes=new Map,this.ids=new Map,this.vhosts=null,this.specials={badRequest:null,notFound:null,options:null}};Qi.Router.prototype.add=function(e,t){let r=e.method.toLowerCase(),i=e.vhost||"*";i!=="*"&&(this.vhosts=this.vhosts||new Map,this.vhosts.has(i)||this.vhosts.set(i,new Map));let s=i==="*"?this.routes:this.vhosts.get(i);s.has(r)||s.set(r,{routes:[],router:new jwe});let n=e.analysis||this.analyze(e.path),a={path:e.path,route:t||e.path,segments:n.segments,params:n.params,fingerprint:n.fingerprint,settings:this.settings},o=s.get(r);o.router.add(n.segments,a),o.routes.push(a),o.routes.sort(Qi.sort);let u=a.segments[a.segments.length-1];return u.empty&&o.router.add(n.segments.slice(0,-1),a),e.id&&(fh.assert(!this.ids.has(e.id),"Route id",e.id,"for path",e.path,"conflicts with existing path",this.ids.has(e.id)&&this.ids.get(e.id).path),this.ids.set(e.id,a)),a};Qi.Router.prototype.special=function(e,t){fh.assert(Object.keys(this.specials).indexOf(e)!==-1,"Unknown special route type:",e),this.specials[e]={route:t}};Qi.Router.prototype.route=function(e,t,r){let i=t.length===1?[""]:t.split("/").slice(1),s=this.vhosts&&r&&this.vhosts.get(r),n=s&&this._lookup(t,i,s,e)||this._lookup(t,i,this.routes,e)||e==="head"&&s&&this._lookup(t,i,s,"get")||e==="head"&&this._lookup(t,i,this.routes,"get")||e==="options"&&this.specials.options||s&&this._lookup(t,i,s,"*")||this._lookup(t,i,this.routes,"*")||this.specials.notFound||E8.notFound();return n};Qi.Router.prototype._lookup=function(e,t,r,i){let s=r.get(i);if(!s)return null;let n=s.router.lookup(e,t,this.settings);if(!n)return null;let a={},o=[];for(let u=0;u<n.array.length;++u){let d=n.record.params[u],m=Dwe.decode(n.array[u]);if(m===null)return this.specials.badRequest||E8.badRequest("Invalid request path");a[d]!==void 0?a[d]=a[d]+"/"+m:a[d]=m,(u+1===n.array.length||d!==n.record.params[u+1])&&o.push(a[d])}return{params:a,paramsArray:o,route:n.record.route}};Qi.Router.prototype.normalize=function(e){if(e&&e.indexOf("%")!==-1){let t=e.replace(/%[0-9a-fA-F][0-9a-fA-F]/g,i=>i.toUpperCase()),r=t.replace(/%(?:2[146-9A-E]|3[\dABD]|4[\dA-F]|5[\dAF]|6[1-9A-F]|7[\dAE])/g,i=>String.fromCharCode(parseInt(i.substring(1),16)));e=r}if(e&&(e.indexOf("/.")!==-1||e[0]===".")){let t=e[0]==="/",r=e.split("/"),i=[],s;for(let n=0;n<r.length;++n)s=r[n],s===".."?i.pop():s!=="."&&i.push(s);(s==="."||s==="..")&&i.push(""),e=i.join("/"),e[0]!=="/"&&t&&(e="/"+e)}return e};Qi.Router.prototype.analyze=function(e){fh.assert(Qi.pathRegex.validatePath.test(e),"Invalid path:",e),fh.assert(!Qi.pathRegex.validatePathEncoded.test(e),"Path cannot contain encoded non-reserved path characters:",e);let t=e.split("/"),r=[],i=[],s=[];for(let n=1;n<t.length;++n){let a=t[n];if(a.indexOf("{")===-1){a=this.settings.isCaseSensitive?a:a.toLowerCase(),s.push(a),r.push({literal:a});continue}let o=Qi.parseParams(a);if(o.length===1){let u=o[0];if(fh.assert(i.indexOf(u.name)===-1,"Cannot repeat the same parameter name:",u.name,"in:",e),i.push(u.name),u.wildcard)if(u.count)for(let d=0;d<u.count;++d)s.push("?"),r.push({}),d&&i.push(u.name);else s.push("#"),r.push({wildcard:!0});else s.push("?"),r.push({empty:u.empty})}else{let u={length:o.length,first:typeof o[0]!="string",segments:[]},d="",m="^";for(let f=0;f<o.length;++f){let x=o[f];typeof x=="string"?(d=d+x,m=m+fh.escapeRegex(x),u.segments.push(x)):(fh.assert(i.indexOf(x.name)===-1,"Cannot repeat the same parameter name:",x.name,"in:",e),i.push(x.name),d=d+"?",m=m+"(."+(x.empty?"*":"+")+")")}u.mixed=new RegExp(m+"$",this.settings.isCaseSensitive?"":"i"),s.push(d),r.push(u)}}return{segments:r,fingerprint:"/"+s.join("/"),params:i}};Qi.parseParams=function(e){let t=[];return e.replace(Qi.pathRegex.parseParam,(r,i,s,n,a,o)=>(i?t.push(i):t.push({name:s,wildcard:!!n,count:a&&parseInt(a,10),empty:!!o}),"")),t};Qi.Router.prototype.table=function(e){let t=[],r=i=>{if(!i)return;for(let s of i.values())for(let n of s.routes)t.push(n.route)};if(this.vhosts){let i=e?[].concat(e):[...this.vhosts.keys()];for(let s of i)r(this.vhosts.get(s))}return r(this.routes),t};Qi.sort=function(e,t){let r=-1,i=1,s=e.segments,n=t.segments;if(s.length!==n.length)return s.length>n.length?i:r;for(let a=0;;++a){if(s[a].literal){if(n[a].literal){if(s[a].literal===n[a].literal)continue;return s[a].literal>n[a].literal?i:r}return r}return n[a].literal||s[a].wildcard?i:r}}}),T8=O((LXe,R8)=>{"use strict";var Fb=Jt(),A8=Nr(),zm={validate:Symbol("validate")};zm.defaults={partition:"catbox"};R8.exports=class{constructor(e,t){Fb.assert(e,"Missing catbox client engine"),Fb.assert(typeof e=="object"||typeof e=="function","engine must be an engine object or engine prototype (function)"),Fb.assert(typeof e=="function"||!t,"Can only specify options with function engine config");let r=Object.assign({},zm.defaults,t);Fb.assert(r.partition.match(/^[\w\-]+$/),"Invalid partition name:"+r.partition),this.connection=typeof e=="object"?e:new e(r)}async start(){await this.connection.start()}async stop(){await this.connection.stop()}isReady(){return this.connection.isReady()}validateSegmentName(e){return this.connection.validateSegmentName(e)}async get(e){if(this[zm.validate](e,null),e===null)return null;let t=await this.connection.get(e);if(!t||t.item===void 0||t.item===null)return null;let r=Date.now(),i=t.stored+t.ttl,s=i-r;if(s<=0)return null;let n={item:t.item,stored:t.stored,ttl:s};return n}async set(e,t,r){if(this[zm.validate](e),r<=0)return;await this.connection.set(e,t,r)}async drop(e){this[zm.validate](e),await this.connection.drop(e)}[zm.validate](e,t={}){if(!this.isReady())throw A8.internal("Disconnected");let r=e&&typeof e.id=="string"&&e.segment&&typeof e.segment=="string";if(!r&&e!==t)throw A8.internal("Invalid key")}}}),Yv=O((C8,O8)=>{"use strict";var Ei=Jt(),k8=Xv(),Di=ol(),Kn={schema:{base:Di.object({name:Di.string().required(),clone:Di.boolean(),tags:Di.boolean(),spread:Di.boolean(),channels:Di.array().items(Di.string()).single().unique().min(1)})}};Kn.schema.event=Kn.schema.base.keys({shared:Di.boolean()});Kn.schema.listener=Kn.schema.event.keys({listener:Di.func().required(),context:Di.object(),count:Di.number().integer().min(1),filter:{tags:Di.array().items(Di.string()).single().unique().min(1).required(),all:Di.boolean()}});C8=O8.exports=Kn.Podium=class{constructor(e,t){this._eventListeners=new Map,this._notificationsQueue=[],this._eventsProcessing=!1,this._sourcePodiums=[],e&&this.registerEvent(e,t)}static decorate(e,t){Kn.Podium.constructor.call(e);for(let r of t._eventListeners.keys())e._eventListeners.set(r,{handlers:null,flags:t._eventListeners.get(r).flags})}static validate(e){let t=[];e=[].concat(e);for(let r of e)typeof r=="string"&&(r={name:r}),t.push(Di.attempt(r,Kn.schema.event,"Invalid event options"));return t}registerEvent(e,t={}){e=Ei.flatten([].concat(e));for(let r of e){if(!r)continue;if(r instanceof Kn.Podium){this.registerPodium(r);continue}typeof r=="string"&&(r={name:r}),t.validate!==!1&&(r=Di.attempt(r,Kn.schema.event,"Invalid event options"));let i=r.name;if(this._eventListeners.has(i)){Ei.assert(r.shared,`Event ${i} exists`);continue}this._eventListeners.set(i,{handlers:null,flags:r});for(let s of this._sourcePodiums)s._eventListeners.has(i)||s._eventListeners.set(i,{handlers:null,flags:r})}}registerPodium(e){e=[].concat(e);for(let t of e){if(t._sourcePodiums.indexOf(this)!==-1)continue;t._sourcePodiums.push(this);for(let r of t._eventListeners.keys())this._eventListeners.has(r)||this._eventListeners.set(r,{handlers:null,flags:t._eventListeners.get(r).flags})}}async emit(e,t,r){e=Kn.criteria(e);let i=e.name;Ei.assert(i,"Criteria missing event name");let s=this._eventListeners.get(i);if(Ei.assert(s,`Unknown event ${i}`),!s.handlers&&!this._sourcePodiums.length)return;if(Ei.assert(!e.channel||typeof e.channel=="string","Invalid channel name"),Ei.assert(!e.channel||!s.flags.channels||s.flags.channels.indexOf(e.channel)!==-1,`Unknown ${e.channel} channel`),Ei.assert(!s.flags.spread||Array.isArray(t)||typeof t=="function","Data must be an array for spread event"),typeof e.tags=="string"&&(Object.assign({},e),e.tags={[e.tags]:!0}),e.tags&&Array.isArray(e.tags)){let n={};for(let a of e.tags)n[a]=!0;Object.assign({},e),e.tags=n}if(s.handlers){let n=[],a=s.handlers.slice();for(let o of a){if(o.channels&&(!e.channel||o.channels.indexOf(e.channel)===-1))continue;if(o.filter){if(!e.tags)continue;let m=Ei.intersect(e.tags,o.filter.tags,{first:!o.filter.all});if(!m||o.filter.all&&m.length!==o.filter.tags.length)continue}o.count&&(--o.count,o.count<1&&Kn.removeHandler(this,e.name,o)),!r&&typeof t=="function"&&(t=t(),r=!0);let u=Kn.flag("clone",o,s)?Ei.clone(t):t,d=Kn.flag("spread",o,s)&&Array.isArray(u)?u:[u];Kn.flag("tags",o,s)&&e.tags&&d.push(e.tags);try{let m=o.context?o.listener.apply(o.context,d):o.listener(...d);m&&typeof m.then=="function"&&n.push(m)}catch(m){n.push(Promise.reject(m))}}n.length&&await Promise.all(n)}if(this._sourcePodiums.length){let n=this._sourcePodiums.slice();await Promise.all(n.map(a=>a.emit(e,t,r)))}}on(e,t,r){e=Object.assign({},Kn.criteria(e)),e.listener=t,e.context=r,e.filter&&(typeof e.filter=="string"||Array.isArray(e.filter))&&(e.filter={tags:e.filter}),e=Di.attempt(e,Kn.schema.listener,"Invalid event listener options");let i=e.name,s=this._eventListeners.get(i);return Ei.assert(s,`Unknown event ${i}`),Ei.assert(!e.channels||!s.flags.channels||Ei.intersect(s.flags.channels,e.channels).length===e.channels.length,`Unknown event channels ${e.channels&&e.channels.join(", ")}`),s.handlers=s.handlers||[],s.handlers.push(e),this}addListener(e,t,r){return this.on(e,t,r)}once(e,t,r){if(e=Object.assign({},Kn.criteria(e),{count:1}),t)return this.on(e,t,r);let i=new k8.Team;return this.on(e,(...s)=>i.attend(s),r),i.work}few(e,t){Ei.assert(typeof e=="object","Criteria must be an object"),Ei.assert(e.count,"Criteria must include a count limit");let r=new k8.Team({meetings:e.count});return this.on(e,(...i)=>r.attend(i),t),r.work}removeListener(e,t){Ei.assert(this._eventListeners.has(e),`Unknown event ${e}`),Ei.assert(typeof t=="function","Listener must be a function");let r=this._eventListeners.get(e),i=r.handlers;if(!i)return this;let s=i.filter(n=>n.listener!==t);return r.handlers=s.length?s:null,this}removeAllListeners(e){return Ei.assert(this._eventListeners.has(e),`Unknown event ${e}`),this._eventListeners.get(e).handlers=null,this}hasListeners(e){return Ei.assert(this._eventListeners.has(e),`Unknown event ${e}`),!!this._eventListeners.get(e).handlers}};Kn.removeHandler=function(e,t,r){let i=e._eventListeners.get(t),s=i.handlers,n=s.filter(a=>a!==r);i.handlers=n.length?n:null};Kn.criteria=function(e){return typeof e=="string"?{name:e}:e};Kn.flag=function(e,t,r){return(t[e]!==void 0?t[e]:r.flags[e])||!1}}),q8=O((P8,I8)=>{"use strict";P8=I8.exports=class{id=null;timeout=null;count=1;rule=null;resolve=null;reject=null;constructor(e,t){this.id=e,this.rule=t,this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}join(){return++this.count,this.promise}send(e,t,r,i){if(clearTimeout(this.timeout),e&&!r){this.reject(e);return}if(!this.rule.getDecoratedValue){this.resolve(t);return}e&&(i.error=e),this.resolve({value:t,cached:r,report:i})}setTimeout(e,t){clearTimeout(this.timeout),this.timeout=setTimeout(e,t)}}}),D8=O((N8,M8)=>{"use strict";var Fwe=Nr(),od=Jt(),L8=Yv(),Xn=ol(),Bwe=q8(),ho={day:24*60*60*1e3,events:L8.validate([{name:"error",channels:["generate","persist"]}])};ho.schema=Xn.object({expiresIn:Xn.number().integer().min(1),expiresAt:Xn.string().regex(/^\d\d?\:\d\d$/),staleIn:[Xn.number().integer().min(1).when("expiresAt",{is:Xn.required(),then:Xn.number().max(864e5-1)}),Xn.func()],staleTimeout:Xn.number().integer().min(1),generateFunc:Xn.func(),generateTimeout:Xn.number().integer().min(1).allow(!1),generateOnReadError:Xn.boolean(),generateIgnoreWriteError:Xn.boolean(),dropOnError:Xn.boolean(),pendingGenerateTimeout:Xn.number().integer().min(1),getDecoratedValue:Xn.boolean().default(!1),privacy:Xn.any(),cache:Xn.any(),segment:Xn.any(),shared:Xn.any()}).without("expiresIn","expiresAt").with("staleIn","generateFunc").with("generateOnReadError","generateFunc").with("generateIgnoreWriteError","generateFunc").with("dropOnError","generateFunc").and("generateFunc","generateTimeout").and("staleIn","staleTimeout");N8=M8.exports=ho.Policy=class{rule=null;stats={sets:0,gets:0,hits:0,stales:0,generates:0,errors:0};_events=null;_cache=null;_segment=null;_pendings=new Map;_pendingGenerateCall=new Map;constructor(e,t,r){if(this._cache=t,this.rules(e),t){let i=t.validateSegmentName(r);od.assert(i===null,"Invalid segment name: "+r+(i?" ("+i.message+")":"")),this._segment=r}}get client(){return this._cache}get events(){return this._events||(this._events=new L8(ho.events)),this._events}_error(e,t){if(!this._events)return;this._events.emit({name:"error",channel:e},{source:e,error:t})}rules(e){this.rule=ho.Policy.compile(e,!!this._cache)}async get(e){++this.stats.gets,(!e||typeof e=="string")&&(e={id:e,string:!0});let t=this._pendings.get(e.id);if(t!==void 0)return t.join();t=new Bwe(e.id,this.rule),this._pendings.set(e.id,t);try{await this._get(t,e)}catch(r){this._send(e,r)}return t.promise}async _get(e,t){let r={},i=new od.Bench;if(this._cache)try{var s=await this._cache.get({segment:this._segment,id:t.id})}catch(n){r.error=n,++this.stats.errors,this._error("persist",n)}if(r.msec=i.elapsed(),s){r.stored=s.stored,r.ttl=s.ttl;let n=typeof this.rule.staleIn=="function"?this.rule.staleIn(s.stored,s.ttl):this.rule.staleIn;s.isStale=n?Date.now()-s.stored>=n:!1,r.isStale=s.isStale,s.isStale&&++this.stats.stales}if(!this.rule.generateFunc||r.error&&!this.rule.generateOnReadError){this._send(t,r.error,s?s.item:null,s,r);return}if(s&&!s.isStale){this._send(t,null,s.item,s,r);return}return Promise.race([e.promise,this._generate(e,t,s,r)])}_generate(e,t,r,i){if(r&&(r.ttl=r.ttl-this.rule.staleTimeout),r&&r.ttl>0?e.setTimeout(()=>this._send(t,null,r.item,r,i),this.rule.staleTimeout):this.rule.generateTimeout&&e.setTimeout(()=>this._send(t,Fwe.serverUnavailable(),null,null,i),this.rule.generateTimeout),this._pendingGenerateCall.has(t.id))return;if(++this.stats.generates,this.rule.pendingGenerateTimeout){let s=setTimeout(()=>this._pendingGenerateCall.delete(t.id),this.rule.pendingGenerateTimeout);this._pendingGenerateCall.set(t.id,s)}return this._callGenerateFunc(t,r,i)}async _callGenerateFunc(e,t,r){let i={};try{var s=await this.rule.generateFunc(e.string?e.id:e,i)}catch(d){var n=d;this._error("generate",d)}let a=this._pendingGenerateCall.get(e.id);a&&(clearTimeout(a),this._pendingGenerateCall.delete(e.id));try{i.ttl===0||n&&this.rule.dropOnError?await this.drop(e.id):n||await this.set(e.id,s,i.ttl)}catch(d){var o=d;this._error("persist",d)}let u=n||(this.rule.generateIgnoreWriteError?null:o);if(t&&u&&!this.rule.dropOnError){this._send(e,u,t.item,t,r);return}this._send(e,u,s,null,r)}_send(e,t,r,i,s){let n=this._pendings.get(e.id);if(!n)return;this._pendings.delete(e.id),n.send(t,r,i,s),s&&s.isStale!==void 0&&(this.stats.hits=this.stats.hits+n.count)}async set(e,t,r){if(++this.stats.sets,!this._cache)return;try{await this._cache.set({segment:this._segment,id:ho.id(e)},t,r||ho.Policy.ttl(this.rule))}catch(i){throw++this.stats.errors,i}}async drop(e){if(!this._cache)return;try{await this._cache.drop({segment:this._segment,id:ho.id(e)});return}catch(t){throw++this.stats.errors,t}}ttl(e){return ho.Policy.ttl(this.rule,e)}isReady(){return this._cache?this._cache.connection.isReady():!1}static compile(e,t){let r={};if(!e||!Object.keys(e).length)return r;e=Xn.attempt(e,ho.schema,"Invalid cache policy configuration");let i=e.expiresIn!==void 0&&e.expiresIn!==null,s=e.expiresAt!==void 0&&e.expiresAt!==null;if(od.assert(!i||!e.staleIn||typeof e.staleIn=="function"||e.staleIn<e.expiresIn,"staleIn must be less than expiresIn"),od.assert(!e.staleIn||t,"Cannot use stale options without server-side caching"),od.assert(!e.staleTimeout||!i||e.staleTimeout<e.expiresIn,"staleTimeout must be less than expiresIn"),od.assert(!e.staleTimeout||!i||typeof e.staleIn=="function"||e.staleTimeout<e.expiresIn-e.staleIn,"staleTimeout must be less than the delta between expiresIn and staleIn"),od.assert(!e.staleTimeout||!e.pendingGenerateTimeout||e.staleTimeout<e.pendingGenerateTimeout,"pendingGenerateTimeout must be greater than staleTimeout if specified"),s){let n=/^(\d\d?):(\d\d)$/.exec(e.expiresAt);r.expiresAt={hours:parseInt(n[1],10),minutes:parseInt(n[2],10)}}else r.expiresIn=e.expiresIn||0;return e.generateFunc&&(r.generateFunc=e.generateFunc,r.generateTimeout=e.generateTimeout,e.staleIn&&(r.staleIn=e.staleIn,r.staleTimeout=e.staleTimeout),r.dropOnError=e.dropOnError!==void 0?e.dropOnError:!0,r.pendingGenerateTimeout=e.pendingGenerateTimeout!==void 0?e.pendingGenerateTimeout:0),r.generateOnReadError=e.generateOnReadError!==void 0?e.generateOnReadError:!0,r.generateIgnoreWriteError=e.generateIgnoreWriteError!==void 0?e.generateIgnoreWriteError:!0,r.getDecoratedValue=e.getDecoratedValue,r}static ttl(e,t,r){r=r||Date.now(),t=t||r;let i=r-t;if(i<0)return 0;if(e.expiresIn)return Math.max(e.expiresIn-i,0);if(e.expiresAt){if(i>ho.day)return 0;let s=new Date(t);s.setHours(e.expiresAt.hours),s.setMinutes(e.expiresAt.minutes),s.setSeconds(0),s.setMilliseconds(0);let n=s.getTime();return n<=t&&(n=n+ho.day),r>=n?0:n-r}return 0}};ho.id=function(e){return e&&typeof e=="object"?e.id:e}}),EO=O(Bb=>{"use strict";var Uwe=T8(),Hwe=D8();Bb.Client=Uwe;Bb.Policy=Bb.policy=Hwe}),F8=O(($8,j8)=>{"use strict";var cd=Nr(),Vm=Jt(),qu={maxTimer:2147483647,entrySize:144};qu.defaults={maxByteSize:100*1024*1024,minCleanupIntervalMsec:1e3,cloneBuffersOnGet:!1};$8=j8.exports=qu.Connection=class{constructor(e={}){Vm.assert(this.constructor===qu.Connection,"Memory cache client must be instantiated using new"),Vm.assert(e.maxByteSize===void 0||e.maxByteSize>=0,"Invalid cache maxByteSize value"),Vm.assert(e.allowMixedContent===void 0,"allowMixedContent no longer supported"),Vm.assert(e.minCleanupIntervalMsec===void 0||e.minCleanupIntervalMsec<qu.maxTimer,"Invalid cache minCleanupIntervalMsec value"),Vm.assert(e.cloneBuffersOnGet===void 0||typeof e.cloneBuffersOnGet=="boolean","Invalid cloneBuffersOnGet value"),this.settings=Vm.applyToDefaults(qu.defaults,e),this.cache=null,this._timer=null,this._timerDue=null}start(){this.cache||(this.cache=new Map,this.byteSize=0)}_scheduleCleanup(e){let t=()=>{this._timer=null,this._timerDue=null;let s=Date.now(),n=Infinity;for(let[,a]of this.cache)for(let[o,u]of a){let d=u.stored+u.ttl-s;d<=0?(a.delete(o),this.byteSize-=u.byteSize):n=Math.min(n,d)}n!==Infinity&&this._scheduleCleanup(n)},r=Date.now(),i=Math.min(Math.max(this.settings.minCleanupIntervalMsec,e),qu.maxTimer);if(this._timer){if(this._timerDue-r<e)return;clearTimeout(this._timer)}this._timerDue=r+i,this._timer=setTimeout(t,i)}stop(){clearTimeout(this._timer),this._timer=null,this._timerDue=null,this.cache=null,this.byteSize=0}isReady(){return!!this.cache}validateSegmentName(e){if(!e)throw new cd.Boom("Empty string");if(e.indexOf("\0")!==-1)throw new cd.Boom("Includes null character");return null}get(e){if(!this.cache)throw new cd.Boom("Connection not started");let t=this.cache.get(e.segment);if(!t)return null;let r=t.get(e.id);if(!r)return null;if(r.stored+r.ttl<Date.now())return this.drop(e),null;let i=null;if(Buffer.isBuffer(r.item)){if(i=r.item,this.settings.cloneBuffersOnGet){let n=Buffer.alloc(i.length);i.copy(n),i=n}}else try{i=JSON.parse(r.item)}catch(n){throw new cd.Boom("Bad value content")}let s={item:i,stored:r.stored,ttl:r.ttl};return s}set(e,t,r){if(!this.cache)throw new cd.Boom("Connection not started");let i=new qu.MemoryCacheEntry(e,t,r),s=this.cache.get(e.segment);s||(s=new Map,this.cache.set(e.segment,s));let n=s.get(e.id);if(n&&(this.byteSize-=n.byteSize),this.settings.maxByteSize&&this.byteSize+i.byteSize>this.settings.maxByteSize)throw new cd.Boom("Cache size limit reached");this._scheduleCleanup(r),s.set(e.id,i),this.byteSize+=i.byteSize}drop(e){if(!this.cache)throw new cd.Boom("Connection not started");let t=this.cache.get(e.segment);if(t){let r=t.get(e.id);r&&(this.byteSize-=r.byteSize,t.delete(e.id))}}};qu.MemoryCacheEntry=class{constructor(e,t,r){let i=0;Buffer.isBuffer(t)?(this.item=Buffer.alloc(t.length),t.copy(this.item),i=this.item.length):(this.item=JSON.stringify(t),i=Buffer.byteLength(this.item)),this.stored=Date.now(),this.ttl=r,this.byteSize=qu.entrySize+i+Buffer.byteLength(e.segment)+Buffer.byteLength(e.id),this.timeoutId=null}}}),H8=O((B8,U8)=>{"use strict";var SO=Nr(),Ub=Jt(),Wm=ol(),hh={};hh.schema=Wm.object({sampleInterval:Wm.number().min(0),maxHeapUsedBytes:Wm.number().min(0),maxEventLoopDelay:Wm.number().min(0),maxRssBytes:Wm.number().min(0)}).unknown();hh.defaults={sampleInterval:0,maxHeapUsedBytes:0,maxRssBytes:0,maxEventLoopDelay:0};B8=U8.exports=hh.Heavy=function(e){e=e||{},Wm.assert(e,hh.schema,"Invalid load monitoring options"),this.settings=Ub.applyToDefaults(hh.defaults,e),Ub.assert(this.settings.sampleInterval||!this.settings.maxEventLoopDelay&&!this.settings.maxHeapUsedBytes&&!this.settings.maxRssBytes,"Load sample interval must be set to enable load limits"),this._eventLoopTimer=null,this._loadBench=new Ub.Bench,this.load={eventLoopDelay:0,heapUsed:0,rss:0}};hh.Heavy.prototype.start=function(){if(!this.settings.sampleInterval)return;let e=()=>{this._loadBench.reset();let t=()=>{let r=process.memoryUsage();this.load.eventLoopDelay=this._loadBench.elapsed()-this.settings.sampleInterval,this.load.heapUsed=r.heapUsed,this.load.rss=r.rss,e()};this._eventLoopTimer=setTimeout(t,this.settings.sampleInterval)};e()};hh.Heavy.prototype.stop=function(){clearTimeout(this._eventLoopTimer),this._eventLoopTimer=null};hh.Heavy.prototype.check=function(){if(!this.settings.sampleInterval)return;Ub.assert(this._eventLoopTimer,"Cannot check load when sampler is not started");let e=this._loadBench.elapsed(),t=this.load;if(e>this.settings.sampleInterval&&(t.eventLoopDelay=Math.max(t.eventLoopDelay,e-this.settings.sampleInterval)),this.settings.maxEventLoopDelay&&t.eventLoopDelay>this.settings.maxEventLoopDelay)throw SO.serverUnavailable("Server under heavy load (event loop)",t);if(this.settings.maxHeapUsedBytes&&t.heapUsed>this.settings.maxHeapUsedBytes)throw SO.serverUnavailable("Server under heavy load (heap)",t);if(this.settings.maxRssBytes&&t.rss>this.settings.maxRssBytes)throw SO.serverUnavailable("Server under heavy load (rss)",t)}}),z8=O(($Xe,G8)=>{G8.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0},"application/atsc-held+xml":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma","es"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0},"application/fhir+json":{source:"iana",compressible:!0},"application/fhir+xml":{source:"iana",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0},"application/mmt-usd+xml":{source:"iana",compressible:!0},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",compressible:!0},"application/msc-mixer+xml":{source:"iana",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",compressible:!0},"application/pidf-diff+xml":{source:"iana",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0},"application/route-s-tsid+xml":{source:"iana",compressible:!0},"application/route-usd+xml":{source:"iana",compressible:!0},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0},"application/urc-targetdesc+xml":{source:"iana",compressible:!0},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["keynote"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",compressible:!0},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0},"application/xcap-caps+xml":{source:"iana",compressible:!0},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}}),V8=O(Km=>{"use strict";var Gwe=require("path"),Hb=Jt(),zwe=z8(),ra={compressibleRx:/^text\/|\+json$|\+text$|\+xml$/};Km.MimosEntry=class{constructor(e,t){this.type=e,this.source="mime-db",this.extensions=[],this.compressible=void 0,Object.assign(this,t),this.compressible===void 0&&(this.compressible=ra.compressibleRx.test(e))}};ra.insertEntry=function(e,t,r){r.byType.set(e,t);for(let i of t.extensions)r.byExtension.set(i,t),i.length>r.maxExtLength&&(r.maxExtLength=i.length)};ra.compile=function(e){let t={byType:new Map,byExtension:new Map,maxExtLength:0};for(let r in e){let i=new Km.MimosEntry(r,e[r]);ra.insertEntry(r,i,t)}return t};ra.getTypePart=function(e){let t=e.indexOf(";");return t===-1?e:e.slice(0,t)};ra.applyPredicate=function(e){return e.predicate?e.predicate(Hb.clone(e)):e};Km.Mimos=class{#e=ra.base;constructor(t={}){if(t.override){Hb.assert(typeof t.override=="object","overrides option must be an object"),this.#e={...this.#e,byType:new Map(this.#e.byType),byExtension:new Map(this.#e.byExtension)};for(let r in t.override){let i=t.override[r];Hb.assert(!i.predicate||typeof i.predicate=="function","predicate option must be a function");let s=this.#e.byType.get(r),n=s?Hb.applyToDefaults(s,i):i,a=new Km.MimosEntry(r,n);ra.insertEntry(r,a,this.#e)}}}path(t){let r=Gwe.extname(t).slice(1).toLowerCase(),i=this.#e.byExtension.get(r)||{};return ra.applyPredicate(i)}type(t){t=ra.getTypePart(t);let r=this.#e.byType.get(t);return r||(t=t.trim().toLowerCase(),r=this.#e.byType.get(t)),r?ra.applyPredicate(r):(r=new Km.MimosEntry(t,{source:"mimos"}),ra.insertEntry(t,r,this.#e),r)}};ra.base=ra.compile(zwe)}),Jv=O(Xm=>{"use strict";var Vwe={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};Xm.parse=function(e,...t){let r=typeof t[0]=="object"&&t[0],i=t.length>1||!r?t[0]:void 0,s=t.length>1&&t[1]||r||{},n=JSON.parse(e,i);return s.protoAction==="ignore"||(!n||typeof n!="object"||e.match(Vwe.suspectRx)&&Xm.scan(n,s)),n};Xm.scan=function(e,t={}){let r=[e];for(;r.length;){let i=r;r=[];for(let s of i){if(Object.prototype.hasOwnProperty.call(s,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}for(let n in s){let a=s[n];a&&typeof a=="object"&&r.push(s[n])}}}};Xm.safeParse=function(e,t){try{return Xm.parse(e,t)}catch(r){return null}}}),RO=O(ph=>{"use strict";var W8=require("crypto"),K8=Nr(),Gb={};ph.randomString=function(e){let t=ph.randomBits((e+1)*6),r=t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return r.slice(0,e)};ph.randomAlphanumString=function(e){let t="";for(;t.length<e;){let r=ph.randomBits((e+1)*6);t+=r.toString("base64").replace(/[^a-zA-Z0-9]/g,"")}return t.slice(0,e)};ph.randomDigits=function(e){let t=[],r=Gb.random(e*2),i=0;for(;t.length<e;)i>=r.length&&(r=Gb.random(e*2),i=0),r[i]<250&&t.push(r[i]%10),++i;return t.join("")};ph.randomBits=function(e){if(!e||e<0)throw K8.internal("Invalid random bits count");let t=Math.ceil(e/8);return Gb.random(t)};ph.fixedTimeComparison=function(e,t){try{return W8.timingSafeEqual(Buffer.from(e),Buffer.from(t))}catch(r){return!1}};Gb.random=function(e){try{return W8.randomBytes(e)}catch(t){throw K8.internal("Failed generating random bits: "+t.message)}}}),X8=O(Zv=>{"use strict";var Wwe=require("stream"),Kwe={decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]};Zv.decode=function(e){let t=Kwe.decodeChars,r=e.length,i=Math.ceil(r/4)*3,s=Buffer.alloc(i),n,a,o,u,d=0;for(let m=0;m<r;){do n=t[e[m++]&255];while(m<r&&n===-1);if(n===-1)break;do a=t[e[m++]&255];while(m<r&&a===-1);if(a===-1)break;s[d++]=n<<2|(a&48)>>4;do{if(o=e[m++]&255,o===61)return s.slice(0,d);o=t[o]}while(m<r&&o===-1);if(o===-1)break;s[d++]=(a&15)<<4|(o&60)>>2;do{if(u=e[m++]&255,u===61)return s.slice(0,d);u=t[u]}while(m<r&&u===-1);u!==-1&&(s[d++]=(o&3)<<6|u)}return d===i?s:s.slice(0,d)};Zv.Decoder=class extends Wwe.Transform{constructor(){super();this._reminder=null}_transform(t,r,i){let s=this._reminder?Buffer.concat([this._reminder,t]):t,n=s.length%4;return n?(this._reminder=s.slice(s.length-n),s=s.slice(0,s.length-n)):this._reminder=null,this.push(Zv.decode(s)),i()}_flush(t){return this._reminder&&this.push(Zv.decode(this._reminder)),t()}}}),Y8=O(Qv=>{"use strict";var Xwe=require("stream");Qv.encode=function(e){return Buffer.from(e.toString("base64"))};Qv.Encoder=class extends Xwe.Transform{constructor(){super();this._reminder=null}_transform(t,r,i){let s=this._reminder?Buffer.concat([this._reminder,t]):t,n=s.length%3;return n?(this._reminder=s.slice(s.length-n),s=s.slice(0,s.length-n)):this._reminder=null,this.push(Qv.encode(s)),i()}_flush(t){return this._reminder&&this.push(Qv.encode(this._reminder)),t()}}}),AO=O(ld=>{"use strict";var Ywe=Jt(),J8=X8(),Z8=Y8();ld.decode=J8.decode;ld.encode=Z8.encode;ld.Decoder=J8.Decoder;ld.Encoder=Z8.Encoder;ld.base64urlEncode=function(e,t){Ywe.assert(typeof e=="string"||Buffer.isBuffer(e),"value must be string or buffer");let r=Buffer.isBuffer(e)?e:Buffer.from(e,t||"binary");return r.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")};ld.base64urlDecode=function(e,t){if(typeof e!="string")throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");let r=Buffer.from(e,"base64");return t==="buffer"?r:r.toString(t||"binary")}}),eB=O(Cn=>{"use strict";var zb=require("crypto"),Vb=AO(),si=Nr(),Jwe=Jv(),TO=RO(),Q8=Jt(),ud={};Cn.defaults={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0};Cn.algorithms={"aes-128-ctr":{keyBits:128,ivBits:128},"aes-256-cbc":{keyBits:256,ivBits:128},sha256:{keyBits:256}};Cn.macFormatVersion="2";Cn.macPrefix="Fe26."+Cn.macFormatVersion;Cn.generateKey=async function(e,t){if(!e)throw new si.Boom("Empty password");if(!t||typeof t!="object")throw new si.Boom("Bad options");let r=Cn.algorithms[t.algorithm];if(!r)throw new si.Boom("Unknown algorithm: "+t.algorithm);let i={};if(Buffer.isBuffer(e)){if(e.length<r.keyBits/8)throw new si.Boom("Key buffer (password) too small");i.key=e,i.salt=""}else{if(e.length<t.minPasswordlength)throw new si.Boom("Password string too short (min "+t.minPasswordlength+" characters required)");let s=t.salt;if(!s){if(!t.saltBits)throw new si.Boom("Missing salt and saltBits options");let a=TO.randomBits(t.saltBits);s=a.toString("hex")}let n=await ud.pbkdf2(e,s,t.iterations,r.keyBits/8,"sha1");i.key=n,i.salt=s}return t.iv?i.iv=t.iv:r.ivBits&&(i.iv=TO.randomBits(r.ivBits)),i};Cn.encrypt=async function(e,t,r){let i=await Cn.generateKey(e,t),s=zb.createCipheriv(t.algorithm,i.key,i.iv),n=Buffer.concat([s.update(r,"utf8"),s.final()]);return{encrypted:n,key:i}};Cn.decrypt=async function(e,t,r){let i=await Cn.generateKey(e,t),s=zb.createDecipheriv(t.algorithm,i.key,i.iv),n=s.update(r,null,"utf8");return n=n+s.final("utf8"),n};Cn.hmacWithPassword=async function(e,t,r){let i=await Cn.generateKey(e,t),s=zb.createHmac(t.algorithm,i.key).update(r),n=s.digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return{digest:n,salt:i.salt}};ud.normalizePassword=function(e){return e&&typeof e=="object"&&!Buffer.isBuffer(e)?{id:e.id,encryption:e.secret||e.encryption,integrity:e.secret||e.integrity}:{encryption:e,integrity:e}};Cn.seal=async function(e,t,r){r=Object.assign({},r);let i=Date.now()+(r.localtimeOffsetMsec||0),s=ud.stringify(e),n="";if(t=ud.normalizePassword(t),t.id){if(!/^\w+$/.test(t.id))throw new si.Boom("Invalid password id");n=t.id}let{encrypted:a,key:o}=await Cn.encrypt(t.encryption,r.encryption,s),u=Vb.base64urlEncode(a),d=Vb.base64urlEncode(o.iv),m=r.ttl?i+r.ttl:"",f=Cn.macPrefix+"*"+n+"*"+o.salt+"*"+d+"*"+u+"*"+m,x=await Cn.hmacWithPassword(t.integrity,r.integrity,f),T=f+"*"+x.salt+"*"+x.digest;return T};Cn.unseal=async function(e,t,r){r=Object.assign({},r);let i=Date.now()+(r.localtimeOffsetMsec||0),s=e.split("*");if(s.length!==8)throw new si.Boom("Incorrect number of sealed components");let n=s[0],a=s[1],o=s[2],u=s[3],d=s[4],m=s[5],f=s[6],x=s[7],T=n+"*"+a+"*"+o+"*"+u+"*"+d+"*"+m;if(n!==Cn.macPrefix)throw new si.Boom("Wrong mac prefix");if(m){if(!m.match(/^\d+$/))throw new si.Boom("Invalid expiration");let Q=parseInt(m,10);if(Q<=i-r.timestampSkewSec*1e3)throw new si.Boom("Expired seal")}if(!t)throw new si.Boom("Empty password");if(typeof t=="object"&&!Buffer.isBuffer(t)&&(t=t[a||"default"],!t))throw new si.Boom("Cannot find password: "+a);t=ud.normalizePassword(t);let q=Q8.clone(r.integrity);q.salt=f;let F=await Cn.hmacWithPassword(t.integrity,q,T);if(!TO.fixedTimeComparison(F.digest,x))throw new si.Boom("Bad hmac value");try{var $=Vb.base64urlDecode(d,"buffer")}catch(Q){throw si.boomify(Q)}let H=Q8.clone(r.encryption);H.salt=o;try{H.iv=Vb.base64urlDecode(u,"buffer")}catch(Q){throw si.boomify(Q)}let oe=await Cn.decrypt(t.encryption,H,$);try{return Jwe.parse(oe)}catch(Q){throw new si.Boom("Failed parsing sealed object JSON: "+Q.message)}};ud.stringify=function(e){try{return JSON.stringify(e)}catch(t){throw new si.Boom("Failed to stringify object: "+t.message)}};ud.pbkdf2=function(...e){return new Promise((t,r)=>{let i=(s,n)=>{if(s)return r(si.boomify(s));t(n)};e.push(i),zb.pbkdf2(...e)})}}),nB=O(Ym=>{"use strict";var tB=require("querystring"),Cs=Nr(),rB=sc(),Zwe=Jv(),Qwe=RO(),Nu=Jt(),dh=eB(),Zr=ol(),hr={macPrefix:"hapi.signed.cookie.1"};hr.schema=Zr.object({strictHeader:Zr.boolean(),ignoreErrors:Zr.boolean(),isSecure:Zr.boolean(),isHttpOnly:Zr.boolean(),isSameSite:Zr.valid("Strict","Lax","None",!1),path:Zr.string().allow(null),domain:Zr.string().allow(null),ttl:Zr.number().allow(null),encoding:Zr.string().valid("base64json","base64","form","iron","none"),sign:Zr.object({password:[Zr.string(),Zr.binary(),Zr.object()],integrity:Zr.object()}),iron:Zr.object(),password:[Zr.string(),Zr.binary(),Zr.object()],contextualize:Zr.function(),clearInvalid:Zr.boolean(),autoValue:Zr.any(),passThrough:Zr.boolean()});hr.defaults={strictHeader:!0,ignoreErrors:!1,isSecure:!0,isHttpOnly:!0,isSameSite:"Strict",path:null,domain:null,ttl:null,encoding:"none"};hr.parseRx=/\s*([^=\s]*)\s*=\s*(?:(?:"([^\"]*)")|([^\;]*))(?:(?:;\s*)|$)/g;hr.validateRx={nameRx:{strict:/^[^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+$/,loose:/^[^=\s]*$/},valueRx:{strict:/^[^\x00-\x20\"\,\;\\\x7F]*$/,loose:/^(?:"([^\"]*)")|(?:[^\;]*)$/},domainRx:/^\.?[a-z\d]+(?:(?:[a-z\d]*)|(?:[a-z\d\-]*[a-z\d]))(?:\.[a-z\d]+(?:(?:[a-z\d]*)|(?:[a-z\d\-]*[a-z\d])))*$/,domainLabelLenRx:/^\.?[a-z\d\-]{1,63}(?:\.[a-z\d\-]{1,63})*$/,pathRx:/^\/[^\x00-\x1F\;]*$/};hr.pairsRx=/\s*([^=\s]*)\s*=\s*([^\;]*)(?:(?:;\s*)|$)/g;Ym.Definitions=class{constructor(e){this.settings=Nu.applyToDefaults(hr.defaults,e||{}),Zr.assert(this.settings,hr.schema,"Invalid state definition defaults"),this.cookies={},this.names=[]}add(e,t){Nu.assert(e&&typeof e=="string","Invalid name"),Nu.assert(!this.cookies[e],"State already defined:",e);let r=Nu.applyToDefaults(this.settings,t||{},{nullOverride:!0});Zr.assert(r,hr.schema,"Invalid state definition: "+e),this.cookies[e]=r,this.names.push(e)}async parse(e){let t={},r=[],i=e.replace(hr.parseRx,(u,d,m,f)=>{let x=d,T=m||f||"";if(x==="__proto__")throw Cs.badRequest("Invalid cookie header");return t[x]?(Array.isArray(t[x])||(t[x]=[t[x]]),t[x].push(T)):(t[x]=T,r.push(x)),""}),s=[];if(i!==""){if(!this.settings.ignoreErrors)throw Cs.badRequest("Invalid cookie header");s.push({settings:this.settings,reason:`Header contains unexpected syntax: ${i}`})}let n=[],a=(u,d,m,f)=>{let x={name:d,value:m,settings:f,reason:typeof u=="string"?u:u.message};s.push(x),f.ignoreErrors||n.push(x)},o={};for(let u of r){let d=t[u],m=this.cookies[u]||this.settings;if(m.strictHeader){let x=hr.validate(u,t);if(x){a(x,u,d,m);continue}}if(m.encoding==="none"){o[u]=d;continue}if(!Array.isArray(d)){try{let x=await hr.unsign(u,d,m),T=await hr.decode(x,m);o[u]=T}catch(x){rB.rethrow(x,"system"),a(x,u,d,m)}continue}let f=[];for(let x of d)try{let T=await hr.unsign(u,x,m),q=await hr.decode(T,m);f.push(q)}catch(T){rB.rethrow(T,"system"),a(T,u,d,m)}o[u]=f}if(n.length){let u=Cs.badRequest("Invalid cookie value",n);throw u.states=o,u.failed=s,u}return{states:o,failed:s}}async format(e,t){if(!e||Array.isArray(e)&&!e.length)return[];Array.isArray(e)||(e=[e]);let r=[];for(let i=0;i<e.length;++i){let s=e[i],n=this.cookies[s.name]||this.settings,a=s.options?Nu.applyToDefaults(n,s.options,{nullOverride:!0}):n;a.contextualize&&(a===n&&(a=Nu.clone(a)),await a.contextualize(a,t));let o=a.strictHeader?hr.validateRx.nameRx.strict:hr.validateRx.nameRx.loose;if(!o.test(s.name))throw Cs.badImplementation("Invalid cookie name: "+s.name);let u=await Ym.prepareValue(s.name,s.value,a),d=a.strictHeader?hr.validateRx.valueRx.strict:hr.validateRx.valueRx.loose;if(u&&(typeof u!="string"||!u.match(d)))throw Cs.badImplementation("Invalid cookie value: "+s.value);let m=s.name+"="+(u||"");if(a.ttl!==null&&a.ttl!==void 0){let f=new Date(a.ttl?Date.now()+a.ttl:0);m=m+"; Max-Age="+Math.floor(a.ttl/1e3)+"; Expires="+f.toUTCString()}if(a.isSecure&&(m=m+"; Secure"),a.isHttpOnly&&(m=m+"; HttpOnly"),a.isSameSite&&(m=`${m}; SameSite=${a.isSameSite}`),a.domain){let f=a.domain.toLowerCase();if(!f.match(hr.validateRx.domainLabelLenRx))throw Cs.badImplementation("Cookie domain too long: "+a.domain);if(!f.match(hr.validateRx.domainRx))throw Cs.badImplementation("Invalid cookie domain: "+a.domain);m=m+"; Domain="+f}if(a.path){if(!a.path.match(hr.validateRx.pathRx))throw Cs.badImplementation("Invalid cookie path: "+a.path);m=m+"; Path="+a.path}r.push(m)}return r}passThrough(e,t){if(!this.names.length)return e;let r=[];for(let i=0;i<this.names.length;++i){let s=this.names[i],n=this.cookies[s],a=n.passThrough!==void 0?n.passThrough:t;a||r.push(s)}return Ym.exclude(e,r)}};hr.validate=function(e,t){if(!e.match(hr.validateRx.nameRx.strict))return"Invalid cookie name";let r=[].concat(t[e]);for(let i=0;i<r.length;++i)if(!r[i].match(hr.validateRx.valueRx.strict))return"Invalid cookie value";return null};hr.unsign=async function(e,t,r){if(!r.sign)return t;let i=t.lastIndexOf(".");if(i===-1)throw Cs.badRequest("Missing signature separator");let s=t.slice(0,i),n=t.slice(i+1);if(!n)throw Cs.badRequest("Missing signature");let a=n.split("*");if(a.length!==2)throw Cs.badRequest("Invalid signature format");let o=a[0],u=a[1],d=Nu.clone(r.sign.integrity||dh.defaults.integrity);d.salt=o;let m=await dh.hmacWithPassword(r.sign.password,d,[hr.macPrefix,e,s].join(`
`));if(!Qwe.fixedTimeComparison(m.digest,u))throw Cs.badRequest("Invalid hmac value");return s};hr.decode=async function(e,t){if(!e&&t.encoding==="form")return{};if(Nu.assert(typeof e=="string","Invalid string"),t.encoding==="iron")return await dh.unseal(e,t.password,t.iron||dh.defaults);if(t.encoding==="base64json"){let r=Buffer.from(e,"base64").toString("binary");try{return Zwe.parse(r)}catch(i){throw Cs.badRequest("Invalid JSON payload")}}return t.encoding==="base64"?Buffer.from(e,"base64").toString("binary"):tB.parse(e)};Ym.prepareValue=async function(e,t,r){Nu.assert(r&&typeof r=="object","Missing or invalid options");try{let i=await hr.encode(t,r),s=await hr.sign(e,i,r.sign);return s}catch(i){throw Cs.badImplementation("Failed to encode cookie ("+e+") value: "+i.message)}};hr.encode=function(e,t){if(e===void 0||t.encoding==="none")return e;if(t.encoding==="iron")return dh.seal(e,t.password,t.iron||dh.defaults);if(t.encoding==="base64")return Buffer.from(e,"binary").toString("base64");if(t.encoding==="base64json"){let r=JSON.stringify(e);return Buffer.from(r,"binary").toString("base64")}return tB.stringify(e)};hr.sign=async function(e,t,r){if(t===void 0||!r)return t;let i=await dh.hmacWithPassword(r.password,r.integrity||dh.defaults.integrity,[hr.macPrefix,e,t].join(`
`)),s=t+"."+i.salt+"*"+i.digest;return s};Ym.exclude=function(e,t){let r="",i=e.replace(hr.pairsRx,(s,n,a)=>(t.indexOf(n)===-1&&(r=r+(r?";":"")+n+"="+a),""));return i===""?r:Cs.badRequest("Invalid cookie header")}}),OO=O(CO=>{"use strict";var ac=Nr(),mh={};mh.contentTypeRegex=/^([^\/\s]+\/[^\s;]+)(.*)?$/;mh.paramsRegex=/;\s*boundary=(?:"([^"]+)"|([^;"\s]+))/i;CO.type=function(e){if(!e)throw ac.badRequest("Invalid content-type header");let t=e.match(mh.contentTypeRegex);if(!t)throw ac.badRequest("Invalid content-type header");let r={mime:t[1].toLowerCase()};if(r.mime.indexOf("multipart/")===0){let i=t[2];if(i){let s=i.match(mh.paramsRegex);s&&(r.boundary=s[1]||s[2])}if(!r.boundary)throw ac.badRequest("Invalid content-type header: multipart missing boundary")}return r};mh.contentDispositionRegex=/^\s*form-data\s*(?:;\s*(.+))?$/i;mh.contentDispositionParamRegex=/([^\=\*\s]+)(\*)?\s*\=\s*(?:([^;'"\s]+\'[\w-]*\'[^;\s]+)|(?:\"([^"]*)\")|([^;\s]*))(?:\s*(?:;\s*)|$)/g;CO.disposition=function(e){if(!e)throw ac.badRequest("Missing content-disposition header");let t=e.match(mh.contentDispositionRegex);if(!t)throw ac.badRequest("Invalid content-disposition header format");let r=t[1];if(!r)throw ac.badRequest("Invalid content-disposition header missing parameters");let i={};if(r.replace(mh.contentDispositionParamRegex,(s,n,a,o,u,d)=>{if(n==="__proto__")throw ac.badRequest("Invalid content-disposition header format includes invalid parameters");let m;if(a){if(!o)throw ac.badRequest("Invalid content-disposition header format includes invalid parameters");try{m=decodeURIComponent(o.split("'")[2])}catch(f){throw ac.badRequest("Invalid content-disposition header format includes invalid parameters")}}else m=u||d||"";if(n==="name"&&m==="__proto__")throw ac.badRequest("Invalid content-disposition header format includes invalid parameters");i[n]=m}),!i.name)throw ac.badRequest("Invalid content-disposition header missing name parameter");return i}}),aB=O(iB=>{"use strict";var ebe=require("crypto"),sB=require("path");iB.uniqueFilename=function(e,t){t?t=t[0]!=="."?"."+t:t:t="",e=sB.resolve(e);let r=[Date.now(),process.pid,ebe.randomBytes(8).toString("hex")].join("-")+t;return sB.join(e,r)}}),lB=O((oB,cB)=>{"use strict";var tbe=Jt(),gh={};oB=cB.exports=gh.Vise=function(e){if(this.length=0,this._chunks=[],this._offset=0,e){e=[].concat(e);for(let t=0;t<e.length;++t)this.push(e[t])}};gh.Vise.prototype.push=function(e){tbe.assert(Buffer.isBuffer(e),"Chunk must be a buffer");let t={data:e,length:e.length,offset:this.length+this._offset,index:this._chunks.length};this._chunks.push(t),this.length+=e.length};gh.Vise.prototype.shift=function(e){if(!e)return[];let t=this._offset,r=this._chunkAt(e),i=this._chunks.length;this._offset=0,r&&(i=r.chunk.index,this._offset=r.offset);let s=[];for(let n=0;n<i;++n){let a=this._chunks.shift();n===0&&t?s.push(a.data.slice(t)):s.push(a.data)}this._offset&&s.push(r.chunk.data.slice(i?0:t,this._offset)),this.length=0;for(let n=0;n<this._chunks.length;++n){let a=this._chunks[n];a.offset=this.length,a.index=n,this.length+=a.length}return this.length-=this._offset,s};gh.Vise.prototype.at=gh.Vise.prototype.readUInt8=function(e){let t=this._chunkAt(e);return t?t.chunk.data[t.offset]:void 0};gh.Vise.prototype._chunkAt=function(e){if(e<0)return null;e=e+this._offset;for(let t=0;t<this._chunks.length;++t){let r=this._chunks[t],i=e-r.offset;if(i<r.length)return{chunk:r,offset:i}}return null};gh.Vise.prototype.chunks=function(){let e=[];for(let t=0;t<this._chunks.length;++t){let r=this._chunks[t];t===0&&this._offset?e.push(r.data.slice(this._offset)):e.push(r.data)}return e};gh.Vise.prototype.startsWith=function(e,t,r){if(t=t||0,r=r?Math.min(e.length,r):e.length,t+r>this.length)return!1;let i=this._chunkAt(t);if(!i)return!1;let s=i.chunk.index;for(let n=0;s<this._chunks.length&&n<r;++s){let a=this._chunks[s],o=s===i.chunk.index?i.offset:0;for(;o<a.length&&n<r;++o,++n)if(a.data[o]!==e[n])return!1}return!0}}),uB=O(hl=>{"use strict";var rbe=require("stream"),Wb=Jt(),nbe=lB(),e1={};hl.compile=function(e){Wb.assert(e&&e.length,"Missing needle"),Wb.assert(Buffer.isBuffer(e),"Needle must be a buffer");let t={value:e,lastPos:e.length-1,last:e[e.length-1],length:e.length,badCharShift:Buffer.alloc(256)};for(let i=0;i<256;++i)t.badCharShift[i]=t.length;let r=t.length-1;for(let i=0;i<r;++i)t.badCharShift[t.value[i]]=r-i;return t};hl.horspool=function(e,t,r){Wb.assert(e,"Missing haystack"),t=t.badCharShift?t:hl.compile(t),r=r||0;for(let i=r;i<=e.length-t.length;){let s=e.readUInt8(i+t.lastPos);if(s===t.last&&e1.startsWith(e,t,i))return i;i+=t.badCharShift[s]}return-1};e1.startsWith=function(e,t,r){if(e.startsWith)return e.startsWith(t.value,r,t.lastPos);for(let i=0;i<t.lastPos;++i)if(t.value[i]!==e.readUInt8(r+i))return!1;return!0};hl.all=function(e,t,r){t=hl.compile(t),r=r||0;let i=[];for(let s=r;s!==-1&&s<e.length;)s=hl.horspool(e,t,s),s!==-1&&(i.push(s),s+=t.length);return i};e1._indexOf=function(e,t){Wb.assert(e,"Missing haystack");for(let r=0;r<=e.length-t.length;++r)if(e.startsWith(t.value,r))return r;return-1};hl.Stream=e1.Stream=class extends rbe.Writable{constructor(e){super({autoDestroy:!0});this.needle(e),this._haystack=new nbe,this._indexOf=this._needle.length>2?hl.horspool:e1._indexOf,this.on("finish",()=>{let t=this._haystack.chunks();for(let r=0;r<t.length;++r)this.emit("haystack",t[r])})}needle(e){this._needle=hl.compile(e)}_write(e,t,r){this._haystack.push(e);let i=this._indexOf(this._haystack,this._needle);for(i===-1&&e.length>=this._needle.length&&this._flush(this._haystack.length-e.length);i!==-1;)this._flush(i),this._haystack.shift(this._needle.length),this.emit("needle"),i=this._indexOf(this._haystack,this._needle);if(this._haystack.length){let s=this._haystack.length-this._needle.length+1,n=s;for(;n<this._haystack.length&&!this._haystack.startsWith(this._needle.value,n,this._haystack.length-n);++n);this._flush(n)}return r()}_flush(e){let t=this._haystack.shift(e);for(let r=0;r<t.length;++r)this.emit("haystack",t[r])}flush(){let e=this._haystack.shift(this._haystack.length);for(let t=0;t<e.length;++t)this.emit("haystack",e[t])}}}),dB=O(fB=>{"use strict";var hB=require("stream"),ibe=AO(),oc=Nr(),sbe=OO(),kO=Jt(),pB=uB(),es={};es.state={preamble:0,boundary:1,header:2,payload:3,epilogue:4};es.defaults={maxBytes:Infinity};fB.Dispenser=es.Dispenser=class extends hB.Writable{constructor(e){super({autoDestroy:!1});kO.assert(e!==null&&typeof e=="object","options must be an object");let t=kO.applyToDefaults(es.defaults,e);this._boundary=t.boundary,this._state=es.state.preamble,this._held="",this._stream=null,this._headers={},this._name="",this._pendingHeader="",this._error=null,this._bytes=0,this._maxBytes=t.maxBytes,this._parts=new pB.Stream(Buffer.from("--"+t.boundary)),this._lines=new pB.Stream(Buffer.from(`\r
`)),this._parts.on("needle",()=>this._onPartEnd()),this._parts.on("haystack",a=>this._onPart(a)),this._lines.on("needle",()=>this._onLineEnd()),this._lines.on("haystack",a=>this._onLine(a)),this.once("finish",()=>this._parts.end()),this._parts.once("close",()=>this._lines.end());let r=null,i=a=>{if(r&&(r.removeListener("data",n),r.removeListener("error",i),r.removeListener("aborted",s)),a)return this._abort(a);this._emit("close")};i=kO.once(i),this._lines.once("close",()=>{this._state===es.state.epilogue?this._held&&(this._emit("epilogue",this._held),this._held=""):this._state===es.state.boundary?this._held?this._held!=="--"&&this._abort(oc.badRequest("Only white space allowed after boundary at end")):this._abort(oc.badRequest("Missing end boundary")):this._abort(oc.badRequest("Incomplete multipart payload")),setImmediate(i)});let s=()=>{i(oc.badRequest("Client request aborted"))},n=a=>{this._bytes+=Buffer.byteLength(a),this._bytes>this._maxBytes&&i(oc.entityTooLarge("Maximum size exceeded"))};this.once("pipe",a=>{r=a,a.on("data",n),a.once("error",i),a.once("aborted",s)})}_write(e,t,r){return this._error||this._parts.write(e),r()}_emit(...e){if(this._error)return;this.emit(...e)}_abort(e){this._emit("error",e),this._error=e}_onPartEnd(){if(this._lines.flush(),this._state===es.state.preamble){if(this._held){let e=this._held.length-1;if(this._held[e]!==`
`||this._held[e-1]!=="\r")return this._abort(oc.badRequest("Preamble missing CRLF terminator"));this._emit("preamble",this._held.slice(0,-2)),this._held=""}this._parts.needle(Buffer.from(`\r
--`+this._boundary))}this._state=es.state.boundary,this._stream?(this._stream.end(),this._stream=null):this._name&&(this._emit("field",this._name,this._held),this._name="",this._held="")}_onPart(e){this._state===es.state.preamble?this._held=this._held+e.toString():this._state===es.state.payload?this._stream?this._stream.write(e):this._held=this._held+e.toString():this._lines.write(e)}_onLineEnd(){if(this._state===es.state.boundary){if(this._held&&(this._held=this._held.replace(/[\t ]/g,""),this._held)){if(this._held==="--"){this._state=es.state.epilogue,this._held="";return}return this._abort(oc.badRequest("Only white space allowed after boundary"))}this._state=es.state.header;return}if(this._state===es.state.header){if(this._held){if(this._held[0]===" "||this._held[0]==="	"){if(!this._pendingHeader)return this._abort(oc.badRequest("Invalid header continuation without valid declaration on previous line"));this._pendingHeader=this._pendingHeader+" "+this._held.slice(1),this._held="";return}this._flushHeader(),this._pendingHeader=this._held,this._held="";return}this._flushHeader(),this._state=es.state.payload;let e;try{e=sbe.disposition(this._headers["content-disposition"])}catch(t){return this._abort(t)}if(e.filename!==void 0){let t=new hB.PassThrough,r=this._headers["content-transfer-encoding"];r&&r.toLowerCase()==="base64"?(this._stream=new ibe.Decoder,this._stream.pipe(t)):this._stream=t,t.name=e.name,t.filename=e.filename,t.headers=this._headers,this._headers={},this._emit("part",t)}else this._name=e.name;this._lines.flush();return}this._held=this._held+`\r
`}_onLine(e){this._stream?this._stream.write(e):this._held=this._held+e.toString()}_flushHeader(){if(!this._pendingHeader)return;let e=this._pendingHeader.indexOf(":");if(e===-1)return this._abort(oc.badRequest("Invalid header missing colon separator"));if(!e)return this._abort(oc.badRequest("Invalid header missing field name"));let t=this._pendingHeader.slice(0,e).toLowerCase();if(t==="__proto__")return this._abort(oc.badRequest("Invalid header"));this._headers[t]=this._pendingHeader.slice(e+1).trim(),this._pendingHeader=""}}}),PO=O((eYe,mB)=>{"use strict";var abe=require("stream"),obe={};mB.exports=obe.Payload=class extends abe.Readable{constructor(e,t){super();let r=[].concat(e||""),i=0;for(let s=0;s<r.length;++s){let n=r[s];i=i+n.length,r[s]=Buffer.isBuffer(n)?n:Buffer.from(n)}this._data=Buffer.concat(r,i),this._position=0,this._encoding=t||"utf8"}_read(e){let t=this._data.slice(this._position,this._position+e);this.push(t,this._encoding),this._position=this._position+t.length,this._position>=this._data.length&&this.push(null)}}}),yB=O((tYe,gB)=>{"use strict";var cbe=require("stream"),lbe=Nr(),ube={};gB.exports=ube.Recorder=class extends cbe.Writable{constructor(e){super();this.settings=e,this.buffers=[],this.length=0}_write(e,t,r){if(this.settings.maxBytes&&this.length+e.length>this.settings.maxBytes)return this.emit("error",lbe.entityTooLarge("Payload content length greater than maximum allowed: "+this.settings.maxBytes));this.length=this.length+e.length,this.buffers.push(e),r()}collect(){let e=this.buffers.length===0?Buffer.alloc(0):this.buffers.length===1?this.buffers[0]:Buffer.concat(this.buffers,this.length);return e}}}),_B=O((rYe,vB)=>{"use strict";var fbe=require("stream"),hbe=PO(),pbe={};vB.exports=pbe.Tap=class extends fbe.Transform{constructor(){super();this.buffers=[]}_transform(e,t,r){this.buffers.push(e),r(null,e)}collect(){return new hbe(this.buffers)}}}),EB=O((nYe,wB)=>{"use strict";var dbe=require("events"),bB=require("http"),IO=require("https"),xB=require("stream"),t1=require("url"),mbe=require("zlib"),pl=Nr(),gbe=Jv(),ts=Jt(),ybe=PO(),vbe=yB(),_be=_B(),Dr={jsonRegex:/^application\/([a-z0-9.]*[+-]json|json)$/,shallowOptions:["agent","agents","beforeRedirect","payload","redirected"]};Dr.Client=class{constructor(e={}){ts.assert(!e.agents||e.agents.https&&e.agents.http&&e.agents.httpsAllowUnauthorized,'Option agents must include "http", "https", and "httpsAllowUnauthorized"'),this._defaults=ts.clone(e,{shallow:Dr.shallowOptions}),this.agents=this._defaults.agents||{https:new IO.Agent({maxSockets:Infinity}),http:new bB.Agent({maxSockets:Infinity}),httpsAllowUnauthorized:new IO.Agent({maxSockets:Infinity,rejectUnauthorized:!1})},this._defaults.events&&(this.events=new dbe.EventEmitter)}defaults(e){return ts.assert(e&&typeof e=="object","options must be provided to defaults"),e=ts.applyToDefaults(this._defaults,e,{shallow:Dr.shallowOptions}),new Dr.Client(e)}request(e,t,r={}){try{r=ts.applyToDefaults(this._defaults,r,{shallow:Dr.shallowOptions}),ts.assert(r.payload===void 0||typeof r.payload=="string"||typeof r.payload=="object","options.payload must be a string, a Buffer, a Stream, or an Object"),ts.assert(r.agent===void 0||r.agent===null||typeof r.rejectUnauthorized!="boolean","options.agent cannot be set to an Agent at the same time as options.rejectUnauthorized is set"),ts.assert(r.beforeRedirect===void 0||r.beforeRedirect===null||typeof r.beforeRedirect=="function","options.beforeRedirect must be a function"),ts.assert(r.redirected===void 0||r.redirected===null||typeof r.redirected=="function","options.redirected must be a function"),ts.assert(r.gunzip===void 0||typeof r.gunzip=="boolean"||r.gunzip==="force",'options.gunzip must be a boolean or "force"')}catch(a){return Promise.reject(a)}r.baseUrl&&(t=Dr.resolveUrl(r.baseUrl,t),delete r.baseUrl);let i={},s=this._request(e,t,r,i),n=new Promise((a,o)=>{i.callback=(u,d)=>{if(u){o(u);return}a(d)}});return n.req=s,n}_request(e,t,r,i,s){let n={};if(r.socketPath){n.socketPath=r.socketPath;let pe=new t1.URL(t,`unix://${r.socketPath}`);Dr.applyUrlToOptions(n,{host:"",protocol:"http:",hash:pe.hash,search:pe.search,searchParams:pe.searchParams,pathname:pe.pathname,href:pe.href})}else{n.setHost=!1;let pe=new t1.URL(t);Dr.applyUrlToOptions(n,pe)}n.method=e.toUpperCase(),n.headers=Object.assign({},r.headers);let a=Dr.findHeader("host",n.headers);a||(n.headers.host=n.host);let o=Dr.findHeader("content-length",n.headers)!==void 0;r.payload&&typeof r.payload=="object"&&!(r.payload instanceof xB)&&!Buffer.isBuffer(r.payload)&&(r.payload=JSON.stringify(r.payload),Dr.findHeader("content-type",n.headers)||(n.headers["content-type"]="application/json")),r.gunzip&&Dr.findHeader("accept-encoding",n.headers)===void 0&&(n.headers["accept-encoding"]="gzip");let u=n.method!=="GET"&&n.method!=="HEAD"&&r.payload!==null&&r.payload!==void 0;u&&(typeof r.payload=="string"||Buffer.isBuffer(r.payload))&&!o&&(n.headers["content-length"]=Buffer.isBuffer(r.payload)?r.payload.length:Buffer.byteLength(r.payload));let d=r.hasOwnProperty("redirects")?r.redirects:!1;s=s||[],s.push({method:n.method,url:t});let m=n.protocol==="https:"?IO:bB;r.rejectUnauthorized!==void 0&&n.protocol==="https:"?n.agent=r.rejectUnauthorized?this.agents.https:this.agents.httpsAllowUnauthorized:r.agent||r.agent===!1?n.agent=r.agent:n.agent=n.protocol==="https:"?this.agents.https:this.agents.http,r.secureProtocol!==void 0&&(n.secureProtocol=r.secureProtocol),r.ciphers!==void 0&&(n.ciphers=r.ciphers),this._emit("preRequest",n,r);let f=Date.now(),x=m.request(n);this._emit("request",x);let T=null,q,F=pe=>(pe.trace=s,Q(pl.badGateway("Client request error",pe))),$=()=>{if(!x.socket){let pe=new Error("socket hang up");pe.code="ECONNRESET",Q(pe)}};x.once("error",F);let H=pe=>{let ve=pe.statusCode,Ce=Dr.redirectMethod(ve,n.method,r);if(d===!1||!Ce)return Q(null,pe);if(pe.destroy(),d===0)return Q(pl.badGateway("Maximum redirections reached",s));let fe=pe.headers.location;if(!fe)return Q(pl.badGateway("Received redirection without location",s));/^https?:/i.test(fe)||(fe=t1.resolve(n.href,fe));let Pe=ts.clone(r,{shallow:Dr.shallowOptions});Pe.payload=T||r.payload,Pe.redirects=--d;let Ve=()=>{let Ie=this._request(Ce,fe,Pe,{callback:Q},s);r.redirected&&r.redirected(ve,fe,Ie)};return r.beforeRedirect?r.beforeRedirect(Ce,ve,fe,pe.headers,Pe,Ve):Ve()},oe=(pe,ve)=>(pe&&x.abort(),x.removeListener("response",H),x.removeListener("error",F),x.removeListener("abort",$),x.on("error",ts.ignore),clearTimeout(q),this._emit("response",pe,{req:x,res:ve,start:f,uri:n}),i.callback(pe,ve)),Q=ts.once(oe);if(x.once("response",H),r.timeout&&(q=setTimeout(()=>Q(pl.gatewayTimeout("Client request timeout")),r.timeout),delete r.timeout),x.on("abort",$),u){if(r.payload instanceof xB){let pe=r.payload;if(d){let ve=new _be;ve.once("finish",()=>{T=ve.collect()}),pe=r.payload.pipe(ve)}return Dr.deferPipeUntilSocketConnects(x,pe),x}x.write(r.payload)}return x.end(),x}_emit(...e){this.events&&this.events.emit(...e)}read(e,t={}){return new Promise((r,i)=>{this._read(e,t,(s,n)=>{if(s){i(s);return}r(n)})})}_read(e,t,r){t=ts.applyToDefaults(this._defaults,t,{shallow:Dr.shallowOptions});let i=null,s=(x,T)=>{if(clearTimeout(i),d.removeListener("error",m),d.removeListener("finish",f),e.removeListener("error",o),e.removeListener("close",u),e.removeListener("aborted",u),e.on("error",ts.ignore),x)return r(x);if(!t.json)return r(null,T);if(t.json==="force")return Dr.tryParseBuffer(T,r);let q=e.headers&&Dr.findHeader("content-type",e.headers)||"",F=q.split(";")[0].trim().toLowerCase();return Dr.jsonRegex.test(F)?Dr.tryParseBuffer(T,r):t.json==="strict"?r(pl.notAcceptable("The content-type is not JSON compatible")):r(null,T)},n=ts.once(s),a=t.timeout;a&&a>0&&(i=setTimeout(()=>n(pl.clientTimeout()),a));let o=x=>n(x.isBoom?x:pl.internal("Payload stream error",x)),u=()=>{e.complete||n(pl.internal("Payload stream closed prematurely"))};e.once("error",o),e.once("close",u),e.once("aborted",u);let d=new vbe({maxBytes:t.maxBytes}),m=x=>(e.destroy&&e.destroy(),n(x));d.once("error",m);let f=()=>n(null,d.collect());if(d.once("finish",f),t.gunzip){let x=t.gunzip==="force"?"gzip":e.headers&&Dr.findHeader("content-encoding",e.headers)||"";if(/^(x-)?gzip(\s*,\s*identity)?$/.test(x)){let T=mbe.createGunzip();T.once("error",m),e.pipe(T).pipe(d);return}}e.pipe(d)}toReadableStream(e,t){return new ybe(e,t)}parseCacheControl(e){let t=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,r={},i=e.replace(t,(s,n,a,o)=>{let u=a||o;return r[n]=u?u.toLowerCase():!0,""});if(r["max-age"])try{let s=parseInt(r["max-age"],10);if(isNaN(s))return null;r["max-age"]=s}catch(s){}return i?null:r}get(e,t){return this._shortcut("GET",e,t)}post(e,t){return this._shortcut("POST",e,t)}patch(e,t){return this._shortcut("PATCH",e,t)}put(e,t){return this._shortcut("PUT",e,t)}delete(e,t){return this._shortcut("DELETE",e,t)}async _shortcut(e,t,r={}){let i=await this.request(e,t,r),s;try{s=await this.read(i,r)}catch(a){throw a.data=a.data||{},a.data.res=i,a}if(i.statusCode<400)return{res:i,payload:s};let n={isResponseError:!0,headers:i.headers,res:i,payload:s};throw new pl.Boom(`Response Error: ${i.statusCode} ${i.statusMessage}`,{statusCode:i.statusCode,data:n})}};Dr.resolveUrl=function(e,t){if(!t)return e;let r=new t1.URL(t,e);return t1.format(r)};Dr.deferPipeUntilSocketConnects=function(e,t){let r=n=>{if(!n.connecting)return i();n.once("connect",i)},i=()=>{t.pipe(e),t.removeListener("error",s)},s=n=>{e.emit("error",n)};e.once("socket",r),t.on("error",s)};Dr.redirectMethod=function(e,t,r){switch(e){case 301:case 302:return r.redirectMethod||t;case 303:if(r.redirect303)return"GET";break;case 307:case 308:return t}return null};Dr.tryParseBuffer=function(e,t){if(e.length===0)return t(null,null);let r;try{r=gbe.parse(e.toString())}catch(i){return t(pl.badGateway(i.message,{payload:e}))}return t(null,r)};Dr.findHeader=function(e,t){let r=e.toLowerCase();for(let i of Object.keys(t))if(i.toLowerCase()===r)return t[i]};Dr.applyUrlToOptions=(e,t)=>(e.host=t.host,e.origin=t.origin,e.searchParams=t.searchParams,e.protocol=t.protocol,e.hostname=t.hostname,e.hash=t.hash,e.search=t.search,e.pathname=t.pathname,e.path=`${t.pathname}${t.search||""}`,e.href=t.href,t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`,e.username=t.username,e.password=t.password),e);wB.exports=new Dr.Client}),TB=O(SB=>{"use strict";var RB=require("fs"),wbe=require("os"),bbe=require("querystring"),xbe=require("stream"),AB=require("zlib"),dl=Nr(),Ebe=Jv(),Sbe=OO(),Rbe=aB(),r1=Jt(),Abe=dB(),Kb=EB(),Fr={decoders:{gzip:e=>AB.createGunzip(e),deflate:e=>AB.createInflate(e)}};SB.parse=async function(e,t,r){r1.assert(r,"Missing options"),r1.assert(r.parse!==void 0,"Missing parse option setting"),r1.assert(r.output!==void 0,"Missing output option setting");let i=e.headers["content-length"];if(r.maxBytes!==void 0&&i&&parseInt(i,10)>r.maxBytes)throw dl.entityTooLarge("Payload content length greater than maximum allowed: "+r.maxBytes);let s=Sbe.type(r.override||e.headers["content-type"]||r.defaultContentType||"application/octet-stream");try{if(r.allow&&r.allow.indexOf(s.mime)===-1)throw dl.unsupportedMediaType();let n={mime:s.mime};return r.parse===!0?(n.payload=await Fr.parse(e,t,r,s),n):(n.payload=await Fr.raw(e,t,r),n)}catch(n){throw n.mime=s.mime,n}};Fr.parse=async function(e,t,r,i){let s=r.output,n=Fr.decoder(e,r);if(t&&(n=Fr.pipe(n,t)),i.mime==="multipart/form-data"){if(r.multipart===!1)throw dl.unsupportedMediaType();return await Fr.multipart(e,r,n,i)}if(s==="stream")return n;if(s==="file"){let o=await Fr.writeFile(e,r,n);return o.item}let a=await Kb.read(n,{timeout:r.timeout,maxBytes:r.maxBytes});return Fr.object(r,a,i.mime)};Fr.decoder=function(e,t){let r=e.headers["content-encoding"],i=t.decoders||Fr.decoders;if(!i.hasOwnProperty(r))return e;let s=t.compression&&t.compression[r]||null,n=i[r](s),a=n.emit;return n.emit=(o,...u)=>(o==="error"&&(u=[dl.badRequest("Invalid compressed payload",u[0])]),a.call(n,o,...u)),Fr.pipe(e,n)};Fr.raw=async function(e,t,r){let i=r.output,s=e;if(r.parse==="gunzip"&&(s=Fr.decoder(s,r)),t&&(s=Fr.pipe(s,t)),i==="stream")return s;if(i==="file"){let n=await Fr.writeFile(e,r,s);return n.item}return await Kb.read(s,{timeout:r.timeout,maxBytes:r.maxBytes})};Fr.object=function(e,t,r){if(r==="application/octet-stream")return t.length?t:null;if(r.match(/^text\/.+$/))return t.toString("utf8");if(/^application\/(?:.+\+)?json$/.test(r)){if(!t.length)return null;try{return Ebe.parse(t.toString("utf8"),{protoAction:e.protoAction})}catch(s){let n=dl.badRequest("Invalid request payload JSON format",s);throw n.raw=t,n}}if(r==="application/x-www-form-urlencoded"){let s=e.querystring||bbe.parse;return t.length?s(t.toString("utf8")):{}}let i=dl.unsupportedMediaType();throw i.raw=t,i};Fr.multipart=function(e,t,r,i){return new Promise((s,n)=>{let a=t.timeout,o=a?setTimeout(()=>n(dl.clientTimeout()),a):null,u=r1.applyToDefaults(i,{maxBytes:t.maxBytes}),d=new Abe.Dispenser(u),m=Q=>n(dl.badRequest("Invalid multipart payload format",Q));d.once("error",m);let f={},x=[],T=(Q,pe)=>{f.hasOwnProperty(Q)?Array.isArray(f[Q])?f[Q].push(pe):f[Q]=[f[Q],pe]:f[Q]=pe},q=async()=>{clearTimeout(o),d.removeListener("error",m),d.removeListener("part",$),d.removeListener("field",H),d.removeListener("close",oe);try{let Q=await Promise.all(x);for(let{item:pe,name:ve}of Q)T(ve,pe)}catch(Q){n(Q);return}s(f)},F=typeof t.multipart=="object"?t.multipart.output:t.output,$=Q=>{F==="file"?x.push(Fr.writeFile(e,t,Q)):Fr.part(Q,F,T,t)};d.on("part",$);let H=(Q,pe)=>T(Q,pe);d.on("field",H);let oe=()=>q();d.once("close",oe),r.pipe(d)})};Fr.writeFile=function(e,t,r){let i=new Promise((s,n)=>{let a=Rbe.uniqueFilename(t.uploads||wbe.tmpdir()),o=RB.createWriteStream(a,{flags:"wx"}),u=new Fr.Counter(t),d=f=>{if(e.removeListener("aborted",m),o.removeListener("close",d),o.removeListener("error",d),f){r.unpipe(u),u.unpipe(o),o.destroy(),RB.unlink(a,()=>n(f));return}let x={item:{path:a,bytes:u.bytes}};r.name&&(x.name=r.name,x.item.filename=r.filename,x.item.headers=r.headers),s(x)};o.once("close",d),o.once("error",d);let m=()=>d(dl.badRequest("Client connection aborted"));e.once("aborted",m),Fr.pipe(r,u),Fr.pipe(u,o)});return i.catch(r1.ignore),i};Fr.part=async function(e,t,r,i){let s=await Kb.read(e);if(t==="stream"){let u=Kb.toReadableStream(s);return u.hapi={filename:e.filename,headers:e.headers},r(e.name,u)}let n=e.headers["content-type"]||"",a=n.split(";")[0].trim().toLowerCase(),o=u=>r(e.name,t==="annotated"?{filename:e.filename,headers:e.headers,payload:u}:u);if(!a)return o(s);if(!s.length)return o({});try{let u=Fr.object(i,s,a);o(u)}catch(u){o(s)}};Fr.pipe=function(e,t){return e.once("error",r=>{e.unpipe(t),t.emit("error",r)}),e.pipe(t)};Fr.Counter=class extends xbe.Transform{constructor(e){super();this.bytes=0,this._maxBytes=e.maxBytes}_transform(e,t,r){return this.bytes=this.bytes+e.length,this._maxBytes!==void 0&&this.bytes>this._maxBytes?r(dl.entityTooLarge("Payload content length greater than maximum allowed: "+this._maxBytes)):r(null,e)}}}),Xb=O((CB,OB)=>{"use strict";var Tbe=Jt(),Cbe=Nb(),kB={};CB=OB.exports=kB.Ext=class{type=null;nodes=null;#e=null;#r=[];#t=new Cbe.Sorter;constructor(e,t){this.#e=t,this.type=e}add(e){let t=[].concat(e.method);for(let r of t){let i={before:e.options.before,after:e.options.after,group:e.realm.plugin,sort:this.#e.extensionsSeq++},s={func:r,bind:e.options.bind,server:e.server,realm:e.realm,timeout:e.options.timeout};this.#t.add(s,i)}this.nodes=this.#t.nodes;for(let r of this.#r)r.rebuild(e)}merge(e){let t=[];for(let r of e)t.push(r.#t);this.#t.merge(t),this.nodes=this.#t.nodes.length?this.#t.nodes:null}subscribe(e){this.#r.push(e)}static combine(e,t){let r=new kB.Ext(t,e._core),i=e.settings.ext[t];if(i)for(let a of i)a=Object.assign({},a),Tbe.assert(!a.options.sandbox,"Cannot specify sandbox option for route extension"),a.realm=e.realm,r.add(a);let s=e._core.extensions.route[t],n=e.realm._extensions[t];return r.merge([s,n]),s.subscribe(e),n.subscribe(e),r}}}),IB=O(n1=>{"use strict";var PB=Jt(),qO={};n1.execute=async function(e){if(e._route._prerequisites)for(let r of e._route._prerequisites){let i=[];for(let n of r)i.push(qO.handler(e,n.method,n));let s=await Promise.all(i);for(let n of s)if(n!==void 0)return n}let t=await qO.handler(e,e.route.settings.handler);if(t._takeover||typeof t=="symbol")return t;e._setResponse(t)};qO.handler=async function(e,t,r){let i=e.route.settings.bind,s=e.route.realm,n=await e._core.toolkit.execute(t,e,{bind:i,realm:s,continue:"null"});if(!r){if(n.isBoom)throw e._log(["handler","error"],n),n;return n}if(n.isBoom&&(n.assign=r.assign,n=await e._core.toolkit.failAction(e,r.failAction,n,{tags:["pre","error"],retain:!0})),typeof n=="symbol")return n;if(r.assign&&(e.pre[r.assign]=n.isBoom?n:n.source,e.preResponses[r.assign]=n),n._takeover)return n};n1.defaults=function(e,t,r){let i=null;if(typeof t=="object"){let s=Object.keys(t)[0],n=r.decorations.handler.get(s);PB.assert(n,"Unknown handler:",s),n.defaults&&(i=typeof n.defaults=="function"?n.defaults(e):n.defaults)}return i||{}};n1.configure=function(e,t){if(typeof e=="object"){let r=Object.keys(e)[0],i=t._core.decorations.handler.get(r);return PB.assert(i,"Unknown handler:",r),i(t.public,e[r])}return e};n1.prerequisitesConfig=function(e){if(!e)return null;let t=[];for(let r of e){r=[].concat(r);let i=[];for(let s of r){typeof s!="object"&&(s={method:s});let n={method:s.method,assign:s.assign,failAction:s.failAction||"error"};i.push(n)}t.push(i)}return t.length?t:null}}),qB=O(yh=>{"use strict";var Obe=require("stream"),kbe=Nr(),NO={};yh.cache=function(e){let t=e.request;if(e.headers["cache-control"])return;let r=t.route.settings.cache,i=r&&t._route._cache&&(r._statuses.has(e.statusCode)||e.statusCode===304&&r._statuses.has(200));if(i||e.settings.ttl){let s=e.settings.ttl!==null?e.settings.ttl:t._route._cache.ttl(),n=t.auth.isAuthenticated||e.headers["set-cookie"]?"private":r.privacy||"default";e._header("cache-control","max-age="+Math.floor(s/1e3)+", must-revalidate"+(n!=="default"?", "+n:""))}else r&&e._header("cache-control",r.otherwise)};yh.content=async function(e){let t=e.request;e._isPayloadSupported()||t.method==="head"?(await e._marshal(),t.jsonp&&e._payload.jsonp&&(e._header("content-type","text/javascript"+(e.settings.charset?"; charset="+e.settings.charset:"")),e._header("x-content-type-options","nosniff"),e._payload.jsonp(t.jsonp)),e._payload.size&&typeof e._payload.size=="function"&&e._header("content-length",e._payload.size(),{override:!1}),e._isPayloadSupported()||(e._close(),e._payload=new NO.Empty),yh.type(e)):(e._close(),e._payload=new NO.Empty,delete e.headers["content-length"])};yh.state=async function(e){let t=e.request,r=[];for(let i in t._states)r.push(t._states[i]);try{for(let n in t._core.states.cookies){let a=t._core.states.cookies[n].autoValue;if(!a||n in t._states||n in t.state)continue;if(typeof a!="function"){r.push({name:n,value:a});continue}let o=await a(t);r.push({name:n,value:o})}if(!r.length)return;let i=await t._core.states.format(r,t),s=e.headers["set-cookie"];s&&(i=(Array.isArray(s)?s:[s]).concat(i)),e._header("set-cookie",i)}catch(i){let s=kbe.boomify(i);throw t._log(["state","response","error"],s),t._states={},s}};yh.type=function(e){let t=e.contentType;t!==null&&t!==e.headers["content-type"]&&e.type(t)};yh.entity=function(e){let t=e.request;if(!t._entity)return;t._entity.etag&&!e.headers.etag&&e.etag(t._entity.etag,{vary:t._entity.vary}),t._entity.modified&&!e.headers["last-modified"]&&e.header("last-modified",t._entity.modified)};yh.unmodified=function(e){let t=e.request;if(e.statusCode===304)return;let r={etag:e.headers.etag,vary:e.settings.varyEtag,modified:e.headers["last-modified"]},i=t._core.Response.unmodified(t,r);i&&(e.code(304),i!==!0&&(e.headers.etag=i))};NO.Empty=class extends Obe.Readable{_read(){this.push(null)}writeToStream(e){e.end()}}}),NB=O(MO=>{"use strict";MO.route=function(e){if(!e)return null;let t=e;return t.hsts&&(t.hsts===!0?t._hsts="max-age=15768000":typeof t.hsts=="number"?t._hsts="max-age="+t.hsts:(t._hsts="max-age="+(t.hsts.maxAge||15768e3),(t.hsts.includeSubdomains||t.hsts.includeSubDomains)&&(t._hsts=t._hsts+"; includeSubDomains"),t.hsts.preload&&(t._hsts=t._hsts+"; preload"))),t.xframe&&(t.xframe===!0?t._xframe="DENY":typeof t.xframe=="string"?t._xframe=t.xframe.toUpperCase():t.xframe.rule==="allow-from"?t.xframe.source?t._xframe="ALLOW-FROM "+t.xframe.source:t._xframe="SAMEORIGIN":t._xframe=t.xframe.rule.toUpperCase()),t};MO.headers=function(e){let t=e.request.route.settings.security;t._hsts&&e._header("strict-transport-security",t._hsts,{override:!1}),t._xframe&&e._header("x-frame-options",t._xframe,{override:!1}),t.xss&&e._header("x-xss-protection","1; mode=block",{override:!1}),t.noOpen&&e._header("x-download-options","noopen",{override:!1}),t.noSniff&&e._header("x-content-type-options","nosniff",{override:!1}),t.referrer!==!1&&e._header("referrer-policy",t.referrer,{override:!1})}}),DO=O(LO=>{"use strict";var MB=Nr(),Pbe=Xv(),po={team:Symbol("team")};LO.isStream=function(e){if(!e||typeof e!="object"||typeof e.pipe!="function")return!1;if(typeof e._read!="function")throw MB.badImplementation("Stream must have a readable interface");if(e._readableState.objectMode)throw MB.badImplementation("Cannot reply with stream in object mode");return!0};LO.drain=function(e){let t=new Pbe.Team;return e[po.team]=t,e.on("readable",po.read),e.on("error",po.end),e.on("end",po.end),e.on("close",po.end),t.work};po.read=function(){for(;this.read(););};po.end=function(){this.removeListener("readable",po.read),this.removeListener("error",po.end),this.removeListener("end",po.end),this.removeListener("close",po.end),this[po.team].attend()}}),Yb=O(Mu=>{"use strict";var $O=Nr(),Jm=Jt(),Ibe=ol(),cc={};Mu.validator=function(e){return Jm.assert(e,"Missing validator"),Jm.assert(typeof e.compile=="function","Invalid validator compile method"),e};Mu.compile=function(e,t,r,i){return t=t||cc.validator(r,i),e===!1?Ibe.object({}).allow(null):typeof e=="function"?e:!e||e===!0?null:typeof e.validate=="function"?e:(Jm.assert(t,"Cannot set uncompiled validation rules without configuring a validator"),t.compile(e))};cc.validator=function(e,t){for(;e;){if(e.validator)return e.validator;e=e.parent}return t.validator};Mu.headers=function(e){return cc.input("headers",e)};Mu.params=function(e){return cc.input("params",e)};Mu.payload=function(e){return e.method==="get"||e.method==="head"?void 0:cc.input("payload",e)};Mu.query=function(e){return cc.input("query",e)};Mu.state=function(e){return cc.input("state",e)};cc.input=async function(e,t){let r={context:{headers:t.headers,params:t.params,query:t.query,payload:t.payload,state:t.state,auth:t.auth,app:{route:t.route.settings.app,request:t.app}}};delete r.context[e],Jm.merge(r,t.route.settings.validate.options);try{let o=t.route.settings.validate[e],u=t.route.settings.bind;var i=await(typeof o!="function"?cc.validate(t[e],o,r):o.call(u,t[e],r));return}catch(o){var s=o}finally{t.orig[e]=t[e],i!==void 0&&(t[e]=i)}if(t.route.settings.validate.failAction==="ignore")return;let n=s.isBoom?s:$O.badRequest(`Invalid request ${e} input`),a=$O.boomify(s,{statusCode:400,override:!1});if(a.output.payload.validation={source:e,keys:[]},s.details)for(let o of s.details){let u=o.path;a.output.payload.validation.keys.push(Jm.escapeHtml(u.join(".")))}if(t.route.settings.validate.errorFields)for(let o in t.route.settings.validate.errorFields)a.output.payload[o]=t.route.settings.validate.errorFields[o];return t._core.toolkit.failAction(t,t.route.settings.validate.failAction,n,{details:a,tags:["validation","error",e]})};Mu.response=async function(e){if(e.route.settings.response.sample){let o=Math.ceil(Math.random()*100);if(o>e.route.settings.response.sample)return}let t=e.response,r=t.isBoom?t.output.statusCode:t.statusCode,i=e.route.settings.response.status[r];if(r>=400&&!i)return;let s=i!==void 0?i:e.route.settings.response.schema;if(s===null)return;if(!t.isBoom&&e.response.variety!=="plain")throw $O.badImplementation("Cannot validate non-object response");let n={context:{headers:e.headers,params:e.params,query:e.query,payload:e.payload,state:e.state,auth:e.auth,app:{route:e.route.settings.app,request:e.app}}},a=t.isBoom?t.output.payload:t.source;Jm.merge(n,e.route.settings.response.options);try{let o;typeof s!="function"?o=await cc.validate(a,s,n):o=await s(a,n),o!==void 0&&e.route.settings.response.modify&&(t.isBoom?t.output.payload=o:t.source=o)}catch(o){return e._core.toolkit.failAction(e,e.route.settings.response.failAction,o,{tags:["validation","response","error"]})}};cc.validate=function(e,t,r){return typeof t.validateAsync=="function"?t.validateAsync(e,r):t.validate(e,r)}}),Zb=O((LB,DB)=>{"use strict";var qbe=require("assert"),Nbe=Nr(),$B=sc(),Mbe=EO(),jO=Jt(),Lbe=TB(),Dbe=ol(),i1=FO(),Jb=ad(),jB=s1(),fd=Xb(),a1=IB(),Zm=qB(),FB=NB(),$be=DO(),Lu=Yb(),Yn={};LB=DB.exports=Yn.Route=class{constructor(e,t,r={}){let i=t._core,s=t.realm;Jb.apply("route",e,e.method,e.path);let n=e.method.toLowerCase();jO.assert(n!=="head","Cannot set HEAD route:",e.path);let a=s.modifiers.route.prefix?s.modifiers.route.prefix+(e.path!=="/"?e.path:""):e.path;jO.assert(a==="/"||a[a.length-1]!=="/"||!i.settings.router.stripTrailingSlash,"Path cannot end with a trailing slash when configured to strip:",e.method,e.path);let o=s.modifiers.route.vhost||e.vhost;this.method=n,this.path=a;let u=e.options||e.config||{};typeof u=="function"&&(u=u.call(s.settings.bind,t)),u=Jb.enable(u),this._assert(n!=="get"||!u.payload,"Cannot set payload settings on HEAD or GET request"),this._assert(n!=="get"||!u.validate||!u.validate.payload,"Cannot validate HEAD or GET request payload"),this._assert(!e.rules||!u.rules,"Route rules can only appear once");let d=e.rules||u.rules,m=Yn.rules(d,{method:n,path:a,vhost:o},t);delete u.rules,this._assert(e.handler||u.handler,"Missing or undefined handler"),this._assert(!!e.handler^!!u.handler,"Handler must only appear once");let f=Jb.apply("handler",e.handler||u.handler);delete u.handler;let x=a1.defaults(n,f,i),T=Yn.config([i.settings.routes,x,s.settings,m,u]);if(this.settings=Jb.apply("routeConfig",T,n,a),this._core=i,this.realm=s,this.settings.vhost=o,this.settings.plugins=this.settings.plugins||{},this.settings.app=this.settings.app||{},this._special=!!r.special,this._analysis=this._core.router.analyze(this.path),this.params=this._analysis.params,this.fingerprint=this._analysis.fingerprint,this.public={method:this.method,path:this.path,vhost:o,realm:s,settings:this.settings,fingerprint:this.fingerprint,auth:{access:q=>i1.testAccess(q,this.public)}},this._setupValidation(),this.method==="get"?this.settings.payload=null:this.settings.payload.decoders=this._core.compression.decoders,this._assert(!this.settings.validate.payload||this.settings.payload.parse,"Route payload must be set to 'parse' when payload validation enabled"),this._assert(!this.settings.validate.state||this.settings.state.parse,"Route state must be set to 'parse' when state validation enabled"),this._assert(!this.settings.jsonp||typeof this.settings.jsonp=="string","Bad route JSONP parameter name"),this.settings.auth=this._special?!1:this._core.auth._setupRoute(this.settings.auth,a),this.method==="get"&&typeof this.settings.cache=="object"&&(this.settings.cache.expiresIn||this.settings.cache.expiresAt)&&(this.settings.cache._statuses=new Set(this.settings.cache.statuses),this._cache=new Mbe.Policy({expiresIn:this.settings.cache.expiresIn,expiresAt:this.settings.cache.expiresAt})),this.settings.cors=jB.route(this.settings.cors),this.settings.security=FB.route(this.settings.security),this.settings.handler=a1.configure(f,this),this._prerequisites=a1.prerequisitesConfig(this.settings.pre),this._extensions={onPreResponse:fd.combine(this,"onPreResponse"),onPostResponse:fd.combine(this,"onPostResponse")},this._special){this._cycle=[Yn.drain,a1.execute],this.rebuild();return}this._extensions.onPreAuth=fd.combine(this,"onPreAuth"),this._extensions.onCredentials=fd.combine(this,"onCredentials"),this._extensions.onPostAuth=fd.combine(this,"onPostAuth"),this._extensions.onPreHandler=fd.combine(this,"onPreHandler"),this._extensions.onPostHandler=fd.combine(this,"onPostHandler"),this.rebuild()}_setupValidation(){let e=this.settings.validate;this.method==="get"&&(e.payload=null),this._assert(!e.params||this.params.length,"Cannot set path parameters validations without path parameters");for(let t of["headers","params","query","payload","state"])e[t]=Lu.compile(e[t],this.settings.validate.validator,this.realm,this._core);if(this.settings.response.schema!==void 0||this.settings.response.status){this.settings.response._validate=!0;let t=this.settings.response.schema;this.settings.response.status=this.settings.response.status||{};let r=Object.keys(this.settings.response.status);if(t===!0&&!r.length)this.settings.response._validate=!1;else{this.settings.response.schema=Lu.compile(t,this.settings.validate.validator,this.realm,this._core);for(let i of r)this.settings.response.status[i]=Lu.compile(this.settings.response.status[i],this.settings.validate.validator,this.realm,this._core)}}}rebuild(e){if(e&&this._extensions[e.type].add(e),this._special){this._postCycle=this._extensions.onPreResponse.nodes?[this._extensions.onPreResponse]:[],this._buildMarshalCycle();return}this._cycle=[],this.settings.jsonp&&this._cycle.push(Yn.parseJSONP),this.settings.state.parse&&this._cycle.push(Yn.state),this._extensions.onPreAuth.nodes&&this._cycle.push(this._extensions.onPreAuth),this._core.auth._enabled(this,"authenticate")&&this._cycle.push(i1.authenticate),this.method!=="get"&&(this._cycle.push(Yn.payload),this._core.auth._enabled(this,"payload")&&this._cycle.push(i1.payload)),this._core.auth._enabled(this,"authenticate")&&this._extensions.onCredentials.nodes&&this._cycle.push(this._extensions.onCredentials),this._core.auth._enabled(this,"access")&&this._cycle.push(i1.access),this._extensions.onPostAuth.nodes&&this._cycle.push(this._extensions.onPostAuth),this.settings.validate.headers&&this._cycle.push(Lu.headers),this.settings.validate.params&&this._cycle.push(Lu.params),this.settings.jsonp&&this._cycle.push(Yn.cleanupJSONP),this.settings.validate.query&&this._cycle.push(Lu.query),this.settings.validate.payload&&this._cycle.push(Lu.payload),this.settings.validate.state&&this._cycle.push(Lu.state),this._extensions.onPreHandler.nodes&&this._cycle.push(this._extensions.onPreHandler),this._cycle.push(a1.execute),this._extensions.onPostHandler.nodes&&this._cycle.push(this._extensions.onPostHandler),this._postCycle=[],this.settings.response._validate&&this.settings.response.sample!==0&&this._postCycle.push(Lu.response),this._extensions.onPreResponse.nodes&&this._postCycle.push(this._extensions.onPreResponse),this._buildMarshalCycle()}_buildMarshalCycle(){this._marshalCycle=[Zm.type],this.settings.cors&&this._marshalCycle.push(jB.headers),this.settings.security&&this._marshalCycle.push(FB.headers),this._marshalCycle.push(Zm.entity),(this.method==="get"||this.method==="*")&&this._marshalCycle.push(Zm.unmodified),this._marshalCycle.push(Zm.cache),this._marshalCycle.push(Zm.state),this._marshalCycle.push(Zm.content),this._core.auth._enabled(this,"response")&&this._marshalCycle.push(i1.response)}_assert(e,t){if(e)return;throw this.method[0]!=="_"&&(t=`${t}: ${this.method.toUpperCase()} ${this.path}`),new qbe.AssertionError({message:t,actual:!1,expected:!0,operator:"==",stackStartFunction:this._assert})}};Yn.state=async function(e){e.state={};let t=e.raw.req,r=t.headers.cookie;if(!r)return;try{var i=await e._core.states.parse(r)}catch(o){$B.rethrow(o,"system");var s=o}let{states:n,failed:a=[]}=i||s;e.state=n||{};for(let o of a)o.settings.clearInvalid&&e._clearState(o.name);return s?(s.header=r,e._core.toolkit.failAction(e,e.route.settings.state.failAction,s,{tags:["state","error"]})):void 0};Yn.payload=async function(e){if(e.method==="get"||e.method==="head")return;if(e._expectContinue&&e.raw.res.writeContinue(),e.payload!==void 0)return Yn.drain(e);try{let{payload:t,mime:r}=await Lbe.parse(e.raw.req,e._tap(),e.route.settings.payload);e._isPayloadPending=!!(t&&t._readableState),e.mime=r,e.payload=t}catch(t){return $B.rethrow(t,"system"),e._isPayloadPending&&await Yn.drain(e),e.mime=t.mime,e.payload=null,e._core.toolkit.failAction(e,e.route.settings.payload.failAction,t,{tags:["payload","error"]})}};Yn.drain=async function(e){await $be.drain(e.raw.req),e._isPayloadPending=!1};Yn.jsonpRegex=/^[\w\$\[\]\.]+$/;Yn.parseJSONP=function(e){let t=e.query[e.route.settings.jsonp];if(t){if(Yn.jsonpRegex.test(t)===!1)throw Nbe.badRequest("Invalid JSONP parameter value");e.jsonp=t}};Yn.cleanupJSONP=function(e){e.jsonp&&delete e.query[e.route.settings.jsonp]};Yn.config=function(e){if(!e.length)return{};let t=e[0];for(let r of e)t=jO.applyToDefaults(t,r,{shallow:["bind","validate.headers","validate.payload","validate.params","validate.query","validate.state"]});return t};Yn.rules=function(e,t,r){let i=[],s=r.realm;for(;s;){if(s._rules){let n=s._rules.settings.validate?Dbe.attempt(e,s._rules.settings.validate.schema,s._rules.settings.validate.options):e,a=s._rules.processor(n,t);a&&i.unshift(a)}s=s.parent}return Yn.config(i)}}),s1=O(Du=>{"use strict";var BO=Nr(),Qb=Jt(),UO=null,BB={};Du.route=function(e){if(!e)return!1;let t=Qb.clone(e);t._headers=t.headers.concat(t.additionalHeaders),t._headersString=t._headers.join(",");for(let r=0;r<t._headers.length;++r)t._headers[r]=t._headers[r].toLowerCase();if(t._headers.indexOf("origin")===-1&&t._headers.push("origin"),t._exposedHeaders=t.exposedHeaders.concat(t.additionalExposedHeaders).join(","),t.origin==="ignore")t._origin=!1;else if(t.origin.indexOf("*")!==-1)Qb.assert(t.origin.length===1,"Cannot specify cors.origin * together with other values"),t._origin=!0;else{t._origin={qualified:[],wildcards:[]};for(let r of t.origin)r.indexOf("*")!==-1?t._origin.wildcards.push(new RegExp("^"+Qb.escapeRegex(r).replace(/\\\*/g,".*").replace(/\\\?/g,".")+"$")):t._origin.qualified.push(r)}return t};Du.options=function(e,t){if(e.method==="options"||!e.settings.cors)return;Du.handler(t)};Du.handler=function(e){if(UO=UO||Zb(),e._core.router.specials.options)return;let t={method:"_special",path:"/{p*}",handler:BB.handler,options:{cors:!1}},r=new UO(t,e,{special:!0});e._core.router.special("options",r)};BB.handler=function(e,t){let r=e.headers["access-control-request-method"];if(!r)throw BO.notFound("CORS error: Missing Access-Control-Request-Method header");let i=e.server.match(r,e.path,e.info.hostname);if(!i)throw BO.notFound();let s=i.settings.cors;if(!s)return{message:"CORS is disabled for this route"};let n=e.headers.origin;if(!n&&s._origin!==!1)throw BO.notFound("CORS error: Missing Origin header");if(!Du.matchOrigin(n,s))return{message:"CORS error: Origin not allowed"};let a=e.headers["access-control-request-headers"];if(a&&(a=a.toLowerCase().split(/\s*,\s*/),Qb.intersect(a,s._headers).length!==a.length))return{message:"CORS error: Some headers are not allowed"};let o=t.response();return o._header("access-control-allow-origin",s._origin?n:"*"),o._header("access-control-allow-methods",r),o._header("access-control-allow-headers",s._headersString),o._header("access-control-max-age",s.maxAge),s.credentials&&o._header("access-control-allow-credentials","true"),s._exposedHeaders&&o._header("access-control-expose-headers",s._exposedHeaders),o};Du.headers=function(e){let t=e.request,r=t.route.settings.cors;if(r._origin!==!1&&e.vary("origin"),t.info.cors&&!t.info.cors.isOriginMatch||!Du.matchOrigin(t.headers.origin,t.route.settings.cors))return;e._header("access-control-allow-origin",r._origin?t.headers.origin:"*"),r.credentials&&e._header("access-control-allow-credentials","true"),r._exposedHeaders&&e._header("access-control-expose-headers",r._exposedHeaders,{append:!0})};Du.matchOrigin=function(e,t){if(t._origin===!0||t._origin===!1)return!0;if(!e)return!1;if(t._origin.qualified.indexOf(e)!==-1)return!0;for(let r of t._origin.wildcards)if(e.match(r))return!0;return!1}}),ex=O(ml=>{"use strict";var o1=Nr(),UB=sc(),$u=Jt(),Qm={};ml.reserved=["abandon","authenticated","close","context","continue","entity","redirect","realm","request","response","state","unauthenticated","unstate"];ml.symbols={abandon:Symbol("abandon"),close:Symbol("close"),continue:Symbol("continue")};ml.Manager=class{constructor(){this._toolkit=Qm.toolkit()}async execute(e,t,r){let i=new this._toolkit(t,r),s=r.bind||null;try{let a;s?a=e.call(s,t,i):r.args?a=e(t,i,...r.args):a=e(t,i);var n=await ml.timed(a,r)}catch(a){UB.isSystem(a)?n=o1.badImplementation(a):UB.isError(a)?n=o1.boomify(a):n=o1.badImplementation("Cannot throw non-error object",a)}if(r.ignoreResponse)return n;if(n===void 0&&(n=o1.badImplementation(`${e.name} method did not return a value, a promise, or throw an error`)),r.continue&&n===ml.symbols.continue){if(r.continue==="undefined")return;n=null}return r.auth&&n instanceof Qm.Auth||typeof n!="symbol"&&(n=t._core.Response.wrap(n,t),!n.isBoom&&n._state==="init"&&(n=await n._prepare())),n}decorate(e,t){this._toolkit.prototype[e]=t}failAction(e,t,r,i){let s=i.retain?r:void 0;if(t==="ignore")return s;if(t==="log")return e._log(i.tags,r),s;if(t==="error")throw r;return this.execute(t,e,{realm:e.route.realm,args:[i.details||r]})}};ml.timed=function(e,t){if(!t.timeout)return e;let r=new Promise((i,s)=>{let n=()=>{s(o1.internal(`${t.name} timed out`))};setTimeout(n,t.timeout)});return Promise.race([r,e])};Qm.toolkit=function(){let e=class{constructor(t,r){this.context=r.bind,this.realm=r.realm,this.request=t,this._auth=r.auth}response(t){return $u.assert(!t||typeof t!="object"||typeof t.then!="function","Cannot wrap a promise"),$u.assert(t instanceof Error===!1,"Cannot wrap an error"),$u.assert(typeof t!="symbol","Cannot wrap a symbol"),this.request._core.Response.wrap(t,this.request)}redirect(t){return this.response("").redirect(t)}entity(t){$u.assert(t,"Entity method missing required options"),$u.assert(t.etag||t.modified,"Entity methods missing required options key"),this.request._entity=t;let r=this.request._core.Response.entity(t.etag,t);if(this.request._core.Response.unmodified(this.request,r))return this.response().code(304).takeover()}state(t,r,i){this.request._setState(t,r,i)}unstate(t,r){this.request._clearState(t,r)}authenticated(t){return $u.assert(this._auth,"Method not supported outside of authentication"),$u.assert(t&&t.credentials,"Authentication data missing credentials information"),new Qm.Auth(null,t)}unauthenticated(t,r){return $u.assert(this._auth,"Method not supported outside of authentication"),$u.assert(!r||r.credentials,"Authentication data missing credentials information"),new Qm.Auth(t,r)}};return e.prototype.abandon=ml.symbols.abandon,e.prototype.close=ml.symbols.close,e.prototype.continue=ml.symbols.continue,e};Qm.Auth=class{constructor(e,t){this.isAuth=!0,this.error=e,this.data=t}}}),HB=O(HO=>{"use strict";var jbe=require("stream"),eg=Jt(),vh={};vh.headerRx=/^bytes=[\s,]*((?:(?:\d+\-\d*)|(?:\-\d+))(?:\s*,\s*(?:(?:\d+\-\d*)|(?:\-\d+)))*)$/i;HO.header=function(e,t){let r=vh.headerRx.exec(e);if(!r)return null;let i=t-1,s=[],n=r[1].match(/\d*\-\d*/g);for(let o of n){let u,d;if(o=o.split("-"),o[0]&&(u=parseInt(o[0],10)),o[1]?(d=parseInt(o[1],10),u!==void 0?d>i&&(d=i):(u=t-d,d=i)):d=i,u>d)return null;s.push(new vh.Range(u,d))}if(s.length===1)return s;s.sort((o,u)=>o.from-u.from);let a=[];for(let o=s.length-1;o>0;--o){let u=s[o],d=s[o-1];u.from<=d.to+1?d.to=u.to:a.unshift(u)}return a.unshift(s[0]),a};vh.Range=class{constructor(e,t){this.from=e,this.to=t}};HO.Clip=class extends jbe.Transform{constructor(e){if(!(e instanceof vh.Range)){eg.assert(typeof e=="object",'Expected "range" object');let t=e.from||0;eg.assert(typeof t=="number",'"range.from" must be falsy, or a number'),eg.assert(t===parseInt(t,10)&&t>=0,'"range.from" must be a positive integer');let r=e.to||0;eg.assert(typeof r=="number",'"range.to" must be falsy, or a number'),eg.assert(r===parseInt(r,10)&&r>=0,'"range.to" must be a positive integer'),eg.assert(r>=t,'"range.to" must be greater than or equal to "range.from"'),e=new vh.Range(t,r)}super();this._range=e,this._next=0,this._pipes=new Set,this.on("pipe",t=>this._pipes.add(t)),this.on("unpipe",t=>this._pipes.delete(t))}_transform(e,t,r){try{vh.processChunk(this,e)}catch(i){return r(i)}return r()}_flush(e){this._pipes.clear(),e()}};vh.processChunk=function(e,t){let r=e._next;if(e._next=e._next+t.length,e._next<=e._range.from)return;if(r>e._range.to){for(let n of e._pipes)n.unpipe(e);e._pipes.clear(),e.end();return}let i=Math.max(0,e._range.from-r),s=Math.min(t.length,e._range.to-r+1);e.push(t.slice(i,s))}}),WB=O(GB=>{"use strict";var Fbe=require("http"),zB=HB(),tg=Nr(),VB=sc(),Bbe=Jt(),Ube=Xv(),tx=ad(),Rr={};GB.send=async function(e){let t=e.response;try{if(t.isBoom){await Rr.fail(e,t);return}await Rr.marshal(t),await Rr.transmit(t)}catch(r){return VB.rethrow(r,"system"),e._setResponse(r),Rr.fail(e,r)}};Rr.marshal=async function(e){for(let t of e.request._route._marshalCycle)await t(e)};Rr.fail=async function(e,t){let r=Rr.error(e,t);e.response=r;try{await Rr.marshal(r)}catch(i){VB.rethrow(i,"system");let s={statusCode:r.statusCode,error:Fbe.STATUS_CODES[r.statusCode],message:t.message};r._payload=new e._core.Response.Payload(JSON.stringify(s),{})}return Rr.transmit(r)};Rr.error=function(e,t){let r=t.output,i=new e._core.Response(r.payload,e,{error:t});return i.code(r.statusCode),i.headers=Bbe.clone(r.headers),i};Rr.transmit=function(e){let t=e.request,r=Rr.length(e),i=t._core.compression.encoding(e,r),s=i?null:Rr.range(e,r),n=Rr.encoding(e,i),a=t.isInjected;(!(a||t._core.started)||t._isPayloadPending&&!t.raw.req._readableState.ended)&&e._header("connection","close"),Rr.writeHead(e),a&&(t.raw.res[tx.symbol]={request:t},e.variety==="plain"&&(t.raw.res[tx.symbol].result=e._isPayloadSupported()?e.source:null));let o=Rr.chain([e._payload,e._tap(),n,s]);return Rr.pipe(t,o)};Rr.length=function(e){let t=e.request,r=e.headers["content-length"];if(r===void 0)return null;let i=r;return typeof i=="string"&&(i=parseInt(r,10),!isFinite(i))?(delete e.headers["content-length"],null):(i===0&&!e._statusCode&&e.statusCode===200&&t.route.settings.response.emptyStatusCode!==200&&(e.code(204),delete e.headers["content-length"]),i)};Rr.range=function(e,t){let r=e.request;if(!t||!r.route.settings.response.ranges||r.method!=="get"||e.statusCode!==200)return null;if(e._header("accept-ranges","bytes"),!r.headers.range)return null;if(r.headers["if-range"]&&r.headers["if-range"]!==e.headers.etag)return null;let i=zB.header(r.headers.range,t);if(!i){let n=tg.rangeNotSatisfiable();throw n.output.headers["content-range"]="bytes */"+t,n}if(i.length!==1)return null;let s=i[0];return e.code(206),e.bytes(s.to-s.from+1),e._header("content-range","bytes "+s.from+"-"+s.to+"/"+t),new zB.Clip(s)};Rr.encoding=function(e,t){let r=e.request,i=e.headers["content-encoding"]||t;if(i&&e.headers.etag&&e.settings.varyEtag&&(e.headers.etag=e.headers.etag.slice(0,-1)+"-"+i+'"'),!t||e.statusCode===206||!e._isPayloadSupported())return null;delete e.headers["content-length"],e._header("content-encoding",t);let s=r._core.compression.encoder(r,t);return e.variety==="stream"&&typeof e._payload.setCompressor=="function"&&e._payload.setCompressor(s),s};Rr.pipe=function(e,t){let r=new Ube.Team,i={stream:t,request:e,team:r};if(e._closed)return Rr.end(i,"aborted"),r.work;let s=Rr.end.bind(null,i,"aborted"),n=Rr.end.bind(null,i,"close"),a=Rr.end.bind(null,i,null);return e.raw.req.on("aborted",s),e.raw.res.on("close",n),e.raw.res.on("error",a),e.raw.res.on("finish",a),t.writeToStream?t.writeToStream(e.raw.res):(t.on("error",a),t.pipe(e.raw.res)),r.work};Rr.end=function(e,t,r){let{request:i,stream:s,team:n}=e;if(!n)return;if(e.team=null,i.raw.res.finished){t||(i.info.responded=Date.now()),n.attend();return}r&&(i.raw.res.destroy(),i._core.Response.drain(s));let a=i.response,o=r?tg.boomify(r):new tg.Boom(`Request ${t}`,{statusCode:i.route.settings.response.disconnectStatusCode,data:a});i._setResponse(o),i.raw.res[tx.symbol]&&(i.raw.res[tx.symbol].error=t?o:new tg.Boom("Response error",{statusCode:i.route.settings.response.disconnectStatusCode,data:a})),t?i._log(["response","error",t]):i._log(["response","error"],r),i.raw.res.end(),n.attend()};Rr.writeHead=function(e){let t=e.request.raw.res,r=Object.keys(e.headers),i=0;try{for(;i<r.length;++i){let s=r[i],n=e.headers[s];n!==void 0&&t.setHeader(s,n)}}catch(s){for(--i;i>=0;--i)t.removeHeader(r[i]);throw tg.boomify(s)}e.settings.message&&(t.statusMessage=e.settings.message);try{t.writeHead(e.statusCode)}catch(s){throw tg.boomify(s)}};Rr.chain=function(e){let t=e[0];for(let r=1;r<e.length;++r){let i=e[r];i&&(t.on("error",Rr.errorPipe.bind(t,i)),t=t.pipe(i))}return t};Rr.errorPipe=function(e,t){e.emit("error",t)}}),zO=O((KB,XB)=>{"use strict";var Hbe=require("querystring"),rx=require("url"),_h=Nr(),GO=sc(),hd=Jt(),YB=Yv(),Gbe=s1(),nx=ex(),zbe=WB(),On={events:YB.validate(["finish",{name:"peek",spread:!0},"disconnect"]),reserved:["server","url","query","path","method","mime","setUrl","setMethod","headers","id","app","plugins","route","auth","pre","preResponses","info","isInjected","orig","params","paramsArray","payload","state","jsonp","response","raw","domain","log","logs","generateResponse"]};KB=XB.exports=On.Request=class{constructor(e,t,r,i){this._allowInternals=!!i.allowInternals,this._closed=!1,this._core=e._core,this._entity=null,this._eventContext={request:this},this._events=null,this._expectContinue=!!i.expectContinue,this._isInjected=!!i.isInjected,this._isPayloadPending=!!(t.headers["content-length"]||t.headers["transfer-encoding"]),this._isReplied=!1,this._route=this._core.router.specials.notFound.route,this._serverTimeoutId=null,this._states={},this._url=null,this._urlError=null,this.app=i.app?Object.assign({},i.app):{},this.headers=t.headers,this.jsonp=null,this.logs=[],this.method=t.method.toLowerCase(),this.mime=null,this.orig={},this.params=null,this.paramsArray=null,this.path=null,this.payload=void 0,this.plugins=i.plugins?Object.assign({},i.plugins):{},this.pre={},this.preResponses={},this.raw={req:t,res:r},this.response=null,this.route=this._route.public,this.query=null,this.server=e,this.state=null,this.info=new On.Info(this),this.auth={isAuthenticated:!1,isAuthorized:!1,isInjected:!!i.auth,[On.Request.symbols.authPayload]:i.auth&&i.auth.payload!==void 0?i.auth.payload:!0,credentials:i.auth?i.auth.credentials:null,artifacts:i.auth&&i.auth.artifacts||null,strategy:i.auth?i.auth.strategy:null,mode:null,error:null},this._initializeUrl()}static generate(e,t,r,i){let s=new e._core.Request(e,t,r,i);if(e._core.decorations.requestApply)for(let[n,a]of e._core.decorations.requestApply.entries())s[n]=a(s);return s._listen(),s}get events(){return this._events||(this._events=new YB(On.events)),this._events}get isInjected(){return this._isInjected}get url(){return this._urlError?null:this._url?this._url:this._parseUrl(this.raw.req.url,this._core.settings.router)}_initializeUrl(){try{this._setUrl(this.raw.req.url,this._core.settings.router.stripTrailingSlash,{fast:!0})}catch(e){this.path=this.raw.req.url,this.query={},this._urlError=_h.boomify(e,{statusCode:400,override:!1})}}setUrl(e,t){hd.assert(this.params===null,"Cannot change request URL after routing"),e instanceof rx.URL&&(e=e.href),hd.assert(typeof e=="string","Url must be a string or URL object"),this._setUrl(e,t,{fast:!1})}_setUrl(e,t,{fast:r}){let i=this._parseUrl(e,{stripTrailingSlash:t,_fast:r});this.query=this._parseQuery(i.searchParams),this.path=i.pathname}_parseUrl(e,t){if(e[0]==="/"){if(t._fast){let r={pathname:e,searchParams:""},i=e.indexOf("?"),s=e.indexOf("#");if(i!==-1&&(s===-1||i<s)){r.pathname=e.slice(0,i);let n=s===-1?e.slice(i+1):e.slice(i+1,s);r.searchParams=Hbe.parse(n)}else r.pathname=s===-1?e:e.slice(0,s);return this._normalizePath(r,t),r}this._url=new rx.URL(`${this._core.info.protocol}://${this.info.host||`${this._core.info.host}:${this._core.info.port}`}${e}`)}else this._url=new rx.URL(e),this.info.hostname=this._url.hostname,this.info.host=this._url.host;return this._normalizePath(this._url,t),this._urlError=null,this._url}_normalizePath(e,t){let r=this._core.router.normalize(e.pathname);t.stripTrailingSlash&&r.length>1&&r[r.length-1]==="/"&&(r=r.slice(0,-1)),e.pathname=r}_parseQuery(e){let t=Object.create(null);if(e instanceof rx.URLSearchParams)for(let[i,s]of e){let n=t[i];n!==void 0&&(s=[].concat(n,s)),t[i]=s}else t=Object.assign(t,e);let r=this._core.settings.query.parser;if(r&&(t=r(t),!t||typeof t!="object"))throw _h.badImplementation("Parsed query must be an object");return t}setMethod(e){hd.assert(this.params===null,"Cannot change request method after routing"),hd.assert(e&&typeof e=="string","Missing method"),this.method=e.toLowerCase()}active(){return!!this._eventContext.request}async _execute(){this.info.acceptEncoding=this._core.compression.accept(this);try{await this._onRequest()}catch(e){return GO.rethrow(e,"system"),this._reply(e)}this._lookup(),this._setTimeouts(),await this._lifecycle(),this._reply()}async _onRequest(){if(this._core.extensions.route.onRequest.nodes){let e=await this._invoke(this._core.extensions.route.onRequest);if(e)throw On.skip(e)?e:_h.badImplementation("onRequest extension methods must return an error, a takeover response, or a continue signal")}if(this._urlError)throw this._urlError}_listen(){this._isPayloadPending&&this.raw.req.on("end",On.event.bind(this.raw.req,this._eventContext,"end")),this.raw.res.on("close",On.event.bind(this.raw.res,this._eventContext,"close")),this.raw.req.on("error",On.event.bind(this.raw.req,this._eventContext,"error")),this.raw.req.on("aborted",On.event.bind(this.raw.req,this._eventContext,"abort")),this.raw.res.once("close",On.closed.bind(this.raw.res,this))}_lookup(){let e=this._core.router.route(this.method,this.path,this.info.hostname);(!e.route.settings.isInternal||this._allowInternals)&&(this._route=e.route,this.route=this._route.public),this.params=e.params||{},this.paramsArray=e.paramsArray||[],this.route.settings.cors&&(this.info.cors={isOriginMatch:Gbe.matchOrigin(this.headers.origin,this.route.settings.cors)})}_setTimeouts(){this.raw.req.socket&&this.route.settings.timeout.socket!==void 0&&this.raw.req.socket.setTimeout(this.route.settings.timeout.socket||0);let e=this.route.settings.timeout.server;if(!e)return;let t=Date.now()-this.info.received;if(e=Math.floor(e-t),e<=0){On.timeoutReply(this,e);return}this._serverTimeoutId=setTimeout(On.timeoutReply,e,this,e)}async _lifecycle(){for(let t of this._route._cycle){if(this._isReplied)return;try{var e=await(typeof t=="function"?t(this):this._invoke(t))}catch(r){GO.rethrow(r,"system"),e=this._core.Response.wrap(r,this)}if(!e||e===nx.symbols.continue)continue;On.skip(e)||(e=_h.badImplementation("Lifecycle methods called before the handler can only return an error, a takeover response, or a continue signal")),this._setResponse(e);return}}async _invoke(e,t={}){for(let r of e.nodes){let i=r.realm,s=r.bind||i.settings.bind,n=await this._core.toolkit.execute(r.func,this,{bind:s,realm:i,timeout:r.timeout,name:e.type,ignoreResponse:t.ignoreResponse});if(t.ignoreResponse){_h.isBoom(n)&&this._log(["ext","error"],n);continue}if(n===nx.symbols.continue)continue;if(On.skip(n)||this.response===null)return n;this._setResponse(n)}}async _reply(e){if(this._isReplied)return;if(this._isReplied=!0,this._serverTimeoutId&&clearTimeout(this._serverTimeoutId),e&&this._setResponse(this._core.Response.wrap(e,this)),!this._eventContext.request){this._finalize();return}if(typeof this.response=="symbol"){this._abort();return}if(await this._postCycle(),!this._eventContext.request||typeof this.response=="symbol"){this._abort();return}await zbe.send(this),this._finalize()}async _postCycle(){for(let t of this._route._postCycle){if(!this._eventContext.request)return;try{var e=await(typeof t=="function"?t(this):this._invoke(t))}catch(r){GO.rethrow(r,"system"),e=this._core.Response.wrap(r,this)}e&&e!==nx.symbols.continue&&this._setResponse(e)}}_abort(){this.response===nx.symbols.close&&this.raw.res.end(),this._finalize()}_finalize(){if(this._eventContext.request=null,!_h.isBoom(this.response)){if(this.response.statusCode===500&&this.response._error){let e=this.response._error.isDeveloperError?["internal","implementation","error"]:["internal","error"];this._log(e,this.response._error,"error")}this.response._close&&this.response._close()}this.info.completed=Date.now(),this._core.events.emit("response",this),this._route._extensions.onPostResponse.nodes&&this._invoke(this._route._extensions.onPostResponse,{ignoreResponse:!0})}_setResponse(e){if(this.response&&!this.response.isBoom&&this.response!==e&&this.response.source!==e.source&&this.response._close(),this.info.completed){e._close&&e._close();return}this.response=e}_setState(e,t,r){let i={name:e,value:t};r&&(hd.assert(!r.autoValue,"Cannot set autoValue directly in a response"),i.options=hd.clone(r)),this._states[e]=i}_clearState(e,t={}){let r={name:e};r.options=hd.clone(t),r.options.ttl=0,this._states[e]=r}_tap(){return this._events&&(this._events.hasListeners("peek")||this._events.hasListeners("finish"))?new this._core.Response.Peek(this._events):null}log(e,t){return this._log(e,t,"app")}_log(e,t,r="internal"){if(!this._core.events.hasListeners("request")&&!this.route.settings.log.collect)return;Array.isArray(e)||(e=[e]);let i=Date.now(),s=t instanceof Error?"error":"data",n=[this,{request:this.info.id,timestamp:i,tags:e,[s]:t,channel:r}];typeof t=="function"&&(n=()=>[this,{request:this.info.id,timestamp:i,tags:e,data:t(),channel:r}]),this.route.settings.log.collect&&(typeof t=="function"&&(n=n()),this.logs.push(n[1])),this._core.events.emit({name:"request",channel:r,tags:e},n)}generateResponse(e,t){return new this._core.Response(e,this,t)}};On.Request.reserved=On.reserved;On.Request.symbols={authPayload:Symbol("auth.payload")};On.Info=class{constructor(e){this._request=e;let t=e.raw.req,r=t.headers.host?t.headers.host.trim():"",i=Date.now();this.received=i,this.referrer=t.headers.referrer||t.headers.referer||"",this.host=r,this.hostname=r.split(":")[0],this.id=`${i}:${e._core.info.id}:${e._core._counter()}`,this._remoteAddress=null,this._remotePort=null,this.acceptEncoding=null,this.cors=null,this.responded=0,this.completed=0,e._core.settings.info.remote&&(this.remoteAddress,this.remotePort)}get remoteAddress(){return this._remoteAddress||(this._remoteAddress=this._request.raw.req.connection.remoteAddress),this._remoteAddress}get remotePort(){return this._remotePort===null&&(this._remotePort=this._request.raw.req.connection.remotePort||""),this._remotePort}toJSON(){return{acceptEncoding:this.acceptEncoding,completed:this.completed,cors:this.cors,host:this.host,hostname:this.hostname,id:this.id,received:this.received,referrer:this.referrer,remoteAddress:this.remoteAddress,remotePort:this.remotePort,responded:this.responded}}};On.closed=function(e){e._closed=!0};On.event=function({request:e},t,r){if(!e)return;if(e._isPayloadPending=!1,t==="close"&&e.raw.res.finished)return;if(t==="end")return;if(e._log(r?["request","error"]:["request","error",t],r),t==="error")return;e._eventContext.request=null,t==="abort"&&(e._reply(new _h.Boom("Request aborted",{statusCode:e.route.settings.response.disconnectStatusCode,data:e.response})),e._events&&e._events.emit("disconnect"))};On.timeoutReply=function(e,t){let r=Date.now()-e.info.received;e._log(["request","server","timeout","error"],{timeout:t,elapsed:r}),e._reply(_h.serverUnavailable())};On.skip=function(e){return e.isBoom||e._takeover||typeof e=="symbol"}}),FO=O((JB,ZB)=>{"use strict";var rg=Nr(),Vbe=sc(),Mr=Jt(),Wbe=ad(),Kbe=zO(),ai={missing:Symbol("missing")};JB=ZB.exports=ai.Auth=class{#e=null;#r={};#t={};api={};settings={default:null};constructor(e){this.#e=e}public(e){return{api:this.api,settings:this.settings,scheme:this.scheme.bind(this),strategy:this._strategy.bind(this,e),default:this.default.bind(this),test:this.test.bind(this),verify:this.verify.bind(this),lookup:this.lookup.bind(this)}}scheme(e,t){Mr.assert(e,"Authentication scheme must have a name"),Mr.assert(!this.#r[e],"Authentication scheme name already exists:",e),Mr.assert(typeof t=="function","scheme must be a function:",e),this.#r[e]=t}_strategy(e,t,r,i={}){Mr.assert(t,"Authentication strategy must have a name"),Mr.assert(typeof i=="object","options must be an object"),Mr.assert(!this.#t[t],"Authentication strategy name already exists"),Mr.assert(r,"Authentication strategy",t,"missing scheme"),Mr.assert(this.#r[r],"Authentication strategy",t,"uses unknown scheme:",r),e=e._clone();let s=this.#r[r](e,i);Mr.assert(s.authenticate,"Invalid scheme:",t,"missing authenticate() method"),Mr.assert(typeof s.authenticate=="function","Invalid scheme:",t,"invalid authenticate() method"),Mr.assert(!s.payload||typeof s.payload=="function","Invalid scheme:",t,"invalid payload() method"),Mr.assert(!s.response||typeof s.response=="function","Invalid scheme:",t,"invalid response() method"),s.options=s.options||{},Mr.assert(s.payload||!s.options.payload,"Cannot require payload validation without a payload method"),this.#t[t]={methods:s,realm:e.realm},s.api&&(this.api[t]=s.api)}default(e){Mr.assert(!this.settings.default,"Cannot set default strategy more than once"),e=Wbe.apply("auth",e,"default strategy"),this.settings.default=this._setupRoute(Mr.clone(e));let t=this.#e.router.table();for(let r of t)r.rebuild()}async test(e,t){Mr.assert(e,"Missing authentication strategy name");let r=this.#t[e];Mr.assert(r,"Unknown authentication strategy:",e);let i=r.methods,s=r.realm,n=await t._core.toolkit.execute(r.methods.authenticate,t,{bind:i,realm:s,auth:!0});if(!n.isAuth)throw n;if(n.error)throw n.error;return n.data}async verify(e){let t=e.auth;if(t.error)throw t.error;if(!t.isAuthenticated)return;let r=this.#t[t.strategy];if(Mr.assert(r,"Unknown authentication strategy:",t.strategy),!r.methods.verify)return;let i=r.methods;await r.methods.verify.call(i,t)}static testAccess(e,t){let r=e._core.auth;try{return r._access(e,t)}catch(i){return Vbe.rethrow(i,"system"),!1}}_setupRoute(e,t){if(!e)return e;if(typeof e=="string"?e={strategies:[e]}:e.strategy&&(e.strategies=[e.strategy],delete e.strategy),t&&!e.strategies&&(Mr.assert(this.settings.default,"Route missing authentication strategy and no default defined:",t),e=Mr.applyToDefaults(this.settings.default,e)),t=t||"default strategy",Mr.assert(e.strategies&&e.strategies.length,"Missing authentication strategy:",t),e.mode=e.mode||"required",(e.entity!==void 0||e.scope!==void 0)&&(e.access=[{entity:e.entity,scope:e.scope}],delete e.entity,delete e.scope),e.access)for(let i of e.access)i.scope=ai.setupScope(i);e.payload===!0&&(e.payload="required");let r=!1;for(let i of e.strategies){let s=this.#t[i];Mr.assert(s,"Unknown authentication strategy",i,"in",t),Mr.assert(s.methods.payload||e.payload!=="required","Payload validation can only be required when all strategies support it in",t),r=r||s.methods.payload,Mr.assert(!s.methods.options.payload||e.payload===void 0||e.payload==="required","Cannot set authentication payload to",e.payload,"when a strategy requires payload validation in",t)}return Mr.assert(!e.payload||r,"Payload authentication requires at least one strategy with payload support in",t),e}lookup(e){return e.settings.auth===!1?!1:e.settings.auth||this.settings.default}_enabled(e,t){let r=this.lookup(e);if(!r)return!1;if(t==="authenticate")return!0;if(t==="access")return!!r.access;for(let i of r.strategies){let s=this.#t[i];if(s.methods[t])return!0}return!1}static authenticate(e){let t=e._core.auth;return t._authenticate(e)}async _authenticate(e){let t=this.lookup(e.route),r=[];if(e.auth.mode=t.mode,e.auth.credentials){ai.validate(null,{credentials:e.auth.credentials,artifacts:e.auth.artifacts},e.auth.strategy,t,e,r);return}for(let s of t.strategies){let n=this.#t[s],a=n.methods,o=n.realm,u=await e._core.toolkit.execute(n.methods.authenticate,e,{bind:a,realm:o,auth:!0}),d=u.isAuth?ai.validate(u.error,u.data,s,t,e,r):ai.validate(u,null,s,t,e,r);if(!d)return;if(d!==ai.missing)return d}let i=rg.unauthorized("Missing authentication",r);if(t.mode==="required")throw i;e.auth.isAuthenticated=!1,e.auth.credentials=null,e.auth.error=i,e._log(["auth","unauthenticated"])}static access(e){let t=e._core.auth;e.auth.isAuthorized=t._access(e)}_access(e,t){let r=this.lookup(t||e.route);if(!r||!r.access)return!0;let i=e.auth.credentials;if(!i){if(r.mode!=="required")return!1;throw rg.forbidden("Request is unauthenticated")}let s=i.user?"user":"app",n=[];for(let a of r.access){let o=a.entity;if(o&&o!=="any"&&o!==s)continue;let u=a.scope;if(u){if(!i.scope){n.push(u);continue}if(u=ai.expandScope(e,u),!ai.validateScope(i,u,"required")||!ai.validateScope(i,u,"selection")||!ai.validateScope(i,u,"forbidden")){n.push(u);continue}}return!0}throw n.length?(e._log(["auth","scope","error"]),rg.forbidden("Insufficient scope",{got:i.scope,need:n})):s==="app"?(e._log(["auth","entity","user","error"]),rg.forbidden("Application credentials cannot be used on a user endpoint")):(e._log(["auth","entity","app","error"]),rg.forbidden("User credentials cannot be used on an application endpoint"))}static async payload(e){if(!e.auth.isAuthenticated||!e.auth[Kbe.symbols.authPayload])return;let t=e._core.auth,r=t.#t[e.auth.strategy];if(Mr.assert(r,"Unknown authentication strategy:",e.auth.strategy),!r.methods.payload)return;let i=t.lookup(e.route),s=i.payload||(r.methods.options.payload?"required":!1);if(!s)return;let n=r.methods,a=r.realm,o=await e._core.toolkit.execute(r.methods.payload,e,{bind:n,realm:a});return o.isBoom&&o.isMissing?s==="optional"?void 0:rg.unauthorized("Missing payload authentication"):o}static async response(e){let t=e.request,r=t._core.auth;if(!t.auth.isAuthenticated)return;let i=r.#t[t.auth.strategy];if(Mr.assert(i,"Unknown authentication strategy:",t.auth.strategy),!i.methods.response)return;let s=i.methods,n=i.realm,a=await t._core.toolkit.execute(i.methods.response,t,{bind:s,realm:n,continue:"undefined"});if(a)throw a}};ai.setupScope=function(e){if(!e.scope)return!1;if(!Array.isArray(e.scope))return e.scope;let t={};for(let r of e.scope){let i=r[0],s=i==="+"?"required":i==="!"?"forbidden":"selection",n=s==="selection"?r:r.slice(1);t[s]=t[s]||[],t[s].push(n),(!t._hasParameters||!t._hasParameters[s])&&/{([^}]+)}/.test(n)&&(t._hasParameters=t._hasParameters||{},t._hasParameters[s]=!0)}return t};ai.validate=function(e,t,r,i,s,n){if(t=t||{},s.auth.isAuthenticated=!e,e){if(e instanceof Error===!1)return s._log(["auth","unauthenticated","response",r],{statusCode:e.statusCode}),e;if(e.isMissing)return s._log(["auth","unauthenticated","missing",r],e),n.push(e.output.headers["WWW-Authenticate"]),ai.missing}if(s.auth.strategy=r,s.auth.credentials=t.credentials,s.auth.artifacts=t.artifacts,!e)return;if(s.auth.error=e,i.mode==="try"){s._log(["auth","unauthenticated","try",r],e);return}throw s._log(["auth","unauthenticated","error",r],e),e};ai.expandScope=function(e,t){if(!t._hasParameters)return t;let r={required:ai.expandScopeType(e,t,"required"),selection:ai.expandScopeType(e,t,"selection"),forbidden:ai.expandScopeType(e,t,"forbidden")};return r};ai.expandScopeType=function(e,t,r){if(!t._hasParameters[r])return t[r];let i=[],s={params:e.params,query:e.query,payload:e.payload,credentials:e.auth.credentials};for(let n of t[r])i.push(Mr.reachTemplate(s,n));return i};ai.validateScope=function(e,t,r){if(!t[r])return!0;let i=typeof e.scope=="string"?t[r].indexOf(e.scope)!==-1?1:0:Mr.intersect(t[r],e.scope).length;return r==="forbidden"?i===0:r==="required"?i===t.required.length:!!i}}),QB=O(ix=>{"use strict";var Xbe=Jt(),VO=Nr(),sx={};ix.selection=function(e,t,r){let i=ix.selections(e,t,r);return i.length?i[0]:""};ix.selections=function(e,t,r){return Xbe.assert(!t||Array.isArray(t),"Preferences must be an array"),sx.parse(e||"",t,r)};sx.parse=function(e,t,r){let i=e.replace(/[ \t]/g,""),s=new Map;if(t)for(let m=0;m<t.length;++m){let f=t[m];s.set(f.toLowerCase(),{orig:f,pos:m})}let n=i.split(","),a=[],o=new Set;for(let m=0;m<n.length;++m){let f=n[m];if(!f)continue;let x=f.split(";");if(x.length>2)throw VO.badRequest(`Invalid ${r.type} header`);let T=x[0].toLowerCase();if(!T)throw VO.badRequest(`Invalid ${r.type} header`);r.equivalents&&r.equivalents.has(T)&&(T=r.equivalents.get(T));let q={token:T,pos:m,q:1,specificity:r.specificity?T.split("-"):null};if(t&&s.has(T)&&(q.pref=s.get(T).pos),o.add(q.token),x.length===2){let F=x[1],[$,H]=F.split("=");if(!H||$!=="q"&&$!=="Q")throw VO.badRequest(`Invalid ${r.type} header`);let oe=parseFloat(H);if(oe===0)continue;Number.isFinite(oe)&&oe<=1&&oe>=.001&&(q.q=oe)}a.push(q)}a.sort(sx.sort);let u=a.map(m=>m.token);if(r.default&&!o.has(r.default)&&u.push(r.default),!t||!t.length)return u;let d=[];for(let m of u)if(m==="*")for(let[f,x]of s)o.has(f)||d.push(x.orig);else{let f=m.toLowerCase();s.has(f)&&d.push(s.get(f).orig)}return d};sx.sort=function(e,t){let r=-1,i=1;return t.q!==e.q?t.q-e.q:t.pref!==e.pref?e.pref===void 0?i:t.pref===void 0?r:e.pref-t.pref:e.specificity&&e.specificity[0]===t.specificity[0]&&e.specificity.length!==t.specificity.length?t.specificity.length-e.specificity.length:e.pos-t.pos}}),tU=O(ax=>{"use strict";var eU=Jt(),Ybe=Nr(),Oa={};ax.selection=function(e,t){let r=ax.selections(e,t);return r.length?r[0]:""};ax.selections=function(e,t){return eU.assert(!t||Array.isArray(t),"Preferences must be an array"),Oa.parse(e,t)};Oa.validMediaRx=/^(?:\*\/\*)|(?:[\w\!#\$%&'\*\+\-\.\^`\|~]+\/\*)|(?:[\w\!#\$%&'\*\+\-\.\^`\|~]+\/[\w\!#\$%&'\*\+\-\.\^`\|~]+)$/;Oa.parse=function(e,t){let{header:r,quoted:i}=Oa.normalize(e),s=r.split(","),n=[],a={};for(let o=0;o<s.length;++o){let u=s[o];if(!u)continue;let d=u.split(";"),m=d.shift().toLowerCase();if(!Oa.validMediaRx.test(m))continue;let f={token:m,params:{},exts:{},pos:o},x="params";for(let F of d){let $=F.split("=");if($.length!==2||!$[1])throw Ybe.badRequest("Invalid accept header");let H=$[0],oe=$[1];H==="q"||H==="Q"?(x="exts",oe=parseFloat(oe),(!Number.isFinite(oe)||oe>1||oe<.001&&oe!==0)&&(oe=1),f.q=oe):(oe[0]==='"'&&(oe=`"${i[oe]}"`),f[x][$[0]]=oe)}let T=Object.keys(f.params);f.original=[""].concat(T.map(F=>`${F}=${f.params[F]}`)).join(";"),f.specificity=T.length,f.q===void 0&&(f.q=1);let q=f.token.split("/");f.type=q[0],f.subtype=q[1],a[f.token]=f,f.q&&n.push(f)}return n.sort(Oa.sort),Oa.preferences(a,n,t)};Oa.normalize=function(e){e=e||"*/*";let t={header:e,quoted:{}};if(e.includes('"')){let r=0;t.header=e.replace(/="([^"]*)"/g,(i,s)=>{let n='"'+ ++r;return t.quoted[n]=s,"="+n})}return t.header=t.header.replace(/[ \t]/g,""),t};Oa.sort=function(e,t){return t.q!==e.q?t.q-e.q:e.type!==t.type?Oa.innerSort(e,t,"type"):e.subtype!==t.subtype?Oa.innerSort(e,t,"subtype"):e.specificity!==t.specificity?t.specificity-e.specificity:e.pos-t.pos};Oa.innerSort=function(e,t,r){let i=-1,s=1;return e[r]==="*"?s:t[r]==="*"||e[r]<t[r]?i:s};Oa.preferences=function(e,t,r){if(!r||!r.length)return t.map(o=>o.token+o.original);let i=Object.create(null),s=Object.create(null),n=!1;for(let o of r){let u=o.toLowerCase();s[u]=o;let d=u.split("/"),m=d[0],f=d[1];if(m==="*"){eU.assert(f==="*","Invalid media type preference contains wildcard type with a subtype"),n=!0;continue}i[m]=i[m]||Object.create(null),i[m][f]=o}let a=[];for(let o of t){let u=o.token,{type:d,subtype:m}=e[u],f=i[d];if(d==="*"){for(let x of Object.keys(s))e[x]||a.push(s[x]);n&&a.push("*/*");continue}if(n){a.push((s[u]||u)+o.original);continue}if(m!=="*"){let x=s[u];(x||f&&f["*"])&&a.push((x||u)+o.original);continue}if(f)for(let x of Object.keys(f))e[`${d}/${x}`]||a.push(f[x])}return a}}),iU=O(gl=>{"use strict";var rU=QB(),nU=tU(),WO={options:{charset:{type:"accept-charset"},encoding:{type:"accept-encoding",default:"identity",equivalents:new Map([["x-compress","compress"],["x-gzip","gzip"]])},language:{type:"accept-language",specificity:!0}}};for(let e in WO.options)gl[e]=(t,r)=>rU.selection(t,r,WO.options[e]),gl[`${e}s`]=(t,r)=>rU.selections(t,r,WO.options[e]);gl.mediaType=(e,t)=>nU.selection(e,t);gl.mediaTypes=(e,t)=>nU.selections(e,t);gl.parseAll=function(e){return{charsets:gl.charsets(e["accept-charset"]),encodings:gl.encodings(e["accept-encoding"]),languages:gl.languages(e["accept-language"]),mediaTypes:gl.mediaTypes(e.accept)}}}),lU=O((sU,aU)=>{"use strict";var ox=require("zlib"),oU=iU(),Jbe=sc(),c1=Jt(),cU={common:["gzip, deflate","deflate, gzip","gzip","deflate","gzip, deflate, br"]};sU=aU.exports=cU.Compression=class{decoders={gzip:e=>ox.createGunzip(e),deflate:e=>ox.createInflate(e)};encodings=["identity","gzip","deflate"];encoders={identity:null,gzip:e=>ox.createGzip(e),deflate:e=>ox.createDeflate(e)};#e=null;constructor(){this._updateCommons()}_updateCommons(){this.#e=new Map;for(let e of cU.common)this.#e.set(e,oU.encoding(e,this.encodings))}addEncoder(e,t){c1.assert(this.encoders[e]===void 0,`Cannot override existing encoder for ${e}`),c1.assert(typeof t=="function",`Invalid encoder function for ${e}`),this.encoders[e]=t,this.encodings.unshift(e),this._updateCommons()}addDecoder(e,t){c1.assert(this.decoders[e]===void 0,`Cannot override existing decoder for ${e}`),c1.assert(typeof t=="function",`Invalid decoder function for ${e}`),this.decoders[e]=t}accept(e){let t=e.headers["accept-encoding"];if(!t)return"identity";let r=this.#e.get(t);if(r)return r;try{return oU.encoding(t,this.encodings)}catch(i){return Jbe.rethrow(i,"system"),i.header=t,e._log(["accept-encoding","error"],i),"identity"}}encoding(e,t){if(e.settings.compressed)return e.headers["content-encoding"]=e.settings.compressed,null;let r=e.request;if(!r._core.settings.compression||t!==null&&t<r._core.settings.compression.minBytes)return null;let i=r._core.mime.type(e.headers["content-type"]||"application/octet-stream");return i.compressible?(e.vary("accept-encoding"),e.headers["content-encoding"]||r.info.acceptEncoding==="identity"?null:r.info.acceptEncoding):null}encoder(e,t){let r=this.encoders[t];return c1.assert(r!==void 0,`Unknown encoding ${t}`),r(e.route.settings.compression[t])}}}),dU=O((uU,fU)=>{"use strict";var hU=Nr(),wh=Jt(),pU=ad(),ng={methodNameRx:/^[_$a-zA-Z][$\w]*(?:\.[_$a-zA-Z][$\w]*)*$/};uU=fU.exports=ng.Methods=class{methods={};#e=null;constructor(e){this.#e=e}add(e,t,r,i){if(typeof e!="object")return this._add(e,t,r,i);let s=[].concat(e);for(let n of s)n=pU.apply("methodObject",n),this._add(n.name,n.method,n.options||{},i)}_add(e,t,r,i){wh.assert(typeof t=="function","method must be a function"),wh.assert(typeof e=="string","name must be a string"),wh.assert(e.match(ng.methodNameRx),"Invalid name:",e),wh.assert(!wh.reach(this.methods,e,{functions:!1}),"Server method function name already exists:",e),r=pU.apply("method",r,e);let s=wh.clone(r,{shallow:["bind"]});s.generateKey=s.generateKey||ng.generateKey;let n=s.bind||i.settings.bind||null,a=n?(...d)=>t.apply(n,d):t;if(!s.cache)return this._assign(e,a);wh.assert(!s.cache.generateFunc,"Cannot set generateFunc with method caching:",e),wh.assert(s.cache.generateTimeout!==void 0,"Method caching requires a timeout value in generateTimeout:",e),s.cache.generateFunc=(d,m)=>a(...d.args,m);let o=this.#e._cachePolicy(s.cache,"#"+e),u=function(...d){let m=s.generateKey.apply(n,d);return typeof m!="string"?Promise.reject(hU.badImplementation("Invalid method key when invoking: "+e,{name:e,args:d})):o.get({id:m,args:d})};u.cache={drop:function(...d){let m=s.generateKey.apply(n,d);return typeof m!="string"?Promise.reject(hU.badImplementation("Invalid method key when invoking: "+e,{name:e,args:d})):o.drop(m)},stats:o.stats},this._assign(e,u,u)}_assign(e,t){let r=e.split("."),i=this.methods;for(let s=0;s<r.length;++s)i[r[s]]||(i[r[s]]=s+1===r.length?t:{}),i=i[r[s]]}};ng.supportedArgs=["string","number","boolean"];ng.generateKey=function(...e){let t="";for(let r=0;r<e.length;++r){let i=e[r];if(!ng.supportedArgs.includes(typeof i))return null;t=t+(r?":":"")+encodeURIComponent(i.toString())}return t}}),_U=O((mU,gU)=>{"use strict";var yU=require("stream"),l1=Nr(),Zbe=sc(),lc=Jt(),vU=Yv(),KO=DO(),ka={events:vU.validate(["finish",{name:"peek",spread:!0}]),hopByHop:{connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},reserved:["app","headers","plugins","request","source","statusCode","variety","settings","events","code","message","header","vary","etag","type","contentType","bytes","location","created","compressed","replacer","space","suffix","escape","passThrough","redirect","temporary","permanent","rewritable","encoding","charset","ttl","state","unstate","takeover"]};mU=gU.exports=ka.Response=class{constructor(e,t,r={}){this.app={},this.headers={},this.plugins={},this.request=t,this.source=null,this.statusCode=null,this.variety=null,this.settings={charset:"utf-8",compressed:null,encoding:"utf8",message:null,passThrough:!0,stringify:null,ttl:null,varyEtag:!1},this._events=null,this._payload=null,this._error=r.error||null,this._contentType=null,this._takeover=!1,this._statusCode=!1,this._state=this._error?"prepare":"init",this._processors={marshal:r.marshal,prepare:r.prepare,close:r.close},this._setSource(e,r.variety)}static wrap(e,t){return e instanceof t._core.Response||typeof e=="symbol"?e:e instanceof Error?l1.boomify(e):new t._core.Response(e,t)}_setSource(e,t){this.variety=t||"plain",e==null?e=null:Buffer.isBuffer(e)?(this.variety="buffer",this._contentType="application/octet-stream"):KO.isStream(e)&&(this.variety="stream",this._contentType="application/octet-stream"),this.source=e,this.variety==="plain"&&this.source!==null&&(this._contentType=typeof this.source=="string"?"text/html":"application/json")}get events(){return this._events||(this._events=new vU(ka.events)),this._events}code(e){return lc.assert(Number.isSafeInteger(e),"Status code must be an integer"),this.statusCode=e,this._statusCode=!0,this}message(e){return this.settings.message=e,this}header(e,t,r){return e=e.toLowerCase(),e==="vary"?this.vary(t):this._header(e,t,r)}_header(e,t,r={}){let i=r.append||!1,s=r.separator||",",n=r.override!==!1,a=r.duplicate!==!1;if(!i&&n||!this.headers[e])this.headers[e]=t;else if(n)if(e==="set-cookie")this.headers[e]=[].concat(this.headers[e],t);else{let o=this.headers[e];if(!a){let u=o.split(s);for(let d of u)if(d===t)return this}this.headers[e]=o+s+t}return this}vary(e){return e==="*"?this.headers.vary="*":this.headers.vary?this.headers.vary!=="*"&&this._header("vary",e,{append:!0,duplicate:!1}):this.headers.vary=e,this}etag(e,t){let r=this.request._core.Response.entity(e,t);return this._header("etag",r.etag),this.settings.varyEtag=r.vary,this}static entity(e,t={}){return lc.assert(e!=="*","ETag cannot be *"),{etag:(t.weak?"W/":"")+'"'+e+'"',vary:t.vary!==!1&&!t.weak,modified:t.modified}}static unmodified(e,t){if(e.method!=="get"&&e.method!=="head")return!1;if(t.etag&&e.headers["if-none-match"]){let n=e.headers["if-none-match"].split(/\s*,\s*/);for(let a of n){if(a===t.etag)return!0;if(!t.vary)continue;if(a===`W/${t.etag}`)return a;let o=t.etag.slice(0,-1),u=e._core.compression.encodings;for(let d of u)if(a===o+`-${d}"`)return!0}return!1}if(!t.modified)return!1;let r=e.headers["if-modified-since"];if(!r)return!1;let i=ka.parseDate(r);if(!i)return!1;let s=ka.parseDate(t.modified);return s?i>=s:!1}type(e){return this._header("content-type",e),this}get contentType(){let e=this.headers["content-type"];if(e){if(e=e.trim(),this.settings.charset&&e.match(/^(?:text\/)|(?:application\/(?:json)|(?:javascript))/)&&!e.match(/; *charset=/)){let t=e[e.length-1]===";";return e+(t?" ":"; ")+"charset="+this.settings.charset}return e}if(this._contentType){let t=this.settings.charset&&this._contentType!=="application/octet-stream"?"; charset="+this.settings.charset:"";return this._contentType+t}return null}bytes(e){return this._header("content-length",e),this}location(e){return this._header("location",e),this}created(e){return lc.assert(this.request.method==="post"||this.request.method==="put"||this.request.method==="patch","Cannot return 201 status codes for "+this.request.method.toUpperCase()),this.statusCode=201,this.location(e),this}compressed(e){return lc.assert(e&&typeof e=="string","Invalid content-encoding"),this.settings.compressed=e,this}replacer(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.replacer=e,this}spaces(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.space=e,this}suffix(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.suffix=e,this}escape(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.escape=e,this}passThrough(e){return this.settings.passThrough=e!==!1,this}redirect(e){return this.statusCode=302,this.location(e),this}temporary(e){return lc.assert(this.headers.location,"Cannot set redirection mode without first setting a location"),this._setTemporary(e!==!1),this}permanent(e){return lc.assert(this.headers.location,"Cannot set redirection mode without first setting a location"),this._setTemporary(e===!1),this}rewritable(e){return lc.assert(this.headers.location,"Cannot set redirection mode without first setting a location"),this._setRewritable(e!==!1),this}_isTemporary(){return this.statusCode===302||this.statusCode===307}_isRewritable(){return this.statusCode===301||this.statusCode===302}_setTemporary(e){e?this._isRewritable()?this.statusCode=302:this.statusCode=307:this._isRewritable()?this.statusCode=301:this.statusCode=308}_setRewritable(e){e?this._isTemporary()?this.statusCode=302:this.statusCode=301:this._isTemporary()?this.statusCode=307:this.statusCode=308}encoding(e){return this.settings.encoding=e,this}charset(e){return this.settings.charset=e||null,this}ttl(e){return this.settings.ttl=e,this}state(e,t,r){return this.request._setState(e,t,r),this}unstate(e,t){return this.request._clearState(e,t),this}takeover(){return this._takeover=!0,this}_prepare(){if(lc.assert(this._state==="init"),this._state="prepare",this._passThrough(),!this._processors.prepare)return this;try{return this._processors.prepare(this)}catch(e){throw l1.boomify(e)}}_passThrough(){if(this.variety==="stream"&&this.settings.passThrough&&(this.source.statusCode&&!this.statusCode&&(this.statusCode=this.source.statusCode),this.source.headers)){let e=Object.keys(this.source.headers);if(e.length){let t=this.headers;this.headers={};let r=this.source.headers.connection,i={};r&&r.split(/\s*,\s*/).forEach(s=>{i[s]=!0});for(let s of e){let n=s.toLowerCase();!ka.hopByHop[n]&&!i[n]&&this.header(n,lc.clone(this.source.headers[s]))}e=Object.keys(t);for(let s of e)this.header(s,t[s],{append:s==="set-cookie"})}}this.statusCode=this.statusCode||200}async _marshal(){lc.assert(this._state==="prepare"),this._state="marshall";let e=this.source;if(this._processors.marshal)try{e=await this._processors.marshal(this)}catch(i){throw l1.boomify(i)}if(KO.isStream(e)){this._payload=e;return}let t=this.variety==="plain"&&e!==null&&typeof e!="string";if(!t&&this.settings.stringify)throw l1.badImplementation("Cannot set formatting options on non object response");let r=e;if(t){let i=this.settings.stringify||{},s=i.space||this.request.route.settings.json.space,n=i.replacer||this.request.route.settings.json.replacer,a=i.suffix||this.request.route.settings.json.suffix||"",o=this.request.route.settings.json.escape||!1;try{n||s?r=JSON.stringify(r,n,s):r=JSON.stringify(r)}catch(u){throw l1.boomify(u)}a&&(r=r+a),o&&(r=lc.escapeJson(r))}this._payload=new ka.Response.Payload(r,this.settings)}_tap(){return this._events&&(this._events.hasListeners("peek")||this._events.hasListeners("finish"))?new ka.Response.Peek(this._events):null}_close(){if(this._state==="close")return;if(this._state="close",this._processors.close)try{this._processors.close(this)}catch(t){Zbe.rethrow(t,"system"),this.request._log(["response","cleanup","error"],t)}let e=this._payload||this.source;KO.isStream(e)&&ka.Response.drain(e)}_isPayloadSupported(){return this.request.method!=="head"&&this.statusCode!==304&&this.statusCode!==204}static drain(e){if(e.destroy){e.destroy();return}e.unpipe(),e.close&&e.close()}};ka.Response.reserved=ka.reserved;ka.parseDate=function(e){try{return Date.parse(e)}catch(t){}};ka.Response.Payload=class extends yU.Readable{constructor(e,t){super();this._data=e,this._prefix=null,this._suffix=null,this._sizeOffset=0,this._encoding=t.encoding}_read(e){this._prefix&&this.push(this._prefix,this._encoding),this._data&&this.push(this._data,this._encoding),this._suffix&&this.push(this._suffix,this._encoding),this.push(null)}size(){return this._data?(Buffer.isBuffer(this._data)?this._data.length:Buffer.byteLength(this._data,this._encoding))+this._sizeOffset:this._sizeOffset}jsonp(e){this._sizeOffset=this._sizeOffset+e.length+7,this._prefix="/**/"+e+"(",this._data!==null&&!Buffer.isBuffer(this._data)&&(this._data=this._data.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")),this._suffix=");"}writeToStream(e){this._prefix&&e.write(this._prefix,this._encoding),this._data&&e.write(this._data,this._encoding),this._suffix&&e.write(this._suffix,this._encoding),e.end()}};ka.Response.Peek=class extends yU.Transform{constructor(e){super();this._podium=e,this.on("finish",()=>e.emit("finish"))}_transform(e,t,r){this._podium.emit("peek",[e,t]),this.push(e,t),r()}}}),AU=O((wU,bU)=>{"use strict";var Qbe=require("http"),exe=require("https"),xU=require("os"),txe=require("path"),XO=Nr(),rxe=sc(),nxe=S8(),YO=EO(),ixe=F8(),sxe=H8(),uc=Jt(),{Mimos:axe}=V8(),oxe=Yv(),cxe=bO(),lxe=nB(),uxe=FO(),fxe=lU(),cx=ad(),hxe=s1(),mo=Xb(),pxe=dU(),EU=zO(),dxe=_U(),SU=Zb(),RU=ex(),mxe=Yb(),na={counter:{min:1e4,max:99999},events:[{name:"cachePolicy",spread:!0},{name:"log",channels:["app","internal"],tags:!0},{name:"request",channels:["app","internal","error"],tags:!0,spread:!0},"response","route","start","closing","stop"],badRequestResponse:Buffer.from(`HTTP/1.1 400 Bad Request\r
\r
`,"ascii")};wU=bU.exports=na.Core=class{actives=new WeakMap;app={};auth=new uxe(this);caches=new Map;compression=new fxe;controlled=null;dependencies=[];events=new oxe(na.events);heavy=null;info=null;instances=new Set;listener=null;methods=new pxe(this);mime=null;onConnection=null;phase="stopped";plugins={};registrations={};registring=0;Request=class extends EU{};Response=class extends dxe{};requestCounter={value:na.counter.min,min:na.counter.min,max:na.counter.max};root=null;router=null;settings=null;sockets=null;started=!1;states=null;toolkit=new RU.Manager;type=null;validator=null;extensionsSeq=0;extensions={server:{onPreStart:new mo("onPreStart",this),onPostStart:new mo("onPostStart",this),onPreStop:new mo("onPreStop",this),onPostStop:new mo("onPostStop",this)},route:{onRequest:new mo("onRequest",this),onPreAuth:new mo("onPreAuth",this),onCredentials:new mo("onCredentials",this),onPostAuth:new mo("onPostAuth",this),onPreHandler:new mo("onPreHandler",this),onPostHandler:new mo("onPostHandler",this),onPreResponse:new mo("onPreResponse",this),onPostResponse:new mo("onPostResponse",this)}};decorations={handler:new Map,request:new Map,response:new Map,server:new Map,toolkit:new Map,requestApply:null,public:{handler:[],request:[],response:[],server:[],toolkit:[]}};constructor(e){let{settings:t,type:r}=na.setup(e);this.settings=t,this.type=r,this.heavy=new sxe(this.settings.load),this.mime=new axe(this.settings.mime),this.router=new nxe.Router(this.settings.router),this.states=new lxe.Definitions(this.settings.state),this._debug(),this._initializeCache(),this.settings.routes.validate.validator&&(this.validator=mxe.validator(this.settings.routes.validate.validator)),this.listener=this._createListener(),this._initializeListener(),this.info=this._info()}_debug(){let e=this.settings.debug;if(!e)return;let t=r=>{let i=r.error||r.data;console.error("Debug:",r.tags.join(", "),i?`
    `+(i.stack||(typeof i=="object"?uc.stringify(i):i)):"")};if(e.log){let r=e.log.some(i=>i==="*")?void 0:e.log;this.events.on({name:"log",filter:r},t)}if(e.request){let r=e.request.some(i=>i==="*")?void 0:e.request;this.events.on({name:"request",filter:r},(i,s)=>t(s))}}_initializeCache(){this.settings.cache&&this._createCache(this.settings.cache),this.caches.has("_default")||this._createCache([{provider:ixe}])}_info(){let e=Date.now(),t=this.type==="tcp"?this.settings.tls?"https":"http":this.type,r=this.settings.host||xU.hostname()||"localhost",i=this.settings.port,s={created:e,started:0,host:r,port:i,protocol:t,id:xU.hostname()+":"+process.pid+":"+e.toString(36),uri:this.settings.uri||t+":"+(this.type==="tcp"?"//"+r+(i?":"+i:""):i)};return s}_counter(){let e=++this.requestCounter.value;return this.requestCounter.value>this.requestCounter.max&&(this.requestCounter.value=this.requestCounter.min),e-1}_createCache(e){uc.assert(this.phase!=="initializing","Cannot provision server cache while server is initializing"),e=cx.apply("cache",e);let t=[];for(let r of e){typeof r=="function"&&(r={provider:{constructor:r}});let i=r.name||"_default";uc.assert(!this.caches.has(i),"Cannot configure the same cache more than once: ",i==="_default"?"default cache":i);let s=null;if(r.provider){let n=r.provider;typeof n=="function"&&(n={constructor:n}),s=new YO.Client(n.constructor,n.options||{partition:"hapi-cache"})}else s=new YO.Client(r.engine);this.caches.set(i,{client:s,segments:{},shared:r.shared||!1}),t.push(s)}return t}registerServer(e){this.root||(this.root=e,this._defaultRoutes()),this.instances.add(e)}async _start(){if((this.phase==="initialized"||this.phase==="started")&&this._validateDeps(),this.phase==="started")return;if(this.phase!=="stopped"&&this.phase!=="initialized")throw new Error("Cannot start server while it is in "+this.phase+" phase");this.phase!=="initialized"&&await this._initialize(),this.phase="starting",this.started=!0,this.info.started=Date.now();try{await this._listen()}catch(e){throw this.started=!1,this.phase="invalid",e}this.phase="started",await this.events.emit("start");try{this.controlled&&await Promise.all(this.controlled.map(e=>e.start())),await this._invoke("onPostStart")}catch(e){throw this.phase="invalid",e}}_listen(){return new Promise((e,t)=>{if(!this.settings.autoListen){e();return}let r=s=>{t(s)};this.listener.once("error",r);let i=()=>{this.listener.removeListener("error",r),e()};if(this.type!=="tcp")this.listener.listen(this.settings.port,i);else{let s=this.settings.address||this.settings.host||"0.0.0.0";this.listener.listen(this.settings.port,s,i)}})}async _initialize(){if(this.registring)throw new Error("Cannot start server before plugins finished registration");if(this.phase==="initialized")return;if(this.phase!=="stopped")throw new Error("Cannot initialize server while it is in "+this.phase+" phase");this._validateDeps(),this.phase="initializing";try{let e=[];this.caches.forEach(t=>e.push(t.client.start())),await Promise.all(e),await this._invoke("onPreStart"),this.heavy.start(),this.phase="initialized",this.controlled&&await Promise.all(this.controlled.map(t=>t.initialize()))}catch(e){throw this.phase="invalid",e}}_validateDeps(){for(let{deps:e,plugin:t}of this.dependencies)for(let r in e){let i=e[r];uc.assert(this.registrations[r],"Plugin",t,"missing dependency",r),uc.assert(i==="*"||cxe.match(this.registrations[r].version,i),"Plugin",t,"requires",r,"version",i,"but found",this.registrations[r].version)}}async _stop(e={}){if(e.timeout=e.timeout||5e3,["stopped","initialized","started","invalid"].indexOf(this.phase)===-1)throw new Error("Cannot stop server while in "+this.phase+" phase");this.phase="stopping";try{await this._invoke("onPreStop"),this.started&&(this.started=!1,this.info.started=0,await this._unlisten(e.timeout));let t=[];this.caches.forEach(r=>t.push(r.client.stop())),await Promise.all(t),await this.events.emit("stop"),this.heavy.stop(),this.controlled&&await Promise.all(this.controlled.map(r=>r.stop(e))),await this._invoke("onPostStop"),this.phase="stopped"}catch(t){throw this.phase="invalid",t}}_unlisten(e){let t=null;if(this.settings.operations.cleanStop){let r=()=>{for(let i of this.sockets)i.destroy();this.sockets.clear()};t=setTimeout(r,e);for(let i of this.sockets)this.actives.has(i)||i.end()}return new Promise(r=>{this.listener.close(()=>{this.settings.operations.cleanStop&&(this.listener.removeListener(this.settings.tls?"secureConnection":"connection",this.onConnection),clearTimeout(t)),this._initializeListener(),r()}),this.events.emit("closing")})}async _invoke(e){let t=this.extensions.server[e];if(!t.nodes)return;for(let r of t.nodes){let i=r.bind||r.realm.settings.bind,s=r.func.call(i,r.server,i);await RU.timed(s,{timeout:r.timeout,name:e})}}_defaultRoutes(){this.router.special("notFound",new SU({method:"_special",path:"/{p*}",handler:na.notFound},this.root,{special:!0})),this.router.special("badRequest",new SU({method:"_special",path:"/{p*}",handler:na.badRequest},this.root,{special:!0})),this.settings.routes.cors&&hxe.handler(this.root)}_dispatch(e={}){return(t,r)=>{let i=EU.generate(this.root,t,r,e);if(this.settings.operations.cleanStop&&t.socket){this.actives.set(t.socket,i);let s={core:this,req:t};r.on("finish",na.onFinish.bind(r,s))}if(this.settings.load.sampleInterval)try{this.heavy.check()}catch(s){rxe.rethrow(s,"system"),this._log(["load"],this.heavy.load),i._reply(s);return}i._execute()}}_createListener(){let e=this.settings.listener||(this.settings.tls?exe.createServer(this.settings.tls):Qbe.createServer());return e.on("request",this._dispatch()),e.on("checkContinue",this._dispatch({expectContinue:!0})),e.on("clientError",(t,r)=>{if(this._log(["connection","client","error"],t),r.readable){let i=this.settings.operations.cleanStop&&this.actives.get(r);if(i){let s=XO.badRequest();s.output.headers={connection:"close"},i._reply(s)}else r.end(na.badRequestResponse)}else r.destroy(t)}),e}_initializeListener(){this.listener.once("listening",()=>{if(this.type==="tcp"){let e=this.listener.address();this.info.address=e.address,this.info.port=e.port,this.info.uri=this.settings.uri||this.info.protocol+"://"+this.info.host+":"+this.info.port}if(this.settings.operations.cleanStop){this.sockets=new Set;let e=this,t=function(){e.sockets.delete(this)};this.onConnection=r=>{this.sockets.add(r),r.on("close",t)},this.listener.on(this.settings.tls?"secureConnection":"connection",this.onConnection)}})}_cachePolicy(e,t,r){e=cx.apply("cachePolicy",e);let i=r&&r.plugin,s=e.segment||t||(i?`!${i}`:"");uc.assert(s,"Missing cache segment name");let n=e.cache||"_default",a=this.caches.get(n);uc.assert(a,"Unknown cache",n),uc.assert(!a.segments[s]||a.shared||e.shared,"Cannot provision the same cache segment more than once"),a.segments[s]=!0;let o=new YO.Policy(e,a.client,s);return this.events.emit("cachePolicy",[o,e.cache,s]),o}log(e,t){return this._log(e,t,"app")}_log(e,t,r="internal"){if(!this.events.hasListeners("log"))return;Array.isArray(e)||(e=[e]);let i=Date.now(),s=t instanceof Error?"error":"data",n={timestamp:i,tags:e,[s]:t,channel:r};typeof t=="function"&&(n=()=>({timestamp:i,tags:e,data:t(),channel:r})),this.events.emit({name:"log",tags:e,channel:r},n)}};na.setup=function(e={}){let t=uc.clone(e,{shallow:["cache","listener","routes.bind"]});t.app=t.app||{},t.routes=cx.enable(t.routes),t=cx.apply("server",t),t.port===void 0&&(t.port=0);let r=typeof t.port=="string"?"socket":"tcp";return r==="socket"&&(t.port=t.port.indexOf("/")!==-1?txe.resolve(t.port):t.port.toLowerCase()),t.autoListen===void 0&&(t.autoListen=!0),uc.assert(t.autoListen||!t.port,"Cannot specify port when autoListen is false"),uc.assert(t.autoListen||!t.address,"Cannot specify address when autoListen is false"),{settings:t,type:r}};na.notFound=function(){throw XO.notFound()};na.badRequest=function(){throw XO.badRequest()};na.onFinish=function(e){let{core:t,req:r}=e;t.actives.delete(r.socket),t.started||r.socket.end()}}),CU=O((yYe,TU)=>{TU.exports={name:"@hapi/hapi",description:"HTTP Server framework",homepage:"https://hapi.dev",version:"20.2.1",repository:"git://github.com/hapijs/hapi",main:"lib/index.js",engines:{node:">=12.0.0"},files:["lib"],keywords:["framework","http","api","web"],eslintConfig:{extends:["plugin:@hapi/module"]},dependencies:{"@hapi/accept":"^5.0.1","@hapi/ammo":"^5.0.1","@hapi/boom":"^9.1.0","@hapi/bounce":"^2.0.0","@hapi/call":"^8.0.0","@hapi/catbox":"^11.1.1","@hapi/catbox-memory":"^5.0.0","@hapi/heavy":"^7.0.1","@hapi/hoek":"^9.0.4","@hapi/mimos":"^6.0.0","@hapi/podium":"^4.1.1","@hapi/shot":"^5.0.5","@hapi/somever":"^3.0.0","@hapi/statehood":"^7.0.3","@hapi/subtext":"^7.0.3","@hapi/teamwork":"^5.1.0","@hapi/topo":"^5.0.0","@hapi/validate":"^1.1.1"},devDependencies:{"@hapi/code":"^8.0.0","@hapi/eslint-plugin":"*","@hapi/inert":"^6.0.2","@hapi/joi-legacy-test":"npm:@hapi/joi@^15.0.0","@hapi/lab":"^24.2.0","@hapi/vision":"^6.0.1","@hapi/wreck":"^17.0.0",handlebars:"^4.7.4",joi:"^17.0.0","legacy-readable-stream":"npm:readable-stream@^1.0.34"},scripts:{test:"lab -a @hapi/code -t 100 -L -m 5000","test-tap":"lab -a @hapi/code -r tap -o tests.tap -m 5000","test-cov-html":"lab -a @hapi/code -r html -o coverage.html -m 5000"},license:"BSD-3-Clause"}}),qU=O((OU,kU)=>{"use strict";var Lt=Jt(),gxe=p8(),PU=bO(),yxe=Xv(),ig=ad(),vxe=AU(),_xe=s1(),pd=Xb(),wxe=CU(),bxe=Zb(),xxe=ex(),IU=Yb(),bh={};OU=kU.exports=function(e){let t=new vxe(e);return new bh.Server(t)};bh.Server=class{constructor(e,t,r){this._core=e,this.app=e.app,this.auth=e.auth.public(this),this.decorations=e.decorations.public,this.cache=bh.cache(this),this.events=e.events,this.info=e.info,this.listener=e.listener,this.load=e.heavy.load,this.methods=e.methods.methods,this.mime=e.mime,this.plugins=e.plugins,this.registrations=e.registrations,this.settings=e.settings,this.states=e.states,this.type=e.type,this.version=wxe.version,this.realm={_extensions:{onPreAuth:new pd("onPreAuth",e),onCredentials:new pd("onCredentials",e),onPostAuth:new pd("onPostAuth",e),onPreHandler:new pd("onPreHandler",e),onPostHandler:new pd("onPostHandler",e),onPreResponse:new pd("onPreResponse",e),onPostResponse:new pd("onPostResponse",e)},modifiers:{route:{}},parent:r?r.realm:null,plugin:t,pluginOptions:{},plugins:{},_rules:null,settings:{bind:void 0,files:{relativeTo:void 0}},validator:null};for(let[i,s]of e.decorations.server.entries())this[i]=s;e.registerServer(this)}_clone(e){return new bh.Server(this._core,e,this)}bind(e){Lt.assert(typeof e=="object","bind must be an object"),this.realm.settings.bind=e}control(e){Lt.assert(e instanceof bh.Server,"Can only control Server objects"),this._core.controlled=this._core.controlled||[],this._core.controlled.push(e)}decoder(e,t){return this._core.compression.addDecoder(e,t)}decorate(e,t,r,i={}){Lt.assert(this._core.decorations.public[e],"Unknown decoration type:",e),Lt.assert(t,"Missing decoration property name"),Lt.assert(typeof t=="string"||typeof t=="symbol","Decoration property must be a string or a symbol");let s=t.toString();Lt.assert(s[0]!=="_","Property name cannot begin with an underscore:",s);let n=this._core.decorations[e].get(t);i.extend?(Lt.assert(e!=="handler","Cannot extent handler decoration:",s),Lt.assert(n,`Cannot extend missing ${e} decoration: ${s}`),Lt.assert(typeof r=="function",`Extended ${e} decoration method must be a function: ${s}`),r=r(n)):Lt.assert(n===void 0,`${e[0].toUpperCase()+e.slice(1)} decoration already defined: ${s}`),e==="handler"?(Lt.assert(typeof r=="function","Handler must be a function:",s),Lt.assert(!r.defaults||typeof r.defaults=="object"||typeof r.defaults=="function","Handler defaults property must be an object or function"),Lt.assert(!i.extend,"Cannot extend handler decoration:",s)):e==="request"?(Lt.assert(!this._core.Request.reserved.includes(t),"Cannot override built-in request interface decoration:",s),i.apply?(this._core.decorations.requestApply=this._core.decorations.requestApply||new Map,this._core.decorations.requestApply.set(t,r)):this._core.Request.prototype[t]=r):e==="response"?(Lt.assert(!this._core.Response.reserved.includes(t),"Cannot override built-in response interface decoration:",s),this._core.Response.prototype[t]=r):e==="toolkit"?(Lt.assert(!xxe.reserved.includes(t),"Cannot override built-in toolkit decoration:",s),this._core.toolkit.decorate(t,r)):(typeof t=="string"?Lt.assert(!Object.getOwnPropertyNames(bh.Server.prototype).includes(t),"Cannot override the built-in server interface method:",s):Lt.assert(!Object.getOwnPropertySymbols(bh.Server.prototype).includes(t),"Cannot override the built-in server interface method:",s),this._core.instances.forEach(a=>{a[t]=r})),this._core.decorations[e].set(t,r),this._core.decorations.public[e].push(t)}dependency(e,t){if(Lt.assert(this.realm.plugin,"Cannot call dependency() outside of a plugin"),Lt.assert(!t||typeof t=="function","Invalid after method"),typeof e=="string")e={[e]:"*"};else if(Array.isArray(e)){let r={};for(let i of e)r[i]="*";e=r}this._core.dependencies.push({plugin:this.realm.plugin,deps:e}),t&&this.ext("onPreStart",t,{after:Object.keys(e)})}encoder(e,t){return this._core.compression.addEncoder(e,t)}event(e){this._core.events.registerEvent(e)}expose(e,t,r={}){Lt.assert(this.realm.plugin,"Cannot call expose() outside of a plugin");let i=this.realm.plugin;i[0]==="@"&&r.scope!==!0&&(i=i.replace(/^@([^/]+)\//,(s,n)=>r.scope?`${n}__`:"")),this._core.plugins[i]=this._core.plugins[i]||{},typeof e=="string"?this._core.plugins[i][e]=t:Lt.merge(this._core.plugins[i],e)}ext(e,t,r){let i;if(typeof e=="string"){if(!t){let s=new yxe.Team;t=(n,a)=>(s.attend(n),a.continue),i=s.work}e={type:e,method:t,options:r}}e=ig.apply("exts",e);for(let s of e)this._ext(s);return i}_ext(e){e=Object.assign({},e),e.realm=this.realm;let t=e.type;if(!this._core.extensions.server[t])return e.options.sandbox==="plugin"?(Lt.assert(this.realm._extensions[t],"Unknown event type",t),this.realm._extensions[t].add(e)):(Lt.assert(this._core.extensions.route[t],"Unknown event type",t),this._core.extensions.route[t].add(e));Lt.assert(!e.options.sandbox,"Cannot specify sandbox option for server extension"),Lt.assert(t!=="onPreStart"||this._core.phase==="stopped","Cannot add onPreStart (after) extension after the server was initialized"),e.server=this,this._core.extensions.server[t].add(e)}async inject(e){let t=e;typeof t=="string"&&(t={url:t}),(!t.authority||t.auth||t.app||t.plugins||t.allowInternals!==void 0)&&(t=Object.assign({},t),delete t.auth,delete t.app,delete t.plugins,delete t.allowInternals,t.authority=t.authority||this._core.info.host+":"+this._core.info.port),Lt.assert(!e.credentials,"options.credentials no longer supported (use options.auth)"),e.auth&&(Lt.assert(typeof e.auth=="object","options.auth must be an object"),Lt.assert(e.auth.credentials,"options.auth.credentials is missing"),Lt.assert(e.auth.strategy,"options.auth.strategy is missing"));let r=this._core._dispatch({auth:e.auth,allowInternals:e.allowInternals,app:e.app,plugins:e.plugins,isInjected:!0}),i=await gxe.inject(r,t),s=i.raw.res[ig.symbol];if(s){if(delete i.raw.res[ig.symbol],i.request=s.request,s.error)throw s.error;s.result!==void 0&&(i.result=s.result)}return i.result===void 0&&(i.result=i.payload),i}log(e,t){return this._core.log(e,t)}lookup(e){Lt.assert(e&&typeof e=="string","Invalid route id:",e);let t=this._core.router.ids.get(e);return t?t.route.public:null}match(e,t,r){Lt.assert(e&&typeof e=="string","Invalid method:",e),Lt.assert(t&&typeof t=="string"&&t[0]==="/","Invalid path:",t),Lt.assert(!r||typeof r=="string","Invalid host:",r);let i=this._core.router.route(e.toLowerCase(),t,r);return Lt.assert(i!==this._core.router.specials.badRequest,"Invalid path:",t),i===this._core.router.specials.notFound?null:i.route.public}method(e,t,r={}){return this._core.methods.add(e,t,r,this.realm)}path(e){Lt.assert(e&&typeof e=="string","relativeTo must be a non-empty string"),this.realm.settings.files.relativeTo=e}async register(e,t={}){(this.realm.modifiers.route.prefix||this.realm.modifiers.route.vhost)&&(t=Lt.clone(t),t.routes=t.routes||{},t.routes.prefix=(this.realm.modifiers.route.prefix||"")+(t.routes.prefix||"")||void 0,t.routes.vhost=this.realm.modifiers.route.vhost||t.routes.vhost),t=ig.apply("register",t),++this._core.registring;try{let r=[].concat(e);for(let i of r){i.plugin?i.plugin.register?typeof i=="function"&&(i=Object.assign({},i)):i={options:i.options,once:i.once,routes:i.routes,plugin:i.plugin.plugin}:i={plugin:i},i=ig.apply("plugin",i);let s=i.plugin.name||i.plugin.pkg.name,n=this._clone(s);n.realm.modifiers.route.prefix=i.routes.prefix||t.routes.prefix,n.realm.modifiers.route.vhost=i.routes.vhost||t.routes.vhost,n.realm.pluginOptions=i.options||{};let a=i.plugin.requirements;if(Lt.assert(!a.node||PU.match(process.version,a.node),"Plugin",s,"requires node version",a.node,"but found",process.version),Lt.assert(!a.hapi||PU.match(this.version,a.hapi),"Plugin",s,"requires hapi version",a.hapi,"but found",this.version),this._core.registrations[s]){if(i.plugin.once||i.once||t.once)continue;Lt.assert(i.plugin.multiple,"Plugin",s,"already registered")}else this._core.registrations[s]={version:i.plugin.version||i.plugin.pkg.version,name:s,options:i.options};i.plugin.dependencies&&n.dependency(i.plugin.dependencies),await i.plugin.register(n,i.options||{})}}finally{--this._core.registring}}route(e){Lt.assert(typeof e=="object","Invalid route options"),e=[].concat(e);for(let t of e)if(Array.isArray(t.method))for(let r of t.method){let i=Object.assign({},t);i.method=r,this._addRoute(i,this)}else this._addRoute(t,this)}_addRoute(e,t){let r=new bxe(e,t),i=[].concat(r.settings.vhost||"*");for(let s of i){let n=this._core.router.add({method:r.method,path:r.path,vhost:s,analysis:r._analysis,id:r.settings.id},r);r.fingerprint=n.fingerprint,r.params=n.params}this.events.emit("route",r.public),_xe.options(r.public,t)}rules(e,t={}){Lt.assert(!this.realm._rules,"Server realm rules already defined");let r=ig.apply("rules",t);if(r.validate){let i=r.validate.schema;r.validate.schema=IU.compile(i,null,this.realm,this._core)}this.realm._rules={processor:e,settings:r}}state(e,t){this.states.add(e,t)}table(e){return this._core.router.table(e)}validator(e){Lt.assert(!this.realm.validator,"Validator already set"),this.realm.validator=IU.validator(e)}start(){return this._core._start()}initialize(){return this._core._initialize()}stop(e){return this._core._stop(e)}};bh.cache=e=>{let t=function(r,i){return this._core._cachePolicy(r,i,e.realm)};return t.provision=async r=>{let i=e._core._createCache(r);["initialized","starting","started"].includes(e._core.phase)&&await Promise.all(i.map(s=>s.start()))},t}}),MU=O(JO=>{"use strict";var NU=qU();JO.Server=NU;JO.server=NU}),lx=O((_Ye,LU)=>{var Exe=JA(),DU=2;function Sxe(e,t=1){let r=t*DU;return Exe(e,r)}LU.exports={indent:Sxe,prettyPrint:e=>JSON.stringify(e,null,DU)}}),yt=O((wYe,$U)=>{var go=Tt(),jU=lx(),rs=class extends Error{constructor(t,...r){super(t);this.appendErrorMessages(go.uniq(r.map(i=>i instanceof Error?i.message:i)))}appendErrorMessages(t){if(!t||t.length===0)return;this.message+=`:
${jU.indent(t.join(`
`))}`}prependErrorMessage(t){this.message=`${t}:
${jU.indent(this.message)}`}},ZO=class extends rs{},FU=class extends rs{},QO=class extends rs{},BU=class extends QO{},UU=class extends rs{},HU=class extends rs{},GU=class extends rs{},zU=class extends rs{},VU=class extends rs{},WU=class extends rs{},KU=class extends ZO{},ek=class extends rs{constructor(t,r={}){let i=Object.keys(r).sort().map(s=>`${s}: ${r[s].message}`);super(t,...i);this.errors={...r}}},tk=class extends rs{constructor(t,r,i={}){let s=Object.keys(i).sort().map(a=>i[a]),n=[r,...s].filter(a=>a);super(t,...n);this.projectDependenciesError=r,this.packageDependenciesErrors={...i},this.innerErrors=n}},rk=class extends rs{constructor(t,r=[],i=null,s=null,...n){let a=[...r,...i?i.innerErrors:[],s,...n].filter(o=>o);super(t,...a);this.dependencyResolutionError=i,this.cacheError=s}},XU=class extends rs{constructor(t,r,i={},s={}){let n;go.isEmpty(r)?n="Unable to add packages":go.isEmpty(t)?n="Unable to remove packages":n="Unable to add and remove packages";let a=(d,m)=>(f,x)=>new rs(`Unable to ${m} package [${d[x]}]`,f),o=go.map(i,a(t,"add")),u=go.map(s,a(r,"remove"));super(n,...o,...u);this.addErrors=i,this.removeErrors=s}getAddError(t){return this.addErrors[t]}getRemoveError(t){return this.removeErrors[t]}};function nk(e,t){let r=go.pickBy(t);return go.isEmpty(r)?null:new ek(e,r)}function YU(e,t){let{dependenciesErrors:r,relatedPackagesWithErrors:i=[],resolutionInfo:{packageId:s}}=e,n=go.mapKeys(r,(a,o)=>{let u=i.includes(o)?"related package":"dependency";return`${o} (${u})`});return nk(`${t||`Package ${s}`} has invalid dependencies or related test packages`,n)}function Rxe(e){let t=nk("Project has invalid dependencies",go(e).pickBy(i=>i.depth===0).mapValues(i=>i.error).value()),r=go(e).mapValues(i=>YU(i)).pickBy().value();return t||!go.isEmpty(r)?new tk("Dependency resolution failed",t,r):null}function Axe(e,t,...r){let i=Rxe(t),s=nk("One or more packages could not be added to the local file system",go.mapValues(t,a=>a.resolutionInfo.error)),n=[...e,i,s,...r].some(a=>a);return n?new rk("An error occurred while resolving packages",e,i,s,...r):null}$U.exports={UpmError:rs,InvalidParameter:ZO,InvalidManifest:FU,NotFound:QO,CompatiblePackageNotFound:BU,ConnectionError:GU,UnexpectedContentType:zU,NotModified:VU,Forbidden:UU,Unauthorized:HU,Conflict:WU,DependenciesError:ek,DependencyResolutionError:tk,PackageResolutionError:rk,AddAndRemoveError:XU,DuplicatesError:KU,createPackageResolutionError:Axe,createPackageDependenciesError:YU}}),ju=O((bYe,JU)=>{var Txe=require("assert"),Cxe=yt(),ik=new Set;async function Oxe(e,t){if(Txe(e,"`token` is required"),ik.has(e))throw new Cxe.Forbidden(`An operation that requires exclusive access to a resource ([${e}]) is already running and must be completed before another can be started.`);ik.add(e);try{return await t()}finally{ik.delete(e)}}JU.exports={runBlockingOperation:Oxe}}),Ar=O((xYe,ZU)=>{var sk=require("os"),kxe="file:",Pxe="manifest.json",Ixe="packages-lock.json",QU="package.json",qxe={Unavailable:"unavailable",InProgress:"inprogress",Error:"error",Available:"available"},Nxe={BuiltIn:"builtin",Registry:"registry",Embedded:"embedded",Local:"local",Git:"git",LocalTarball:"local-tarball"},Mxe={Tests:"tests",Sample:"sample",Template:"template",Module:"module",Library:"library",Tool:"tool",Feature:"feature"},Lxe={Upm:"upm",AssetStore:"assetstore",Enterprise:"enterprise"},Dxe={Public:"public",AssetStore:"assetstore",Enterprise:"enterprise"},$xe={NotDirectory:"ENOTDIR",NotFound:"ENOENT",AccessDenied:sk.platform()==="win32"?"EPERM":"EACCES"},jxe={Valid:"Valid",Invalid:"Invalid",Unsigned:"Unsigned",Error:"Error"},Fxe={Read:256,Write:128,Execute:sk.platform()==="win32"?0:64,All:256|128|(sk.platform()==="win32"?0:64)},Bxe={Global:"global",Project:"project"},Uxe={PackageFolder:"package",PackageFolderWithSlash:"package/",ManifestFilePath:`package/${QU}`},Hxe={Lowest:"lowest",HighestPatch:"highestPatch",HighestMinor:"highestMinor",Highest:"highest"},Gxe={Error:"error",Warn:"warn",Info:"info",Verbose:"verbose",Debug:"debug",Silly:"silly"},zxe="default",Vxe={Default:"default",Editor:"editor",Global:"global",User:"user",Project:"project",Environment:"environment",Cli:"cli",Request:"request"},Wxe={Pending:"pending",Downloading:"downloading",Caching:"caching",Installing:"installing",Ready:"ready",Error:"error"},Kxe=Infinity;ZU.exports={FILE_MODE_MASKS:Fxe,LOCAL_PATH_PACKAGE:kxe,MANIFEST_FILENAME:Pxe,LOCK_FILENAME:Ixe,ENTITLEMENT_LICENSE_TYPES:Dxe,PACKAGE_MANIFEST_FILENAME:QU,PACKAGE_STATUS:qxe,PACKAGE_SOURCE:Nxe,PACKAGE_TYPE:Mxe,PACKAGE_PROVIDERS:Lxe,FILE_SYSTEM_ERROR_CODES:$xe,SIGNATURE_STATUS:jxe,CACHING_LEVEL:Bxe,PACKAGE_TARBALL:Uxe,RESOLUTION_STRATEGY:Hxe,LOG_SEVERITY:Gxe,DEFAULT_DEPENDENCY_VERSION:zxe,CONFIGURATION_SOURCE:Vxe,PROGRESS_STATE:Wxe,UNKNOWN_DOWNLOAD_SIZE:Kxe}}),ux=O((EYe,eH)=>{var tH=require("os"),sg=require("path"),ak=Ar(),Xxe=yt(),Yxe=0;function Jxe(){if(/^win/.test(process.platform)){let e=process.env.LOCALAPPDATA,t=process.env.SYSTEMROOT;return(!e||e.toLowerCase().startsWith(t.toLowerCase()))&&(e=process.env.ALLUSERSPROFILE),sg.join(e,"Unity","cache")}if(process.platform==="darwin")return sg.join(tH.homedir(),"Library","Unity","cache");if(process.platform==="linux")return sg.join(tH.homedir(),".config","unity3d","cache");throw new Xxe.NotFound(`The platform [${process.platform}] cannot be found`)}function rH(){return{path:Jxe(),source:ak.CONFIGURATION_SOURCE.Default}}function nH(e=void 0){return process.env.UPM_CACHE_ROOT?{path:process.env.UPM_CACHE_ROOT,source:ak.CONFIGURATION_SOURCE.Environment}:e?{path:e,source:ak.CONFIGURATION_SOURCE.User}:rH()}function Zxe(e={}){let t=nH(e.cacheRoot).path,r={npm:process.env.UPM_NPM_CACHE_PATH||sg.join(t,"npm"),packages:process.env.UPM_CACHE_PATH||sg.join(t,"packages"),gitLfs:process.env.UPM_GIT_LFS_CACHE_PATH||process.env.UPM_ENABLE_GIT_LFS_CACHE&&sg.join(t,"git-lfs")};return r}function Qxe(){let e=parseInt(process.env.UPM_METADATA_REFRESH_INTERVAL,10);return isNaN(e)?Yxe:e}eH.exports={createGlobalCachePaths:Zxe,buildEffectiveCacheRootConfig:nH,buildDefaultCacheRootConfig:rH,getMetadataRefreshInterval:Qxe}}),ia=O(ok=>{"use strict";ok.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,i)=>{e.apply(this,t.concat([(s,n)=>s?i(s):r(n)]))})},"name",{value:e.name})};ok.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(i=>r(null,i),r)},"name",{value:e.name})}}),u1=O(xh=>{"use strict";var iH=ia().fromCallback,Os=ii(),eEe=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Os[e]=="function");Object.keys(Os).forEach(e=>{if(e==="promises")return;xh[e]=Os[e]});eEe.forEach(e=>{xh[e]=iH(Os[e])});xh.exists=function(e,t){return typeof t=="function"?Os.exists(e,t):new Promise(r=>Os.exists(e,r))};xh.read=function(e,t,r,i,s,n){return typeof n=="function"?Os.read(e,t,r,i,s,n):new Promise((a,o)=>{Os.read(e,t,r,i,s,(u,d,m)=>{if(u)return o(u);a({bytesRead:d,buffer:m})})})};xh.write=function(e,t,...r){return typeof r[r.length-1]=="function"?Os.write(e,t,...r):new Promise((i,s)=>{Os.write(e,t,...r,(n,a,o)=>{if(n)return s(n);i({bytesWritten:a,buffer:o})})})};typeof Os.writev=="function"&&(xh.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?Os.writev(e,t,...r):new Promise((i,s)=>{Os.writev(e,t,...r,(n,a,o)=>{if(n)return s(n);i({bytesWritten:a,buffers:o})})})});typeof Os.realpath.native=="function"&&(xh.realpath.native=iH(Os.realpath.native))}),ck=O((AYe,sH)=>{sH.exports=e=>{let t=process.versions.node.split(".").map(r=>parseInt(r,10));return e=e.split(".").map(r=>parseInt(r,10)),t[0]>e[0]||t[0]===e[0]&&(t[1]>e[1]||t[1]===e[1]&&t[2]>=e[2])}}),uH=O((TYe,lk)=>{"use strict";var ag=u1(),Fu=require("path"),tEe=ck(),aH=tEe("10.12.0"),oH=e=>{if(process.platform==="win32"){let t=/[<>:"|?*]/.test(e.replace(Fu.parse(e).root,""));if(t){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}}},cH=e=>{let t={mode:511};return typeof e=="number"&&(e={mode:e}),{...t,...e}},lH=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};lk.exports.makeDir=async(e,t)=>{if(oH(e),t=cH(t),aH){let i=Fu.resolve(e);return ag.mkdir(i,{mode:t.mode,recursive:!0})}let r=async i=>{try{await ag.mkdir(i,t.mode)}catch(s){if(s.code==="EPERM")throw s;if(s.code==="ENOENT"){if(Fu.dirname(i)===i)throw lH(i);if(s.message.includes("null bytes"))throw s;return await r(Fu.dirname(i)),r(i)}try{let n=await ag.stat(i);if(!n.isDirectory())throw new Error("The path is not a directory")}catch{throw s}}};return r(Fu.resolve(e))};lk.exports.makeDirSync=(e,t)=>{if(oH(e),t=cH(t),aH){let i=Fu.resolve(e);return ag.mkdirSync(i,{mode:t.mode,recursive:!0})}let r=i=>{try{ag.mkdirSync(i,t.mode)}catch(s){if(s.code==="EPERM")throw s;if(s.code==="ENOENT"){if(Fu.dirname(i)===i)throw lH(i);if(s.message.includes("null bytes"))throw s;return r(Fu.dirname(i)),r(i)}try{if(!ag.statSync(i).isDirectory())throw new Error("The path is not a directory")}catch{throw s}}};return r(Fu.resolve(e))}}),fc=O((CYe,fH)=>{"use strict";var rEe=ia().fromPromise,{makeDir:nEe,makeDirSync:uk}=uH(),fk=rEe(nEe);fH.exports={mkdirs:fk,mkdirsSync:uk,mkdirp:fk,mkdirpSync:uk,ensureDir:fk,ensureDirSync:uk}}),hk=O((OYe,hH)=>{"use strict";var og=ii();function iEe(e,t,r,i){og.open(e,"r+",(s,n)=>{if(s)return i(s);og.futimes(n,t,r,a=>{og.close(n,o=>{i&&i(a||o)})})})}function sEe(e,t,r){let i=og.openSync(e,"r+");return og.futimesSync(i,t,r),og.closeSync(i)}hH.exports={utimesMillis:iEe,utimesMillisSync:sEe}}),f1=O((kYe,pH)=>{"use strict";var cg=u1(),sa=require("path"),aEe=require("util"),oEe=ck(),fx=oEe("10.5.0"),dH=e=>fx?cg.stat(e,{bigint:!0}):cg.stat(e),pk=e=>fx?cg.statSync(e,{bigint:!0}):cg.statSync(e);function cEe(e,t){return Promise.all([dH(e),dH(t).catch(r=>{if(r.code==="ENOENT")return null;throw r})]).then(([r,i])=>({srcStat:r,destStat:i}))}function lEe(e,t){let r,i=pk(e);try{r=pk(t)}catch(s){if(s.code==="ENOENT")return{srcStat:i,destStat:null};throw s}return{srcStat:i,destStat:r}}function uEe(e,t,r,i){aEe.callbackify(cEe)(e,t,(s,n)=>{if(s)return i(s);let{srcStat:a,destStat:o}=n;return o&&hx(a,o)?i(new Error("Source and destination must not be the same.")):a.isDirectory()&&dk(e,t)?i(new Error(px(e,t,r))):i(null,{srcStat:a,destStat:o})})}function fEe(e,t,r){let{srcStat:i,destStat:s}=lEe(e,t);if(s&&hx(i,s))throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&dk(e,t))throw new Error(px(e,t,r));return{srcStat:i,destStat:s}}function mH(e,t,r,i,s){let n=sa.resolve(sa.dirname(e)),a=sa.resolve(sa.dirname(r));if(a===n||a===sa.parse(a).root)return s();let o=(u,d)=>u?u.code==="ENOENT"?s():s(u):hx(t,d)?s(new Error(px(e,r,i))):mH(e,t,a,i,s);fx?cg.stat(a,{bigint:!0},o):cg.stat(a,o)}function gH(e,t,r,i){let s=sa.resolve(sa.dirname(e)),n=sa.resolve(sa.dirname(r));if(n===s||n===sa.parse(n).root)return;let a;try{a=pk(n)}catch(o){if(o.code==="ENOENT")return;throw o}if(hx(t,a))throw new Error(px(e,r,i));return gH(e,t,n,i)}function hx(e,t){if(t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev){if(fx||t.ino<Number.MAX_SAFE_INTEGER)return!0;if(t.size===e.size&&t.mode===e.mode&&t.nlink===e.nlink&&t.atimeMs===e.atimeMs&&t.mtimeMs===e.mtimeMs&&t.ctimeMs===e.ctimeMs&&t.birthtimeMs===e.birthtimeMs)return!0}return!1}function dk(e,t){let r=sa.resolve(e).split(sa.sep).filter(s=>s),i=sa.resolve(t).split(sa.sep).filter(s=>s);return r.reduce((s,n,a)=>s&&i[a]===n,!0)}function px(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}pH.exports={checkPaths:uEe,checkPathsSync:fEe,checkParentPaths:mH,checkParentPathsSync:gH,isSrcSubdir:dk}}),bH=O((PYe,yH)=>{"use strict";var ns=ii(),h1=require("path"),hEe=fc().mkdirsSync,pEe=hk().utimesMillisSync,p1=f1();function mEe(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:i,destStat:s}=p1.checkPathsSync(e,t,"copy");return p1.checkParentPathsSync(e,i,t,"copy"),dEe(s,e,t,r)}function dEe(e,t,r,i){if(i.filter&&!i.filter(t,r))return;let s=h1.dirname(r);return ns.existsSync(s)||hEe(s),vH(e,t,r,i)}function vH(e,t,r,i){return i.filter&&!i.filter(t,r)?void 0:gEe(e,t,r,i)}function gEe(e,t,r,i){let s=i.dereference?ns.statSync:ns.lstatSync,n=s(t);if(n.isDirectory())return vEe(n,e,t,r,i);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return yEe(n,e,t,r,i);if(n.isSymbolicLink())return _Ee(e,t,r,i)}function yEe(e,t,r,i,s){return t?wEe(e,r,i,s):_H(e,r,i,s)}function wEe(e,t,r,i){if(i.overwrite)return ns.unlinkSync(r),_H(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function _H(e,t,r,i){return ns.copyFileSync(t,r),i.preserveTimestamps&&bEe(e.mode,t,r),mk(r,e.mode)}function bEe(e,t,r){return xEe(e)&&EEe(r,e),SEe(t,r)}function xEe(e){return(e&128)===0}function EEe(e,t){return mk(e,t|128)}function mk(e,t){return ns.chmodSync(e,t)}function SEe(e,t){let r=ns.statSync(e);return pEe(t,r.atime,r.mtime)}function vEe(e,t,r,i,s){if(!t)return REe(e.mode,r,i,s);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${r}'.`);return wH(r,i,s)}function REe(e,t,r,i){return ns.mkdirSync(r),wH(t,r,i),mk(r,e)}function wH(e,t,r){ns.readdirSync(e).forEach(i=>AEe(i,e,t,r))}function AEe(e,t,r,i){let s=h1.join(t,e),n=h1.join(r,e),{destStat:a}=p1.checkPathsSync(s,n,"copy");return vH(a,s,n,i)}function _Ee(e,t,r,i){let s=ns.readlinkSync(t);if(i.dereference&&(s=h1.resolve(process.cwd(),s)),e){let n;try{n=ns.readlinkSync(r)}catch(a){if(a.code==="EINVAL"||a.code==="UNKNOWN")return ns.symlinkSync(s,r);throw a}if(i.dereference&&(n=h1.resolve(process.cwd(),n)),p1.isSrcSubdir(s,n))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${n}'.`);if(ns.statSync(r).isDirectory()&&p1.isSrcSubdir(n,s))throw new Error(`Cannot overwrite '${n}' with '${s}'.`);return TEe(s,r)}else return ns.symlinkSync(s,r)}function TEe(e,t){return ns.unlinkSync(t),ns.symlinkSync(e,t)}yH.exports=mEe}),gk=O((IYe,xH)=>{"use strict";xH.exports={copySync:bH()}}),Eh=O((qYe,EH)=>{"use strict";var CEe=ia().fromPromise,SH=u1();function OEe(e){return SH.access(e).then(()=>!0).catch(()=>!1)}EH.exports={pathExists:CEe(OEe),pathExistsSync:SH.existsSync}}),qH=O((NYe,RH)=>{"use strict";var aa=ii(),d1=require("path"),kEe=fc().mkdirs,PEe=Eh().pathExists,IEe=hk().utimesMillis,m1=f1();function qEe(e,t,r,i){typeof r=="function"&&!i?(i=r,r={}):typeof r=="function"&&(r={filter:r}),i=i||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),m1.checkPaths(e,t,"copy",(s,n)=>{if(s)return i(s);let{srcStat:a,destStat:o}=n;m1.checkParentPaths(e,a,t,"copy",u=>u?i(u):r.filter?TH(AH,o,e,t,r,i):AH(o,e,t,r,i))})}function AH(e,t,r,i,s){let n=d1.dirname(r);PEe(n,(a,o)=>{if(a)return s(a);if(o)return yk(e,t,r,i,s);kEe(n,u=>u?s(u):yk(e,t,r,i,s))})}function TH(e,t,r,i,s,n){Promise.resolve(s.filter(r,i)).then(a=>a?e(t,r,i,s,n):n(),a=>n(a))}function yk(e,t,r,i,s){return i.filter?TH(CH,e,t,r,i,s):CH(e,t,r,i,s)}function CH(e,t,r,i,s){let n=i.dereference?aa.stat:aa.lstat;n(t,(a,o)=>{if(a)return s(a);if(o.isDirectory())return MEe(o,e,t,r,i,s);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return NEe(o,e,t,r,i,s);if(o.isSymbolicLink())return LEe(e,t,r,i,s)})}function NEe(e,t,r,i,s,n){return t?DEe(e,r,i,s,n):OH(e,r,i,s,n)}function DEe(e,t,r,i,s){if(i.overwrite)aa.unlink(r,n=>n?s(n):OH(e,t,r,i,s));else return i.errorOnExist?s(new Error(`'${r}' already exists`)):s()}function OH(e,t,r,i,s){aa.copyFile(t,r,n=>n?s(n):i.preserveTimestamps?$Ee(e.mode,t,r,s):dx(r,e.mode,s))}function $Ee(e,t,r,i){return jEe(e)?FEe(r,e,s=>s?i(s):kH(e,t,r,i)):kH(e,t,r,i)}function jEe(e){return(e&128)===0}function FEe(e,t,r){return dx(e,t|128,r)}function kH(e,t,r,i){BEe(t,r,s=>s?i(s):dx(r,e,i))}function dx(e,t,r){return aa.chmod(e,t,r)}function BEe(e,t,r){aa.stat(e,(i,s)=>i?r(i):IEe(t,s.atime,s.mtime,r))}function MEe(e,t,r,i,s,n){return t?t&&!t.isDirectory()?n(new Error(`Cannot overwrite non-directory '${i}' with directory '${r}'.`)):PH(r,i,s,n):UEe(e.mode,r,i,s,n)}function UEe(e,t,r,i,s){aa.mkdir(r,n=>{if(n)return s(n);PH(t,r,i,a=>a?s(a):dx(r,e,s))})}function PH(e,t,r,i){aa.readdir(e,(s,n)=>s?i(s):IH(n,e,t,r,i))}function IH(e,t,r,i,s){let n=e.pop();return n?HEe(e,n,t,r,i,s):s()}function HEe(e,t,r,i,s,n){let a=d1.join(r,t),o=d1.join(i,t);m1.checkPaths(a,o,"copy",(u,d)=>{if(u)return n(u);let{destStat:m}=d;yk(m,a,o,s,f=>f?n(f):IH(e,r,i,s,n))})}function LEe(e,t,r,i,s){aa.readlink(t,(n,a)=>{if(n)return s(n);if(i.dereference&&(a=d1.resolve(process.cwd(),a)),e)aa.readlink(r,(o,u)=>o?o.code==="EINVAL"||o.code==="UNKNOWN"?aa.symlink(a,r,s):s(o):(i.dereference&&(u=d1.resolve(process.cwd(),u)),m1.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&m1.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):GEe(a,r,s)));else return aa.symlink(a,r,s)})}function GEe(e,t,r){aa.unlink(t,i=>i?r(i):aa.symlink(e,t,r))}RH.exports=qEe}),vk=O((MYe,NH)=>{"use strict";var zEe=ia().fromCallback;NH.exports={copy:zEe(qH())}}),HH=O((LYe,MH)=>{"use strict";var LH=ii(),DH=require("path"),Br=require("assert"),g1=process.platform==="win32";function $H(e){let t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach(r=>{e[r]=e[r]||LH[r],r=r+"Sync",e[r]=e[r]||LH[r]}),e.maxBusyTries=e.maxBusyTries||3}function _k(e,t,r){let i=0;typeof t=="function"&&(r=t,t={}),Br(e,"rimraf: missing path"),Br.strictEqual(typeof e,"string","rimraf: path should be a string"),Br.strictEqual(typeof r,"function","rimraf: callback function required"),Br(t,"rimraf: invalid options argument provided"),Br.strictEqual(typeof t,"object","rimraf: options should be object"),$H(t),jH(e,t,function s(n){if(n){if((n.code==="EBUSY"||n.code==="ENOTEMPTY"||n.code==="EPERM")&&i<t.maxBusyTries){i++;let a=i*100;return setTimeout(()=>jH(e,t,s),a)}n.code==="ENOENT"&&(n=null)}r(n)})}function jH(e,t,r){Br(e),Br(t),Br(typeof r=="function"),t.lstat(e,(i,s)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&g1)return FH(e,t,i,r);if(s&&s.isDirectory())return mx(e,t,i,r);t.unlink(e,n=>{if(n){if(n.code==="ENOENT")return r(null);if(n.code==="EPERM")return g1?FH(e,t,n,r):mx(e,t,n,r);if(n.code==="EISDIR")return mx(e,t,n,r)}return r(n)})})}function FH(e,t,r,i){Br(e),Br(t),Br(typeof i=="function"),t.chmod(e,438,s=>{s?i(s.code==="ENOENT"?null:r):t.stat(e,(n,a)=>{n?i(n.code==="ENOENT"?null:r):a.isDirectory()?mx(e,t,r,i):t.unlink(e,i)})})}function BH(e,t,r){let i;Br(e),Br(t);try{t.chmodSync(e,438)}catch(s){if(s.code==="ENOENT")return;throw r}try{i=t.statSync(e)}catch(s){if(s.code==="ENOENT")return;throw r}i.isDirectory()?gx(e,t,r):t.unlinkSync(e)}function mx(e,t,r,i){Br(e),Br(t),Br(typeof i=="function"),t.rmdir(e,s=>{s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?VEe(e,t,i):s&&s.code==="ENOTDIR"?i(r):i(s)})}function VEe(e,t,r){Br(e),Br(t),Br(typeof r=="function"),t.readdir(e,(i,s)=>{if(i)return r(i);let n=s.length,a;if(n===0)return t.rmdir(e,r);s.forEach(o=>{_k(DH.join(e,o),t,u=>{if(a)return;if(u)return r(a=u);--n===0&&t.rmdir(e,r)})})})}function UH(e,t){let r;t=t||{},$H(t),Br(e,"rimraf: missing path"),Br.strictEqual(typeof e,"string","rimraf: path should be a string"),Br(t,"rimraf: missing options"),Br.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(i){if(i.code==="ENOENT")return;i.code==="EPERM"&&g1&&BH(e,t,i)}try{r&&r.isDirectory()?gx(e,t,null):t.unlinkSync(e)}catch(i){if(i.code==="ENOENT")return;if(i.code==="EPERM")return g1?BH(e,t,i):gx(e,t,i);if(i.code!=="EISDIR")throw i;gx(e,t,i)}}function gx(e,t,r){Br(e),Br(t);try{t.rmdirSync(e)}catch(i){if(i.code==="ENOTDIR")throw r;if(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")WEe(e,t);else if(i.code!=="ENOENT")throw i}}function WEe(e,t){if(Br(e),Br(t),t.readdirSync(e).forEach(r=>UH(DH.join(e,r),t)),g1){let r=Date.now();do try{let i=t.rmdirSync(e,t);return i}catch{}while(Date.now()-r<500)}else{let r=t.rmdirSync(e,t);return r}}MH.exports=_k;_k.sync=UH}),y1=O((DYe,GH)=>{"use strict";var KEe=ia().fromCallback,zH=HH();GH.exports={remove:KEe(zH),removeSync:zH.sync}}),QH=O(($Ye,VH)=>{"use strict";var XEe=ia().fromCallback,WH=ii(),KH=require("path"),XH=fc(),YH=y1(),JH=XEe(function(t,r){r=r||function(){},WH.readdir(t,(i,s)=>{if(i)return XH.mkdirs(t,r);s=s.map(a=>KH.join(t,a)),n();function n(){let a=s.pop();if(!a)return r();YH.remove(a,o=>{if(o)return r(o);n()})}})});function ZH(e){let t;try{t=WH.readdirSync(e)}catch{return XH.mkdirsSync(e)}t.forEach(r=>{r=KH.join(e,r),YH.removeSync(r)})}VH.exports={emptyDirSync:ZH,emptydirSync:ZH,emptyDir:JH,emptydir:JH}}),n9=O((jYe,e9)=>{"use strict";var YEe=ia().fromCallback,t9=require("path"),Sh=ii(),r9=fc();function JEe(e,t){function r(){Sh.writeFile(e,"",i=>{if(i)return t(i);t()})}Sh.stat(e,(i,s)=>{if(!i&&s.isFile())return t();let n=t9.dirname(e);Sh.stat(n,(a,o)=>{if(a)return a.code==="ENOENT"?r9.mkdirs(n,u=>{if(u)return t(u);r()}):t(a);o.isDirectory()?r():Sh.readdir(n,u=>{if(u)return t(u)})})})}function ZEe(e){let t;try{t=Sh.statSync(e)}catch{}if(t&&t.isFile())return;let r=t9.dirname(e);try{Sh.statSync(r).isDirectory()||Sh.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")r9.mkdirsSync(r);else throw i}Sh.writeFileSync(e,"")}e9.exports={createFile:YEe(JEe),createFileSync:ZEe}}),c9=O((FYe,i9)=>{"use strict";var QEe=ia().fromCallback,s9=require("path"),dd=ii(),a9=fc(),o9=Eh().pathExists;function eSe(e,t,r){function i(s,n){dd.link(s,n,a=>{if(a)return r(a);r(null)})}o9(t,(s,n)=>{if(s)return r(s);if(n)return r(null);dd.lstat(e,a=>{if(a)return a.message=a.message.replace("lstat","ensureLink"),r(a);let o=s9.dirname(t);o9(o,(u,d)=>{if(u)return r(u);if(d)return i(e,t);a9.mkdirs(o,m=>{if(m)return r(m);i(e,t)})})})})}function tSe(e,t){let r=dd.existsSync(t);if(r)return;try{dd.lstatSync(e)}catch(n){throw n.message=n.message.replace("lstat","ensureLink"),n}let i=s9.dirname(t),s=dd.existsSync(i);return s||a9.mkdirsSync(i),dd.linkSync(e,t)}i9.exports={createLink:QEe(eSe),createLinkSync:tSe}}),u9=O((BYe,l9)=>{"use strict";var Rh=require("path"),v1=ii(),rSe=Eh().pathExists;function nSe(e,t,r){if(Rh.isAbsolute(e))return v1.lstat(e,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),r(i)):r(null,{toCwd:e,toDst:e}));{let i=Rh.dirname(t),s=Rh.join(i,e);return rSe(s,(n,a)=>n?r(n):a?r(null,{toCwd:s,toDst:e}):v1.lstat(e,o=>o?(o.message=o.message.replace("lstat","ensureSymlink"),r(o)):r(null,{toCwd:e,toDst:Rh.relative(i,e)})))}}function iSe(e,t){let r;if(Rh.isAbsolute(e)){if(r=v1.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let i=Rh.dirname(t),s=Rh.join(i,e);if(r=v1.existsSync(s),r)return{toCwd:s,toDst:e};if(r=v1.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Rh.relative(i,e)}}}l9.exports={symlinkPaths:nSe,symlinkPathsSync:iSe}}),p9=O((UYe,f9)=>{"use strict";var h9=ii();function sSe(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);h9.lstat(e,(i,s)=>{if(i)return r(null,"file");t=s&&s.isDirectory()?"dir":"file",r(null,t)})}function aSe(e,t){let r;if(t)return t;try{r=h9.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}f9.exports={symlinkType:sSe,symlinkTypeSync:aSe}}),w9=O((HYe,d9)=>{"use strict";var oSe=ia().fromCallback,m9=require("path"),lg=ii(),g9=fc(),cSe=g9.mkdirs,lSe=g9.mkdirsSync,y9=u9(),uSe=y9.symlinkPaths,fSe=y9.symlinkPathsSync,v9=p9(),hSe=v9.symlinkType,pSe=v9.symlinkTypeSync,_9=Eh().pathExists;function dSe(e,t,r,i){i=typeof r=="function"?r:i,r=typeof r=="function"?!1:r,_9(t,(s,n)=>{if(s)return i(s);if(n)return i(null);uSe(e,t,(a,o)=>{if(a)return i(a);e=o.toDst,hSe(o.toCwd,r,(u,d)=>{if(u)return i(u);let m=m9.dirname(t);_9(m,(f,x)=>{if(f)return i(f);if(x)return lg.symlink(e,t,d,i);cSe(m,T=>{if(T)return i(T);lg.symlink(e,t,d,i)})})})})})}function mSe(e,t,r){let i=lg.existsSync(t);if(i)return;let s=fSe(e,t);e=s.toDst,r=pSe(s.toCwd,r);let n=m9.dirname(t),a=lg.existsSync(n);return a||lSe(n),lg.symlinkSync(e,t,r)}d9.exports={createSymlink:oSe(dSe),createSymlinkSync:mSe}}),x9=O((GYe,b9)=>{"use strict";var yx=n9(),vx=c9(),_x=w9();b9.exports={createFile:yx.createFile,createFileSync:yx.createFileSync,ensureFile:yx.createFile,ensureFileSync:yx.createFileSync,createLink:vx.createLink,createLinkSync:vx.createLinkSync,ensureLink:vx.createLink,ensureLinkSync:vx.createLinkSync,createSymlink:_x.createSymlink,createSymlinkSync:_x.createSymlinkSync,ensureSymlink:_x.createSymlink,ensureSymlinkSync:_x.createSymlinkSync}}),wx=O((zYe,E9)=>{function gSe(e,t={}){let r=t.EOL||`
`,i=JSON.stringify(e,t?t.replacer:null,t.spaces);return i.replace(/\n/g,r)+r}function ySe(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}E9.exports={stringify:gSe,stripBom:ySe}}),T9=O((VYe,S9)=>{var ug;try{ug=ii()}catch(e){ug=require("fs")}var bx=ia(),{stringify:R9,stripBom:A9}=wx();async function vSe(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ug,i="throws"in t?t.throws:!0,s=await bx.fromCallback(r.readFile)(e,t);s=A9(s);let n;try{n=JSON.parse(s,t?t.reviver:null)}catch(a){if(i)throw a.message=`${e}: ${a.message}`,a;return null}return n}var _Se=bx.fromPromise(vSe);function wSe(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ug,i="throws"in t?t.throws:!0;try{let s=r.readFileSync(e,t);return s=A9(s),JSON.parse(s,t.reviver)}catch(s){if(i)throw s.message=`${e}: ${s.message}`,s;return null}}async function bSe(e,t,r={}){let i=r.fs||ug,s=R9(t,r);await bx.fromCallback(i.writeFile)(e,s,r)}var xSe=bx.fromPromise(bSe);function ESe(e,t,r={}){let i=r.fs||ug,s=R9(t,r);return i.writeFileSync(e,s,r)}var SSe={readFile:_Se,readFileSync:wSe,writeFile:xSe,writeFileSync:ESe};S9.exports=SSe}),O9=O((WYe,C9)=>{"use strict";var xx=T9();C9.exports={readJson:xx.readFile,readJsonSync:xx.readFileSync,writeJson:xx.writeFile,writeJsonSync:xx.writeFileSync}}),Ex=O((KYe,k9)=>{"use strict";var RSe=ia().fromCallback,_1=ii(),P9=require("path"),I9=fc(),ASe=Eh().pathExists;function TSe(e,t,r,i){typeof r=="function"&&(i=r,r="utf8");let s=P9.dirname(e);ASe(s,(n,a)=>{if(n)return i(n);if(a)return _1.writeFile(e,t,r,i);I9.mkdirs(s,o=>{if(o)return i(o);_1.writeFile(e,t,r,i)})})}function CSe(e,...t){let r=P9.dirname(e);if(_1.existsSync(r))return _1.writeFileSync(e,...t);I9.mkdirsSync(r),_1.writeFileSync(e,...t)}k9.exports={outputFile:RSe(TSe),outputFileSync:CSe}}),N9=O((XYe,q9)=>{"use strict";var{stringify:OSe}=wx(),{outputFile:kSe}=Ex();async function PSe(e,t,r={}){let i=OSe(t,r);await kSe(e,i,r)}q9.exports=PSe}),L9=O((YYe,M9)=>{"use strict";var{stringify:ISe}=wx(),{outputFileSync:qSe}=Ex();function NSe(e,t,r){let i=ISe(t,r);qSe(e,i,r)}M9.exports=NSe}),$9=O((JYe,D9)=>{"use strict";var MSe=ia().fromPromise,ks=O9();ks.outputJson=MSe(N9());ks.outputJsonSync=L9();ks.outputJSON=ks.outputJson;ks.outputJSONSync=ks.outputJsonSync;ks.writeJSON=ks.writeJson;ks.writeJSONSync=ks.writeJsonSync;ks.readJSON=ks.readJson;ks.readJSONSync=ks.readJsonSync;D9.exports=ks}),G9=O((ZYe,j9)=>{"use strict";var F9=ii(),LSe=require("path"),DSe=gk().copySync,B9=y1().removeSync,$Se=fc().mkdirpSync,U9=f1();function FSe(e,t,r){r=r||{};let i=r.overwrite||r.clobber||!1,{srcStat:s}=U9.checkPathsSync(e,t,"move");return U9.checkParentPathsSync(e,s,t,"move"),$Se(LSe.dirname(t)),jSe(e,t,i)}function jSe(e,t,r){if(r)return B9(t),H9(e,t,r);if(F9.existsSync(t))throw new Error("dest already exists.");return H9(e,t,r)}function H9(e,t,r){try{F9.renameSync(e,t)}catch(i){if(i.code!=="EXDEV")throw i;return BSe(e,t,r)}}function BSe(e,t,r){let i={overwrite:r,errorOnExist:!0};return DSe(e,t,i),B9(e)}j9.exports=FSe}),V9=O((QYe,z9)=>{"use strict";z9.exports={moveSync:G9()}}),J9=O((eJe,W9)=>{"use strict";var USe=ii(),HSe=require("path"),GSe=vk().copy,K9=y1().remove,zSe=fc().mkdirp,VSe=Eh().pathExists,X9=f1();function KSe(e,t,r,i){typeof r=="function"&&(i=r,r={});let s=r.overwrite||r.clobber||!1;X9.checkPaths(e,t,"move",(n,a)=>{if(n)return i(n);let{srcStat:o}=a;X9.checkParentPaths(e,o,t,"move",u=>{if(u)return i(u);zSe(HSe.dirname(t),d=>d?i(d):WSe(e,t,s,i))})})}function WSe(e,t,r,i){if(r)return K9(t,s=>s?i(s):Y9(e,t,r,i));VSe(t,(s,n)=>s?i(s):n?i(new Error("dest already exists.")):Y9(e,t,r,i))}function Y9(e,t,r,i){USe.rename(e,t,s=>s?s.code!=="EXDEV"?i(s):XSe(e,t,r,i):i())}function XSe(e,t,r,i){let s={overwrite:r,errorOnExist:!0};GSe(e,t,s,n=>n?i(n):K9(e,i))}W9.exports=KSe}),Q9=O((tJe,Z9)=>{"use strict";var YSe=ia().fromCallback;Z9.exports={move:YSe(J9())}}),$n=O((rJe,wk)=>{"use strict";wk.exports={...u1(),...gk(),...vk(),...QH(),...x9(),...$9(),...fc(),...V9(),...Q9(),...Ex(),...Eh(),...y1()};var e7=require("fs");Object.getOwnPropertyDescriptor(e7,"promises")&&Object.defineProperty(wk.exports,"promises",{get(){return e7.promises}})}),r7=O((nJe,t7)=>{t7.exports={name:"@hapi/joi",description:"Object schema validation",version:"17.1.1",repository:"git://github.com/hapijs/joi",main:"lib/index.js",browser:"dist/joi-browser.min.js",files:["lib/**/*","dist/*"],keywords:["schema","validation"],dependencies:{"@hapi/address":"^4.0.1","@hapi/formula":"^2.0.0","@hapi/hoek":"^9.0.0","@hapi/pinpoint":"^2.0.0","@hapi/topo":"^5.0.0"},devDependencies:{"@hapi/bourne":"2.x.x","@hapi/code":"8.x.x","@hapi/lab":"22.x.x","@hapi/joi-legacy-test":"npm:@hapi/joi@15.x.x"},scripts:{prepublishOnly:"cd browser && npm install && npm run build",test:"lab -t 100 -a @hapi/code -L","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"}}),Sx=O(w1=>{"use strict";var he=bn(),Ft={};Ft.wrap=he.string().min(1).max(2).allow(!1);w1.preferences=he.object({allowUnknown:he.boolean(),abortEarly:he.boolean(),cache:he.boolean(),context:he.object(),convert:he.boolean(),dateFormat:he.valid("date","iso","string","time","utc"),debug:he.boolean(),errors:{escapeHtml:he.boolean(),label:he.valid("path","key",!1),language:[he.string(),he.object().ref()],render:he.boolean(),stack:he.boolean(),wrap:{label:Ft.wrap,array:Ft.wrap}},externals:he.boolean(),messages:he.object(),noDefaults:he.boolean(),nonEnumerables:he.boolean(),presence:he.valid("required","optional","forbidden"),skipFunctions:he.boolean(),stripUnknown:he.object({arrays:he.boolean(),objects:he.boolean()}).or("arrays","objects").allow(!0,!1),warnings:he.boolean()}).strict();Ft.nameRx=/^[a-zA-Z0-9]\w*$/;Ft.rule=he.object({alias:he.array().items(he.string().pattern(Ft.nameRx)).single(),args:he.array().items(he.string(),he.object({name:he.string().pattern(Ft.nameRx).required(),ref:he.boolean(),assert:he.alternatives([he.function(),he.object().schema()]).conditional("ref",{is:!0,then:he.required()}),normalize:he.function(),message:he.string().when("assert",{is:he.function(),then:he.required()})})),convert:he.boolean(),manifest:he.boolean(),method:he.function().allow(!1),multi:he.boolean(),validate:he.function()});w1.extension=he.object({type:he.alternatives([he.string(),he.object().regex()]).required(),args:he.function(),base:he.object().schema().when("type",{is:he.object().regex(),then:he.forbidden()}),coerce:[he.function().maxArity(3),he.object({method:he.function().maxArity(3).required(),from:he.array().items(he.string()).single()})],flags:he.object().pattern(Ft.nameRx,he.object({setter:he.string(),default:he.any()})),manifest:{build:he.function().arity(2)},messages:[he.object(),he.string()],modifiers:he.object().pattern(Ft.nameRx,he.function().minArity(1).maxArity(2)),overrides:he.object().pattern(Ft.nameRx,he.function()),prepare:he.function().maxArity(3),rebuild:he.function().arity(1),rules:he.object().pattern(Ft.nameRx,Ft.rule),terms:he.object().pattern(Ft.nameRx,he.object({init:he.array().allow(null).required(),manifest:he.object().pattern(/.+/,[he.valid("schema","single"),he.object({mapped:he.object({from:he.string().required(),to:he.string().required()}).required()})])})),validate:he.function().maxArity(3)}).strict();w1.extensions=he.array().items(he.object(),he.function().arity(1)).strict();Ft.desc={buffer:he.object({buffer:he.string()}),func:he.object({function:he.function().required(),options:{literal:!0}}),override:he.object({override:!0}),ref:he.object({ref:he.object({type:he.valid("value","global","local"),path:he.array().required(),separator:he.string().length(1).allow(!1),ancestor:he.number().min(0).integer().allow("root"),map:he.array().items(he.array().length(2)).min(1),adjust:he.function(),iterables:he.boolean(),in:he.boolean()}).required()}),regex:he.object({regex:he.string().min(3)}),special:he.object({special:he.valid("deep").required()}),template:he.object({template:he.string().required(),options:he.object()}),value:he.object({value:he.alternatives([he.object(),he.array()]).required()})};Ft.desc.entity=he.alternatives([he.array().items(he.link("...")),he.boolean(),he.function(),he.number(),he.string(),Ft.desc.buffer,Ft.desc.func,Ft.desc.ref,Ft.desc.regex,Ft.desc.special,Ft.desc.template,Ft.desc.value,he.link("/")]);Ft.desc.values=he.array().items(null,he.boolean(),he.function(),he.number().allow(Infinity,-Infinity),he.string().allow(""),he.symbol(),Ft.desc.buffer,Ft.desc.func,Ft.desc.override,Ft.desc.ref,Ft.desc.regex,Ft.desc.template,Ft.desc.value);Ft.desc.messages=he.object().pattern(/.+/,[he.string(),Ft.desc.template,he.object().pattern(/.+/,[he.string(),Ft.desc.template])]);w1.description=he.object({type:he.string().required(),flags:he.object({cast:he.string(),default:he.any(),description:he.string(),empty:he.link("/"),failover:Ft.desc.entity,id:he.string(),label:he.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:he.boolean(),unit:he.string()}).unknown(),preferences:{allowUnknown:he.boolean(),abortEarly:he.boolean(),cache:he.boolean(),convert:he.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:he.boolean(),label:["path","key"],language:[he.string(),Ft.desc.ref],wrap:{label:Ft.wrap,array:Ft.wrap}},externals:he.boolean(),messages:Ft.desc.messages,noDefaults:he.boolean(),nonEnumerables:he.boolean(),presence:["required","optional","forbidden"],skipFunctions:he.boolean(),stripUnknown:he.object({arrays:he.boolean(),objects:he.boolean()}).or("arrays","objects").allow(!0,!1),warnings:he.boolean()},allow:Ft.desc.values,invalid:Ft.desc.values,rules:he.array().min(1).items({name:he.string().required(),args:he.object().min(1),keep:he.boolean(),message:[he.string(),Ft.desc.messages],warn:he.boolean()}),keys:he.object().pattern(/.*/,he.link("/")),link:Ft.desc.ref}).pattern(/^[a-z]\w*$/,he.any())}),n7=O(b1=>{"use strict";var pr={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};b1.Parser=class{constructor(e,t={}){if(!t[pr.settings]&&t.constants)for(let r in t.constants){let i=t.constants[r];if(i!==null&&!["boolean","number","string"].includes(typeof i))throw new Error(`Formula constant ${r} contains invalid ${typeof i} value type`)}this.settings=t[pr.settings]?t:Object.assign({[pr.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let t=[],r="",i=0,s=!1,n=o=>{if(i)throw new Error("Formula missing closing parenthesis");let u=t.length?t[t.length-1]:null;if(!s&&!r&&!o)return;if(u&&u.type==="reference"&&o===")"){u.type="function",u.value=this._subFormula(r,u.value),r="";return}if(o===")"){let d=new b1.Parser(r,this.settings);t.push({type:"segment",value:d})}else if(s){if(s==="]"){t.push({type:"reference",value:r}),r="";return}t.push({type:"literal",value:r})}else if(pr.operatorCharacters.includes(r))u&&u.type==="operator"&&pr.operators.includes(u.value+r)?u.value+=r:t.push({type:"operator",value:r});else if(r.match(pr.numberRx))t.push({type:"constant",value:parseFloat(r)});else if(this.settings.constants[r]!==void 0)t.push({type:"constant",value:this.settings.constants[r]});else{if(!r.match(pr.tokenRx))throw new Error(`Formula contains invalid token: ${r}`);t.push({type:"reference",value:r})}r=""};for(let o of e)s?o===s?(n(),s=!1):r+=o:i?o==="("?(r+=o,++i):o===")"?(--i,i?r+=o:n(o)):r+=o:o in pr.literals?s=pr.literals[o]:o==="("?(n(),++i):pr.operatorCharacters.includes(o)?(n(),r=o,n()):o!==" "?r+=o:n();n(),t=t.map((o,u)=>o.type!=="operator"||o.value!=="-"||u&&t[u-1].type!=="operator"?o:{type:"operator",value:"n"});let a=!1;for(let o of t){if(o.type==="operator"){if(pr.operatorsPrefix.includes(o.value))continue;if(!a)throw new Error("Formula contains an operator in invalid position");if(!pr.operators.includes(o.value))throw new Error(`Formula contains an unknown operator ${o.value}`)}else if(a)throw new Error("Formula missing expected operator");a=!a}if(!a)throw new Error("Formula contains invalid trailing operator");t.length===1&&["reference","literal","constant"].includes(t[0].type)&&(this.single={type:t[0].type==="reference"?"reference":"value",value:t[0].value}),this._parts=t.map(o=>{if(o.type==="operator")return pr.operatorsPrefix.includes(o.value)?o:o.value;if(o.type!=="reference")return o.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(o.value))throw new Error(`Formula contains invalid reference ${o.value}`);return this.settings.reference?this.settings.reference(o.value):pr.reference(o.value)})}_subFormula(e,t){let r=this.settings.functions[t];if(typeof r!="function")throw new Error(`Formula contains unknown function ${t}`);let i=[];if(e){let s="",n=0,a=!1,o=()=>{if(!s)throw new Error(`Formula contains function ${t} with invalid arguments ${e}`);i.push(s),s=""};for(let u=0;u<e.length;++u){let d=e[u];a?(s+=d,d===a&&(a=!1)):d in pr.literals&&!n?(s+=d,a=pr.literals[d]):d===","&&!n?o():(s+=d,d==="("?++n:d===")"&&--n)}o()}return i=i.map(s=>new b1.Parser(s,this.settings)),function(s){let n=[];for(let a of i)n.push(a.evaluate(s));return r.call(s,...n)}}evaluate(e){let t=this._parts.slice();for(let r=t.length-2;r>=0;--r){let i=t[r];if(i&&i.type==="operator"){let s=t[r+1];t.splice(r+1,1);let n=pr.evaluate(s,e);t[r]=pr.single(i.value,n)}}return pr.operatorsOrder.forEach(r=>{for(let i=1;i<t.length-1;)if(r.includes(t[i])){let s=t[i],n=pr.evaluate(t[i-1],e),a=pr.evaluate(t[i+1],e);t.splice(i,2);let o=pr.calculate(s,n,a);t[i-1]=o===0?0:o}else i+=2}),pr.evaluate(t[0],e)}};b1.Parser.prototype[pr.symbol]=!0;pr.reference=function(e){return function(t){return t&&t[e]!==void 0?t[e]:null}};pr.evaluate=function(e,t){return e===null?null:typeof e=="function"?e(t):e[pr.symbol]?e.evaluate(t):e};pr.single=function(e,t){if(e==="!")return!t;let r=-t;return r===0?0:r};pr.calculate=function(e,t,r){if(e==="??")return pr.exists(t)?t:r;if(typeof t=="string"||typeof r=="string"){if(e==="+")return t=pr.exists(t)?t:"",r=pr.exists(r)?r:"",t+r}else switch(e){case"^":return Math.pow(t,r);case"*":return t*r;case"/":return t/r;case"%":return t%r;case"+":return t+r;case"-":return t-r}switch(e){case"<":return t<r;case"<=":return t<=r;case">":return t>r;case">=":return t>=r;case"==":return t===r;case"!=":return t!==r;case"&&":return t&&r;case"||":return t||r}return null};pr.exists=function(e){return e!=null}}),s7=O(i7=>{"use strict";var JSe=zr(),ZSe=Qr(),md={annotations:Symbol("annotations")};i7.error=function(e){if(!this._original||typeof this._original!="object")return this.details[0].message;let t=e?"":"[31m",r=e?"":"[41m",i=e?"":"[0m",s=JSe(this._original);for(let o=this.details.length-1;o>=0;--o){let u=o+1,d=this.details[o],m=d.path,f=s;for(let x=0;;++x){let T=m[x];if(ZSe.isSchema(f)&&(f=f.clone()),x+1<m.length&&typeof f[T]!="string")f=f[T];else{let q=f[md.annotations]||{errors:{},missing:{}};f[md.annotations]=q;let F=T||d.context.key;f[T]!==void 0?(q.errors[F]=q.errors[F]||[],q.errors[F].push(u)):q.missing[F]=u;break}}}let n={key:/_\$key\$_([, \d]+)_\$end\$_"/g,missing:/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,arrayIndex:/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g},a=md.safeStringify(s,2).replace(n.key,(o,u)=>`" ${t}[${u}]${i}`).replace(n.missing,(o,u,d)=>`${r}"${u}"${i}${t} [${d}]: -- missing --${i}`).replace(n.arrayIndex,(o,u,d)=>`
${d} ${t}[${u}]${i}`).replace(n.specials,(o,u)=>u);a=`${a}
${t}`;for(let o=0;o<this.details.length;++o){let u=o+1;a=`${a}
[${u}] ${this.details[o].message}`}return a=a+i,a};md.safeStringify=function(e,t){return JSON.stringify(e,md.serializer(),t)};md.serializer=function(){let e=[],t=[],r=(i,s)=>t[0]===s?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(s)).join(".")+"]";return function(i,s){if(t.length>0){let n=t.indexOf(this);~n?(t.length=n+1,e.length=n+1,e[n]=i):(t.push(this),e.push(i)),~t.indexOf(s)&&(s=r.call(this,i,s))}else t.push(s);if(s){let n=s[md.annotations];if(n){if(Array.isArray(s)){let a=[];for(let o=0;o<s.length;++o)n.errors[o]&&a.push(`_$idx$_${n.errors[o].sort().join(", ")}_$end$_`),a.push(s[o]);s=a}else{for(let a in n.errors)s[`${a}_$key$_${n.errors[a].sort().join(", ")}_$end$_`]=s[a],s[a]=void 0;for(let a in n.missing)s[`_$miss$_${a}|${n.missing[a]}_$end$_`]="__missing__"}return s}}return s===Infinity||s===-Infinity||Number.isNaN(s)||typeof s=="function"||typeof s=="symbol"?"["+s.toString()+"]":s}}}),Bu=O(Jn=>{"use strict";var QSe=s7(),eRe=Qr(),tRe=Ah();Jn.Report=class{constructor(e,t,r,i,s,n,a){if(this.code=e,this.flags=i,this.messages=s,this.path=n.path,this.prefs=a,this.state=n,this.value=t,this.message=null,this.template=null,this.local=r||{},this.local.label=Jn.label(this.flags,this.state,this.prefs,this.messages),this.value!==void 0&&!this.local.hasOwnProperty("value")&&(this.local.value=this.value),this.path.length){let o=this.path[this.path.length-1];typeof o!="object"&&(this.local.key=o)}}_setTemplate(e){if(this.template=e,!this.flags.label&&this.path.length===0){let t=this._template(this.template,"root");t&&(this.local.label=t)}}toString(){if(this.message)return this.message;let e=this.code;if(!this.prefs.errors.render)return this.code;let t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return t===void 0?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,t){return Jn.template(this.value,e,t||this.code,this.state,this.prefs)}};Jn.path=function(e){let t="";for(let r of e){if(typeof r=="object")continue;typeof r=="string"?(t&&(t+="."),t+=r):t+=`[${r}]`}return t};Jn.template=function(e,t,r,i,s){if(!t)return;if(tRe.isTemplate(t))return r!=="root"?t:null;let n=s.errors.language;return eRe.isResolvable(n)&&(n=n.resolve(e,i,s)),n&&t[n]&&t[n][r]!==void 0?t[n][r]:t[r]};Jn.label=function(e,t,r,i){if(e.label)return e.label;if(!r.errors.label)return"";let s=t.path;r.errors.label==="key"&&t.path.length>1&&(s=t.path.slice(-1));let n=Jn.path(s);return n||(Jn.template(null,r.messages,"root",t,r)||i&&Jn.template(null,i,"root",t,r)||"value")};Jn.process=function(e,t,r){if(!e)return null;let{override:i,message:s,details:n}=Jn.details(e);if(i)return i;if(r.errors.stack)return new Jn.ValidationError(s,n,t);let a=Error.stackTraceLimit;Error.stackTraceLimit=0;let o=new Jn.ValidationError(s,n,t);return Error.stackTraceLimit=a,o};Jn.details=function(e,t={}){let r=[],i=[];for(let s of e){if(s instanceof Error){if(t.override!==!1)return{override:s};let a=s.toString();r.push(a),i.push({message:a,type:"override",context:{error:s}});continue}let n=s.toString();r.push(n),i.push({message:n,path:s.path.filter(a=>typeof a!="object"),type:s.code,context:s.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:i}};Jn.ValidationError=class extends Error{constructor(e,t,r){super(e);this._original=r,this.details=t}static isError(e){return e instanceof Jn.ValidationError}};Jn.ValidationError.prototype.isJoi=!0;Jn.ValidationError.prototype.name="ValidationError";Jn.ValidationError.prototype.annotate=QSe.error}),Uu=O(yo=>{"use strict";var vo=dt(),rRe=zr(),nRe=so(),x1=Qr(),bk,_o={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};yo.create=function(e,t={}){vo(typeof e=="string","Invalid reference key:",e),x1.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","separator"]),vo(!t.prefix||typeof t.prefix=="object","options.prefix must be of type object");let r=Object.assign({},_o.defaults,t);delete r.prefix;let i=r.separator,s=_o.context(e,i,t.prefix);if(r.type=s.type,e=s.key,r.type==="value")if(s.root&&(vo(!i||e[0]!==i,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),i&&i===e)e=null,r.ancestor=0;else if(r.ancestor!==void 0)vo(!i||!e||e[0]!==i,"Cannot combine prefix with ancestor option");else{let[n,a]=_o.ancestor(e,i);a&&(e=e.slice(a),e===""&&(e=null)),r.ancestor=n}return r.path=i?e===null?[]:e.split(i):[e],new _o.Ref(r)};yo.in=function(e,t={}){return yo.create(e,Object.assign({},t,{in:!0}))};yo.isRef=function(e){return e?!!e[x1.symbols.ref]:!1};_o.Ref=class{constructor(e){vo(typeof e=="object","Invalid reference construction"),x1.assertOptions(e,["adjust","ancestor","in","iterables","map","path","separator","type","depth","key","root","display"]),vo([!1,void 0].includes(e.separator)||typeof e.separator=="string"&&e.separator.length===1,"Invalid separator"),vo(!e.adjust||typeof e.adjust=="function","options.adjust must be a function"),vo(!e.map||Array.isArray(e.map),"options.map must be an array"),vo(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,_o.defaults,e),vo(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,i,s={}){return vo(!this.in||s.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(r.context,t,s):this.type==="local"?this._resolve(i,t,s):this.ancestor?this.ancestor==="root"?this._resolve(t.ancestors[t.ancestors.length-1],t,s):(vo(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,s)):this._resolve(e,t,s)}_resolve(e,t,r){let i;if(this.type==="value"&&t.mainstay.shadow&&r.shadow!==!1&&(i=t.mainstay.shadow.get(this.absolute(t))),i===void 0&&(i=nRe(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(i=this.adjust(i)),this.map){let s=this.map.get(i);s!==void 0&&(i=s)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,i),i}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new _o.Ref(this)}describe(){let e={path:this.path};this.type!=="value"&&(e.type=this.type),this.separator!=="."&&(e.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(let t of["adjust","iterables"])this[t]!==null&&(e[t]=this[t]);return this.in!==!1&&(e.in=!0),{ref:e}}updateDisplay(){let e=this.key!==null?this.key:"";if(this.type!=="value"){this.display=`ref:${this.type}:${e}`;return}if(!this.separator){this.display=`ref:${e}`;return}if(!this.ancestor){this.display=`ref:${this.separator}${e}`;return}if(this.ancestor==="root"){this.display=`ref:root:${e}`;return}if(this.ancestor===1){this.display=`ref:${e||".."}`;return}let t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}};_o.Ref.prototype[x1.symbols.ref]=!0;yo.build=function(e){return e=Object.assign({},_o.defaults,e),e.type==="value"&&e.ancestor===void 0&&(e.ancestor=1),new _o.Ref(e)};_o.context=function(e,t,r={}){if(e=e.trim(),r){let i=r.global===void 0?"$":r.global;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"global"};let s=r.local===void 0?"#":r.local;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"local"};let n=r.root===void 0?"/":r.root;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"value",root:!0}}return{key:e,type:"value"}};_o.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]};yo.toSibling=0;yo.toParent=1;yo.Manager=class{constructor(){this.refs=[]}register(e,t){if(!e)return;if(t=t===void 0?yo.toParent:t,Array.isArray(e)){for(let r of e)this.register(r,t);return}if(x1.isSchema(e)){for(let r of e._refs.refs)r.ancestor-t>=0&&this.refs.push({ancestor:r.ancestor-t,root:r.root});return}yo.isRef(e)&&e.type==="value"&&e.ancestor-t>=0&&this.refs.push({ancestor:e.ancestor-t,root:e.root}),bk=bk||Ah(),bk.isTemplate(e)&&this.register(e.refs(),t)}get length(){return this.refs.length}clone(){let e=new yo.Manager;return e.refs=rRe(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}}),Ah=O((a7,o7)=>{"use strict";var c7=dt(),iRe=zr(),sRe=Cb(),aRe=n7(),l7=Qr(),u7=Bu(),oRe=Uu(),Ur={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o7.exports=a7=Ur.Template=class{constructor(e,t){c7(typeof e=="string","Template source must be a string"),c7(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=iRe(t),this._parse()}_parse(){if(!this.source.includes("{"))return;let e=Ur.encode(this.source),t=Ur.split(e),r=!1,i=[],s=t.shift();s&&i.push(s);for(let n of t){let a=n[0]!=="{",o=a?"}":"}}",u=n.indexOf(o);if(u===-1||n[1]==="{"){i.push(`{${Ur.decode(n)}`);continue}let d=n.slice(a?0:1,u),m=this._ref(Ur.decode(d),a);i.push(m),typeof m!="string"&&(r=!0);let f=n.slice(u+o.length);f&&i.push(Ur.decode(f))}if(!r){this.rendered=i.join("");return}this._template=i}static date(e,t){return Ur.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;let t={template:this.source};return this._settings&&(t.options=this._settings),t}static build(e){return new Ur.Template(e.template,e.options)}isDynamic(){return!!this._template}static isTemplate(e){return e?!!e[l7.symbols.template]:!1}refs(){if(!this._template)return;let e=[];for(let t of this._template)typeof t!="string"&&e.push(...t.refs);return e}resolve(e,t,r,i){return this._template&&this._template.length===1?this._part(this._template[0],e,t,r,i,{}):this.render(e,t,r,i)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,r,i,s={}){if(!this.isDynamic())return this.rendered;let n=[];for(let a of this._template)if(typeof a=="string")n.push(a);else{let o=this._part(a,e,t,r,i,s),u=Ur.stringify(o,r,s.errors);if(u!==void 0){let d=a.raw||(s.errors&&s.errors.escapeHtml)===!1?u:sRe(u),m=a.ref&&a.ref.type==="local"&&a.ref.key==="label"&&r.errors.wrap.label;n.push(Ur.wrap(d,m))}}return n.join("")}_ref(e,t){let r=[],i=n=>{let a=oRe.create(n,this._settings);return r.push(a),o=>a.resolve(...o)};try{var s=new aRe.Parser(e,{reference:i,functions:Ur.functions,constants:Ur.constants})}catch(n){throw n.message=`Invalid template variable "${e}" fails due to: ${n.message}`,n}return s.single?s.single.type==="reference"?{ref:r[0],raw:t,refs:r}:Ur.stringify(s.single.value):{formula:s,raw:t,refs:r}}toString(){return this.source}};Ur.Template.prototype[l7.symbols.template]=!0;Ur.Template.prototype.isImmutable=!0;Ur.encode=function(e){return e.replace(/\\(\{+)/g,(t,r)=>Ur.opens.slice(0,r.length)).replace(/\\(\}+)/g,(t,r)=>Ur.closes.slice(0,r.length))};Ur.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")};Ur.split=function(e){let t=[],r="";for(let i=0;i<e.length;++i){let s=e[i];if(s==="{"){let n="";for(;i+1<e.length&&e[i+1]==="{";)n+="{",++i;t.push(r),r=n}else r+=s}return t.push(r),t};Ur.wrap=function(e,t){return t?t.length===1?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e};Ur.stringify=function(e,t,r){let i=typeof e;if(e===null)return"null";if(i==="string")return e;if(i==="number"||i==="function"||i==="symbol")return e.toString();if(i!=="object")return JSON.stringify(e);if(e instanceof Date)return Ur.Template.date(e,t);if(e instanceof Map){let n=[];for(let[a,o]of e.entries())n.push(`${a.toString()} -> ${o.toString()}`);e=n}if(!Array.isArray(e))return e.toString();let s="";for(let n of e)s=s+(s.length?", ":"")+Ur.stringify(n,t,r);return Ur.wrap(s,t.errors.wrap.array)};Ur.constants={true:!0,false:!1,null:null,second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3};Ur.functions={if(e,t,r){return e?t:r},msg(e){let[t,r,i,s,n]=this,a=n.messages;if(!a)return"";let o=u7.template(t,a[0],e,r,i)||u7.template(t,a[1],e,r,i);return o?o.render(t,r,i,s,n):""},number(e){return typeof e=="number"?e:typeof e=="string"?parseFloat(e):typeof e=="boolean"?e?1:0:e instanceof Date?e.getTime():null}}}),fg=O(E1=>{"use strict";var gd=dt(),f7=zr(),Pa=Ah();E1.compile=function(e,t){if(typeof e=="string")return gd(!t,"Cannot set single message string"),new Pa(e);if(Pa.isTemplate(e))return gd(!t,"Cannot set single message template"),e;gd(typeof e=="object"&&!Array.isArray(e),"Invalid message options"),t=t?f7(t):{};for(let r in e){let i=e[r];if(r==="root"||Pa.isTemplate(i)){t[r]=i;continue}if(typeof i=="string"){t[r]=new Pa(i);continue}gd(typeof i=="object"&&!Array.isArray(i),"Invalid message for",r);let s=r;t[s]=t[s]||{};for(r in i){let n=i[r];if(r==="root"||Pa.isTemplate(n)){t[s][r]=n;continue}gd(typeof n=="string","Invalid message for",r,"in",s),t[s][r]=new Pa(n)}}return t};E1.decompile=function(e){let t={};for(let r in e){let i=e[r];if(r==="root"){t[r]=i;continue}if(Pa.isTemplate(i)){t[r]=i.describe({compact:!0});continue}let s=r;t[s]={};for(r in i){let n=i[r];if(r==="root"){t[s][r]=n;continue}t[s][r]=n.describe({compact:!0})}}return t};E1.merge=function(e,t){if(!e)return E1.compile(t);if(!t)return e;if(typeof t=="string")return new Pa(t);if(Pa.isTemplate(t))return t;let r=f7(e);for(let i in t){let s=t[i];if(i==="root"||Pa.isTemplate(s)){r[i]=s;continue}if(typeof s=="string"){r[i]=new Pa(s);continue}gd(typeof s=="object"&&!Array.isArray(s),"Invalid message for",i);let n=i;r[n]=r[n]||{};for(i in s){let a=s[i];if(i==="root"||Pa.isTemplate(a)){r[n][i]=a;continue}gd(typeof a=="string","Invalid message for",i,"in",n),r[n][i]=new Pa(a)}}return r}}),Qr=O(en=>{"use strict";var Rx=dt(),cRe=Gv(),lRe=r7(),xk,Ek,uRe={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};en.version=lRe.version;en.defaults={abortEarly:!0,allowUnknown:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1};en.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),literal:Symbol("literal"),override:Symbol("override"),prefs:Symbol("prefs"),ref:Symbol("ref"),values:Symbol("values"),template:Symbol("template")};en.assertOptions=function(e,t,r="Options"){Rx(e&&typeof e=="object"&&!Array.isArray(e),"Options must be of type object");let i=Object.keys(e).filter(s=>!t.includes(s));Rx(i.length===0,`${r} contain unknown keys: ${i}`)};en.checkPreferences=function(e){Ek=Ek||Sx();let t=Ek.preferences.validate(e);if(t.error)throw new cRe([t.error.details[0].message])};en.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}};en.default=function(e,t){return e===void 0?t:e};en.isIsoDate=function(e){return uRe.isoDate.test(e)};en.isNumber=function(e){return typeof e=="number"&&!isNaN(e)};en.isResolvable=function(e){return e?e[en.symbols.ref]||e[en.symbols.template]:!1};en.isSchema=function(e,t={}){let r=e&&e[en.symbols.any];return r?(Rx(t.legacy||r.version===en.version,"Cannot mix different versions of joi schemas"),!0):!1};en.isValues=function(e){return e[en.symbols.values]};en.limit=function(e){return Number.isSafeInteger(e)&&e>=0};en.preferences=function(e,t){xk=xk||fg(),e=e||{},t=t||{};let r=Object.assign({},e,t);return t.errors&&e.errors&&(r.errors=Object.assign({},e.errors,t.errors),r.errors.wrap=Object.assign({},e.errors.wrap,t.errors.wrap)),t.messages&&(r.messages=xk.compile(t.messages,e.messages)),delete r[en.symbols.prefs],r};en.tryWithPath=function(e,t,r={}){try{return e()}catch(i){throw i.path!==void 0?i.path=t+"."+i.path:i.path=t,r.append&&(i.message=`${i.message} (${i.path})`),i}};en.validateArg=function(e,t,{assert:r,message:i}){if(en.isSchema(r)){let s=r.validate(e);return s.error?s.error.message:void 0}else if(!r(e))return t?`${t} ${i}`:i};en.verifyFlat=function(e,t){for(let r of e)Rx(!Array.isArray(r),"Method no longer accepts array arguments:",t)}}),Sk=O(h7=>{"use strict";var fRe=dt(),hRe=zr(),pRe=Qr(),hg={max:1e3,supported:new Set(["undefined","boolean","number","string"])};h7.provider={provision(e){return new hg.Cache(e)}};hg.Cache=class{constructor(e={}){pRe.assertOptions(e,["max"]),fRe(e.max===void 0||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||hg.max,this._map=new Map,this._list=new hg.List}get length(){return this._map.size}set(e,t){if(e!==null&&!hg.supported.has(typeof e))return;let r=this._map.get(e);if(r){r.value=t,this._list.first(r);return}r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){let t=this._map.get(e);if(t)return this._list.first(t),hRe(t.value)}_compact(){if(this._map.size>this._max){let e=this._list.pop();this._map.delete(e.key)}}};hg.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){if(e===this.head)return;this._remove(e),this.unshift(e)}pop(){return this._remove(this.tail)}_remove(e){let{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}}),yd=O(Hu=>{"use strict";var kn=dt(),Ia=Qr(),pg=Uu(),wo={};Hu.schema=function(e,t,r={}){Ia.assertOptions(r,["appendPath","override"]);try{return wo.schema(e,t,r)}catch(i){throw r.appendPath&&i.path!==void 0&&(i.message=`${i.message} (${i.path})`),i}};wo.schema=function(e,t,r){kn(t!==void 0,"Invalid undefined schema"),Array.isArray(t)&&(kn(t.length,"Invalid empty array schema"),t.length===1&&(t=t[0]));let i=(s,...n)=>r.override!==!1?s.valid(e.override,...n):s.valid(...n);if(wo.simple(t))return i(e,t);if(typeof t=="function")return e.custom(t);if(kn(typeof t=="object","Invalid schema content:",typeof t),Ia.isResolvable(t))return i(e,t);if(Ia.isSchema(t))return t;if(Array.isArray(t)){for(let s of t)if(!wo.simple(s))return e.alternatives().try(...t);return i(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?i(e.date(),t):(kn(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))};Hu.ref=function(e,t){return pg.isRef(e)?e:pg.create(e,t)};Hu.compile=function(e,t,r={}){Ia.assertOptions(r,["legacy"]);let i=t&&t[Ia.symbols.any];if(i)return kn(r.legacy||i.version===Ia.version,"Cannot mix different versions of joi schemas:",i.version,Ia.version),t;if(typeof t!="object"||!r.legacy)return Hu.schema(e,t,{appendPath:!0});let s=wo.walk(t);return s?s.compile(s.root,t):Hu.schema(e,t,{appendPath:!0})};wo.walk=function(e){if(typeof e!="object")return null;if(Array.isArray(e)){for(let r of e){let i=wo.walk(r);if(i)return i}return null}let t=e[Ia.symbols.any];if(t)return{root:e[t.root],compile:t.compile};kn(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(let r in e){let i=wo.walk(e[r]);if(i)return i}return null};wo.simple=function(e){return e===null||["boolean","string","number"].includes(typeof e)};Hu.when=function(e,t,r){if(r===void 0&&(kn(t&&typeof t=="object","Missing options"),r=t,t=pg.create(".")),Array.isArray(r)&&(r={switch:r}),Ia.assertOptions(r,["is","not","then","otherwise","switch","break"]),Ia.isSchema(t))return kn(r.is===void 0,'"is" can not be used with a schema condition'),kn(r.not===void 0,'"not" can not be used with a schema condition'),kn(r.switch===void 0,'"switch" can not be used with a schema condition'),wo.condition(e,{is:t,then:r.then,otherwise:r.otherwise,break:r.break});if(kn(pg.isRef(t)||typeof t=="string","Invalid condition:",t),kn(r.not===void 0||r.is===void 0,'Cannot combine "is" with "not"'),r.switch===void 0){let s=r;r.not!==void 0&&(s={is:r.not,then:r.otherwise,otherwise:r.then,break:r.break});let n=s.is!==void 0?e.$_compile(s.is):e.$_root.invalid(null,!1,0,"").required();return kn(s.then!==void 0||s.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),kn(s.break===void 0||s.then===void 0||s.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),r.is!==void 0&&!pg.isRef(r.is)&&!Ia.isSchema(r.is)&&(n=n.required()),wo.condition(e,{ref:Hu.ref(t),is:n,then:s.then,otherwise:s.otherwise,break:s.break})}kn(Array.isArray(r.switch),'"switch" must be an array'),kn(r.is===void 0,'Cannot combine "switch" with "is"'),kn(r.not===void 0,'Cannot combine "switch" with "not"'),kn(r.then===void 0,'Cannot combine "switch" with "then"');let i={ref:Hu.ref(t),switch:[],break:r.break};for(let s=0;s<r.switch.length;++s){let n=r.switch[s],a=s===r.switch.length-1;Ia.assertOptions(n,a?["is","then","otherwise"]:["is","then"]),kn(n.is!==void 0,'Switch statement missing "is"'),kn(n.then!==void 0,'Switch statement missing "then"');let o={is:e.$_compile(n.is),then:e.$_compile(n.then)};if(!pg.isRef(n.is)&&!Ia.isSchema(n.is)&&(o.is=o.is.required()),a){kn(r.otherwise===void 0||n.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let u=r.otherwise!==void 0?r.otherwise:n.otherwise;u!==void 0&&(kn(i.break===void 0,"Cannot specify both otherwise and break"),o.otherwise=e.$_compile(u))}i.switch.push(o)}return i};wo.condition=function(e,t){for(let r of["then","otherwise"])t[r]===void 0?delete t[r]:t[r]=e.$_compile(t[r]);return t}}),Rk=O(p7=>{"use strict";var Th=dt(),dRe=zr(),mRe=Qr(),gRe=fg(),yl={};p7.type=function(e,t){let r=Object.getPrototypeOf(e),i=dRe(r),s=e._assign(Object.create(i)),n=Object.assign({},t);delete n.base,i._definition=n;let a=r._definition||{};n.messages=gRe.merge(a.messages,n.messages),n.properties=Object.assign({},a.properties,n.properties),s.type=n.type,n.flags=Object.assign({},a.flags,n.flags);let o=Object.assign({},a.terms);if(n.terms)for(let f in n.terms){let x=n.terms[f];Th(s.$_terms[f]===void 0,"Invalid term override for",n.type,f),s.$_terms[f]=x.init,o[f]=x}n.terms=o,n.args||(n.args=a.args),n.prepare=yl.prepare(n.prepare,a.prepare),n.coerce&&(typeof n.coerce=="function"&&(n.coerce={method:n.coerce}),n.coerce.from&&!Array.isArray(n.coerce.from)&&(n.coerce={method:n.coerce.method,from:[].concat(n.coerce.from)})),n.coerce=yl.coerce(n.coerce,a.coerce),n.validate=yl.validate(n.validate,a.validate);let u=Object.assign({},a.rules);if(n.rules)for(let f in n.rules){let x=n.rules[f];Th(typeof x=="object","Invalid rule definition for",n.type,f);let T=x.method;if(T===void 0&&(T=function(){return this.$_addRule(f)}),T&&(Th(!i[f],"Rule conflict in",n.type,f),i[f]=T),Th(!u[f],"Rule conflict in",n.type,f),u[f]=x,x.alias){let q=[].concat(x.alias);for(let F of q)i[F]=x.method}x.args&&(x.argsByName=new Map,x.args=x.args.map(q=>(typeof q=="string"&&(q={name:q}),Th(!x.argsByName.has(q.name),"Duplicated argument name",q.name),mRe.isSchema(q.assert)&&(q.assert=q.assert.strict().label(q.name)),x.argsByName.set(q.name,q),q)))}n.rules=u;let d=Object.assign({},a.modifiers);if(n.modifiers)for(let f in n.modifiers){Th(!i[f],"Rule conflict in",n.type,f);let x=n.modifiers[f];Th(typeof x=="function","Invalid modifier definition for",n.type,f);let T=function(q){return this.rule({[f]:q})};i[f]=T,d[f]=x}if(n.modifiers=d,n.overrides){i._super=r,s.$_super={};for(let f in n.overrides)Th(r[f],"Cannot override missing",f),s.$_super[f]=r[f].bind(s);Object.assign(i,n.overrides)}n.cast=Object.assign({},a.cast,n.cast);let m=Object.assign({},a.manifest,n.manifest);return m.build=yl.build(n.manifest&&n.manifest.build,a.manifest&&a.manifest.build),n.manifest=m,n.rebuild=yl.rebuild(n.rebuild,a.rebuild),s};yl.build=function(e,t){return!e||!t?e||t:function(r,i){return t(e(r,i),i)}};yl.coerce=function(e,t){return!e||!t?e||t:{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,i){let s;if((!t.from||t.from.includes(typeof r))&&(s=t.method(r,i),s)){if(s.errors||s.value===void 0)return s;r=s.value}if(!e.from||e.from.includes(typeof r)){let n=e.method(r,i);if(n)return n}return s}}};yl.prepare=function(e,t){return!e||!t?e||t:function(r,i){let s=e(r,i);if(s){if(s.errors||s.value===void 0)return s;r=s.value}return t(r,i)||s}};yl.rebuild=function(e,t){return!e||!t?e||t:function(r){t(r),e(r)}};yl.validate=function(e,t){return!e||!t?e||t:function(r,i){let s=t(r,i);if(s){if(s.errors&&(!Array.isArray(s.errors)||s.errors.length))return s;r=s.value}return e(r,i)||s}}}),Ck=O(Ak=>{"use strict";var vl=dt(),Ax=zr(),vd=Qr(),yRe=fg(),d7=Uu(),vRe=Ah(),Tk,Ps={};Ak.describe=function(e){let t=e._definition,r={type:e.type,flags:{},rules:[]};for(let i in e._flags)i[0]!=="_"&&(r.flags[i]=Ps.describe(e._flags[i]));Object.keys(r.flags).length||delete r.flags,e._preferences&&(r.preferences=Ax(e._preferences,{shallow:["messages"]}),delete r.preferences[vd.symbols.prefs],r.preferences.messages&&(r.preferences.messages=yRe.decompile(r.preferences.messages))),e._valids&&(r.allow=e._valids.describe()),e._invalids&&(r.invalid=e._invalids.describe());for(let i of e._rules){let s=t.rules[i.name];if(s.manifest===!1)continue;let n={name:i.name};for(let a in t.modifiers)i[a]!==void 0&&(n[a]=Ps.describe(i[a]));if(i.args){n.args={};for(let a in i.args){let o=i.args[a];if(a==="options"&&!Object.keys(o).length)continue;n.args[a]=Ps.describe(o,{assign:a})}Object.keys(n.args).length||delete n.args}r.rules.push(n)}r.rules.length||delete r.rules;for(let i in e.$_terms){if(i[0]==="_")continue;vl(!r[i],"Cannot describe schema due to internal name conflict with",i);let s=e.$_terms[i];if(!s)continue;if(s instanceof Map){s.size&&(r[i]=[...s.entries()]);continue}if(vd.isValues(s)){r[i]=s.describe();continue}vl(t.terms[i],"Term",i,"missing configuration");let n=t.terms[i].manifest,a=typeof n=="object";if(!s.length&&!a)continue;let o=[];for(let u of s)o.push(Ps.describe(u));if(a){let{from:u,to:d}=n.mapped;r[i]={};for(let m of o)r[i][m[d]]=m[u];continue}if(n==="single"){vl(o.length===1,"Term",i,"contains more than one item"),r[i]=o[0];continue}r[i]=o}return Ps.validate(e.$_root,r),r};Ps.describe=function(e,t={}){if(Array.isArray(e))return e.map(Ps.describe);if(e===vd.symbols.deepDefault)return{special:"deep"};if(typeof e!="object"||e===null)return e;if(t.assign==="options")return Ax(e);if(Buffer&&Buffer.isBuffer(e))return{buffer:e.toString("binary")};if(e instanceof Date)return e.toISOString();if(e instanceof Error)return e;if(e instanceof RegExp)return t.assign==="regex"?e.toString():{regex:e.toString()};if(e[vd.symbols.literal])return{function:e.literal};if(typeof e.describe=="function")return t.assign==="ref"?e.describe().ref:e.describe();let r={};for(let i in e){let s=e[i];if(s===void 0)continue;r[i]=Ps.describe(s,{assign:i})}return r};Ak.build=function(e,t){let r=new Ps.Builder(e);return r.parse(t)};Ps.Builder=class{constructor(e){this.joi=e}parse(e){Ps.validate(this.joi,e);let t=this.joi[e.type](),r=t._definition;if(e.flags)for(let s in e.flags){let n=r.flags[s]&&r.flags[s].setter||s;vl(typeof t[n]=="function","Invalid flag",s,"for type",e.type),t=t[n](this.build(e.flags[s]))}if(e.preferences&&(t=t.preferences(this.build(e.preferences))),e.allow&&(t=t.allow(...this.build(e.allow))),e.invalid&&(t=t.invalid(...this.build(e.invalid))),e.rules)for(let s of e.rules){vl(typeof t[s.name]=="function","Invalid rule",s.name,"for type",e.type);let n=[];if(s.args){let o={};for(let m in s.args)o[m]=this.build(s.args[m],{assign:m});let u=Object.keys(o),d=r.rules[s.name].args;if(d){vl(u.length<=d.length,"Invalid number of arguments for",e.type,s.name,"(expected up to",d.length,", found",u.length,")");for(let{name:m}of d)n.push(o[m])}else vl(u.length===1,"Invalid number of arguments for",e.type,s.name,"(expected up to 1, found",u.length,")"),n.push(o[u[0]])}t=t[s.name](...n);let a={};for(let o in r.modifiers)s[o]!==void 0&&(a[o]=this.build(s[o]));Object.keys(a).length&&(t=t.rule(a))}let i={};for(let s in e){if(["allow","flags","invalid","whens","preferences","rules","type"].includes(s))continue;vl(r.terms[s],"Term",s,"missing configuration");let n=r.terms[s].manifest;if(n==="schema"){i[s]=e[s].map(a=>this.parse(a));continue}if(n==="values"){i[s]=e[s].map(a=>this.build(a));continue}if(n==="single"){i[s]=this.build(e[s]);continue}if(typeof n=="object"){i[s]={};for(let a in e[s]){let o=e[s][a];i[s][a]=this.parse(o)}continue}i[s]=this.build(e[s])}return e.whens&&(i.whens=e.whens.map(s=>this.build(s))),t=r.manifest.build(t,i),t.$_temp.ruleset=!1,t}build(e,t={}){if(e===null)return null;if(Array.isArray(e))return e.map(i=>this.build(i));if(e instanceof Error)return e;if(t.assign==="options")return Ax(e);if(t.assign==="regex")return Ps.regex(e);if(t.assign==="ref")return d7.build(e);if(typeof e!="object")return e;if(Object.keys(e).length===1){if(e.buffer)return vl(Buffer,"Buffers are not supported"),Buffer&&Buffer.from(e.buffer,"binary");if(e.function)return{[vd.symbols.literal]:!0,literal:e.function};if(e.override)return vd.symbols.override;if(e.ref)return d7.build(e.ref);if(e.regex)return Ps.regex(e.regex);if(e.special)return vl(["deep"].includes(e.special),"Unknown special value",e.special),vd.symbols.deepDefault;if(e.value)return Ax(e.value)}if(e.type)return this.parse(e);if(e.template)return vRe.build(e);let r={};for(let i in e)r[i]=this.build(e[i],{assign:i});return r}};Ps.regex=function(e){let t=e.lastIndexOf("/"),r=e.slice(1,t),i=e.slice(t+1);return new RegExp(r,i)};Ps.validate=function(e,t){Tk=Tk||Sx(),e.assert(t,Tk.description)}}),g7=O(m7=>{"use strict";m7.location=function(e=0){let t=Error.prepareStackTrace;Error.prepareStackTrace=(s,n)=>n;let r={};Error.captureStackTrace(r,this);let i=r.stack[e+1];return Error.prepareStackTrace=t,{filename:i.getFileName(),line:i.getLineNumber()}}}),kk=O(Ok=>{"use strict";var y7=al(),v7=g7(),_Re=Bu(),is={codes:{error:1,pass:2,full:3},labels:{0:"never used",1:"always error",2:"always pass"}};Ok.setup=function(e){let t=function(){return e._tracer=e._tracer||new is.Tracer,e._tracer};e.trace=t,e[Symbol.for("@hapi/lab/coverage/initialize")]=t,e.untrace=()=>{e._tracer=null}};Ok.location=function(e){return e.$_setFlag("_tracerLocation",v7.location(2))};is.Tracer=class{constructor(){this.name="Joi",this._schemas=new Map}_register(e){let t=this._schemas.get(e);if(t)return t.store;let r=new is.Store(e),{filename:i,line:s}=e._flags._tracerLocation||v7.location(5);return this._schemas.set(e,{filename:i,line:s,store:r}),r}_combine(e,t){for(let{store:r}of this._schemas.values())r._combine(e,t)}report(e){let t=[];for(let{filename:r,line:i,store:s}of this._schemas.values()){if(e&&e!==r)continue;let n=[],a=[];for(let[o,u]of s._sources.entries()){if(is.sub(u.paths,a))continue;if(!u.entry){n.push({status:"never reached",paths:[...u.paths]}),a.push(...u.paths);continue}for(let m of["valid","invalid"]){let f=o[`_${m}s`];if(!f)continue;let x=new Set(f._values),T=new Set(f._refs);for(let{value:q,ref:F}of u[m])x.delete(q),T.delete(F);(x.size||T.size)&&n.push({status:[...x,...[...T].map(q=>q.display)],rule:`${m}s`})}let d=o._rules.map(m=>m.name);for(let m of["default","failover"])o._flags[m]!==void 0&&d.push(m);for(let m of d){let f=is.labels[u.rule[m]||0];if(f){let x={rule:m,status:f};u.paths.size&&(x.paths=[...u.paths]),n.push(x)}}}n.length&&t.push({filename:r,line:i,missing:n,severity:"error",message:`Schema missing tests for ${n.map(is.message).join(", ")}`})}return t.length?t:null}};is.Store=class{constructor(e){this.active=!0,this._sources=new Map,this._combos=new Map,this._scan(e)}debug(e,t,r,i){e.mainstay.debug&&e.mainstay.debug.push({type:t,name:r,result:i,path:e.path})}entry(e,t){is.debug(t,{type:"entry"}),this._record(e,r=>{r.entry=!0})}filter(e,t,r,i){is.debug(t,{type:r,...i}),this._record(e,s=>{s[r].add(i)})}log(e,t,r,i,s){is.debug(t,{type:r,name:i,result:s==="full"?"pass":s}),this._record(e,n=>{n[r][i]=n[r][i]||0,n[r][i]|=is.codes[s]})}resolve(e,t,r){if(!e.mainstay.debug)return;let i={type:"resolve",ref:t.display,to:r,path:e.path};e.mainstay.debug.push(i)}value(e,t,r,i,s){if(!e.mainstay.debug||y7(r,i))return;let n={type:"value",by:t,from:r,to:i,path:e.path};s&&(n.name=s),e.mainstay.debug.push(n)}_record(e,t){let r=this._sources.get(e);if(r){t(r);return}let i=this._combos.get(e);for(let s of i)this._record(s,t)}_scan(e,t){let r=t||[],i=this._sources.get(e);i||(i={paths:new Set,entry:!1,rule:{},valid:new Set,invalid:new Set},this._sources.set(e,i)),r.length&&i.paths.add(r);let s=(n,a)=>{let o=is.id(n,a);this._scan(n,r.concat(o))};e.$_modify({each:s,ref:!1})}_combine(e,t){this._combos.set(e,t)}};is.message=function(e){let t=e.paths?_Re.path(e.paths[0])+(e.rule?":":""):"";return`${t}${e.rule||""} (${e.status})`};is.id=function(e,{source:t,name:r,path:i,key:s}){return e._flags.id?e._flags.id:s||(r=`@${r}`,t==="terms"?[r,i[Math.min(i.length-1,1)]]:r)};is.sub=function(e,t){for(let r of e)for(let i of t)if(y7(r.slice(0,i.length),i))return!0;return!1};is.debug=function(e,t){e.mainstay.debug&&(t.path=e.debug?[...e.path,e.debug]:e.path,e.mainstay.debug.push(t))}}),_7=O(Tx=>{"use strict";var Gu=dt(),Pk=Qr(),wRe=Uu(),_l={};Tx.Ids=_l.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let e=new _l.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(let[t,r]of e._byId.entries())Gu(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(let[t,r]of e._byKey.entries())Gu(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){let i=this._collect(e);i.push({schema:r});let s=i.shift(),n={id:s.id,schema:t(s.schema)};Gu(Pk.isSchema(n.schema),"adjuster function failed to return a joi schema type");for(let a of i)n={id:a.id,schema:_l.fork(a.schema,n.id,n.schema)};return n.schema}labels(e,t=[]){let r=e[0],i=this._get(r);if(!i)return[...t,...e].join(".");let s=e.slice(1);return t=[...t,i.schema._flags.label||r],s.length?i.schema._ids.labels(s,t):t.join(".")}reach(e,t=[]){let r=e[0],i=this._get(r);Gu(i,"Schema does not contain path",[...t,...e].join("."));let s=e.slice(1);return s.length?i.schema._ids.reach(s,[...t,r]):i.schema}register(e,{key:t}={}){if(!e||!Pk.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);let r=e._flags.id;if(r){let i=this._byId.get(r);Gu(!i||i.schema===e,"Cannot add different schemas with the same id:",r),Gu(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(Gu(!this._byKey.has(t),"Schema already contains key:",t),Gu(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],r=[]){let i=e[0],s=this._get(i);Gu(s,"Schema does not contain path",[...t,...e].join(".")),r=[s,...r];let n=e.slice(1);return n.length?s.schema._ids._collect(n,[...t,i],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}};_l.fork=function(e,t,r){let i=(n,{key:a})=>{if(t===(n._flags.id||a))return r},s=Tx.schema(e,{each:i,ref:!1});return s?s.$_mutateRebuild():e};Tx.schema=function(e,t){let r;for(let i in e._flags){if(i[0]==="_")continue;let s=_l.scan(e._flags[i],{source:"flags",name:i},t);s!==void 0&&(r=r||e.clone(),r._flags[i]=s)}for(let i=0;i<e._rules.length;++i){let s=e._rules[i],n=_l.scan(s.args,{source:"rules",name:s.name},t);if(n!==void 0){r=r||e.clone();let a=Object.assign({},s);a.args=n,r._rules[i]=a;let o=r._singleRules.get(s.name);o===s&&r._singleRules.set(s.name,a)}}for(let i in e.$_terms){if(i[0]==="_")continue;let s=_l.scan(e.$_terms[i],{source:"terms",name:i},t);s!==void 0&&(r=r||e.clone(),r.$_terms[i]=s)}return r};_l.scan=function(e,t,r,i,s){let n=i||[];if(e===null||typeof e!="object")return;let a;if(Array.isArray(e)){for(let o=0;o<e.length;++o){let u=t.source==="terms"&&t.name==="keys"&&e[o].key,d=_l.scan(e[o],t,r,[o,...n],u);d!==void 0&&(a=a||e.slice(),a[o]=d)}return a}if(r.schema!==!1&&Pk.isSchema(e)||r.ref!==!1&&wRe.isRef(e)){let o=r.each(e,{...t,path:n,key:s});return o===e?void 0:o}for(let o in e){if(o[0]==="_")continue;let u=_l.scan(e[o],t,r,[o,...n],s);u!==void 0&&(a=a||Object.assign({},e),a[o]=u)}return a}}),x7=O((vJe,w7)=>{"use strict";var bRe=zr(),b7=so(),xRe=Qr(),wl={value:Symbol("value")};w7.exports=wl.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e,t=null,r=null){let i=new wl.State(e,t,this);return r&&i.schemas&&(i.schemas=[wl.schemas(r),...i.schemas]),i}nest(e,t){let r=new wl.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[wl.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new wl.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=bRe(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}};wl.schemas=function(e){return xRe.isSchema(e)?{schema:e}:e};wl.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length)return;if(r==="strip"&&typeof e[e.length-1]=="number")return;this._values=this._values||new Map;let i=this._values;for(let s=0;s<e.length;++s){let n=e[s],a=i.get(n);a||(a=new Map,i.set(n,a)),i=a}i[wl.value]=t}get(e){let t=this.node(e);if(t)return t[wl.value]}node(e){return this._values?b7(this._values,e,{iterables:!0}):void 0}override(e,t){if(!this._values)return;let r=e.slice(0,-1),i=e[e.length-1],s=b7(this._values,r,{iterables:!0});if(t){s.set(i,t);return}s&&s.delete(i)}}}),S7=O(S1=>{"use strict";var Cx=dt(),E7=zr(),dg=Ab(),ERe=so(),ss=Qr(),_d=Bu(),SRe=x7(),nr={result:Symbol("result")};S1.entry=function(e,t,r){let i=ss.defaults;r&&(Cx(r.warnings===void 0,"Cannot override warnings preference in synchronous validation"),i=ss.preferences(ss.defaults,r));let s=nr.entry(e,t,i);Cx(!s.mainstay.externals.length,"Schema with external rules must use validateAsync()");let n={value:s.value};return s.error&&(n.error=s.error),s.mainstay.warnings.length&&(n.warning=_d.details(s.mainstay.warnings)),s.mainstay.debug&&(n.debug=s.mainstay.debug),n};S1.entryAsync=async function(e,t,r){let i=ss.defaults;r&&(i=ss.preferences(ss.defaults,r));let s=nr.entry(e,t,i),n=s.mainstay;if(s.error)throw n.debug&&(s.error.debug=n.debug),s.error;if(n.externals.length){let o=s.value;for(let{method:u,path:d,label:m}of n.externals){let f=o,x,T;d.length&&(x=d[d.length-1],T=ERe(o,d.slice(0,-1)),f=T[x]);try{let q=await u(f);if(q===void 0||q===f)continue;T?T[x]=q:o=q}catch(q){throw q.message+=` (${m})`,q}}s.value=o}if(!i.warnings&&!i.debug)return s.value;let a={value:s.value};return n.warnings.length&&(a.warning=_d.details(n.warnings)),n.debug&&(a.debug=n.debug),a};nr.entry=function(e,t,r){let{tracer:i,cleanup:s}=nr.tracer(t,r),n=r.debug?[]:null,a=t._ids._schemaChain?new Map:null,o={externals:[],warnings:[],tracer:i,debug:n,links:a},u=t._ids._schemaChain?[{schema:t}]:null,d=new SRe([],[],{mainstay:o,schemas:u}),m=S1.validate(e,t,d,r);s&&t.$_root.untrace();let f=_d.process(m.errors,e,r);return{value:m.value,error:f,mainstay:o}};nr.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(Cx(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:nr.ignore}};S1.validate=function(e,t,r,i,s={}){if(t.$_terms.whens&&(t=t._generate(e,r,i).schema),t._preferences&&(i=nr.prefs(t,i)),t._cache&&i.cache){let f=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!f),f)return f}let n=(f,x,T)=>t.$_createError(f,e,x,T||r,i),a={original:e,prefs:i,schema:t,state:r,error:n,warn:(f,x,T)=>r.mainstay.warnings.push(n(f,x,T)),message:(f,x)=>t.$_createError("custom",e,x,r,i,{messages:f})};r.mainstay.tracer.entry(t,r);let o=t._definition;if(o.prepare&&e!==void 0&&i.convert){let f=o.prepare(e,a);if(f){if(r.mainstay.tracer.value(r,"prepare",e,f.value),f.errors)return nr.finalize(f.value,[].concat(f.errors),a);e=f.value}}if(o.coerce&&e!==void 0&&i.convert&&(!o.coerce.from||o.coerce.from.includes(typeof e))){let f=o.coerce.method(e,a);if(f){if(r.mainstay.tracer.value(r,"coerced",e,f.value),f.errors)return nr.finalize(f.value,[].concat(f.errors),a);e=f.value}}let u=t._flags.empty;u&&u.$_match(nr.trim(e,t),r.nest(u),ss.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);let d=s.presence||t._flags.presence||(t._flags._endedSwitch?"ignore":i.presence);if(e===void 0){if(d==="forbidden")return nr.finalize(e,null,a);if(d==="required")return nr.finalize(e,[t.$_createError("any.required",e,null,r,i)],a);if(d==="optional"){if(t._flags.default!==ss.symbols.deepDefault)return nr.finalize(e,null,a);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if(d==="forbidden")return nr.finalize(e,[t.$_createError("any.unknown",e,null,r,i)],a);let m=[];if(t._valids){let f=t._valids.get(e,r,i,t._flags.insensitive);if(f)return i.convert&&(r.mainstay.tracer.value(r,"valids",e,f.value),e=f.value),r.mainstay.tracer.filter(t,r,"valid",f),nr.finalize(e,null,a);if(t._flags.only){let x=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,i);if(i.abortEarly)return nr.finalize(e,[x],a);m.push(x)}}if(t._invalids){let f=t._invalids.get(e,r,i,t._flags.insensitive);if(f){r.mainstay.tracer.filter(t,r,"invalid",f);let x=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,i);if(i.abortEarly)return nr.finalize(e,[x],a);m.push(x)}}if(o.validate){let f=o.validate(e,a);if(f&&(r.mainstay.tracer.value(r,"base",e,f.value),e=f.value,f.errors)){if(!Array.isArray(f.errors))return m.push(f.errors),nr.finalize(e,m,a);if(f.errors.length)return m.push(...f.errors),nr.finalize(e,m,a)}}return t._rules.length?nr.rules(e,m,a):nr.finalize(e,m,a)};nr.rules=function(e,t,r){let{schema:i,state:s,prefs:n}=r;for(let a of i._rules){let o=i._definition.rules[a.method];if(o.convert&&n.convert){s.mainstay.tracer.log(i,s,"rule",a.name,"full");continue}let u,d=a.args;if(a._resolve.length){d=Object.assign({},d);for(let f of a._resolve){let x=o.argsByName.get(f),T=d[f].resolve(e,s,n),q=x.normalize?x.normalize(T):T,F=ss.validateArg(q,null,x);if(F){u=i.$_createError("any.ref",T,{arg:f,ref:d[f],reason:F},s,n);break}d[f]=q}}u=u||o.validate(e,r,d,a);let m=nr.rule(u,a);if(m.errors){if(s.mainstay.tracer.log(i,s,"rule",a.name,"error"),a.warn){s.mainstay.warnings.push(...m.errors);continue}if(n.abortEarly)return nr.finalize(e,m.errors,r);t.push(...m.errors)}else s.mainstay.tracer.log(i,s,"rule",a.name,"pass"),s.mainstay.tracer.value(s,"rule",e,m.value,a.name),e=m.value}return nr.finalize(e,t,r)};nr.rule=function(e,t){return e instanceof _d.Report?(nr.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&(e[0]instanceof _d.Report||e[0]instanceof Error)?(e.forEach(r=>nr.error(r,t)),{errors:e,value:null}):{errors:null,value:e}};nr.error=function(e,t){return t.message&&e._setTemplate(t.message),e};nr.finalize=function(e,t,r){t=t||[];let{schema:i,state:s,prefs:n}=r;if(t.length){let o=nr.default("failover",void 0,t,r);o!==void 0&&(s.mainstay.tracer.value(s,"failover",e,o),e=o,t=[])}if(t.length&&i._flags.error)if(typeof i._flags.error=="function"){t=i._flags.error(t),Array.isArray(t)||(t=[t]);for(let o of t)Cx(o instanceof Error||o instanceof _d.Report,"error() must return an Error object")}else t=[i._flags.error];if(e===void 0){let o=nr.default("default",e,t,r);s.mainstay.tracer.value(s,"default",e,o),e=o}if(i._flags.cast&&e!==void 0){let o=i._definition.cast[i._flags.cast];if(o.from(e)){let u=o.to(e,r);s.mainstay.tracer.value(s,"cast",e,u,i._flags.cast),e=u}}if(i.$_terms.externals&&n.externals&&n._externals!==!1)for(let{method:o}of i.$_terms.externals)s.mainstay.externals.push({method:o,path:s.path,label:_d.label(i._flags,s,n)});let a={value:e,errors:t.length?t:null};return i._flags.result&&(a.value=i._flags.result==="strip"?void 0:r.original,s.mainstay.tracer.value(s,i._flags.result,e,a.value),s.shadow(e,i._flags.result)),i._cache&&n.cache!==!1&&!i._refs.length&&i._cache.set(r.original,a),a};nr.prefs=function(e,t){let r=t===ss.defaults;return r&&e._preferences[ss.symbols.prefs]?e._preferences[ss.symbols.prefs]:(t=ss.preferences(t,e._preferences),r&&(e._preferences[ss.symbols.prefs]=t),t)};nr.default=function(e,t,r,i){let{schema:s,state:n,prefs:a}=i,o=s._flags[e];if(a.noDefaults||o===void 0)return t;if(n.mainstay.tracer.log(s,n,"rule",e,"full"),!o)return o;if(typeof o=="function"){let u=o.length?[E7(n.ancestors[0]),i]:[];try{return o(...u)}catch(d){r.push(s.$_createError(`any.${e}`,null,{error:d},n,a));return}}return typeof o!="object"?o:o[ss.symbols.literal]?o.literal:ss.isResolvable(o)?o.resolve(t,n,a):E7(o)};nr.trim=function(e,t){if(typeof e!="string")return e;let r=t.$_getRule("trim");return!r||!r.args.enabled?e:e.trim()};nr.ignore={active:!1,debug:dg,entry:dg,filter:dg,log:dg,resolve:dg,value:dg}}),qk=O((wJe,R7)=>{"use strict";var RRe=dt(),A7=al(),Ik=Qr(),zu={};R7.exports=zu.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=zu.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){if(Ik.isResolvable(e)){this._refs.has(e)||(this._refs.add(e),t&&t.register(e));return}this.has(e,null,null,!1)||(this._values.add(e),typeof e=="string"&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new zu.Values,t){if(t._override)return t.clone();for(let i of[...t._values,...t._refs])e.add(i)}if(r)for(let i of[...r._values,...r._refs])e.remove(i);return e.length?e:null}remove(e){if(Ik.isResolvable(e)){this._refs.delete(e);return}this._values.delete(e),typeof e=="string"&&this._lowercase.delete(e.toLowerCase())}has(e,t,r,i){return!!this.get(e,t,r,i)}get(e,t,r,i){if(!this.length)return!1;if(this._values.has(e))return{value:e};if(typeof e=="string"&&e&&i){let s=this._lowercase.get(e.toLowerCase());if(s)return{value:s}}if(!this._refs.size&&typeof e!="object")return!1;if(typeof e=="object"){for(let s of this._values)if(A7(s,e))return{value:s}}if(t)for(let s of this._refs){let n=s.resolve(e,t,r,null,{in:!0});if(n===void 0)continue;let a=!s.in||typeof n!="object"?[n]:Array.isArray(n)?n:Object.keys(n);for(let o of a){if(typeof o!==typeof e)continue;if(i&&e&&typeof e=="string"){if(o.toLowerCase()===e.toLowerCase())return{value:o,ref:s}}else if(A7(o,e))return{value:o,ref:s}}}return!1}override(){this._override=!0}values(e){if(e&&e.display){let t=[];for(let r of[...this._values,...this._refs])r!==void 0&&t.push(r);return t}return Array.from([...this._values,...this._refs])}clone(){let e=new zu.Values(this._values,this._refs);return e._override=this._override,e}concat(e){RRe(!e._override,"Cannot concat override set of values");let t=new zu.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){let e=[];this._override&&e.push({override:!0});for(let t of this._values.values())e.push(t&&typeof t=="object"?{value:t}:t);for(let t of this._refs.values())e.push(t.describe());return e}};zu.Values.prototype[Ik.symbols.values]=!0;zu.Values.prototype.slice=zu.Values.prototype.clone;zu.lowercases=function(e){let t=new Map;if(e)for(let r of e)typeof r=="string"&&t.set(r.toLowerCase(),r);return t}}),N7=O((bJe,T7)=>{"use strict";var ht=dt(),C7=zr(),O7=al(),Nk=zv(),ARe=Sk(),Zn=Qr(),Mk=yd(),TRe=Bu(),CRe=Rk(),k7=Ck(),ORe=fg(),P7=_7(),I7=Uu(),q7=kk(),Ox=S7(),kx=qk(),Si={};Si.Base=class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._ids=new P7.Ids,this._preferences=null,this._refs=new I7.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return ht(typeof k7.describe=="function","Manifest functionality disabled"),k7.describe(this)}allow(...e){return Zn.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){ht(e&&typeof e=="object"&&!Array.isArray(e),"Invalid targets argument"),ht(!this._inRuleset(),"Cannot set alterations inside a ruleset");let t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(let r in e){let i=e[r];ht(typeof i=="function","Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}cast(e){return ht(e===!1||typeof e=="string","Invalid to value"),ht(e===!1||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",e===!1?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return ht(e&&typeof e=="string","Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){let t=this.clone();return e!==void 0&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return ht(e,"Missing error"),ht(e instanceof Error||typeof e=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return ht(e!==void 0,"Missing example"),Zn.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return typeof e=="object"&&(ht(!t,"Cannot combine options with description"),t=e.description,e=e.method),ht(typeof e=="function","Method must be a function"),ht(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(ht(typeof e=="string","id must be a non-empty string"),ht(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return ht(e&&typeof e=="string","Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return ht(e!==void 0,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){ht(e.length,"Missing notes");for(let t of e)ht(t&&typeof t=="string","Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return ht(typeof e=="boolean","Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){ht(e,"Missing preferences"),ht(e.context===void 0,"Cannot override context"),ht(e.externals===void 0,"Cannot override externals"),ht(e.warnings===void 0,"Cannot override warnings"),ht(e.debug===void 0,"Cannot override debug"),Zn.checkPreferences(e);let t=this.clone();return t._preferences=Zn.preferences(t._preferences,e),t}presence(e){return ht(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return ht(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){let t=this.clone(),r=e===void 0?!1:!e;return t._preferences=Zn.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){ht(e.length,"Missing tags");for(let t of e)ht(t&&typeof t=="string","Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return ht(e&&typeof e=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){Zn.verifyFlat(e,"valid");let t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){let r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);let i=Mk.when(r,e,t);if(!["any","link"].includes(r.type)){let s=i.is?[i]:i.switch;for(let n of s)ht(!n.then||n.then.type==="any"||n.then.type===r.type,"Cannot combine",r.type,"with",n.then&&n.then.type),ht(!n.otherwise||n.otherwise.type==="any"||n.otherwise.type===r.type,"Cannot combine",r.type,"with",n.otherwise&&n.otherwise.type)}return r.$_terms.whens.push(i),r.$_mutateRebuild()}cache(e){ht(!this._inRuleset(),"Cannot set caching inside a ruleset"),ht(!this._cache,"Cannot override schema cache");let t=this.clone();return t._cache=e||ARe.provider.provision(),t.$_temp.ruleset=!1,t}clone(){let e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){ht(Zn.isSchema(e),"Invalid schema object"),ht(this.type==="any"||e.type==="any"||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),ht(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),ht(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if(this.type==="any"&&e.type!=="any"){let r=e.clone();for(let i of Object.keys(t))i!=="type"&&(r[i]=t[i]);t=r}t._ids.concat(e._ids),t._refs.register(e,I7.toSibling),t._preferences=t._preferences?Zn.preferences(t._preferences,e._preferences):e._preferences,t._valids=kx.merge(t._valids,e._valids,e._invalids),t._invalids=kx.merge(t._invalids,e._invalids,e._valids);for(let r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter(i=>i.keep||i.name!==r),t._singleRules.delete(r));for(let r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);let r=Object.assign({},e._flags);delete r.empty,Nk(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;let r=Object.assign({},e._flags);delete r.empty,Nk(t._flags,r)}else Nk(t._flags,e._flags);for(let r in e.$_terms){let i=e.$_terms[r];if(!i){t.$_terms[r]||(t.$_terms[r]=i);continue}if(!t.$_terms[r]){t.$_terms[r]=i.slice();continue}t.$_terms[r]=t.$_terms[r].concat(i)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return ht(!e.base,"Cannot extend type with another base"),CRe.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){ht(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let i of[].concat(e))i=Array.isArray(i)?i:i.split("."),r=r._ids.fork(i,t,r);return r.$_temp.ruleset=!1,r}rule(e){let t=this._definition;Zn.assertOptions(e,Object.keys(t.modifiers)),ht(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");let r=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;ht(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");let i=this.clone();for(let s=r;s<i._rules.length;++s){let n=i._rules[s],a=C7(n);for(let o in e)t.modifiers[o](a,e[o]),ht(a.name===n.name,"Cannot change rule name");i._rules[s]=a,i._singleRules.get(a.name)===n&&i._singleRules.set(a.name,a)}return i.$_temp.ruleset=!1,i.$_mutateRebuild()}get ruleset(){ht(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");let e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),ht(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(let{target:r,adjuster:i}of this.$_terms.alterations)e.includes(r)&&(t=i(t),ht(Zn.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:r=>r.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return q7.location?q7.location(this):this}validate(e,t){return Ox.entry(e,this,t)}validateAsync(e,t){return Ox.entryAsync(e,this,t)}$_addRule(e){typeof e=="string"&&(e={name:e}),ht(e&&typeof e=="object","Invalid options"),ht(e.name&&typeof e.name=="string","Invalid rule name");for(let n in e)ht(n[0]!=="_","Cannot set private rule properties");let t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;let r=this._definition.rules[t.method],i=t.args;ht(r,"Unknown rule",t.method);let s=this.clone();if(i){ht(Object.keys(i).length===1||Object.keys(i).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(let n in i){let a=i[n];if(a===void 0){delete i[n];continue}if(r.argsByName){let o=r.argsByName.get(n);if(o.ref&&Zn.isResolvable(a))t._resolve.push(n),s.$_mutateRegister(a);else if(o.normalize&&(a=o.normalize(a),i[n]=a),o.assert){let u=Zn.validateArg(a,n,o);ht(!u,u,"or reference")}}i[n]=a}}return r.multi||(s._ruleRemove(t.name,{clone:!1}),s._singleRules.set(t.name,t)),s.$_temp.ruleset===!1&&(s.$_temp.ruleset=null),r.priority?s._rules.unshift(t):s._rules.push(t),s}$_compile(e,t){return Mk.schema(this.$_root,e,t)}$_createError(e,t,r,i,s,n={}){let a=n.flags!==!1?this._flags:{},o=n.messages?ORe.merge(this._definition.messages,n.messages):this._definition.messages;return new TRe.Report(e,t,r,a,o,i,s)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,i){r=Object.assign({},r),r.abortEarly=!0,r._externals=!1,t.snapshot();let s=!Ox.validate(e,this,t,r,i).errors;return t.restore(),s}$_modify(e){return Zn.assertOptions(e,["each","once","ref","schema"]),P7.schema(this,e)||this}$_mutateRebuild(){ht(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset();let e=(t,{source:r,name:i,path:s,key:n})=>{let a=this._definition[r][i]&&this._definition[r][i].register;a!==!1&&this.$_mutateRegister(t,{family:a,key:n})};return this.$_modify({each:e}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){ht(e[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");let i=this._definition.flags[e]||{};if(O7(t,i.default)&&(t=void 0),O7(t,this._flags[e]))return this;let s=r.clone!==!1?this.clone():this;return t!==void 0?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],e[0]!=="_"&&(s.$_temp.ruleset=!1),s}$_validate(e,t,r){return Ox.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=C7(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(let t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(let t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_default(e,t,r={}){Zn.assertOptions(r,"literal"),ht(t!==void 0,"Missing",e,"value"),ht(typeof t=="function"||!r.literal,"Only function value supports literal option"),typeof t=="function"&&r.literal&&(t={[Zn.symbols.literal]:!0,literal:t});let i=this.$_setFlag(e,t);return i}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};let i=[],s=[];for(let o=0;o<this.$_terms.whens.length;++o){let u=this.$_terms.whens[o];if(u.concat){i.push(u.concat),s.push(`${o}.concat`);continue}let d=u.ref?u.ref.resolve(e,t,r):e,m=u.is?[u]:u.switch,f=s.length;for(let x=0;x<m.length;++x){let{is:T,then:q,otherwise:F}=m[x],$=`${o}${u.switch?"."+x:""}`;if(T.$_match(d,t.nest(T,`${$}.is`),r)){if(q){let H=t.localize([...t.path,`${$}.then`],t.ancestors,t.schemas),{schema:oe,id:Q}=q._generate(e,H,r);i.push(oe),s.push(`${$}.then${Q?`(${Q})`:""}`);break}}else if(F){let H=t.localize([...t.path,`${$}.otherwise`],t.ancestors,t.schemas),{schema:oe,id:Q}=F._generate(e,H,r);i.push(oe),s.push(`${$}.otherwise${Q?`(${Q})`:""}`);break}}if(u.break&&s.length>f)break}let n=s.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",n),!n)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[n])return{schema:this.$_temp.whens[n],id:n};let a=this;this._definition.generate&&(a=this._definition.generate(this,e,t,r));for(let o of i)a=a.concat(o);return this.$_root._tracer&&this.$_root._tracer._combine(a,[this,...i]),this.$_temp.whens[n]=a,{schema:a,id:n}}_inner(e,t,r={}){ht(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);let i=this.clone();return(!i.$_terms[e]||r.override)&&(i.$_terms[e]=[]),r.single?i.$_terms[e].push(t):i.$_terms[e].push(...t),i.$_temp.ruleset=!1,i}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;let r=t.clone!==!1?this.clone():this;r._singleRules.delete(e);let i=[];for(let s=0;s<r._rules.length;++s){let n=r._rules[s];if(n.name===e&&!n.keep){r._inRuleset()&&s<r.$_temp.ruleset&&--r.$_temp.ruleset;continue}i.push(n)}return r._rules=i,r}_values(e,t){Zn.verifyFlat(e,t.slice(1,-1));let r=this.clone(),i=e[0]===Zn.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new kx:i&&(r[t]=e.length?new kx:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();for(let s of e){ht(s!==void 0,"Cannot call allow/valid/invalid with undefined"),ht(s!==Zn.symbols.override,"Override must be the first value");let n=t==="_invalids"?"_valids":"_invalids";r[n]&&(r[n].remove(s),r[n].length||(ht(t==="_valids"||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[n]=null)),r[t].add(s,r._refs)}return r}};Si.Base.prototype[Zn.symbols.any]={version:Zn.version,compile:Mk.compile,root:"$_root"};Si.Base.prototype.isImmutable=!0;Si.Base.prototype.deny=Si.Base.prototype.invalid;Si.Base.prototype.disallow=Si.Base.prototype.invalid;Si.Base.prototype.equal=Si.Base.prototype.valid;Si.Base.prototype.exist=Si.Base.prototype.required;Si.Base.prototype.not=Si.Base.prototype.invalid;Si.Base.prototype.options=Si.Base.prototype.prefs;Si.Base.prototype.preferences=Si.Base.prototype.prefs;T7.exports=new Si.Base}),bo=O((xJe,M7)=>{"use strict";var Px=dt(),kRe=N7(),PRe=Qr(),IRe=fg();M7.exports=kRe.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return Px(typeof e=="function","Method must be a function"),Px(t===void 0||t&&typeof t=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(i){return t.error("any.custom",{error:i})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){Px(PRe.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");let t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return Px(e&&typeof e=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate(e,t,{code:r,local:i}){return t.error(r,i)},args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=IRe.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(let r in t){let i=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){for(let s of i)e=e[r.slice(0,-1)](s);continue}if(r==="alterations"){let s={};for(let{target:n,adjuster:a}of i)s[n]=a;e=e.alter(s);continue}if(r==="whens"){for(let s of i){let{ref:n,is:a,not:o,then:u,otherwise:d,concat:m}=s;m?e=e.concat(m):n?e=e.when(n,{is:a,not:o,then:u,otherwise:d,switch:s.switch,break:s.break}):e=e.when(a,{then:u,otherwise:d,break:s.break})}continue}if(r==="shared")for(let s of i)e=e.shared(s)}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":'{{#label}} {{#arg}} references "{{#ref}}" which {{#reason}}',"any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})}),j7=O((EJe,L7)=>{"use strict";var wd=dt(),qRe=bo(),D7=Qr(),NRe=yd(),$7=Bu(),MRe=Uu(),mg={};L7.exports=qRe.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:MRe.toSibling}},args(e,...t){return t.length===1&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t)},validate(e,t){let{schema:r,error:i,state:s,prefs:n}=t;if(r._flags.match){let o=0,u;for(let d=0;d<r.$_terms.matches.length;++d){let m=r.$_terms.matches[d],f=s.nest(m.schema,`match.${d}`);f.snapshot();let x=m.schema.$_validate(e,f,n);x.errors?f.restore():(++o,u=x.value)}return o?r._flags.match==="one"?o===1?{value:u}:{errors:i("alternatives.one")}:o===r.$_terms.matches.length?{value:e}:{errors:i("alternatives.all")}:{errors:i("alternatives.any")}}let a=[];for(let o=0;o<r.$_terms.matches.length;++o){let u=r.$_terms.matches[o];if(u.schema){let f=s.nest(u.schema,`match.${o}`);f.snapshot();let x=u.schema.$_validate(e,f,n);if(!x.errors)return x;f.restore(),a.push({schema:u.schema,reports:x.errors});continue}let d=u.ref?u.ref.resolve(e,s,n):e,m=u.is?[u]:u.switch;for(let f=0;f<m.length;++f){let x=m[f],{is:T,then:q,otherwise:F}=x,$=`match.${o}${u.switch?"."+f:""}`;if(T.$_match(d,s.nest(T,`${$}.is`),n)){if(q)return q.$_validate(e,s.nest(q,`${$}.then`),n)}else if(F)return F.$_validate(e,s.nest(F,`${$}.otherwise`),n)}}return mg.errors(a,t)},rules:{conditional:{method(e,t){wd(!this._flags._endedSwitch,"Unreachable condition"),wd(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),wd(t.break===void 0,"Cannot use break option with alternatives conditional");let r=this.clone(),i=NRe.when(r,e,t),s=i.is?[i]:i.switch;for(let n of s)if(n.then&&n.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(i),r.$_mutateRebuild()}},match:{method(e){if(wd(["any","one","all"].includes(e),"Invalid alternatives match mode",e),e!=="any")for(let t of this.$_terms.matches)wd(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){wd(e.length,"Missing alternative schemas"),D7.verifyFlat(e,"try"),wd(!this._flags._endedSwitch,"Unreachable condition");let t=this.clone();for(let r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},overrides:{label(e){let t=this.$_super.label(e),r=(i,s)=>s.path[0]!=="is"?i.label(e):void 0;return t.$_modify({each:r,ref:!1})}},rebuild(e){let t=r=>{D7.isSchema(r)&&r.type==="array"&&e.$_setFlag("_arrayItems",!0,{clone:!1})};e.$_modify({each:t})},manifest:{build(e,t){if(t.matches)for(let r of t.matches){let{schema:i,ref:s,is:n,not:a,then:o,otherwise:u}=r;i?e=e.try(i):s?e=e.conditional(s,{is:n,then:o,not:a,otherwise:u,switch:r.switch}):e=e.conditional(n,{then:o,otherwise:u})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}});mg.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(e.length===1)return{errors:e[0].reports};let i=new Set,s=[];for(let{reports:n,schema:a}of e){if(n.length>1)return mg.unmatched(e,t);let o=n[0];if(o instanceof $7.Report===!1)return mg.unmatched(e,t);if(o.state.path.length!==r.path.length){s.push({type:a.type,report:o});continue}if(o.code==="any.only"){for(let m of o.local.valids)i.add(m);continue}let[u,d]=o.code.split(".");if(d!=="base"){s.push({type:a.type,report:o});continue}i.add(u)}return s.length?s.length===1?{errors:s[0].report}:mg.unmatched(e,t):{errors:t("alternatives.types",{types:[...i]})}};mg.unmatched=function(e,t){let r=[];for(let i of e)r.push(...i.reports);return{errors:t("alternatives.match",$7.details(r,{override:!1}))}}}),B7=O((SJe,F7)=>{"use strict";var R1=dt(),LRe=al(),DRe=so(),$Re=bo(),xo=Qr(),jRe=yd(),jn={};F7.exports=$Re.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:i}){if(!Array.isArray(e))return;let s=t.$_getRule("sort");return s?jn.sort(t,e,s.args.options,r,i):void 0}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){let i=[e];return i[xo.symbols.arraySingle]=!0,{value:i}}return{errors:r("array.base")}}return!t.$_getRule("items")&&!t.$_terms.externals?void 0:{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});let t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:i},{schema:s}){let n=[e,...t.ancestors];for(let o=0;o<e.length;++o){let u=t.localize([...t.path,o],n,s);if(s.$_match(e[o],u,r))return e}let a=s._flags.label;return a?i("array.hasKnown",{patternLabel:a}):i("array.hasUnknown",null)},multi:!0},items:{method(...e){xo.verifyFlat(e,"items");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let i=xo.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});t.$_terms.items.push(i)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:i,prefs:s}){let n=t.$_terms._requireds.slice(),a=t.$_terms.ordered.slice(),o=[...t.$_terms._inclusions,...n],u=!e[xo.symbols.arraySingle];delete e[xo.symbols.arraySingle];let d=[],m=e.length;for(let f=0;f<m;++f){let x=e[f],T=!1,q=!1,F=u?f:new Number(f),$=[...i.path,F];if(!t._flags.sparse&&x===void 0){if(d.push(r("array.sparse",{key:F,path:$,pos:f,value:void 0},i.localize($))),s.abortEarly)return d;a.shift();continue}let H=[e,...i.ancestors];for(let ve of t.$_terms._exclusions){if(!ve.$_match(x,i.localize($,H,ve),s,{presence:"ignore"}))continue;if(d.push(r("array.excludes",{pos:f,value:x},i.localize($))),s.abortEarly)return d;T=!0,a.shift();break}if(T)continue;if(t.$_terms.ordered.length){if(a.length){let ve=a.shift(),Ce=ve.$_validate(x,i.localize($,H,ve),s);if(Ce.errors){if(d.push(...Ce.errors),s.abortEarly)return d}else if(ve._flags.result==="strip")jn.fastSplice(e,f),--f,--m;else if(!t._flags.sparse&&Ce.value===void 0){if(d.push(r("array.sparse",{key:F,path:$,pos:f,value:void 0},i.localize($))),s.abortEarly)return d;continue}else e[f]=Ce.value;continue}else if(!t.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:f,limit:t.$_terms.ordered.length})),s.abortEarly)return d;break}}let oe=[],Q=n.length;for(let ve=0;ve<Q;++ve){let Ce=i.localize($,H,n[ve]);Ce.snapshot();let fe=n[ve].$_validate(x,Ce,s);if(oe[ve]=fe,!fe.errors){if(e[f]=fe.value,q=!0,jn.fastSplice(n,ve),--ve,--Q,!t._flags.sparse&&fe.value===void 0&&(d.push(r("array.sparse",{key:F,path:$,pos:f,value:void 0},i.localize($))),s.abortEarly))return d;break}Ce.restore()}if(q)continue;let pe=s.stripUnknown&&!!s.stripUnknown.arrays||!1;Q=o.length;for(let ve of o){let Ce,fe=n.indexOf(ve);if(fe!==-1)Ce=oe[fe];else{let Pe=i.localize($,H,ve);if(Pe.snapshot(),Ce=ve.$_validate(x,Pe,s),!Ce.errors){ve._flags.result==="strip"?(jn.fastSplice(e,f),--f,--m):!t._flags.sparse&&Ce.value===void 0?(d.push(r("array.sparse",{key:F,path:$,pos:f,value:void 0},i.localize($))),T=!0):e[f]=Ce.value,q=!0;break}Pe.restore()}if(Q===1){if(pe){jn.fastSplice(e,f),--f,--m,q=!0;break}if(d.push(...Ce.errors),s.abortEarly)return d;T=!0;break}}if(T)continue;if(t.$_terms._inclusions.length&&!q){if(pe){jn.fastSplice(e,f),--f,--m;continue}if(d.push(r("array.includes",{pos:f,value:x},i.localize($))),s.abortEarly)return d}}return n.length&&jn.fillMissedErrors(t,d,n,e,i,s),a.length&&jn.fillOrderedErrors(t,d,a,e,i,s),d.length?d:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:i,operator:s,args:n}){return xo.compare(e.length,r,s)?e:t.error("array."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:xo.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){xo.verifyFlat(e,"ordered");let t=this.$_addRule("items");for(let r=0;r<e.length;++r){let i=xo.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});jn.validateSingle(i,t),t.$_mutateRegister(i),t.$_terms.ordered.push(i)}return t.$_mutateRebuild()}},single:{method(e){let t=e===void 0?!0:!!e;return R1(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){xo.assertOptions(e,["by","order"]);let t={order:e.order||"ascending"};return e.by&&(t.by=jRe.ref(e.by,{ancestor:0}),R1(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:i,schema:s},{options:n}){let{value:a,errors:o}=jn.sort(s,e,n,r,i);if(o)return o;for(let u=0;u<e.length;++u)if(e[u]!==a[u])return t("array.sort",{order:n.order,by:n.by?n.by.key:"value"});return e},convert:!0},sparse:{method(e){let t=e===void 0?!0:!!e;if(this._flags.sparse===t)return this;let r=t?this.clone():this.$_addRule("items");return r.$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){R1(!e||typeof e=="function"||typeof e=="string","comparator must be a function or a string"),xo.assertOptions(t,["ignoreUndefined","separator"]);let r={name:"unique",args:{options:t,comparator:e}};if(e)if(typeof e=="string"){let i=xo.default(t.separator,".");r.path=i?e.split(i):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:i},{comparator:s,options:n},{comparator:a,path:o}){let u={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},d=a||LRe,m=n.ignoreUndefined;for(let f=0;f<e.length;++f){let x=o?DRe(e[f],o):e[f],T=a?u.custom:u[typeof x];if(R1(T,"Failed to find unique map container for type",typeof x),T instanceof Map){let q=T.entries(),F;for(;!(F=q.next()).done;)if(d(F.value[0],x)){let $=t.localize([...t.path,f],[e,...t.ancestors]),H={pos:f,value:e[f],dupePos:F.value[1],dupeValue:e[F.value[1]]};return o&&(H.path=s),r("array.unique",H,$)}T.set(x,f)}else{if((!m||x!==void 0)&&T[x]!==void 0){let q={pos:f,value:e[f],dupePos:T[x],dupeValue:e[T[x]]};o&&(q.path=s);let F=t.localize([...t.path,f],[e,...t.ancestors]);return r("array.unique",q,F)}T[x]=f}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to(e,t){return new Set(e)}}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(let t of e.$_terms.items)jn.validateSingle(t,e),t._flags.presence==="required"?e.$_terms._requireds.push(t):t._flags.presence==="forbidden"?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(let t of e.$_terms.ordered)jn.validateSingle(t,e)},manifest:{build(e,t){return t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":'{{#label}} does not contain at least one required match for type "{#patternLabel}"',"array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}});jn.fillMissedErrors=function(e,t,r,i,s,n){let a=[],o=0;for(let u of r){let d=u._flags.label;d?a.push(d):++o}a.length?o?t.push(e.$_createError("array.includesRequiredBoth",i,{knownMisses:a,unknownMisses:o},s,n)):t.push(e.$_createError("array.includesRequiredKnowns",i,{knownMisses:a},s,n)):t.push(e.$_createError("array.includesRequiredUnknowns",i,{unknownMisses:o},s,n))};jn.fillOrderedErrors=function(e,t,r,i,s,n){let a=[];for(let o of r)o._flags.presence==="required"&&a.push(o);a.length&&jn.fillMissedErrors(e,t,a,i,s,n)};jn.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length};jn.validateSingle=function(e,t){(e.type==="array"||e._flags._arrayItems)&&(R1(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))};jn.sort=function(e,t,r,i,s){let n=r.order==="ascending"?1:-1,a=-1*n,o=n,u=(d,m)=>{let f=jn.compare(d,m,a,o);if(f!==null)return f;if(r.by&&(d=r.by.resolve(d,i,s),m=r.by.resolve(m,i,s)),f=jn.compare(d,m,a,o),f!==null)return f;let x=typeof d;if(x!==typeof m)throw e.$_createError("array.sort.mismatching",t,null,i,s);if(x!=="number"&&x!=="string")throw e.$_createError("array.sort.unsupported",t,{type:x},i,s);return x==="number"?(d-m)*n:d<m?a:o};try{return{value:t.slice().sort(u)}}catch(d){return{errors:d}}};jn.compare=function(e,t,r,i){return e===t?0:e===void 0?1:t===void 0?-1:e===null?i:t===null?r:null}}),V7=O((RJe,U7)=>{"use strict";var H7=dt(),FRe=bo(),G7=Qr(),z7=qk(),Lk={};Lk.isBool=function(e){return typeof e=="boolean"};U7.exports=FRe.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if(typeof e=="boolean")return;if(typeof e=="string"){let r=t._flags.sensitive?e:e.toLowerCase();e=r==="true"?!0:r==="false"?!1:e}return typeof e!="boolean"&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(t.$_terms.falsy&&t.$_terms.falsy.has(e,null,null,!t._flags.sensitive)?!1:e)),{value:e}},validate(e,{error:t}){if(typeof e!="boolean")return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){G7.verifyFlat(e,"truthy");let t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new z7;for(let r=0;r<e.length;++r){let i=e[r];H7(i!==void 0,"Cannot call truthy with undefined"),t.$_terms.truthy.add(i)}return t}},falsy:{method(...e){G7.verifyFlat(e,"falsy");let t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new z7;for(let r=0;r<e.length;++r){let i=e[r];H7(i!==void 0,"Cannot call falsy with undefined"),t.$_terms.falsy.add(i)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:Lk.isBool,to(e,t){return e?1:0}},string:{from:Lk.isBool,to(e,t){return e?"true":"false"}}},manifest:{build(e,t){return t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})}),Y7=O((AJe,W7)=>{"use strict";var K7=dt(),BRe=bo(),X7=Qr(),URe=Ah(),hc={};hc.isDate=function(e){return e instanceof Date};W7.exports=BRe.extend({type:"date",coerce:{from:["number","string"],method(e,{schema:t}){return{value:hc.parse(e,t._flags.format)||e}}},validate(e,{schema:t,error:r,prefs:i}){if(e instanceof Date&&!isNaN(e.getTime()))return;let s=t._flags.format;return!i.convert||!s||typeof e!="string"?{value:e,errors:r("date.base")}:{value:e,errors:r("date.format",{format:s})}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:i,operator:s,args:n}){let a=r==="now"?Date.now():r.getTime();return X7.compare(e.getTime(),a,s)?e:t.error("date."+i,{limit:n.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>e==="now"?e:hc.parse(e),assert:e=>e!==null,message:"must have a valid date format"}]},format:{method(e){return K7(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return K7(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:hc.isDate,to(e,t){return e.getTime()}},string:{from:hc.isDate,to(e,{prefs:t}){return URe.date(e,t)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":'{{#label}} must be greater than "{{#limit}}"',"date.less":'{{#label}} must be less than "{{#limit}}"',"date.max":'{{#label}} must be less than or equal to "{{#limit}}"',"date.min":'{{#label}} must be larger than or equal to "{{#limit}}"',"date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}});hc.parse=function(e,t){if(e instanceof Date)return e;if(typeof e!="string"&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if(t==="iso")return X7.isIsoDate(e)?hc.date(e.toString()):null;let r=e;if(typeof e=="string"&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if(t==="javascript")return hc.date(1*e);if(t==="unix")return hc.date(1e3*e);if(typeof r=="string")return null}return hc.date(e)};hc.date=function(e){let t=new Date(e);return isNaN(t.getTime())?null:t}}),$k=O((TJe,J7)=>{"use strict";var HRe=Rb(),Eo=dt(),Z7=zr(),GRe=Nb(),zRe=bo(),as=Qr(),Dk=yd(),VRe=Bu(),Q7=Uu(),Ix=Ah(),Zt={renameDefaults:{alias:!1,multiple:!1,override:!1}};J7.exports=zRe.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args(e,t){return e.keys(t)},validate(e,{schema:t,error:r,state:i,prefs:s}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!t.$_terms.renames&&!t.$_terms.dependencies&&!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.externals)return;e=Zt.clone(e,s);let n=[];if(t.$_terms.renames&&!Zt.rename(t,e,i,s,n))return{value:e,errors:n};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:n};let a=new Set(Object.keys(e));if(t.$_terms.keys){let o=[e,...i.ancestors];for(let u of t.$_terms.keys){let d=u.key,m=e[d];a.delete(d);let f=i.localize([...i.path,d],o,u),x=u.schema.$_validate(m,f,s);if(x.errors){if(s.abortEarly)return{value:e,errors:x.errors};n.push(...x.errors)}else u.schema._flags.result==="strip"||x.value===void 0&&m!==void 0?delete e[d]:x.value!==void 0&&(e[d]=x.value)}}if(a.size||t._flags._hasPatternMatch){let o=Zt.unknown(t,e,a,n,i,s);if(o)return o}if(t.$_terms.dependencies)for(let o of t.$_terms.dependencies){if(o.key&&o.key.resolve(e,i,s,null,{shadow:!1})===void 0)continue;let u=Zt.dependencies[o.rel](t,o,e,i,s);if(u){let d=t.$_createError(u.code,e,u.context,i,s);if(s.abortEarly)return{value:e,errors:d};n.push(d)}}return{value:e,errors:n}},rules:{and:{method(...e){return as.verifyFlat(e,"and"),Zt.dependency(this,"and",null,e)}},append:{method(e){return e==null||Object.keys(e).length===0?this:this.keys(e)}},assert:{method(e,t,r){Ix.isTemplate(e)||(e=Dk.ref(e)),Eo(r===void 0||typeof r=="string","Message must be a string"),t=this.$_compile(t,{appendPath:!0});let i=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return i.$_mutateRegister(e),i.$_mutateRegister(t),i},validate(e,{error:t,prefs:r,state:i},{subject:s,schema:n,message:a}){let o=s.resolve(e,i,r),u=Q7.isRef(s)?s.absolute(i):[];return n.$_match(o,i.localize(u,[e,...i.ancestors],n),r)?e:t("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return Eo(typeof e=="function","constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate(e,t,{constructor:r,name:i}){return e instanceof r?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method(e){Eo(e===void 0||typeof e=="object","Object schema must be a valid object"),Eo(!as.isSchema(e),"Object schema cannot be a joi schema");let t=this.clone();if(!e)t.$_terms.keys=null;else if(!Object.keys(e).length)t.$_terms.keys=new Zt.Keys;else{t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(r=>!e.hasOwnProperty(r.key)):new Zt.Keys;for(let r in e)as.tryWithPath(()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])}),r)}return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:i,operator:s,args:n}){return as.compare(Object.keys(e).length,r,s)?e:t.error("object."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:as.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return as.verifyFlat(e,"nand"),Zt.dependency(this,"nand",null,e)}},or:{method(...e){return as.verifyFlat(e,"or"),Zt.dependency(this,"or",null,e)}},oxor:{method(...e){return Zt.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){let i=e instanceof RegExp;i||(e=this.$_compile(e,{appendPath:!0})),Eo(t!==void 0,"Invalid rule"),as.assertOptions(r,["fallthrough","matches"]),i&&Eo(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});let s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];let n={[i?"regex":"schema"]:e,rule:t};return r.matches&&(n.matches=this.$_compile(r.matches),n.matches.type!=="array"&&(n.matches=n.matches.$_root.array().items(n.matches)),s.$_mutateRegister(n.matches),s.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(n.fallthrough=!0),s.$_terms.patterns.push(n),s.$_mutateRegister(t),s}},ref:{method(){return this.$_addRule("ref")},validate(e,t){return Q7.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method(){return this.$_addRule("regex")},validate(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method(e,t,r={}){Eo(typeof e=="string"||e instanceof RegExp,"Rename missing the from argument"),Eo(typeof t=="string"||t instanceof Ix,"Invalid rename to argument"),Eo(t!==e,"Cannot rename key to same name:",e),as.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);let i=this.clone();i.$_terms.renames=i.$_terms.renames||[];for(let s of i.$_terms.renames)Eo(s.from!==e,"Cannot rename the same key multiple times");return t instanceof Ix&&i.$_mutateRegister(t),i.$_terms.renames.push({from:e,to:t,options:HRe(Zt.renameDefaults,r)}),i}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate(e,t,{type:r}){return as.isSchema(e)&&(r==="any"||e.type===r)?e:t.error("object.schema",{type:r})}},unknown:{method(e){return this.$_setFlag("unknown",e!==!1)}},with:{method(e,t,r={}){return Zt.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return Zt.dependency(this,"without",e,t,r)}},xor:{method(...e){return as.verifyFlat(e,"xor"),Zt.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return e===void 0&&(e=as.symbols.deepDefault),this.$_super.default(e,t)}},rebuild(e){if(e.$_terms.keys){let t=new GRe.Sorter;for(let r of e.$_terms.keys)as.tryWithPath(()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key}),r.key);e.$_terms.keys=new Zt.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(let{rel:r,key:i=null,peers:s,options:n}of t.dependencies)e=Zt.dependency(e,r,i,s,n);if(t.patterns)for(let{regex:r,schema:i,rule:s,fallthrough:n,matches:a}of t.patterns)e=e.pattern(r||i,s,{fallthrough:n,matches:a});if(t.renames)for(let{from:r,to:i,options:s}of t.renames)e=e.rename(r,i,s);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":'{{#label}} must be an instance of "{{#type}}"',"object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":'"{{#mainWithLabel}}" must not exist simultaneously with {{#peersWithLabels}}',"object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":'{{#label}} cannot rename "{{#from}}" because multiple renames are disabled and another key was already renamed to "{{#to}}"',"object.rename.override":'{{#label}} cannot rename "{{#from}}" because override is disabled and target "{{#to}}" exists',"object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":'"{{#mainWithLabel}}" missing required peer "{{#peerWithLabel}}"',"object.without":'"{{#mainWithLabel}}" conflict with forbidden peer "{{#peerWithLabel}}"',"object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}});Zt.clone=function(e,t){if(typeof e=="object"){if(t.nonEnumerables)return Z7(e,{shallow:!0});let i=Object.create(Object.getPrototypeOf(e));return Object.assign(i,e),i}let r=function(...i){return e.apply(this,i)};return r.prototype=Z7(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r};Zt.dependency=function(e,t,r,i,s){Eo(r===null||typeof r=="string",t,"key must be a strings"),s||(s=i.length>1&&typeof i[i.length-1]=="object"?i.pop():{}),as.assertOptions(s,["separator"]),i=[].concat(i);let n=as.default(s.separator,"."),a=[];for(let u of i)Eo(typeof u=="string",t,"peers must be a string or a reference"),a.push(Dk.ref(u,{separator:n,ancestor:0,prefix:!1}));r!==null&&(r=Dk.ref(r,{separator:n,ancestor:0,prefix:!1}));let o=e.clone();return o.$_terms.dependencies=o.$_terms.dependencies||[],o.$_terms.dependencies.push(new Zt.Dependency(t,r,a,i)),o};Zt.dependencies={and(e,t,r,i,s){let n=[],a=[],o=t.peers.length;for(let u of t.peers)u.resolve(r,i,s,null,{shadow:!1})===void 0?n.push(u.key):a.push(u.key);if(n.length!==o&&a.length!==o)return{code:"object.and",context:{present:a,presentWithLabels:Zt.keysToLabels(e,a),missing:n,missingWithLabels:Zt.keysToLabels(e,n)}}},nand(e,t,r,i,s){let n=[];for(let u of t.peers)u.resolve(r,i,s,null,{shadow:!1})!==void 0&&n.push(u.key);if(n.length!==t.peers.length)return;let a=t.paths[0],o=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:Zt.keysToLabels(e,a),peers:o,peersWithLabels:Zt.keysToLabels(e,o)}}},or(e,t,r,i,s){for(let n of t.peers)if(n.resolve(r,i,s,null,{shadow:!1})!==void 0)return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:Zt.keysToLabels(e,t.paths)}}},oxor(e,t,r,i,s){let n=[];for(let o of t.peers)o.resolve(r,i,s,null,{shadow:!1})!==void 0&&n.push(o.key);if(!n.length||n.length===1)return;let a={peers:t.paths,peersWithLabels:Zt.keysToLabels(e,t.paths)};return a.present=n,a.presentWithLabels=Zt.keysToLabels(e,n),{code:"object.oxor",context:a}},with(e,t,r,i,s){for(let n of t.peers)if(n.resolve(r,i,s,null,{shadow:!1})===void 0)return{code:"object.with",context:{main:t.key.key,mainWithLabel:Zt.keysToLabels(e,t.key.key),peer:n.key,peerWithLabel:Zt.keysToLabels(e,n.key)}}},without(e,t,r,i,s){for(let n of t.peers)if(n.resolve(r,i,s,null,{shadow:!1})!==void 0)return{code:"object.without",context:{main:t.key.key,mainWithLabel:Zt.keysToLabels(e,t.key.key),peer:n.key,peerWithLabel:Zt.keysToLabels(e,n.key)}}},xor(e,t,r,i,s){let n=[];for(let o of t.peers)o.resolve(r,i,s,null,{shadow:!1})!==void 0&&n.push(o.key);if(n.length===1)return;let a={peers:t.paths,peersWithLabels:Zt.keysToLabels(e,t.paths)};return n.length===0?{code:"object.missing",context:a}:(a.present=n,a.presentWithLabels=Zt.keysToLabels(e,n),{code:"object.xor",context:a})}};Zt.keysToLabels=function(e,t){return Array.isArray(t)?t.map(r=>e.$_mapLabels(r)):e.$_mapLabels(t)};Zt.rename=function(e,t,r,i,s){let n={};for(let a of e.$_terms.renames){let o=[],u=typeof a.from!="string";if(!u)Object.prototype.hasOwnProperty.call(t,a.from)&&(t[a.from]!==void 0||!a.options.ignoreUndefined)&&o.push(a);else for(let d in t){if(t[d]===void 0&&a.options.ignoreUndefined)continue;if(d===a.to)continue;let m=a.from.exec(d);if(!m)continue;o.push({from:d,to:a.to,match:m})}for(let d of o){let m=d.from,f=d.to;if(f instanceof Ix&&(f=f.render(t,r,i,d.match)),m===f)continue;if(!a.options.multiple&&n[f]&&(s.push(e.$_createError("object.rename.multiple",t,{from:m,to:f,pattern:u},r,i)),i.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,f)&&!a.options.override&&!n[f]&&(s.push(e.$_createError("object.rename.override",t,{from:m,to:f,pattern:u},r,i)),i.abortEarly))return!1;t[m]===void 0?delete t[f]:t[f]=t[m],n[f]=!0,a.options.alias||delete t[m]}}return!0};Zt.unknown=function(e,t,r,i,s,n){if(e.$_terms.patterns){let o=!1,u=e.$_terms.patterns.map(m=>{if(m.matches)return o=!0,[]}),d=[t,...s.ancestors];for(let m of r){let f=t[m],x=[...s.path,m];for(let T=0;T<e.$_terms.patterns.length;++T){let q=e.$_terms.patterns[T];if(q.regex){let H=q.regex.test(m);if(s.mainstay.tracer.debug(s,"rule",`pattern.${T}`,H?"pass":"error"),!H)continue}else if(!q.schema.$_match(m,s.nest(q.schema,`pattern.${T}`),n))continue;r.delete(m);let F=s.localize(x,d,{schema:q.rule,key:m}),$=q.rule.$_validate(f,F,n);if($.errors){if(n.abortEarly)return{value:t,errors:$.errors};i.push(...$.errors)}if(q.matches&&u[T].push(m),t[m]=$.value,!q.fallthrough)break}}if(o)for(let m=0;m<u.length;++m){let f=u[m];if(!f)continue;let x=e.$_terms.patterns[m].matches,T=s.localize(s.path,d,x),q=x.$_validate(f,T,n);if(q.errors){let F=VRe.details(q.errors,{override:!1});F.matches=f;let $=e.$_createError("object.pattern.match",t,F,s,n);if(n.abortEarly)return{value:t,errors:$};i.push($)}}}if(!r.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(n.stripUnknown&&!e._flags.unknown||n.skipFunctions){let o=n.stripUnknown?n.stripUnknown===!0?!0:!!n.stripUnknown.objects:!1;for(let u of r)o?(delete t[u],r.delete(u)):typeof t[u]=="function"&&r.delete(u)}let a=!as.default(e._flags.unknown,n.allowUnknown);if(a)for(let o of r){let u=s.localize([...s.path,o],[]),d=e.$_createError("object.unknown",t[o],{child:o},u,n,{flags:!1});if(n.abortEarly)return{value:t,errors:d};i.push(d)}};Zt.Dependency=class{constructor(e,t,r,i){this.rel=e,this.key=t,this.peers=r,this.paths=i}describe(){let e={rel:this.rel,peers:this.paths};return this.key!==null&&(e.key=this.key.key),this.peers[0].separator!=="."&&(e.options={separator:this.peers[0].separator}),e}};Zt.Keys=class extends Array{concat(e){let t=this.slice(),r=new Map;for(let i=0;i<t.length;++i)r.set(t[i].key,i);for(let i of e){let s=i.key,n=r.get(s);n!==void 0?t[n]={key:s,schema:t[n].schema.concat(i.schema)}:t.push(i)}return t}}}),tG=O((CJe,eG)=>{"use strict";var jk=dt(),WRe=$k();eG.exports=WRe.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return jk(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate(e,t,{n:r}){return e.length===r?e:t.error("function.arity",{n:r})}},class:{method(){return this.$_addRule("class")},validate(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method(e){return jk(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate(e,t,{n:r}){return e.length>=r?e:t.error("function.minArity",{n:r})}},maxArity:{method(e){return jk(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate(e,t,{n:r}){return e.length<=r?e:t.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})}),nG=O((OJe,rG)=>{"use strict";var Vu=dt(),KRe=bo(),XRe=Qr(),YRe=yd(),JRe=Bu(),Wu={};rG.exports=KRe.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args(e,t){return e.ref(t)},validate(e,{schema:t,state:r,prefs:i}){Vu(t.$_terms.link,"Uninitialized link schema");let s=Wu.generate(t,e,r,i),n=t.$_terms.link[0].ref;return s.$_validate(e,r.nest(s,`link:${n.display}:${s.type}`),i)},generate(e,t,r,i){return Wu.generate(e,t,r,i)},rules:{ref:{method(e){Vu(!this.$_terms.link,"Cannot reinitialize schema"),e=YRe.ref(e),Vu(e.type==="value"||e.type==="local","Invalid reference type:",e.type),Vu(e.type==="local"||e.ancestor==="root"||e.ancestor>0,"Link cannot reference itself");let t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){Vu(this.$_terms.link,"Uninitialized link schema"),Vu(XRe.isSchema(e),"Invalid schema object"),Vu(e.type!=="link","Cannot merge type link with another link");let t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build(e,t){return Vu(t.link,"Invalid link description missing link"),e.ref(t.link)}}});Wu.generate=function(e,t,r,i){let s=r.mainstay.links.get(e);if(s)return s._generate(t,r,i).schema;let n=e.$_terms.link[0].ref,{perspective:a,path:o}=Wu.perspective(n,r);Wu.assert(a,"which is outside of schema boundaries",n,e,r,i);try{s=o.length?a.$_reach(o):a}catch(u){Wu.assert(!1,"to non-existing schema",n,e,r,i)}return Wu.assert(s.type!=="link","which is another link",n,e,r,i),e._flags.relative||r.mainstay.links.set(e,s),s._generate(t,r,i).schema};Wu.perspective=function(e,t){if(e.type==="local"){for(let{schema:r,key:i}of t.schemas){let s=r._flags.id||i;if(s===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared){for(let n of r.$_terms.shared)if(n._flags.id===e.path[0])return{perspective:n,path:e.path.slice(1)}}}return{perspective:null,path:null}}return e.ancestor==="root"?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}};Wu.assert=function(e,t,r,i,s,n){if(e)return;Vu(!1,`"${JRe.label(i._flags,s,n)}" contains link reference "${r.display}" ${t}`)}}),sG=O((kJe,iG)=>{"use strict";var Fk=dt(),ZRe=bo(),Bk=Qr(),bd={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};iG.exports=ZRe.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){let i=e.match(bd.numberRx);if(!i)return;e=e.trim();let s={value:parseFloat(e)};if(s.value===0&&(s.value=0),!t._flags.unsafe)if(e.match(/e/i)){let n=bd.normalizeExponent(`${s.value/Math.pow(10,i[1])}e${i[1]}`);if(n!==bd.normalizeExponent(e))return s.errors=r("number.unsafe"),s}else{let n=s.value.toString();if(n.match(/e/i))return s;if(n!==bd.normalizeDecimal(e))return s.errors=r("number.unsafe"),s}return s}},validate(e,{schema:t,error:r,prefs:i}){if(e===Infinity||e===-Infinity)return{value:e,errors:r("number.infinity")};if(!Bk.isNumber(e))return{value:e,errors:r("number.base")};let s={value:e};if(i.convert){let n=t.$_getRule("precision");if(n){let a=Math.pow(10,n.args.limit);s.value=Math.round(s.value*a)/a}}return s.value===0&&(s.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate(e,t,{limit:r},{name:i,operator:s,args:n}){return Bk.compare(e,r,s)?e:t.error("number."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:Bk.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate(e,t){return Math.trunc(e)-e===0?e:t.error("number.integer")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate(e,t,{base:r},i){return e%r===0?e:t.error("number.multiple",{multiple:i.args.base,value:e})},args:[{name:"base",ref:!0,assert:e=>typeof e=="number"&&isFinite(e)&&e>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method(){return this.sign("positive")}},precision:{method(e){return Fk(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){let i=e.toString().match(bd.precisionRx),s=Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0);return s<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return Fk(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate(e,t,{sign:r}){return r==="negative"&&e<0||r==="positive"&&e>0?e:t.error(`number.${r}`)}},unsafe:{method(e=!0){return Fk(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>typeof e=="number",to(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be larger than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}});bd.normalizeExponent=function(e){return e.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")};bd.normalizeDecimal=function(e){return e=e.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([1-9])/,"$1$2"),e.includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e==="-0"?"0":e}}),oG=O((PJe,aG)=>{"use strict";var QRe=$k();aG.exports=QRe.extend({type:"object",cast:{map:{from:e=>e&&typeof e=="object",to(e,t){return new Map(Object.entries(e))}}}})}),Uk=O(qx=>{"use strict";qx.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"};qx.code=function(e){return{code:e,error:qx.codes[e]}}}),Hk=O(Nx=>{"use strict";var eAe=require("url"),bl=Uk(),Ch={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:eAe.URL||URL};Nx.analyze=function(e,t={}){if(typeof e!="string")throw new Error("Invalid input: domain must be a string");if(!e)return bl.code("DOMAIN_NON_EMPTY_STRING");if(e.length>256)return bl.code("DOMAIN_TOO_LONG");let r=!Ch.nonAsciiRx.test(e);if(!r){if(t.allowUnicode===!1)return bl.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(Ch.domainControlRx.test(e))return bl.code("DOMAIN_INVALID_CHARS");e=Ch.punycode(e);let i=t.minDomainSegments||Ch.minDomainSegments,s=e.split(".");if(s.length<i)return bl.code("DOMAIN_SEGMENTS_COUNT");let n=t.tlds;if(n){let a=s[s.length-1].toLowerCase();if(n.deny&&n.deny.has(a)||n.allow&&!n.allow.has(a))return bl.code("DOMAIN_FORBIDDEN_TLDS")}for(let a=0;a<s.length;++a){let o=s[a];if(!o.length)return bl.code("DOMAIN_EMPTY_SEGMENT");if(o.length>63)return bl.code("DOMAIN_LONG_SEGMENT");if(a<s.length-1){if(!Ch.domainSegmentRx.test(o))return bl.code("DOMAIN_INVALID_CHARS")}else if(!Ch.tldSegmentRx.test(o))return bl.code("DOMAIN_INVALID_TLDS_CHARS")}return null};Nx.isValid=function(e,t){return!Nx.analyze(e,t)};Ch.punycode=function(e){try{return new Ch.URL(`http://${e}`).host}catch(t){return e}}}),cG=O(Gk=>{"use strict";var tAe=require("util"),rAe=Hk(),xl=Uk(),Is={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(tAe.TextEncoder||TextEncoder)};Gk.analyze=function(e,t){return Is.email(e,t)};Gk.isValid=function(e,t){return!Is.email(e,t)};Is.email=function(e,t={}){if(typeof e!="string")throw new Error("Invalid input: email must be a string");if(!e)return xl.code("EMPTY_STRING");let r=!Is.nonAsciiRx.test(e);if(!r){if(t.allowUnicode===!1)return xl.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}let i=e.split("@");if(i.length!==2)return i.length>2?xl.code("MULTIPLE_AT_CHAR"):xl.code("MISSING_AT_CHAR");let[s,n]=i;if(!s)return xl.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return xl.code("ADDRESS_TOO_LONG");if(Is.encoder.encode(s).length>64)return xl.code("LOCAL_TOO_LONG")}return Is.local(s,r)||rAe.analyze(n,t)};Is.local=function(e,t){let r=e.split(".");for(let i of r){if(!i.length)return xl.code("EMPTY_LOCAL_SEGMENT");if(t){if(!Is.atextRx.test(i))return xl.code("INVALID_LOCAL_CHARS");continue}for(let s of i){if(Is.atextRx.test(s))continue;let n=Is.binary(s);if(!Is.atomRx.test(n))return xl.code("INVALID_LOCAL_CHARS")}}};Is.binary=function(e){return Array.from(Is.encoder.encode(e)).map(t=>String.fromCharCode(t)).join("")};Is.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/;Is.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))}),Vk=O(zk=>{"use strict";var Mx=dt(),nAe=Dm(),$i={};$i.generate=function(){let e={},t="\\dA-Fa-f",r="["+t+"]",i="\\w-\\.~",s="!\\$&'\\(\\)\\*\\+,;=",n="%"+t,a=i+n+s+":@",o="["+a+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+u+"\\.){3}"+u;let d=r+"{1,4}",m="(?:"+d+":"+d+"|"+e.ipv4address+")",f="(?:"+d+":){6}"+m,x="::(?:"+d+":){5}"+m,T="(?:"+d+")?::(?:"+d+":){4}"+m,q="(?:(?:"+d+":){0,1}"+d+")?::(?:"+d+":){3}"+m,F="(?:(?:"+d+":){0,2}"+d+")?::(?:"+d+":){2}"+m,$="(?:(?:"+d+":){0,3}"+d+")?::"+d+":"+m,H="(?:(?:"+d+":){0,4}"+d+")?::"+m,oe="(?:(?:"+d+":){0,5}"+d+")?::"+d,Q="(?:(?:"+d+":){0,6}"+d+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+f+"|"+x+"|"+T+"|"+q+"|"+F+"|"+$+"|"+H+"|"+oe+"|"+Q+")",e.ipvFuture="v"+r+"+\\.["+i+s+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);let pe="["+i+n+s+":]*",ve="\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]",Ce="["+i+n+s+"]{1,255}",fe="(?:"+ve+"|"+e.ipv4address+"|"+Ce+")",Pe="\\d*",Ve="(?:"+pe+"@)?"+fe+"(?::"+Pe+")?",Ie="(?:"+pe+"@)?("+fe+")(?::"+Pe+")?",Ot=o+"*",lt=o+"+",Ye="["+i+n+s+"@]+",At="",gt="(?:\\/"+Ot+")*",ut="\\/(?:"+lt+gt+")?",$t=lt+gt,de=Ye+gt,cr="(?:\\/\\/\\/"+Ot+gt+")";return e.hierPart="(?:(?:\\/\\/"+Ve+gt+")|"+ut+"|"+$t+"|"+cr+")",e.hierPartCapture="(?:(?:\\/\\/"+Ie+gt+")|"+ut+"|"+$t+")",e.relativeRef="(?:(?:\\/\\/"+Ve+gt+")|"+ut+"|"+de+"|"+At+")",e.relativeRefCapture="(?:(?:\\/\\/"+Ie+gt+")|"+ut+"|"+de+"|"+At+")",e.query="["+a+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+a+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+a+"\\/\\?]*",e};$i.rfc3986=$i.generate();zk.ip={v4Cidr:$i.rfc3986.ipv4Cidr,v6Cidr:$i.rfc3986.ipv6Cidr,ipv4:$i.rfc3986.ipv4address,ipv6:$i.rfc3986.ipv6address,ipvfuture:$i.rfc3986.ipvFuture};$i.createRegex=function(e){let t=$i.rfc3986,r=e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query,i="(?:\\?"+r+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return $i.wrap(s+i);let n="";if(e.scheme){Mx(e.scheme instanceof RegExp||typeof e.scheme=="string"||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");let d=[].concat(e.scheme);Mx(d.length>=1,"scheme must have at least 1 scheme specified");let m=[];for(let f=0;f<d.length;++f){let x=d[f];Mx(x instanceof RegExp||typeof x=="string","scheme at position "+f+" must be a RegExp or String"),x instanceof RegExp?m.push(x.source.toString()):(Mx(t.schemeRegex.test(x),"scheme at position "+f+" must be a valid scheme"),m.push(nAe(x)))}n=m.join("|")}let a=n?"(?:"+n+")":t.scheme,o="(?:"+a+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",u=e.allowRelative?"(?:"+o+"|"+s+")":o;return $i.wrap(u+i,n)};$i.wrap=function(e,t){return e=`(?=.)(?!https?:/$)${e}`,{raw:e,regex:new RegExp(`^${e}$`),scheme:t}};$i.uriRegex=$i.createRegex({});zk.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?$i.createRegex(e):$i.uriRegex}}),uG=O(lG=>{"use strict";var gg=dt(),A1=Vk();lG.regex=function(e={}){gg(e.cidr===void 0||typeof e.cidr=="string","options.cidr must be a string");let t=e.cidr?e.cidr.toLowerCase():"optional";gg(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),gg(e.version===void 0||typeof e.version=="string"||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),gg(r.length>=1,"options.version must have at least 1 version specified");for(let a=0;a<r.length;++a)gg(typeof r[a]=="string","options.version must only contain strings"),r[a]=r[a].toLowerCase(),gg(["ipv4","ipv6","ipvfuture"].includes(r[a]),"options.version contains unknown version "+r[a]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));let i=r.map(a=>{if(t==="forbidden")return A1.ip[a];let o=`\\/${a==="ipv4"?A1.ip.v4Cidr:A1.ip.v6Cidr}`;return t==="required"?`${A1.ip[a]}${o}`:`${A1.ip[a]}(?:${o})?`}),s=`(?:${i.join("|")})`,n=new RegExp(`^${s}$`);return{cidr:t,versions:r,regex:n,raw:s}}}),pG=O((DJe,fG)=>{"use strict";var hG={};hG.tlds=["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADAC","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFAMILYCOMPANY","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIGO","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUDAPEST","BUGATTI","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANCERRESEARCH","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CARTIER","CASA","CASE","CASEIH","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CEB","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHRYSLER","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CSC","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DODGE","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUCK","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ESURANCE","ET","ETISALAT","EU","EUROVISION","EUS","EVENTS","EVERBANK","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUJIXEROX","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLADE","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTEL","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","IVECO","JAGUAR","JAVA","JCB","JCP","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LADBROKES","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LANCOME","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIAISON","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LIXIL","LK","LLC","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUPIN","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","METLIFE","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MOPAR","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MOVISTAR","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NADEX","NAGOYA","NAME","NATIONWIDE","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWHOLLAND","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFF","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","ONYOURSIDE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PIAGET","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","QVC","RACING","RADIO","RAID","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIGHTATHOME","RIL","RIO","RIP","RMIT","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCJOHNSON","SCOR","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SHRIRAM","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPACE","SPORT","SPOT","SPREADBETTING","SR","SRL","SRT","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWIFTCOVER","SWISS","SX","SY","SYDNEY","SYMANTEC","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TELEFONICA","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UCONNECT","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VISTAPRINT","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WARMAN","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3OQ18VL8PN36A","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--ESTV75G","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ61U9W7B","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPU716F","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAKC7DVF","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PBT977C","XN--PGBS0DH","XN--PSSY2U","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"];fG.exports=new Set(hG.tlds.map(e=>e.toLowerCase()))}),vG=O(($Je,dG)=>{"use strict";var tn=dt(),Wk=Hk(),iAe=cG(),mG=uG(),gG=Dm(),yG=pG(),sAe=Vk(),aAe=bo(),qs=Qr(),Wr={tlds:yG instanceof Set?{tlds:{allow:yG,deny:null}}:!1,base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:mG.regex().regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};dG.exports=aAe.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:i}){let s=t.$_getRule("normalize");s&&(e=e.normalize(s.args.form));let n=t.$_getRule("case");n&&(e=n.args.direction==="upper"?e.toLocaleUpperCase():e.toLocaleLowerCase());let a=t.$_getRule("trim");if(a&&a.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(let u of t.$_terms.replacements)e=e.replace(u.pattern,u.replacement);let o=t.$_getRule("hex");if(o&&o.args.options.byteAligned&&e.length%2!==0&&(e=`0${e}`),t.$_getRule("isoDate")){let u=Wr.isoDate(e);u&&(e=u)}if(t._flags.truncate){let u=t.$_getRule("max");if(u){let d=u.args.limit;if(qs.isResolvable(d)&&(d=d.resolve(e,r,i),!qs.limit(d)))return{value:e,errors:t.$_createError("any.ref",d,{ref:u.args.limit,arg:"limit",reason:"must be a positive integer"},r,i)};e=e.slice(0,d)}}return{value:e}}},validate(e,{error:t}){if(typeof e!="string")return{value:e,errors:t("string.base")};if(e==="")return{value:e,errors:t("string.empty")}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method(e={}){return qs.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},tn(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),tn(typeof e.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate(e,t,{options:r}){let i=Wr.base64Regex[r.paddingRequired][r.urlSafe];return i.test(e)?e:t.error("string.base64")}},case:{method(e){return tn(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate(e,t,{direction:r}){return r==="lower"&&e===e.toLocaleLowerCase()||r==="upper"&&e===e.toLocaleUpperCase()?e:t.error(`string.${r}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,i=0,s=1;for(;r--;){let n=e.charAt(r)*s;i=i+(n-(n>9)*9),s=s^3}return i>0&&i%10===0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return qs.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},tn(typeof e.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){let i=e.match(Wr.dataUriRegex);if(i){if(!i[2])return e;if(i[2]!=="base64")return e;let s=Wr.base64Regex[r.paddingRequired].false;if(s.test(i[3]))return e}return t.error("string.dataUri")}},domain:{method(e){e&&qs.assertOptions(e,["allowUnicode","minDomainSegments","tlds"]);let t=Wr.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate(e,t,r,{address:i}){return Wk.isValid(e,i)?e:t.error("string.domain")}},email:{method(e={}){qs.assertOptions(e,["allowUnicode","ignoreLength","minDomainSegments","multiple","separator","tlds"]),tn(e.multiple===void 0||typeof e.multiple=="boolean","multiple option must be an boolean");let t=Wr.addressOptions(e),r=new RegExp(`\\s*[${e.separator?gG(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,{options:r},{regex:i,address:s}){let n=r.multiple?e.split(i):[e],a=[];for(let o of n)iAe.isValid(o,s)||a.push(o);return a.length?t.error("string.email",{value:e,invalids:a}):e}},guid:{alias:"uuid",method(e={}){qs.assertOptions(e,["version"]);let t="";if(e.version){let i=[].concat(e.version);tn(i.length>=1,"version must have at least 1 valid version specified");let s=new Set;for(let n=0;n<i.length;++n){let a=i[n];tn(typeof a=="string","version at position "+n+" must be a string");let o=Wr.guidVersions[a.toLowerCase()];tn(o,"version at position "+n+" must be one of "+Object.keys(Wr.guidVersions).join(", ")),tn(!s.has(o),"version at position "+n+" must not be a duplicate"),t+=o,s.add(o)}}let r=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:r})},validate(e,t,r,{regex:i}){let s=i.exec(e);return s?Wr.guidBrackets[s[1]]!==s[s.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return qs.assertOptions(e,["byteAligned"]),e={byteAligned:!1,...e},tn(typeof e.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate(e,t,{options:r}){return Wr.hexRegex.test(e)?r.byteAligned&&e.length%2!==0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate(e,t){return Wk.isValid(e,{minDomainSegments:1})||Wr.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){qs.assertOptions(e,["cidr","version"]);let{cidr:t,versions:r,regex:i}=mG.regex(e),s=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:s}},regex:i})},validate(e,t,{options:r},{regex:i}){return i.test(e)?e:r.version?t.error("string.ipVersion",{value:e,cidr:r.cidr,version:r.version}):t.error("string.ip",{value:e,cidr:r.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(e,{error:t}){return Wr.isoDate(e)?e:t("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate(e,t){return Wr.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method(e,t){return Wr.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:i},{name:s,operator:n,args:a}){let o=i?Buffer&&Buffer.byteLength(e,i):e.length;return qs.compare(o,r,n)?e:t.error("string."+s,{limit:a.limit,value:e,encoding:i})},args:[{name:"limit",ref:!0,assert:qs.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return Wr.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return Wr.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return tn(Wr.normalizationForms.includes(e),"normalization form must be one of "+Wr.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate(e,{error:t},{form:r}){return e===e.normalize(r)?e:t("string.normalize",{value:e,form:r})},convert:!0},pattern:{alias:"regex",method(e,t={}){tn(e instanceof RegExp,"regex must be a RegExp"),tn(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),typeof t=="string"&&(t={name:t}),qs.assertOptions(t,["invert","name"]);let r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate(e,t,{regex:r,options:i},{errorCode:s}){let n=r.test(e);return n^i.invert?e:t.error(s,{name:i.name,regex:r,value:e})},args:["regex","options"],multi:!0},replace:{method(e,t){typeof e=="string"&&(e=new RegExp(gG(e),"g")),tn(e instanceof RegExp,"pattern must be a RegExp"),tn(typeof t=="string","replacement must be a String");let r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method(e=!0){return tn(typeof e=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate(e,t,{enabled:r}){return!r||e===e.trim()?e:t.error("string.trim")},convert:!0},truncate:{method(e=!0){return tn(typeof e=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){qs.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&qs.assertOptions(e.domain,["allowUnicode","minDomainSegments","tlds"]);let{regex:t,scheme:r}=sAe.regex(e),i=e.domain?Wr.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:i,scheme:r})},validate(e,t,{options:r},{regex:i,domain:s,scheme:n}){if(["http:/","https:/"].includes(e))return t.error("string.uri");let a=i.exec(e);if(a){if(s){let o=a[1]||a[2];if(!Wk.isValid(o,s))return t.error("string.domain",{value:o})}return e}return r.relativeOnly?t.error("string.uriRelativeOnly"):r.scheme?t.error("string.uriCustomScheme",{scheme:n,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(let{pattern:r,replacement:i}of t.replacements)e=e.replace(r,i);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":'{{#label}} with value "{[.]}" fails to match the required pattern: {{#regex}}',"string.pattern.name":'{{#label}} with value "{[.]}" fails to match the {{#name}} pattern',"string.pattern.invert.base":'{{#label}} with value "{[.]}" matches the inverted pattern: {{#regex}}',"string.pattern.invert.name":'{{#label}} with value "{[.]}" matches the inverted {{#name}} pattern',"string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}});Wr.addressOptions=function(e){if(!e)return e;if(tn(e.minDomainSegments===void 0||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),e.tlds===!1)return e;if(e.tlds===!0||e.tlds===void 0)return tn(Wr.tlds,"Built-in TLD list disabled"),Object.assign({},e,Wr.tlds);tn(typeof e.tlds=="object","tlds must be true, false, or an object");let t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),tn(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),tn(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),e;let r=e.tlds.allow;return r?r===!0?(tn(Wr.tlds,"Built-in TLD list disabled"),Object.assign({},e,Wr.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),tn(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),e):e};Wr.isoDate=function(e){if(!qs.isIsoDate(e))return null;let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()};Wr.length=function(e,t,r,i,s){return tn(!s||Buffer&&Buffer.isEncoding(s),"Invalid encoding:",s),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:s},operator:i})}}),wG=O((jJe,_G)=>{"use strict";var Lx=dt(),oAe=bo(),Kk={};Kk.Map=class extends Map{slice(){return new Kk.Map(this)}};_G.exports=oAe.extend({type:"symbol",terms:{map:{init:new Kk.Map}},coerce:{method(e,{schema:t,error:r}){let i=t.$_terms.map.get(e);return i&&(e=i),!t._flags.only||typeof e=="symbol"?{value:e}:{value:e,errors:r("symbol.map",{map:t.$_terms.map})}}},validate(e,{error:t}){if(typeof e!="symbol")return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&typeof e=="object"&&(e=Object.entries(e)),Lx(e&&e[Symbol.iterator],"Iterable must be an iterable or object");let t=this.clone(),r=[];for(let i of e){Lx(i&&i[Symbol.iterator],"Entry must be an iterable");let[s,n]=i;Lx(typeof s!="object"&&typeof s!="function"&&typeof s!="symbol","Key must not be of type object, function, or Symbol"),Lx(typeof n=="symbol","Value must be a Symbol"),t.$_terms.map.set(s,n),r.push(n)}return t.valid(...r)}}},manifest:{build(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})}),EG=O((FJe,bG)=>{"use strict";var cAe=dt(),lAe=bo(),xG=Qr();bG.exports=lAe.extend({type:"binary",coerce:{from:"string",method(e,{schema:t}){try{return{value:Buffer.from(e,t._flags.encoding)}}catch(r){}}},validate(e,{error:t}){if(!Buffer.isBuffer(e))return{value:e,errors:t("binary.base")}},rules:{encoding:{method(e){return cAe(Buffer.isEncoding(e),"Invalid encoding:",e),this.$_setFlag("encoding",e)}},length:{method(e){return this.$_addRule({name:"length",method:"length",args:{limit:e},operator:"="})},validate(e,t,{limit:r},{name:i,operator:s,args:n}){return xG.compare(e.length,r,s)?e:t.error("binary."+i,{limit:n.limit,value:e})},args:[{name:"limit",ref:!0,assert:xG.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}}},cast:{string:{from:e=>Buffer.isBuffer(e),to(e,t){return e.toString()}}},messages:{"binary.base":"{{#label}} must be a buffer or a string","binary.length":"{{#label}} must be {{#limit}} bytes","binary.max":"{{#label}} must be less than or equal to {{#limit}} bytes","binary.min":"{{#label}} must be at least {{#limit}} bytes"}})}),bn=O((BJe,SG)=>{"use strict";var xd=dt(),uAe=zr(),fAe=Sk(),Ed=Qr(),hAe=yd(),Xk=Bu(),pAe=Rk(),RG=Ck(),Yk=Uu(),AG=Ah(),TG=kk(),Dx,oi={types:{alternatives:j7(),any:bo(),array:B7(),boolean:V7(),date:Y7(),function:tG(),link:nG(),number:sG(),object:oG(),string:vG(),symbol:wG()},aliases:{alt:"alternatives",bool:"boolean",func:"function"}};Buffer&&(oi.types.binary=EG());oi.root=function(){let e={_types:new Set(Object.keys(oi.types))};for(let t of e._types)e[t]=function(...r){return xd(!r.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),oi.generate(this,oi.types[t],r)};for(let t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...r){return this.any()[t](...r)};Object.assign(e,oi.methods);for(let t in oi.aliases){let r=oi.aliases[t];e[t]=e[r]}return e.x=e.expression,TG.setup&&TG.setup(e),e};oi.methods={ValidationError:Xk.ValidationError,version:Ed.version,cache:fAe.provider,assert(e,t,...r){oi.assert(e,t,!0,r)},attempt(e,t,...r){return oi.assert(e,t,!1,r)},build(e){return xd(typeof RG.build=="function","Manifest functionality disabled"),RG.build(this,e)},checkPreferences(e){Ed.checkPreferences(e)},compile(e,t){return hAe.compile(this,e,t)},defaults(e){xd(typeof e=="function","modifier must be a function");let t=Object.assign({},this);for(let r of t._types){let i=e(t[r]());xd(Ed.isSchema(i),"modifier must return a valid schema object"),t[r]=function(...s){return oi.generate(this,i,s)}}return t},expression(...e){return new AG(...e)},extend(...e){Ed.verifyFlat(e,"extend"),Dx=Dx||Sx(),xd(e.length,"You need to provide at least one extension"),this.assert(e,Dx.extensions);let t=Object.assign({},this);t._types=new Set(t._types);for(let r of e){typeof r=="function"&&(r=r(t)),this.assert(r,Dx.extension);let i=oi.expandExtension(r,t);for(let s of i){xd(t[s.type]===void 0||t._types.has(s.type),"Cannot override name",s.type);let n=s.base||this.any(),a=pAe.type(n,s);t._types.add(s.type),t[s.type]=function(...o){return oi.generate(this,a,o)}}}return t},isError:Xk.ValidationError.isError,isExpression:AG.isTemplate,isRef:Yk.isRef,isSchema:Ed.isSchema,in(...e){return Yk.in(...e)},override:Ed.symbols.override,ref(...e){return Yk.create(...e)},types(){let e={};for(let t of this._types)e[t]=this[t]();for(let t in oi.aliases)e[t]=this[t]();return e}};oi.assert=function(e,t,r,i){let s=i[0]instanceof Error||typeof i[0]=="string"?i[0]:null,n=s?i[1]:i[0],a=t.validate(e,Ed.preferences({errors:{stack:!0}},n||{})),o=a.error;if(!o)return a.value;if(s instanceof Error)throw s;let u=r&&typeof o.annotate=="function"?o.annotate():o.message;throw o instanceof Xk.ValidationError===!1&&(o=uAe(o)),o.message=s?`${s} ${u}`:u,o};oi.generate=function(e,t,r){return xd(e,"Must be invoked on a Joi instance."),t.$_root=e,!t._definition.args||!r.length?t:t._definition.args(t,...r)};oi.expandExtension=function(e,t){if(typeof e.type=="string")return[e];let r=[];for(let i of t._types)if(e.type.test(i)){let s=Object.assign({},e);s.type=i,s.base=t[i](),r.push(s)}return r};SG.exports=oi.root()}),kG=O((UJe,CG)=>{"use strict";var dAe="text/plain",mAe="us-ascii",OG=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),gAe=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:i,data:s,hash:n}=r.groups,a=i.split(";");n=t?"":n;let o=!1;a[a.length-1]==="base64"&&(a.pop(),o=!0);let u=(a.shift()||"").toLowerCase(),d=a.map(f=>{let[x,T=""]=f.split("=").map(q=>q.trim());return x==="charset"&&(T=T.toLowerCase(),T===mAe)?"":`${x}${T?`=${T}`:""}`}).filter(Boolean),m=[...d];return o&&m.push("base64"),(m.length!==0||u&&u!==dAe)&&m.unshift(u),`data:${m.join(";")},${o?s.trim():s}${n?`#${n}`:""}`},yAe=(e,t)=>{if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return gAe(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//"),i=!r&&/^\.*\//.test(e);i||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash&&(s.hash=""),s.pathname&&(s.pathname=s.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),s.pathname)try{s.pathname=decodeURI(s.pathname)}catch(a){}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=s.pathname.split("/"),o=a[a.length-1];OG(o,t.removeDirectoryIndex)&&(a=a.slice(0,a.length-1),s.pathname=a.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...s.searchParams.keys()])OG(a,t.removeQueryParameters)&&s.searchParams.delete(a);t.sortQueryParameters&&s.searchParams.sort(),t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let n=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!n.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};CG.exports=yAe}),$x=O((HJe,PG)=>{var vAe=require("path"),_Ae=require("url"),wAe=kG(),IG=rr(),qG=yt();function bAe(e){let t,r=[];try{t=new _Ae.URL(e)}catch(s){throw new qG.InvalidParameter(s.message)}let i=["http:","https:"];if(i.includes(t.protocol)||r.push(`Unsupported protocol [${t.protocol}]. Expected one of [${i.join(", ")}].`),t.search&&r.push(`Unexpected query parameters [${t.search}] found.`),t.hash&&r.push(`Unexpected hash [${t.hash}] found.`),t.username&&IG.warn(`Unsupported username [${t.username}] found in registry URL.`),t.password&&IG.warn(`Unsupported password [${t.password}] found in registry URL.`),r.length>0)throw new qG.InvalidParameter(`Invalid registry URL:
${r.map(s=>`  - ${s}`).join(`
`)}`)}function xAe(e){let t=new URL(wAe(e)),r=t.port?`_${t.port}`:"";return vAe.join(`${t.hostname}${r}`,...t.pathname.replace(":","").split("/").filter(i=>i))}PG.exports={convertUrlToRelativePath:xAe,validateRegistryUrl:bAe}}),oa=O((GJe,NG)=>{var Jk=require("path"),Sd=Tt(),Ku=bn(),MG=yt(),EAe=lx(),SAe=$x(),RAe="com.unity.package-manager.metadata",LG="main",DG="scoped:",AAe=["."],$G={dev:"packages-v2-int.unity.com",staging:"packages-v2-staging.unity.com",production:"packages.unity.com"};function jG(e){let t=e.reduce((i,s)=>(Sd.get(s,"scopes",[]).forEach(n=>{i[n]=i[n]||new Set,i[n].add(s.name)}),i),{}),r=Sd(t).mapValues(i=>[...i]).pickBy(i=>i.length>1).map((i,s)=>`${s} (defined in [${i.join(", ")}])`).value();return Sd.some(r)?`The following scopes are defined by more than one registry:
${EAe.indent(r.join(`
`))}`:null}function TAe(e,t){let r=jG(e);return r?t.message(r):e}var FG=["http","https"],BG=Ku.object({name:Ku.string().required(),url:Ku.string().uri({scheme:FG}).required(),scopes:Ku.array().unique().min(1).items(Ku.string().not(...AAe).min(1)).required()}),CAe=Ku.object({registry:Ku.string().uri({scheme:FG}).required(),metadataPackageName:Ku.string(),scopedRegistries:Ku.array().unique("name").items(BG).custom(TAe)});function OAe(e){let t=e.genesis&&e.genesis.environment?e.genesis.environment:"production";return`https://${$G[t]}`}function kAe(e){let{host:t}=new URL(e),r=Object.values($G);return r.includes(t)}function PAe(e){return Sd(e).groupBy(t=>t.path[1]).map((t,r)=>{let i=t.map(s=>s.message).join(`
  `);return`Scoped registry at position ${parseInt(r,10)+1} is invalid:
  ${i}`}).value()}function IAe(e,t,r,i=[]){let s=[],n=BG.validate({name:e,url:t,scopes:r},{abortEarly:!1});n.error&&s.push(...n.error.details.map(o=>/contains\san\sinvalid\svalue/.test(o.message)&&o.path.length>1?`"${o.path[0]}[${o.path[1]}]" contains an invalid value "${o.context.value}"`:o.message)),Sd.map(i,"name").includes(e)&&s.push(`"${e}" scoped registry name is already being used`);let a=jG([...i,{name:e,url:t,scopes:r}]);return a&&s.push(a),s}function qAe(e){let t=CAe.validate(e,{abortEarly:!1,allowUnknown:!0}),r=[];if(t.error){let[i,s]=Sd.partition(t.error.details,n=>n.path[0]==="scopedRegistries"&&n.path[1]!==void 0);r.push(...s.map(n=>n.message)),r.push(...PAe(i))}if(r.length>0)throw new MG.InvalidParameter("Registry configuration is invalid",...r)}function UG(e,t,r){let i=SAe.convertUrlToRelativePath(t);return{id:e,url:t.replace(/\/*$/,""),globalCachePath:Jk.join(r.packages,i),npm:{packageCachePath:Jk.join(r.npm,i),metadataCachePath:Jk.join(r.npm,i,i)}}}function HG(e,t,r,i){let s=`${DG}${t}`;return{...UG(s,e,i),name:t,scopes:r.map(n=>n.endsWith(".")?n.slice(0,-1):n)}}function NAe(e,t={}){let r=t.registry||process.env.UPM_REGISTRY||process.env.UPM_NPM_REGISTRY||OAe(t),i=t.metadataPackageName||RAe,s=t.scopedRegistries||[];return qAe({registry:r,metadataPackageName:i,scopedRegistries:t.scopedRegistries}),{main:{...UG(LG,r,e),isMain:!0,metadataPackageName:i},scoped:s.map(n=>({...HG(n.url,n.name,n.scopes,e),isMain:!1}))}}function MAe(e,t){let r=t.main,i="";for(let s of t.scoped)for(let n of s.scopes){if(e===n)return s;n.length>i.length&&e.startsWith(`${n}.`)&&(i=n,r=s)}return r}function LAe(e,t){if(e===LG)return t.main;let r=Sd.find(t.scoped,i=>`${DG}${i.name}`===e);if(!r)throw new MG.NotFound(`Registry [${e}] cannot be found. Available registry ids are [${[t.main,...t.scoped].map(i=>i.id).join(", ")}]`);return r}NG.exports={isGenesisRegistryUrl:kAe,createScopedRegistry:HG,createRegistries:NAe,getRegistryById:LAe,getRegistryByScope:MAe,validateScopedRegistryConfig:IAe}}),WG=O((zJe,GG)=>{var DAe=oa(),jx={};function zG(e,t,r){let i=DAe.getRegistryByScope(e,r);return`${e}@${t}@${i.globalCachePath}`}var VG=class{constructor(t,r,i){this.instanceKey=zG(t,r,i),this.error=null,jx[this.instanceKey]=this}static find(t,r,i){let s=zG(t,r,i);return jx[s]}completeWithSuccess(){this===jx[this.instanceKey]&&delete jx[this.instanceKey]}completeWithError(t){this.error=t}};GG.exports=VG}),JG=O((VJe,Zk)=>{"use strict";var KG=require("punycode");function $Ae(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function Qk(e){return e>="0"&&e<="7"}function jAe(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function XG(e){return e=parseInt(e,16),KG.ucs2.encode([e])}function YG(e,t,r){var i=!1,s=[];function n(u){var d=e[u];if(!jAe(d))throw new $Ae(u,"Unexpected token ILLEGAL");return d}for(;t<e.length;){var a=e[t];if(t++,i){i=!1;switch(a){case"n":s.push(`
`);continue;case"r":s.push("\r");continue;case"f":s.push("\f");continue;case"b":s.push("\b");continue;case"t":s.push("	");continue;case"v":s.push("\v");continue;case"\\":s.push("\\");continue}if(a==="x"){s.push(XG(n(t)+n(t+1))),t+=2;continue}if(a==="u"){s.push(XG(n(t)+n(t+1)+n(t+2)+n(t+3))),t+=4;continue}if(Qk(a)){var o;Qk(o=e[t])&&(t++,a+=o,Qk(o=e[t])&&a[0]<="3"&&(t++,a+=o)),s.push(KG.ucs2.encode([parseInt(a,8)]));continue}s.push(a)}else if(a==="\\")i=!0;else if(a===r){t--;break}else s.push(a)}return arguments.length===3?{end:t,value:s.join("")}:s.join("")}Zk.exports=function(t){return YG(t,0)};Zk.exports.parseUntil=function(t,r,i){return YG(t,r,i)}}),iz=O((WJe,ZG)=>{var QG=JG();ZG.exports={validate:FAe,parse:BAe};function FAe(e,t){var r;if(t=t||!1,typeof e!="string")r="Input must be a string";else try{Fx(e,0,t,!1)}catch(i){r=i.message}return r}function BAe(e,t){if(typeof e!="string")throw new Error("Input must be a string");t=t||!1;var r=Fx(e,0,t,!0);return r.value}function ez(e,t){for(var r=e.length,i=t,s,n=t;n<r;n++){var a=e[n];if(a===","){s=n;break}else if(a==="]"||a==="}"){s=n-1;break}else if(!Rd(a))throw pc(e,n,"expecting end of expression or separator")}var o;return s===void 0?(s=r,o=e[s]):(o=e[s],s++),{start:i,end:s,value:o}}function UAe(e,t){for(var r=e.length,i=t,s,n=t;n<r;n++){var a=e[n];if(a===":"){s=n;break}else if(!Rd(a))throw pc(e,n,"expecting ':'")}if(s===void 0)throw pc(e,n,"expecting ':'");return s++,{start:i,end:s}}function Fx(e,t,r,i){for(var s=e.length,n,a,o=!1,u=!1,d=!1,m=!1,f=!1,x,T=0,q=!1,F,$=t;$<s;$++){var H=e[$];if(n===void 0){if(!Rd(H)){if(H==="[")o=!0;else if(H==="{")u=!0;else if(H==='"')d=!0;else if(zAe(e,$)){n=$,$=$+3,a=$,F=!0;break}else if(VAe(e,$)){n=$,$=$+4,a=$,F=!1;break}else if(WAe(e,$)){n=$,$=$+3,a=$,F=null;break}else if(rz(H))m=!0;else if(H==="-")m=!0;else throw pc(e,$,"");n=$}}else if(o){var oe=GAe(e,$,r,i);a=oe.end,F=oe.value;break}else if(u){var Q=HAe(e,$,r,i);a=Q.end,F=Q.value;break}else if(d&&H==='"'&&tz(e,$-1)){a=$,F=QG(e.substring(n+1,a));break}else if(m)if(Rd(H))q=!0;else if(H===","||H==="]"||H==="}"){F=parseFloat(e.substring(n,a),10),a=$-1;break}else if(rz(H)&&!q){x&&T++;continue}else if(H==="."&&!f&&!x&&!q)f=!0;else if((H==="e"||H==="E")&&!x&&!q)x=$;else{if((H==="+"||H==="-")&&x===$-1&&!q)continue;throw pc(e,$,"expecting number")}}if(m&&x&&!T)throw pc(e,$,"expecting number");if(a===void 0)if(m)F=parseFloat(e.substring(n,$),10),a=$-1;else throw pc(e,$,"unclosed statement");return a++,{value:F,start:n,end:a}}function KAe(e,t){for(var r=e.length,i,s,n=t;n<r;n++){var a=e[n];if(i===void 0){if(!Rd(a)){if(a!=='"')throw pc(e,n,"expecting String");i=n}}else if(a==='"'&&tz(e,n-1)){s=n;break}}if(s===void 0)throw pc(e,r,"expecting String");var o=QG(e.substring(i+1,s));if(o==="")throw pc(e,i,"empty string");return s++,{start:i,end:s,value:o}}function HAe(e,t,r,i){for(var s=t,n=",",a={},o=[],u=[],d=t;Rd(e[d]);)d++;if(e[d]==="}")return{start:t,end:d,value:a};for(;n===",";){var m=KAe(e,s),f=UAe(e,m.end),x=Fx(e,f.end,r,i),T=ez(e,x.end);if(!r&&o.indexOf(m.value)!==-1)throw pc(e,m.end,'duplicated keys "'+m.value+'"');o.push(m.value),u.push(x.value),s=T.end,n=T.value}if(i){var q=0;for(q=0;q<o.length;q++)a[o[q]]=u[q]}return{start:t,end:s,value:a}}function tz(e,t){for(var r=t,i=0;r>-1&&e[r]==="\\";)i++,r--;return i%2===0}function GAe(e,t,r,i){for(var s=t,n=",",a=[],o=t;Rd(e[o]);)o++;if(e[o]==="]")return{start:t,end:o,value:a};for(;n===",";){var u=Fx(e,s,r,i),d=ez(e,u.end);i&&a.push(u.value),s=d.end,n=d.value}return{start:t,end:s,value:a}}function zAe(e,t){return e.substr(t,4)==="true"}function VAe(e,t){return e.substr(t,5)==="false"}function WAe(e,t){return e.substr(t,4)==="null"}var XAe=new RegExp(/^\s$/);function Rd(e){return XAe.test(e)}var YAe=new RegExp(/^\d$/);function rz(e){return YAe.test(e)}function pc(e,t,r){var i=10,s;e.length<t+i?s=e.substr(nz(e.length-i),e.length):t-i/2<0?s=e.substr(0,i):s=e.substr(nz(t-i/2),i);var n;return r?n="Syntax error: "+r+" near "+s:n="Syntax error near "+s,new Error(n)}function nz(e){return e<0?0:e}}),oz=O((KJe,sz)=>{var JAe=require("assert"),Bx=require("path"),az=require("stream").Readable,ZAe=require("util");function eP(e,t){JAe.strictEqual(typeof e,"string","`dir` parameter should be of type string. Got type: "+typeof e);var r={objectMode:!0},i={queueMethod:"shift",pathSorter:void 0,filter:void 0,depthLimit:void 0};t=Object.assign(i,t,r),az.call(this,t),this.root=Bx.resolve(e),this.paths=[this.root],this.options=t,t.depthLimit>-1&&(this.rootDepth=this.root.split(Bx.sep).length+1),this.fs=t.fs||ii()}ZAe.inherits(eP,az);eP.prototype._read=function(){if(this.paths.length===0)return this.push(null);var e=this,t=this.paths[this.options.queueMethod]();e.fs.lstat(t,function(r,i){var s={path:t,stats:i};if(r)return e.emit("error",r,s);if(!i.isDirectory()||e.rootDepth&&t.split(Bx.sep).length-e.rootDepth>=e.options.depthLimit)return e.push(s);e.fs.readdir(t,function(n,a){if(n)return e.push(s),e.emit("error",n,s);a=a.map(function(o){return Bx.join(t,o)}),e.options.filter&&(a=a.filter(e.options.filter)),e.options.pathSorter&&a.sort(e.options.pathSorter),e.paths.push.apply(e.paths,a),e.push(s)})})};function QAe(e,t){return new eP(e,t)}sz.exports=QAe}),lz=O((XJe,cz)=>{var eTe=oz();cz.exports=(e,t)=>new Promise((r,i)=>{let s=[];eTe(e,t).on("error",i).on("end",()=>r(s)).on("data",({path:n,stats:a})=>s.push({path:n,stats:a}))})}),rP=O((YJe,uz)=>{"use strict";var tTe=e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return"0x"+(t.length%2?"0":"")+t},rTe=(e,t,r)=>{if(!t)return{message:e.message+" while parsing empty string",position:0};let i=e.message.match(/^Unexpected token (.) .*position\s+(\d+)/i),s=i?+i[2]:e.message.match(/^Unexpected end of JSON.*/i)?t.length-1:null,n=i?e.message.replace(/^Unexpected token ./,`Unexpected token ${JSON.stringify(i[1])} (${tTe(i[1])})`):e.message;if(s!=null){let a=s<=r?0:s-r,o=s+r>=t.length?t.length:s+r,u=(a===0?"":"...")+t.slice(a,o)+(o===t.length?"":"..."),d=t===u?"":"near ";return{message:n+` while parsing ${d}${JSON.stringify(u)}`,position:s}}else return{message:n+` while parsing '${t.slice(0,r*2)}'`,position:0}},tP=class extends SyntaxError{constructor(t,r,i,s){i=i||20;let n=rTe(t,r,i);super(n.message);Object.assign(this,n),this.code="EJSONPARSE",this.systemError=t,Error.captureStackTrace(this,s||this.constructor)}get name(){return this.constructor.name}set name(t){}get[Symbol.toStringTag](){return this.constructor.name}},nTe=Symbol.for("indent"),iTe=Symbol.for("newline"),sTe=/^\s*[{\[]((?:\r?\n)+)([\s\t]*)/,aTe=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,Ux=(e,t,r)=>{let i=fz(e);r=r||20;try{let[,s=`
`,n="  "]=i.match(aTe)||i.match(sTe)||[,"",""],a=JSON.parse(i,t);return a&&typeof a=="object"&&(a[iTe]=s,a[nTe]=n),a}catch(s){if(typeof e!="string"&&!Buffer.isBuffer(e)){let n=Array.isArray(e)&&e.length===0;throw Object.assign(new TypeError(`Cannot parse ${n?"an empty array":String(e)}`),{code:"EJSONPARSE",systemError:s})}throw new tP(s,i,r,Ux)}},fz=e=>String(e).replace(/^\uFEFF/,"");uz.exports=Ux;Ux.JSONParseError=tP;Ux.noExceptions=(e,t)=>{try{return JSON.parse(fz(e),t)}catch(r){}}}),hz=O(nP=>{var Ad=require("path"),Oh=process.platform==="win32",kh=require("fs"),oTe=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function cTe(){var e;if(oTe){var t=new Error;e=r}else e=i;return e;function r(s){s&&(t.message=s.message,s=t,i(s))}function i(s){if(s){if(process.throwDeprecation)throw s;if(!process.noDeprecation){var n="fs: missing callback "+(s.stack||s.message);process.traceDeprecation?console.trace(n):console.error(n)}}}}function lTe(e){return typeof e=="function"?e:cTe()}var JJe=Ad.normalize;Oh?Xu=/(.*?)(?:[\/\\]+|$)/g:Xu=/(.*?)(?:[\/]+|$)/g;var Xu;Oh?T1=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:T1=/^[\/]*/;var T1;nP.realpathSync=function(t,r){if(t=Ad.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var i=t,s={},n={},a,o,u,d;m();function m(){var $=T1.exec(t);a=$[0].length,o=$[0],u=$[0],d="",Oh&&!n[u]&&(kh.lstatSync(u),n[u]=!0)}for(;a<t.length;){Xu.lastIndex=a;var f=Xu.exec(t);if(d=o,o+=f[0],u=d+f[1],a=Xu.lastIndex,n[u]||r&&r[u]===u)continue;var x;if(r&&Object.prototype.hasOwnProperty.call(r,u))x=r[u];else{var T=kh.lstatSync(u);if(!T.isSymbolicLink()){n[u]=!0,r&&(r[u]=u);continue}var q=null;if(!Oh){var F=T.dev.toString(32)+":"+T.ino.toString(32);s.hasOwnProperty(F)&&(q=s[F])}q===null&&(kh.statSync(u),q=kh.readlinkSync(u)),x=Ad.resolve(d,q),r&&(r[u]=x),Oh||(s[F]=q)}t=Ad.resolve(x,t.slice(a)),m()}return r&&(r[i]=t),t};nP.realpath=function(t,r,i){if(typeof i!="function"&&(i=lTe(r),r=null),t=Ad.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(i.bind(null,null,r[t]));var s=t,n={},a={},o,u,d,m;f();function f(){var $=T1.exec(t);o=$[0].length,u=$[0],d=$[0],m="",Oh&&!a[d]?kh.lstat(d,function(H){if(H)return i(H);a[d]=!0,x()}):process.nextTick(x)}function x(){if(o>=t.length)return r&&(r[s]=t),i(null,t);Xu.lastIndex=o;var $=Xu.exec(t);return m=u,u+=$[0],d=m+$[1],o=Xu.lastIndex,a[d]||r&&r[d]===d?process.nextTick(x):r&&Object.prototype.hasOwnProperty.call(r,d)?F(r[d]):kh.lstat(d,T)}function T($,H){if($)return i($);if(!H.isSymbolicLink())return a[d]=!0,r&&(r[d]=d),process.nextTick(x);if(!Oh){var oe=H.dev.toString(32)+":"+H.ino.toString(32);if(n.hasOwnProperty(oe))return q(null,n[oe],d)}kh.stat(d,function(Q){if(Q)return i(Q);kh.readlink(d,function(pe,ve){Oh||(n[oe]=ve),q(pe,ve)})})}function q($,H,oe){if($)return i($);var Q=Ad.resolve(m,H);r&&(r[oe]=Q),F(Q)}function F($){t=Ad.resolve($,t.slice(o)),f()}}}),oP=O((QJe,pz)=>{pz.exports=Ph;Ph.realpath=Ph;Ph.sync=iP;Ph.realpathSync=iP;Ph.monkeypatch=uTe;Ph.unmonkeypatch=fTe;var yg=require("fs"),sP=yg.realpath,aP=yg.realpathSync,hTe=process.version,dz=/^v[0-5]\./.test(hTe),mz=hz();function gz(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Ph(e,t,r){if(dz)return sP(e,t,r);typeof t=="function"&&(r=t,t=null),sP(e,t,function(i,s){gz(i)?mz.realpath(e,t,r):r(i,s)})}function iP(e,t){if(dz)return aP(e,t);try{return aP(e,t)}catch(r){if(gz(r))return mz.realpathSync(e,t);throw r}}function uTe(){yg.realpath=Ph,yg.realpathSync=iP}function fTe(){yg.realpath=sP,yg.realpathSync=aP}}),vz=O((eZe,yz)=>{yz.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var s=t(e[i],i);pTe(s)?r.push.apply(r,s):r.push(s)}return r};var pTe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}}),Ez=O((tZe,_z)=>{"use strict";_z.exports=wz;function wz(e,t,r){e instanceof RegExp&&(e=bz(e,r)),t instanceof RegExp&&(t=bz(t,r));var i=xz(e,t,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+e.length,i[1]),post:r.slice(i[1]+t.length)}}function bz(e,t){var r=t.match(e);return r?r[0]:null}wz.range=xz;function xz(e,t,r){var i,s,n,a,o,u=r.indexOf(e),d=r.indexOf(t,u+1),m=u;if(u>=0&&d>0){for(i=[],n=r.length;m>=0&&!o;)m==u?(i.push(m),u=r.indexOf(e,m+1)):i.length==1?o=[i.pop(),d]:(s=i.pop(),s<n&&(n=s,a=d),d=r.indexOf(t,m+1)),m=u<d&&u>=0?u:d;i.length&&(o=[n,a])}return o}}),Pz=O((rZe,Sz)=>{var dTe=vz(),Rz=Ez();Sz.exports=mTe;var Az="\0SLASH"+Math.random()+"\0",Tz="\0OPEN"+Math.random()+"\0",cP="\0CLOSE"+Math.random()+"\0",Cz="\0COMMA"+Math.random()+"\0",Oz="\0PERIOD"+Math.random()+"\0";function lP(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function gTe(e){return e.split("\\\\").join(Az).split("\\{").join(Tz).split("\\}").join(cP).split("\\,").join(Cz).split("\\.").join(Oz)}function yTe(e){return e.split(Az).join("\\").split(Tz).join("{").split(cP).join("}").split(Cz).join(",").split(Oz).join(".")}function kz(e){if(!e)return[""];var t=[],r=Rz("{","}",e);if(!r)return e.split(",");var i=r.pre,s=r.body,n=r.post,a=i.split(",");a[a.length-1]+="{"+s+"}";var o=kz(n);return n.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),t.push.apply(t,a),t}function mTe(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),vg(gTe(e),!0).map(yTe)):[]}function vTe(e){return"{"+e+"}"}function _Te(e){return/^-?0\d/.test(e)}function wTe(e,t){return e<=t}function bTe(e,t){return e>=t}function vg(e,t){var r=[],i=Rz("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),n=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),a=s||n,o=i.body.indexOf(",")>=0;if(!a&&!o)return i.post.match(/,.*\}/)?(e=i.pre+"{"+i.body+cP+i.post,vg(e)):[e];var u;if(a)u=i.body.split(/\.\./);else if(u=kz(i.body),u.length===1&&(u=vg(u[0],!1).map(vTe),u.length===1)){var m=i.post.length?vg(i.post,!1):[""];return m.map(function(Ot){return i.pre+u[0]+Ot})}var d=i.pre,m=i.post.length?vg(i.post,!1):[""],f;if(a){var x=lP(u[0]),T=lP(u[1]),q=Math.max(u[0].length,u[1].length),F=u.length==3?Math.abs(lP(u[2])):1,$=wTe,H=T<x;H&&(F*=-1,$=bTe);var oe=u.some(_Te);f=[];for(var Q=x;$(Q,T);Q+=F){var pe;if(n)pe=String.fromCharCode(Q),pe==="\\"&&(pe="");else if(pe=String(Q),oe){var ve=q-pe.length;if(ve>0){var Ce=new Array(ve+1).join("0");Q<0?pe="-"+Ce+pe.slice(1):pe=Ce+pe}}f.push(pe)}}else f=dTe(u,function(Ie){return vg(Ie,!1)});for(var fe=0;fe<f.length;fe++)for(var Pe=0;Pe<m.length;Pe++){var Ve=d+f[fe]+m[Pe];(!t||a||Ve)&&r.push(Ve)}return r}}),O1=O((nZe,Iz)=>{Iz.exports=So;So.Minimatch=Ri;var C1={sep:"/"};try{C1=require("path")}catch(e){}var uP=So.GLOBSTAR=Ri.GLOBSTAR={},xTe=Pz(),qz={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},fP="[^/]",hP=fP+"*?",ETe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",STe="(?:(?!(?:\\/|^)\\.).)*?",Nz=RTe("().*{}+?[]^$\\!");function RTe(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Mz=/\/+/;So.filter=ATe;function ATe(e,t){return t=t||{},function(r,i,s){return So(r,e,t)}}function Lz(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(i){r[i]=t[i]}),Object.keys(e).forEach(function(i){r[i]=e[i]}),r}So.defaults=function(e){if(!e||!Object.keys(e).length)return So;var t=So,r=function(s,n,a){return t.minimatch(s,n,Lz(e,a))};return r.Minimatch=function(s,n){return new t.Minimatch(s,Lz(e,n))},r};Ri.defaults=function(e){return!e||!Object.keys(e).length?Ri:So.defaults(e).Minimatch};function So(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new Ri(t,r).match(e)}function Ri(e,t){if(!(this instanceof Ri))return new Ri(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),C1.sep!=="/"&&(e=e.split(C1.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Ri.prototype.debug=function(){};Ri.prototype.make=TTe;function TTe(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(Mz)}),this.debug(this.pattern,r),r=r.map(function(i,s,n){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Ri.prototype.parseNegate=CTe;function CTe(){var e=this.pattern,t=!1,r=this.options,i=0;if(r.nonegate)return;for(var s=0,n=e.length;s<n&&e.charAt(s)==="!";s++)t=!t,i++;i&&(this.pattern=e.substr(i)),this.negate=t}So.braceExpand=function(e,t){return Dz(e,t)};Ri.prototype.braceExpand=Dz;function Dz(e,t){if(t||(this instanceof Ri?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:xTe(e)}Ri.prototype.parse=OTe;var Hx={};function OTe(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return uP;if(e==="")return"";var i="",s=!!r.nocase,n=!1,a=[],o=[],u,d=!1,m=-1,f=-1,x=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",T=this;function q(){if(u){switch(u){case"*":i+=hP,s=!0;break;case"?":i+=fP,s=!0;break;default:i+="\\"+u;break}T.debug("clearStateChar %j %j",u,i),u=!1}}for(var F=0,$=e.length,H;F<$&&(H=e.charAt(F));F++){if(this.debug("%s	%s %s %j",e,F,i,H),n&&Nz[H]){i+="\\"+H,n=!1;continue}switch(H){case"/":return!1;case"\\":q(),n=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,F,i,H),d){this.debug("  in class"),H==="!"&&F===f+1&&(H="^"),i+=H;continue}T.debug("call clearStateChar %j",u),q(),u=H,r.noext&&q();continue;case"(":if(d){i+="(";continue}if(!u){i+="\\(";continue}a.push({type:u,start:F-1,reStart:i.length,open:qz[u].open,close:qz[u].close}),i+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,i),u=!1;continue;case")":if(d||!a.length){i+="\\)";continue}q(),s=!0;var oe=a.pop();i+=oe.close,oe.type==="!"&&o.push(oe),oe.reEnd=i.length;continue;case"|":if(d||!a.length||n){i+="\\|",n=!1;continue}q(),i+="|";continue;case"[":if(q(),d){i+="\\"+H;continue}d=!0,f=F,m=i.length,i+=H;continue;case"]":if(F===f+1||!d){i+="\\"+H,n=!1;continue}if(d){var Q=e.substring(f+1,F);try{RegExp("["+Q+"]")}catch(tr){var pe=this.parse(Q,Hx);i=i.substr(0,m)+"\\["+pe[0]+"\\]",s=s||pe[1],d=!1;continue}}s=!0,d=!1,i+=H;continue;default:q(),n?n=!1:Nz[H]&&!(H==="^"&&d)&&(i+="\\"),i+=H}}for(d&&(Q=e.substr(f+1),pe=this.parse(Q,Hx),i=i.substr(0,m)+"\\["+pe[0],s=s||pe[1]),oe=a.pop();oe;oe=a.pop()){var ve=i.slice(oe.reStart+oe.open.length);this.debug("setting tail",i,oe),ve=ve.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(tr,fn,pi){return pi||(pi="\\"),fn+fn+pi+"|"}),this.debug(`tail=%j
   %s`,ve,ve,oe,i);var Ce=oe.type==="*"?hP:oe.type==="?"?fP:"\\"+oe.type;s=!0,i=i.slice(0,oe.reStart)+Ce+"\\("+ve}q(),n&&(i+="\\\\");var fe=!1;switch(i.charAt(0)){case".":case"[":case"(":fe=!0}for(var Pe=o.length-1;Pe>-1;Pe--){var Ve=o[Pe],Ie=i.slice(0,Ve.reStart),Ot=i.slice(Ve.reStart,Ve.reEnd-8),lt=i.slice(Ve.reEnd-8,Ve.reEnd),Ye=i.slice(Ve.reEnd);lt+=Ye;var At=Ie.split("(").length-1,gt=Ye;for(F=0;F<At;F++)gt=gt.replace(/\)[+*?]?/,"");Ye=gt;var ut="";Ye===""&&t!==Hx&&(ut="$");var $t=Ie+Ot+Ye+ut+lt;i=$t}if(i!==""&&s&&(i="(?=.)"+i),fe&&(i=x+i),t===Hx)return[i,s];if(!s)return kTe(e);var de=r.nocase?"i":"";try{var cr=new RegExp("^"+i+"$",de)}catch(tr){return new RegExp("$.")}return cr._glob=e,cr._src=i,cr}So.makeRe=function(e,t){return new Ri(e,t||{}).makeRe()};Ri.prototype.makeRe=PTe;function PTe(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?hP:t.dot?ETe:STe,i=t.nocase?"i":"",s=e.map(function(n){return n.map(function(a){return a===uP?r:typeof a=="string"?ITe(a):a._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(n){this.regexp=!1}return this.regexp}So.match=function(e,t,r){r=r||{};var i=new Ri(t,r);return e=e.filter(function(s){return i.match(s)}),i.options.nonull&&!e.length&&e.push(t),e};Ri.prototype.match=qTe;function qTe(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;C1.sep!=="/"&&(e=e.split(C1.sep).join("/")),e=e.split(Mz),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,n;for(n=e.length-1;n>=0&&!(s=e[n],s);n--);for(n=0;n<i.length;n++){var a=i[n],o=e;r.matchBase&&a.length===1&&(o=[s]);var u=this.matchOne(o,a,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}Ri.prototype.matchOne=function(e,t,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,n=0,a=e.length,o=t.length;s<a&&n<o;s++,n++){this.debug("matchOne loop");var u=t[n],d=e[s];if(this.debug(t,u,d),u===!1)return!1;if(u===uP){this.debug("GLOBSTAR",[t,u,d]);var m=s,f=n+1;if(f===o){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;m<a;){var x=e[m];if(this.debug(`
globstar while`,e,m,t,f,x),this.matchOne(e.slice(m),t.slice(f),r))return this.debug("globstar found match!",m,a,x),!0;if(x==="."||x===".."||!i.dot&&x.charAt(0)==="."){this.debug("dot detected!",e,m,t,f);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,m,t,f),m===a))}var T;if(typeof u=="string"?(i.nocase?T=d.toLowerCase()===u.toLowerCase():T=d===u,this.debug("string match",u,d,T)):(T=d.match(u),this.debug("pattern match",u,d,T)),!T)return!1}if(s===a&&n===o)return!0;if(s===a)return r;if(n===o){var q=s===a-1&&e[s]==="";return q}throw new Error("wtf?")};function kTe(e){return e.replace(/\\(.)/g,"$1")}function ITe(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}),zx=O((iZe,Gx)=>{"use strict";function $z(e){return e.charAt(0)==="/"}function jz(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),i=r[1]||"",s=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||s)}Gx.exports=process.platform==="win32"?jz:$z;Gx.exports.posix=$z;Gx.exports.win32=jz}),dP=O(El=>{El.alphasort=Fz;El.alphasorti=Bz;El.setopts=NTe;El.ownProp=Uz;El.makeAbs=k1;El.finish=MTe;El.mark=LTe;El.isIgnored=Hz;El.childrenIgnored=DTe;function Uz(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _g=require("path"),$Te=O1(),Gz=zx(),pP=$Te.Minimatch;function Bz(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function Fz(e,t){return e.localeCompare(t)}function FTe(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(jTe))}function jTe(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new pP(r,{dot:!0})}return{matcher:new pP(e,{dot:!0}),gmatcher:t}}function NTe(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),FTe(e,r),e.changedCwd=!1;var i=process.cwd();Uz(r,"cwd")?(e.cwd=_g.resolve(r.cwd),e.changedCwd=e.cwd!==i):e.cwd=i,e.root=r.root||_g.resolve(e.cwd,"/"),e.root=_g.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=Gz(e.cwd)?e.cwd:k1(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new pP(t,r),e.options=e.minimatch.options}function MTe(e){for(var t=e.nounique,r=t?[]:Object.create(null),i=0,s=e.matches.length;i<s;i++){var n=e.matches[i];if(!n||Object.keys(n).length===0){if(e.nonull){var a=e.minimatch.globSet[i];t?r.push(a):r[a]=!0}}else{var o=Object.keys(n);t?r.push.apply(r,o):o.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?Bz:Fz)),e.mark){for(var i=0;i<r.length;i++)r[i]=e._mark(r[i]);e.nodir&&(r=r.filter(function(u){var d=!/\/$/.test(u),m=e.cache[u]||e.cache[k1(e,u)];return d&&m&&(d=m!=="DIR"&&!Array.isArray(m)),d}))}e.ignore.length&&(r=r.filter(function(u){return!Hz(e,u)})),e.found=r}function LTe(e,t){var r=k1(e,t),i=e.cache[r],s=t;if(i){var n=i==="DIR"||Array.isArray(i),a=t.slice(-1)==="/";if(n&&!a?s+="/":!n&&a&&(s=s.slice(0,-1)),s!==t){var o=k1(e,s);e.statCache[o]=e.statCache[r],e.cache[o]=e.cache[r]}}return s}function k1(e,t){var r=t;return t.charAt(0)==="/"?r=_g.join(e.root,t):Gz(t)||t===""?r=t:e.changedCwd?r=_g.resolve(e.cwd,t):r=_g.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Hz(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function DTe(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}}),Xz=O((fZe,zz)=>{zz.exports=Vz;Vz.GlobSync=ci;var Vx=require("fs"),BTe=oP(),Wz=O1(),aZe=Wz.Minimatch,oZe=P1().Glob,cZe=require("util"),mP=require("path"),Kz=require("assert"),Wx=zx(),Yu=dP(),lZe=Yu.alphasort,uZe=Yu.alphasorti,UTe=Yu.setopts,gP=Yu.ownProp,HTe=Yu.childrenIgnored,GTe=Yu.isIgnored;function Vz(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ci(e,t).found}function ci(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ci))return new ci(e,t);if(UTe(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}ci.prototype._finish=function(){if(Kz(this instanceof ci),this.realpath){var e=this;this.matches.forEach(function(t,r){var i=e.matches[r]=Object.create(null);for(var s in t)try{s=e._makeAbs(s);var n=BTe.realpathSync(s,e.realpathCache);i[n]=!0}catch(a){if(a.syscall==="stat")i[e._makeAbs(s)]=!0;else throw a}})}Yu.finish(this)};ci.prototype._process=function(e,t,r){Kz(this instanceof ci);for(var i=0;typeof e[i]=="string";)i++;var s;switch(i){case e.length:this._processSimple(e.join("/"),t);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var n=e.slice(i),a;s===null?a=".":((Wx(s)||Wx(e.join("/")))&&((!s||!Wx(s))&&(s="/"+s)),a=s);var o=this._makeAbs(a);if(HTe(this,a))return;var u=n[0]===Wz.GLOBSTAR;u?this._processGlobStar(s,a,o,n,t,r):this._processReaddir(s,a,o,n,t,r)};ci.prototype._processReaddir=function(e,t,r,i,s,n){var a=this._readdir(r,n);if(!a)return;for(var o=i[0],u=!!this.minimatch.negate,d=o._glob,m=this.dot||d.charAt(0)===".",f=[],x=0;x<a.length;x++){var T=a[x];if(T.charAt(0)!=="."||m){var q;u&&!e?q=!T.match(o):q=T.match(o),q&&f.push(T)}}var F=f.length;if(F===0)return;if(i.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var x=0;x<F;x++){var T=f[x];e&&(e.slice(-1)!=="/"?T=e+"/"+T:T=e+T),T.charAt(0)==="/"&&!this.nomount&&(T=mP.join(this.root,T)),this._emitMatch(s,T)}return}i.shift();for(var x=0;x<F;x++){var T=f[x],$;e?$=[e,T]:$=[T],this._process($.concat(i),s,n)}};ci.prototype._emitMatch=function(e,t){if(GTe(this,t))return;var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),this.matches[e][t])return;if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[e][t]=!0,this.stat&&this._stat(t)};ci.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,i;try{r=Vx.lstatSync(e)}catch(n){if(n.code==="ENOENT")return null}var s=r&&r.isSymbolicLink();return this.symlinks[e]=s,!s&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};ci.prototype._readdir=function(e,t){var r;if(t&&!gP(this.symlinks,e))return this._readdirInGlobStar(e);if(gP(this.cache,e)){var i=this.cache[e];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(e,Vx.readdirSync(e))}catch(s){return this._readdirError(e,s),null}};ci.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,t};ci.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=t.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};ci.prototype._processGlobStar=function(e,t,r,i,s,n){var a=this._readdir(r,n);if(!a)return;var o=i.slice(1),u=e?[e]:[],d=u.concat(o);this._process(d,s,!1);var m=a.length,f=this.symlinks[r];if(f&&n)return;for(var x=0;x<m;x++){var T=a[x];if(T.charAt(0)==="."&&!this.dot)continue;var q=u.concat(a[x],o);this._process(q,s,!0);var F=u.concat(a[x],i);this._process(F,s,!0)}};ci.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return;if(e&&Wx(e)&&!this.nomount){var i=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=mP.join(this.root,e):(e=mP.resolve(this.root,e),i&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)};ci.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&gP(this.cache,t)){var a=this.cache[t];if(Array.isArray(a)&&(a="DIR"),!r||a==="DIR")return a;if(r&&a==="FILE")return!1}var i,s=this.statCache[t];if(!s){var n;try{n=Vx.lstatSync(t)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(n&&n.isSymbolicLink())try{s=Vx.statSync(t)}catch(o){s=n}else s=n}this.statCache[t]=s;var a=!0;return s&&(a=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,r&&a==="FILE"?!1:a};ci.prototype._mark=function(e){return Yu.mark(this,e)};ci.prototype._makeAbs=function(e){return Yu.makeAbs(this,e)}}),yP=O((hZe,Yz)=>{Yz.exports=Jz;function Jz(e,t){if(e&&t)return Jz(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];var n=e.apply(this,i),a=i[i.length-1];return typeof n=="function"&&n!==a&&Object.keys(a).forEach(function(o){n[o]=a[o]}),n}}}),_P=O((pZe,vP)=>{var Zz=yP();vP.exports=Zz(Kx);vP.exports.strict=Zz(Qz);Kx.proto=Kx(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Kx(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Qz(this)},configurable:!0})});function Kx(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Qz(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}}),tV=O((dZe,eV)=>{var zTe=yP(),I1=Object.create(null),VTe=_P();eV.exports=zTe(WTe);function WTe(e,t){return I1[e]?(I1[e].push(t),null):(I1[e]=[t],KTe(e))}function KTe(e){return VTe(function t(){var r=I1[e],i=r.length,s=XTe(arguments);try{for(var n=0;n<i;n++)r[n].apply(null,s)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){t.apply(null,s)})):delete I1[e]}})}function XTe(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i]=e[i];return r}}),P1=O((_Ze,rV)=>{rV.exports=Td;var Xx=require("fs"),YTe=oP(),nV=O1(),mZe=nV.Minimatch,JTe=Qc(),ZTe=require("events").EventEmitter,wP=require("path"),bP=require("assert"),q1=zx(),xP=Xz(),Ju=dP(),gZe=Ju.alphasort,yZe=Ju.alphasorti,QTe=Ju.setopts,EP=Ju.ownProp,SP=tV(),vZe=require("util"),eCe=Ju.childrenIgnored,tCe=Ju.isIgnored,rCe=_P();function Td(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return xP(e,t)}return new Tr(e,t,r)}Td.sync=xP;var nCe=Td.GlobSync=xP.GlobSync;Td.glob=Td;function iCe(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e}Td.hasMagic=function(e,t){var r=iCe({},t);r.noprocess=!0;var i=new Tr(e,r),s=i.minimatch.set;if(!e)return!1;if(s.length>1)return!0;for(var n=0;n<s[0].length;n++)if(typeof s[0][n]!="string")return!0;return!1};Td.Glob=Tr;JTe(Tr,ZTe);function Tr(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new nCe(e,t)}if(!(this instanceof Tr))return new Tr(e,t,r);QTe(this,e,t),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=rCe(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return o();for(var n=!0,a=0;a<i;a++)this._process(this.minimatch.set[a],a,!1,o);n=!1;function o(){--s._processing,s._processing<=0&&(n?process.nextTick(function(){s._finish()}):s._finish())}}Tr.prototype._finish=function(){if(bP(this instanceof Tr),this.aborted)return;if(this.realpath&&!this._didRealpath)return this._realpath();Ju.finish(this),this.emit("end",this.found)};Tr.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--e===0&&t._finish()}};Tr.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var i=Object.keys(r),s=this,n=i.length;if(n===0)return t();var a=this.matches[e]=Object.create(null);i.forEach(function(o,u){o=s._makeAbs(o),YTe.realpath(o,s.realpathCache,function(d,m){d?d.syscall==="stat"?a[o]=!0:s.emit("error",d):a[m]=!0,--n===0&&(s.matches[e]=a,t())})})};Tr.prototype._mark=function(e){return Ju.mark(this,e)};Tr.prototype._makeAbs=function(e){return Ju.makeAbs(this,e)};Tr.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Tr.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Tr.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<i.length;t++){var s=i[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}};Tr.prototype._process=function(e,t,r,i){if(bP(this instanceof Tr),bP(typeof i=="function"),this.aborted)return;if(this._processing++,this.paused){this._processQueue.push([e,t,r,i]);return}for(var s=0;typeof e[s]=="string";)s++;var n;switch(s){case e.length:this._processSimple(e.join("/"),t,i);return;case 0:n=null;break;default:n=e.slice(0,s).join("/");break}var a=e.slice(s),o;n===null?o=".":((q1(n)||q1(e.join("/")))&&((!n||!q1(n))&&(n="/"+n)),o=n);var u=this._makeAbs(o);if(eCe(this,o))return i();var d=a[0]===nV.GLOBSTAR;d?this._processGlobStar(n,o,u,a,t,r,i):this._processReaddir(n,o,u,a,t,r,i)};Tr.prototype._processReaddir=function(e,t,r,i,s,n,a){var o=this;this._readdir(r,n,function(u,d){return o._processReaddir2(e,t,r,i,s,n,d,a)})};Tr.prototype._processReaddir2=function(e,t,r,i,s,n,a,o){if(!a)return o();for(var u=i[0],d=!!this.minimatch.negate,m=u._glob,f=this.dot||m.charAt(0)===".",x=[],T=0;T<a.length;T++){var q=a[T];if(q.charAt(0)!=="."||f){var F;d&&!e?F=!q.match(u):F=q.match(u),F&&x.push(q)}}var $=x.length;if($===0)return o();if(i.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var T=0;T<$;T++){var q=x[T];e&&(e!=="/"?q=e+"/"+q:q=e+q),q.charAt(0)==="/"&&!this.nomount&&(q=wP.join(this.root,q)),this._emitMatch(s,q)}return o()}i.shift();for(var T=0;T<$;T++){var q=x[T],H;e&&(e!=="/"?q=e+"/"+q:q=e+q),this._process([q].concat(i),s,n,o)}o()};Tr.prototype._emitMatch=function(e,t){if(this.aborted)return;if(tCe(this,t))return;if(this.paused){this._emitQueue.push([e,t]);return}var r=q1(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),this.matches[e][t])return;if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[e][t]=!0;var s=this.statCache[r];s&&this.emit("stat",t,s),this.emit("match",t)};Tr.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,i=this,s=SP(r,n);s&&Xx.lstat(e,s);function n(a,o){if(a&&a.code==="ENOENT")return t();var u=o&&o.isSymbolicLink();i.symlinks[e]=u,!u&&o&&!o.isDirectory()?(i.cache[e]="FILE",t()):i._readdir(e,!1,t)}};Tr.prototype._readdir=function(e,t,r){if(this.aborted)return;if(r=SP("readdir\0"+e+"\0"+t,r),!r)return;if(t&&!EP(this.symlinks,e))return this._readdirInGlobStar(e,r);if(EP(this.cache,e)){var i=this.cache[e];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var s=this;Xx.readdir(e,sCe(this,e,r))};function sCe(e,t,r){return function(i,s){i?e._readdirError(t,i,r):e._readdirEntries(t,s,r)}}Tr.prototype._readdirEntries=function(e,t,r){if(this.aborted)return;if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var s=t[i];e==="/"?s=e+s:s=e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,r(null,t)};Tr.prototype._readdirError=function(e,t,r){if(this.aborted)return;switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(e);if(this.cache[i]="FILE",i===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()};Tr.prototype._processGlobStar=function(e,t,r,i,s,n,a){var o=this;this._readdir(r,n,function(u,d){o._processGlobStar2(e,t,r,i,s,n,d,a)})};Tr.prototype._processGlobStar2=function(e,t,r,i,s,n,a,o){if(!a)return o();var u=i.slice(1),d=e?[e]:[],m=d.concat(u);this._process(m,s,!1,o);var f=this.symlinks[r],x=a.length;if(f&&n)return o();for(var T=0;T<x;T++){var q=a[T];if(q.charAt(0)==="."&&!this.dot)continue;var F=d.concat(a[T],u);this._process(F,s,!0,o);var $=d.concat(a[T],i);this._process($,s,!0,o)}o()};Tr.prototype._processSimple=function(e,t,r){var i=this;this._stat(e,function(s,n){i._processSimple2(e,t,s,n,r)})};Tr.prototype._processSimple2=function(e,t,r,i,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!i)return s();if(e&&q1(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=wP.join(this.root,e):(e=wP.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()};Tr.prototype._stat=function(e,t){var r=this._makeAbs(e),i=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&EP(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!i||s==="DIR")return t(null,s);if(i&&s==="FILE")return t()}var n,a=this.statCache[r];if(a!==void 0){if(a===!1)return t(null,a);var o=a.isDirectory()?"DIR":"FILE";return i&&o==="FILE"?t():t(null,o,a)}var u=this,d=SP("stat\0"+r,m);d&&Xx.lstat(r,d);function m(f,x){if(x&&x.isSymbolicLink())return Xx.stat(r,function(T,q){T?u._stat2(e,r,null,x,t):u._stat2(e,r,T,q,t)});u._stat2(e,r,f,x,t)}};Tr.prototype._stat2=function(e,t,r,i,s){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,s();var n=e.slice(-1)==="/";if(this.statCache[t]=i,t.slice(-1)==="/"&&i&&!i.isDirectory())return s(null,!1,i);var a=!0;return i&&(a=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,n&&a==="FILE"?s():s(null,a,i)}}),hV=O((wZe,iV)=>{iV.exports=RP;RP.sync=sV;var br=require("assert"),aV=require("path"),oV=require("fs"),wg=void 0;try{wg=P1()}catch(e){}var cV=parseInt("666",8),aCe={nosort:!0,silent:!0},AP=0,N1=process.platform==="win32";function lV(e){var t=["unlink","chmod","stat","lstat","rmdir","readdir"];if(t.forEach(function(r){e[r]=e[r]||oV[r],r=r+"Sync",e[r]=e[r]||oV[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&wg===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||aCe}function RP(e,t,r){typeof t=="function"&&(r=t,t={}),br(e,"rimraf: missing path"),br.equal(typeof e,"string","rimraf: path should be a string"),br.equal(typeof r,"function","rimraf: callback function required"),br(t,"rimraf: invalid options argument provided"),br.equal(typeof t,"object","rimraf: options should be object"),lV(t);var i=0,s=null,n=0;if(t.disableGlob||!wg.hasMagic(e))return o(null,[e]);t.lstat(e,function(u,d){if(!u)return o(null,[e]);wg(e,t.glob,o)});function a(u){s=s||u,--n===0&&r(s)}function o(u,d){if(u)return r(u);if(n=d.length,n===0)return r();d.forEach(function(m){TP(m,t,function f(x){if(x){if((x.code==="EBUSY"||x.code==="ENOTEMPTY"||x.code==="EPERM")&&i<t.maxBusyTries){i++;var T=i*100;return setTimeout(function(){TP(m,t,f)},T)}if(x.code==="EMFILE"&&AP<t.emfileWait)return setTimeout(function(){TP(m,t,f)},AP++);x.code==="ENOENT"&&(x=null)}AP=0,a(x)})})}}function TP(e,t,r){br(e),br(t),br(typeof r=="function"),t.lstat(e,function(i,s){if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&N1&&uV(e,t,i,r),s&&s.isDirectory())return Yx(e,t,i,r);t.unlink(e,function(n){if(n){if(n.code==="ENOENT")return r(null);if(n.code==="EPERM")return N1?uV(e,t,n,r):Yx(e,t,n,r);if(n.code==="EISDIR")return Yx(e,t,n,r)}return r(n)})})}function uV(e,t,r,i){br(e),br(t),br(typeof i=="function"),r&&br(r instanceof Error),t.chmod(e,cV,function(s){s?i(s.code==="ENOENT"?null:r):t.stat(e,function(n,a){n?i(n.code==="ENOENT"?null:r):a.isDirectory()?Yx(e,t,r,i):t.unlink(e,i)})})}function fV(e,t,r){br(e),br(t),r&&br(r instanceof Error);try{t.chmodSync(e,cV)}catch(s){if(s.code==="ENOENT")return;throw r}try{var i=t.statSync(e)}catch(s){if(s.code==="ENOENT")return;throw r}i.isDirectory()?Jx(e,t,r):t.unlinkSync(e)}function Yx(e,t,r,i){br(e),br(t),r&&br(r instanceof Error),br(typeof i=="function"),t.rmdir(e,function(s){s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?oCe(e,t,i):s&&s.code==="ENOTDIR"?i(r):i(s)})}function oCe(e,t,r){br(e),br(t),br(typeof r=="function"),t.readdir(e,function(i,s){if(i)return r(i);var n=s.length;if(n===0)return t.rmdir(e,r);var a;s.forEach(function(o){RP(aV.join(e,o),t,function(u){if(a)return;if(u)return r(a=u);--n===0&&t.rmdir(e,r)})})})}function sV(e,t){t=t||{},lV(t),br(e,"rimraf: missing path"),br.equal(typeof e,"string","rimraf: path should be a string"),br(t,"rimraf: missing options"),br.equal(typeof t,"object","rimraf: options should be object");var r;if(t.disableGlob||!wg.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(n){r=wg.sync(e,t.glob)}if(!r.length)return;for(var i=0;i<r.length;i++){var e=r[i];try{var s=t.lstatSync(e)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&N1&&fV(e,t,a)}try{s&&s.isDirectory()?Jx(e,t,null):t.unlinkSync(e)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return N1?fV(e,t,a):Jx(e,t,a);if(a.code!=="EISDIR")throw a;Jx(e,t,a)}}}function Jx(e,t,r){br(e),br(t),r&&br(r instanceof Error);try{t.rmdirSync(e)}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR")throw r;(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")&&cCe(e,t)}}function cCe(e,t){br(e),br(t),t.readdirSync(e).forEach(function(a){sV(aV.join(e,a),t)});var r=N1?100:1,i=0;do{var s=!0;try{var n=t.rmdirSync(e,t);return s=!1,n}finally{if(++i<r&&s)continue}}while(!0)}}),NP=O((bZe,Zu)=>{var Qn=require("fs"),CP=require("os"),Zx=require("path"),pV=require("crypto"),Sl=Qn.constants&&CP.constants?{fs:Qn.constants,os:CP.constants}:process.binding("constants"),dV=hV(),mV="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",OP=/XXXXXX/,gV=3,yV=(Sl.O_CREAT||Sl.fs.O_CREAT)|(Sl.O_EXCL||Sl.fs.O_EXCL)|(Sl.O_RDWR||Sl.fs.O_RDWR),lCe=Sl.EBADF||Sl.os.errno.EBADF,uCe=Sl.ENOENT||Sl.os.errno.ENOENT,vV=448,_V=384,kP="exit",PP="SIGINT",bg=[],wV=!1;function bV(e){var t=[],r=null;try{r=pV.randomBytes(e)}catch(s){r=pV.pseudoRandomBytes(e)}for(var i=0;i<e;i++)t.push(mV[r[i]%mV.length]);return t.join("")}function fCe(e){return typeof e=="undefined"}function xg(e,t){return typeof e=="function"?[{},e]:fCe(e)?[{},t]:[e,t]}function EV(e){let t=xV();if(Eg(e.dir)&&Eg(t))throw new Error("No tmp dir specified");if(!Eg(e.name))return Zx.join(e.dir||t,e.name);if(e.template){var r=e.template;return Zx.basename(r)===r&&(r=Zx.join(e.dir||t,r)),r.replace(OP,bV(6))}let i=[Eg(e.prefix)?"tmp-":e.prefix,process.pid,bV(12),e.postfix?e.postfix:""].join("");return Zx.join(e.dir||t,i)}function IP(e,t){var r=xg(e,t),i=r[0],s=r[1],n=Eg(i.name)?i.tries||gV:1;if(isNaN(n)||n<0)return s(new Error("Invalid tries"));if(i.template&&!i.template.match(OP))return s(new Error("Invalid template provided"));(function a(){try{let o=EV(i);Qn.stat(o,function(u){if(!u)return n-- >0?a():s(new Error("Could not get a unique tmp filename, max tries reached "+o));s(null,o)})}catch(o){s(o)}})()}function qP(e){var t=xg(e),r=t[0],i=Eg(r.name)?r.tries||gV:1;if(isNaN(i)||i<0)throw new Error("Invalid tries");if(r.template&&!r.template.match(OP))throw new Error("Invalid template provided");do{let s=EV(r);try{Qn.statSync(s)}catch(n){return s}}while(i-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function hCe(e,t){var r=xg(e,t),i=r[0],s=r[1];IP(i,function(a,o){if(a)return s(a);Qn.open(o,yV,i.mode||_V,function(d,m){if(d)return s(d);if(i.discardDescriptor)return Qn.close(m,function(x){if(x){try{Qn.unlinkSync(o)}catch(T){eE(T)||(x=T)}return s(x)}s(null,o,void 0,Qx(o,-1,i))});if(i.detachDescriptor)return s(null,o,m,Qx(o,-1,i));s(null,o,m,Qx(o,m,i))})})}function pCe(e){var t=xg(e),r=t[0];let i=r.discardDescriptor||r.detachDescriptor,s=qP(r);var n=Qn.openSync(s,yV,r.mode||_V);return r.discardDescriptor&&(Qn.closeSync(n),n=void 0),{name:s,fd:n,removeCallback:Qx(s,i?-1:n,r)}}function dCe(e,t){var r=xg(e,t),i=r[0],s=r[1];IP(i,function(a,o){if(a)return s(a);Qn.mkdir(o,i.mode||vV,function(d){if(d)return s(d);s(null,o,SV(o,i))})})}function mCe(e){var t=xg(e),r=t[0];let i=qP(r);return Qn.mkdirSync(i,r.mode||vV),{name:i,removeCallback:SV(i,r)}}function gCe(e,t){let r=function(i){if(i&&!eE(i))return t(i);t()};0<=e[0]?Qn.close(e[0],function(i){Qn.unlink(e[1],r)}):Qn.unlink(e[1],r)}function vCe(e){try{0<=e[0]&&Qn.closeSync(e[0])}catch(t){if(!yCe(t)&&!eE(t))throw t}finally{try{Qn.unlinkSync(e[1])}catch(t){if(!eE(t))throw t}}}function Qx(e,t,r){let i=tE(vCe,[t,e]),s=tE(gCe,[t,e],i);return r.keep||bg.unshift(i),s}function _Ce(e,t){dV(e,t)}function wCe(e,t){try{return t(null,dV.sync(e))}catch(r){return t(r)}}function SV(e,t){let r=t.unsafeCleanup?_Ce:Qn.rmdir.bind(Qn),i=t.unsafeCleanup?wCe:Qn.rmdirSync.bind(Qn),s=tE(i,e),n=tE(r,e,s);return t.keep||bg.unshift(s),n}function tE(e,t,r){var i=!1;return function s(n){if(n=n||function(){},i)return n(new Error("cleanup callback has already been called"));{let a=r||s,o=bg.indexOf(a);if(o>=0&&bg.splice(o,1),i=!0,e.length===1)try{return e(t),n(null)}catch(u){return n(u)}else return e(t,n)}}}function RV(){if(!wV)return;for(;bg.length;)try{bg[0]()}catch(e){}}function yCe(e){return AV(e,-lCe,"EBADF")}function eE(e){return AV(e,-uCe,"ENOENT")}function AV(e,t,r){return e.code===t||e.code===r}function Eg(e){return e==null||!e.trim()}function bCe(){wV=!0}function xV(){return CP.tmpdir()}function xCe(e){return(e.name==="_exit"||e.name==="_uncaughtExceptionThrown")&&e.toString().indexOf("_garbageCollector();")>-1}function ECe(){let e=process.listeners(PP),t=[];for(let r=0,i=e.length;r<i;r++){let s=e[r];s.name==="_tmp$sigint_listener"&&(t.push(s),process.removeListener(PP,s))}process.on(PP,function(i){for(let s=0,n=t.length;s<n;s++)try{t[s](!1)}catch(a){}try{RV()}finally{i&&process.exit(0)}})}function SCe(){let e=process.listeners(kP),t=[];for(let r=0,i=e.length;r<i;r++){let s=e[r];(s.name==="_tmp$safe_listener"||xCe(s))&&(s.name!=="_uncaughtExceptionThrown"&&t.push(s),process.removeListener(kP,s))}process.addListener(kP,function(i){for(let s=0,n=t.length;s<n;s++)try{t[s](i)}catch(a){}RV()})}SCe();ECe();Object.defineProperty(Zu.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return xV()}});Zu.exports.dir=dCe;Zu.exports.dirSync=mCe;Zu.exports.file=hCe;Zu.exports.fileSync=pCe;Zu.exports.tmpName=IP;Zu.exports.tmpNameSync=qP;Zu.exports.setGracefulCleanup=bCe}),CV=O((xZe,TV)=>{"use strict";var MP=1114112,Ih=class extends Error{constructor(t,r,i){super("[ParserError] "+t,r,i);this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,Ih)}},LP=class{constructor(t){this.parser=t,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},rE=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new LP(this.parseStart)}parse(t){if(t.length===0||t.length==null)return;this._buf=String(t),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=MP;let t;do t=this.state.parser,this.runOne();while(this.state.parser!==t);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(t){if(typeof t!="function")throw new Ih("Tried to set state to non-existent state: "+JSON.stringify(t));this.state.parser=t}goto(t){return this.next(t),this.runOne()}call(t,r){r&&this.next(r),this.stack.push(this.state),this.state=new LP(t)}callNow(t,r){return this.call(t,r),this.runOne()}return(t){if(this.stack.length===0)throw this.error(new Ih("Stack underflow"));t===void 0&&(t=this.state.buf),this.state=this.stack.pop(),this.state.returned=t}returnNow(t){return this.return(t),this.runOne()}consume(){if(this.char===MP)throw this.error(new Ih("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(t){return t.line=this.line,t.col=this.col,t.pos=this.pos,t}parseStart(){throw new Ih("Must declare a parseStart method")}};rE.END=MP;rE.Error=Ih;TV.exports=rE}),kV=O((EZe,OV)=>{"use strict";OV.exports=e=>{let t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}}),nE=O((SZe,PV)=>{"use strict";PV.exports=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t}}),NV=O((RZe,IV)=>{"use strict";var Sg=nE(),qV=class extends Date{constructor(t){super(t+"Z");this.isFloating=!0}toISOString(){let t=`${this.getUTCFullYear()}-${Sg(2,this.getUTCMonth()+1)}-${Sg(2,this.getUTCDate())}`,r=`${Sg(2,this.getUTCHours())}:${Sg(2,this.getUTCMinutes())}:${Sg(2,this.getUTCSeconds())}.${Sg(3,this.getUTCMilliseconds())}`;return`${t}T${r}`}};IV.exports=e=>{let t=new qV(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}}),jV=O((AZe,MV)=>{"use strict";var LV=nE(),RCe=global.Date,$V=class extends RCe{constructor(t){super(t);this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${LV(2,this.getUTCMonth()+1)}-${LV(2,this.getUTCDate())}`}};MV.exports=e=>{let t=new $V(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}}),UV=O((TZe,FV)=>{"use strict";var iE=nE(),BV=class extends Date{constructor(t){super(`0000-01-01T${t}Z`);this.isTime=!0}toISOString(){return`${iE(2,this.getUTCHours())}:${iE(2,this.getUTCMinutes())}:${iE(2,this.getUTCSeconds())}.${iE(3,this.getUTCMilliseconds())}`}};FV.exports=e=>{let t=new BV(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}}),sE=O((exports,module)=>{"use strict";module.exports=makeParserClass(CV());module.exports.makeParserClass=makeParserClass;var TomlError=class extends Error{constructor(t){super(t);this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=e=>{let t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t};module.exports.TomlError=TomlError;var createDateTime=kV(),createDateTimeFloat=NV(),createDate=jV(),createTime=UV(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return hasOwnProperty.call(e,t)?!0:(t==="__proto__"&&defineProperty(e,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return e===null||typeof e!="object"?!1:e[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return e===null||typeof e!="object"?!1:e[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return e===null||typeof e!="object"?!1:e[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return e===null||typeof e!="object"?!1:e[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(t){try{this.value=global.BigInt.asIntN(64,t)}catch(r){this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),global.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return e===null||typeof e!="object"?!1:e[_type]===INTEGER}var FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return e===null||typeof e!="object"?!1:e[_type]===FLOAT}function tomlType(e){let t=typeof e;if(t==="object"){if(e===null)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){class t extends e{constructor(){super();this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(i){let s=this.ctx,n=i.key.pop();for(let a of i.key){if(hasKey(s,a)&&(!isTable(s[a])||s[a][_declared]))throw this.error(new TomlError("Can't redefine existing key"));s=s[a]=s[a]||Table()}if(hasKey(s,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(i.value)||isFloat(i.value)?s[n]=i.value.valueOf():s[n]=i.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(i){return this.state.resultTable?this.state.resultTable.push(i):this.state.resultTable=[i],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(i){return this.returnNow({key:this.state.resultTable,value:i})}parseComment(){do if(this.char===e.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(i){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,i)&&(!isTable(this.ctx[i])||this.ctx[i][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[i]=this.ctx[i]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,i))this.ctx=this.ctx[i]=Table();else if(isTable(this.ctx[i]))this.ctx=this.ctx[i];else if(isList(this.ctx[i]))this.ctx=this.ctx[i][this.ctx[i].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(i){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,i)||(this.ctx[i]=List()),isInlineList(this.ctx[i]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[i])){let s=Table();this.ctx[i].push(s),this.ctx=s}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,i))this.ctx=this.ctx[i]=Table();else{if(isInlineList(this.ctx[i]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[i]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[i]))this.ctx=this.ctx[i][this.ctx[i].length-1];else if(isTable(this.ctx[i]))this.ctx=this.ctx[i];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(i){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(i){return this.returnNow(i)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-Infinity):this.return(Infinity);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(i){return this.state.buf+=i,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let i="\\u00";return this.char<16&&(i+="0"),i+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${i} instead`))}recordMultiEscapeReplacement(i){return this.state.buf+=i,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(i){try{let s=parseInt(i,16);if(s>=SURROGATE_FIRST&&s<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(s))}catch(s){throw this.error(TomlError.wrap(s))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let i=Integer(this.state.buf);if(i.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(i)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let i=Integer(this.state.buf);if(i.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(i)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let i=Integer(this.state.buf);if(i.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(i)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let i=Integer(this.state.buf);if(i.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(i)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(i){if(this.state.resultArr){let s=this.state.resultArr[_contentType],n=tomlType(i);if(s!==n)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${s} and ${n}`))}else this.state.resultArr=InlineList(tomlType(i));return isFloat(i)||isInteger(i)?this.state.resultArr.push(i.valueOf()):this.state.resultArr.push(i),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(i){let s=this.state.resultTable,n=i.key.pop();for(let a of i.key){if(hasKey(s,a)&&(!isTable(s[a])||s[a][_declared]))throw this.error(new TomlError("Can't redefine existing key"));s=s[a]=s[a]||Table()}if(hasKey(s,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(i.value)||isFloat(i.value)?s[n]=i.value.valueOf():s[n]=i.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return t}}),aE=O((CZe,HV)=>{"use strict";HV.exports=ACe;function ACe(e,t){if(e.pos==null||e.line==null)return e;let r=e.message;if(r+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:
`,t&&t.split){let i=t.split(/\n/),s=String(Math.min(i.length,e.line+3)).length,n=" ";for(;n.length<s;)n+=" ";for(let a=Math.max(0,e.line-1);a<Math.min(i.length,e.line+2);++a){let o=String(a+1);if(o.length<s&&(o=" "+o),e.line===a){r+=o+"> "+i[a]+`
`,r+=n+"  ";for(let u=0;u<e.col;++u)r+=" ";r+=`^
`}else r+=o+": "+i[a]+`
`}}return e.message=r+`
`,e}}),zV=O((OZe,GV)=>{"use strict";GV.exports=TCe;var CCe=sE(),OCe=aE();function TCe(e){global.Buffer&&global.Buffer.isBuffer(e)&&(e=e.toString("utf8"));let t=new CCe;try{return t.parse(e),t.finish()}catch(r){throw OCe(r,e)}}}),KV=O((kZe,VV)=>{"use strict";VV.exports=kCe;var PCe=sE(),WV=aE();function kCe(e,t){t||(t={});let r=0,i=t.blocksize||40960,s=new PCe;return new Promise((a,o)=>{setImmediate(n,r,i,a,o)});function n(a,o,u,d){if(a>=e.length)try{return u(s.finish())}catch(m){return d(WV(m,e))}try{s.parse(e.slice(a,a+o)),setImmediate(n,a+o,o,u,d)}catch(m){d(WV(m,e))}}}}),JV=O((PZe,XV)=>{"use strict";XV.exports=ICe;var qCe=require("stream"),YV=sE();function ICe(e){return e?NCe(e):MCe(e)}function NCe(e){let t=new YV;return e.setEncoding("utf8"),new Promise((r,i)=>{let s,n=!1,a=!1;function o(){if(n=!0,s)return;try{r(t.finish())}catch(m){i(m)}}function u(m){a=!0,i(m)}e.once("end",o),e.once("error",u),d();function d(){s=!0;let m;for(;(m=e.read())!==null;)try{t.parse(m)}catch(f){return u(f)}if(s=!1,n)return o();if(a)return;e.once("readable",d)}})}function MCe(){let e=new YV;return new qCe.Transform({objectMode:!0,transform(t,r,i){try{e.parse(t.toString(r))}catch(s){this.emit("error",s)}i()},flush(t){try{this.push(e.finish())}catch(r){this.emit("error",r)}t()}})}}),ZV=O((IZe,M1)=>{"use strict";M1.exports=zV();M1.exports.async=KV();M1.exports.stream=JV();M1.exports.prettyError=aE()}),aW=O((qZe,DP)=>{"use strict";DP.exports=LCe;DP.exports.value=$P;function LCe(e){if(e===null)throw Cd("null");if(e===void 0)throw Cd("undefined");if(typeof e!="object")throw Cd(typeof e);if(typeof e.toJSON=="function"&&(e=e.toJSON()),e==null)return null;let t=ca(e);if(t!=="table")throw Cd(t);return jP("","",e)}function Cd(e){return new Error("Can only stringify objects, not "+e)}function DCe(){return new Error("Array values can't have mixed types")}function eW(e){return Object.keys(e).filter(t=>QV(e[t]))}function $Ce(e){return Object.keys(e).filter(t=>!QV(e[t]))}function oE(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let r of Object.keys(e))e[r]&&typeof e[r].toJSON=="function"&&!("toISOString"in e[r])?t[r]=e[r].toJSON():t[r]=e[r];return t}function jP(e,t,r){r=oE(r);var i,s;i=eW(r),s=$Ce(r);var n=[],a=t||"";i.forEach(u=>{var d=ca(r[u]);d!=="undefined"&&d!=="null"&&n.push(a+cE(u)+" = "+tW(r[u],!0))}),n.length>0&&n.push("");var o=e&&i.length>0?t+"  ":"";return s.forEach(u=>{n.push(jCe(e,o,u,r[u]))}),n.join(`
`)}function QV(e){switch(ca(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return e.length===0||ca(e[0])!=="table";case"table":return Object.keys(e).length===0;default:return!1}}function ca(e){return e===void 0?"undefined":e===null?"null":typeof e=="bigint"||Number.isInteger(e)&&!Object.is(e,-0)?"integer":typeof e=="number"?"float":typeof e=="boolean"?"boolean":typeof e=="string"?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function cE(e){var t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:rW(t)}function rW(e){return'"'+nW(e).replace(/"/g,'\\"')+'"'}function FCe(e){return"'"+e+"'"}function BCe(e,t){for(;t.length<e;)t="0"+t;return t}function nW(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,t=>"\\u"+BCe(4,t.codePointAt(0).toString(16)))}function UCe(e){let t=e.split(/\n/).map(r=>nW(r).replace(/"(?="")/g,'\\"')).join(`
`);return t.slice(-1)==='"'&&(t+=`\\
`),`"""
`+t+'"""'}function tW(e,t){let r=ca(e);return r==="string"&&(t&&/\n/.test(e)?r="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(r="string-literal")),$P(e,r)}function $P(e,t){t||(t=ca(e));switch(t){case"string-multiline":return UCe(e);case"string":return rW(e);case"string-literal":return FCe(e);case"integer":return iW(e);case"float":return HCe(e);case"boolean":return GCe(e);case"datetime":return zCe(e);case"array":return VCe(e.filter(r=>ca(r)!=="null"&&ca(r)!=="undefined"&&ca(r)!=="nan"));case"table":return WCe(e);default:throw Cd(t)}}function iW(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function HCe(e){if(e===Infinity)return"inf";if(e===-Infinity)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";var t=String(e).split("."),r=t[0],i=t[1]||0;return iW(r)+"."+i}function GCe(e){return String(e)}function zCe(e){return e.toISOString()}function KCe(e){return e==="float"||e==="integer"}function XCe(e){var t=ca(e[0]);return e.every(r=>ca(r)===t)?t:e.every(r=>KCe(ca(r)))?"float":"mixed"}function sW(e){let t=XCe(e);if(t==="mixed")throw DCe();return t}function VCe(e){e=oE(e);let t=sW(e);var r="[",i=e.map(s=>$P(s,t));return i.join(", ").length>60||/\n/.test(i)?r+=`
  `+i.join(`,
  `)+`
`:r+=" "+i.join(", ")+(i.length>0?" ":""),r+"]"}function WCe(e){e=oE(e);var t=[];return Object.keys(e).forEach(r=>{t.push(cE(r)+" = "+tW(e[r],!1))}),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}function jCe(e,t,r,i){var s=ca(i);if(s==="array")return YCe(e,t,r,i);if(s==="table")return JCe(e,t,r,i);throw Cd(s)}function YCe(e,t,r,i){i=oE(i),sW(i);var s=ca(i[0]);if(s!=="table")throw Cd(s);var n=e+cE(r),a="";return i.forEach(o=>{a.length>0&&(a+=`
`),a+=t+"[["+n+`]]
`,a+=jP(n+".",t,o)}),a}function JCe(e,t,r,i){var s=e+cE(r),n="";return eW(i).length>0&&(n+=t+"["+s+`]
`),n+jP(s+".",t,i)}}),oW=O(FP=>{"use strict";FP.parse=ZV();FP.stringify=aW()}),cW=O((MZe,BP)=>{(function(){var e;function t(r,i){var s=this instanceof t?this:e;if(s.reset(i),typeof r=="string"&&r.length>0&&s.hash(r),s!==this)return s}t.prototype.hash=function(r){var i,s,n,a,o;o=r.length,this.len+=o,s=this.k1,n=0;switch(this.rem){case 0:s^=o>n?r.charCodeAt(n++)&65535:0;case 1:s^=o>n?(r.charCodeAt(n++)&65535)<<8:0;case 2:s^=o>n?(r.charCodeAt(n++)&65535)<<16:0;case 3:s^=o>n?(r.charCodeAt(n)&255)<<24:0,s^=o>n?(r.charCodeAt(n++)&65280)>>8:0}if(this.rem=o+this.rem&3,o-=this.rem,o>0){for(i=this.h1;!(s=s*11601+(s&65535)*3432906752&4294967295,s=s<<15|s>>>17,s=s*13715+(s&65535)*461832192&4294967295,i^=s,i=i<<13|i>>>19,i=i*5+3864292196&4294967295,n>=o);)s=r.charCodeAt(n++)&65535^(r.charCodeAt(n++)&65535)<<8^(r.charCodeAt(n++)&65535)<<16,a=r.charCodeAt(n++),s^=(a&255)<<24^(a&65280)>>8;s=0;switch(this.rem){case 3:s^=(r.charCodeAt(n+2)&65535)<<16;case 2:s^=(r.charCodeAt(n+1)&65535)<<8;case 1:s^=r.charCodeAt(n)&65535}this.h1=i}return this.k1=s,this},t.prototype.result=function(){var r,i;return r=this.k1,i=this.h1,r>0&&(r=r*11601+(r&65535)*3432906752&4294967295,r=r<<15|r>>>17,r=r*13715+(r&65535)*461832192&4294967295,i^=r),i^=this.len,i^=i>>>16,i=i*51819+(i&65535)*2246770688&4294967295,i^=i>>>13,i=i*44597+(i&65535)*3266445312&4294967295,i^=i>>>16,i>>>0},t.prototype.reset=function(r){return this.h1=typeof r=="number"?r:0,this.rem=this.k1=this.len=0,this},e=new t,typeof BP!="undefined"?BP.exports=t:this.MurmurHash3=t})()}),lW=O((LZe,lE)=>{lE.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&lE.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&lE.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}),hW=O((DZe,L1)=>{var ZCe=require("assert"),D1=lW(),QCe=/^win/i.test(process.platform),uE=require("events");typeof uE!="function"&&(uE=uE.EventEmitter);var ji;process.__signal_exit_emitter__?ji=process.__signal_exit_emitter__:(ji=process.__signal_exit_emitter__=new uE,ji.count=0,ji.emitted={});ji.infinite||(ji.setMaxListeners(Infinity),ji.infinite=!0);L1.exports=function(e,t){ZCe.equal(typeof e,"function","a callback must be provided for exit handler"),$1===!1&&uW();var r="exit";t&&t.alwaysLast&&(r="afterexit");var i=function(){ji.removeListener(r,e),ji.listeners("exit").length===0&&ji.listeners("afterexit").length===0&&UP()};return ji.on(r,e),i};L1.exports.unload=UP;function UP(){if(!$1)return;$1=!1,D1.forEach(function(e){try{process.removeListener(e,HP[e])}catch(t){}}),process.emit=GP,process.reallyExit=fW,ji.count-=1}function Rg(e,t,r){if(ji.emitted[e])return;ji.emitted[e]=!0,ji.emit(e,t,r)}var HP={};D1.forEach(function(e){HP[e]=function(){var r=process.listeners(e);r.length===ji.count&&(UP(),Rg("exit",null,e),Rg("afterexit",null,e),QCe&&e==="SIGHUP"&&(e="SIGINT"),process.kill(process.pid,e))}});L1.exports.signals=function(){return D1};L1.exports.load=uW;var $1=!1;function uW(){if($1)return;$1=!0,ji.count+=1,D1=D1.filter(function(e){try{return process.on(e,HP[e]),!0}catch(t){return!1}}),process.emit=tOe,process.reallyExit=eOe}var fW=process.reallyExit;function eOe(e){process.exitCode=e||0,Rg("exit",process.exitCode,null),Rg("afterexit",process.exitCode,null),fW.call(process,process.exitCode)}var GP=process.emit;function tOe(e,t){if(e==="exit"){t!==void 0&&(process.exitCode=t);var r=GP.apply(this,arguments);return Rg("exit",process.exitCode,null),Rg("afterexit",process.exitCode,null),r}else return GP.apply(this,arguments)}}),VP=O(($Ze,pW)=>{pW.exports=zP;zP.strict=dW;zP.loose=mW;var rOe=Object.prototype.toString,nOe={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function zP(e){return dW(e)||mW(e)}function dW(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function mW(e){return nOe[rOe.call(e)]}}),yW=O((jZe,gW)=>{var iOe=VP().strict;gW.exports=function(t){if(iOe(t)){var r=Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}else return Buffer.from(t)}}),bW=O((FZe,j1)=>{"use strict";j1.exports=sOe;j1.exports.sync=aOe;j1.exports._getTmpname=WP;j1.exports._cleanupOnExit=KP;var un=require("fs"),oOe=cW(),vW=hW(),cOe=require("path"),_W=VP(),wW=yW(),{promisify:Ro}=require("util"),qh={},lOe=function(){try{let t=require("worker_threads");return t.threadId}catch(t){return 0}}(),uOe=0;function WP(e){return e+"."+oOe(__filename).hash(String(process.pid)).hash(String(lOe)).hash(String(++uOe)).result()}function KP(e){return()=>{try{un.unlinkSync(typeof e=="function"?e():e)}catch(t){}}}function fOe(e){return new Promise(t=>{qh[e]||(qh[e]=[]),qh[e].push(t),qh[e].length===1&&t()})}function fE(e){if(e.code==="ENOSYS")return!0;let t=!process.getuid||process.getuid()!==0;return!!(t&&(e.code==="EINVAL"||e.code==="EPERM"))}async function hOe(e,t,r={}){typeof r=="string"&&(r={encoding:r});let i,s,n=vW(KP(()=>s)),a=cOe.resolve(e);try{await fOe(a);let o=await Ro(un.realpath)(e).catch(()=>e);if(s=WP(o),!r.mode||!r.chown){let u=await Ro(un.stat)(o).catch(()=>{});u&&(r.mode==null&&(r.mode=u.mode),r.chown==null&&process.getuid&&(r.chown={uid:u.uid,gid:u.gid}))}i=await Ro(un.open)(s,"w",r.mode),r.tmpfileCreated&&await r.tmpfileCreated(s),_W(t)&&(t=wW(t)),Buffer.isBuffer(t)?await Ro(un.write)(i,t,0,t.length,0):t!=null&&await Ro(un.write)(i,String(t),0,String(r.encoding||"utf8")),r.fsync!==!1&&await Ro(un.fsync)(i),await Ro(un.close)(i),i=null,r.chown&&await Ro(un.chown)(s,r.chown.uid,r.chown.gid).catch(u=>{if(!fE(u))throw u}),r.mode&&await Ro(un.chmod)(s,r.mode).catch(u=>{if(!fE(u))throw u}),await Ro(un.rename)(s,o)}finally{i&&await Ro(un.close)(i).catch(()=>{}),n(),await Ro(un.unlink)(s).catch(()=>{}),qh[a].shift(),qh[a].length>0?qh[a][0]():delete qh[a]}}function sOe(e,t,r,i){r instanceof Function&&(i=r,r={});let s=hOe(e,t,r);return i&&s.then(i,i),s}function aOe(e,t,r){typeof r=="string"?r={encoding:r}:r||(r={});try{e=un.realpathSync(e)}catch(u){}let i=WP(e);if(!r.mode||!r.chown)try{let u=un.statSync(e);r=Object.assign({},r),r.mode||(r.mode=u.mode),!r.chown&&process.getuid&&(r.chown={uid:u.uid,gid:u.gid})}catch(u){}let s,n=KP(i),a=vW(n),o=!0;try{if(s=un.openSync(i,"w",r.mode||438),r.tmpfileCreated&&r.tmpfileCreated(i),_W(t)&&(t=wW(t)),Buffer.isBuffer(t)?un.writeSync(s,t,0,t.length,0):t!=null&&un.writeSync(s,String(t),0,String(r.encoding||"utf8")),r.fsync!==!1&&un.fsyncSync(s),un.closeSync(s),s=null,r.chown)try{un.chownSync(i,r.chown.uid,r.chown.gid)}catch(u){if(!fE(u))throw u}if(r.mode)try{un.chmodSync(i,r.mode)}catch(u){if(!fE(u))throw u}un.renameSync(i,e),o=!1}finally{if(s)try{un.closeSync(s)}catch(u){}a(),o&&n()}}}),Nh=O((BZe,xW)=>{var F1={};function pOe(e,t){let r=F1[e];return r?r.then(i=>i):(F1[e]=t().then(i=>(delete F1[e],i),i=>{throw delete F1[e],i}),F1[e])}xW.exports={inFlightPromise:pOe}}),os=O((UZe,EW)=>{var SW=require("assert"),Ag=require("path"),{promisify:XP}=require("util"),dOe=Tt(),ei=$n(),mOe=iz(),RW=lz(),gOe=rP(),AW=NP(),TW=oW(),Rl=rr(),YP=bW(),Qu=Ar(),Mh=yt(),yOe=Nh(),vOe=XP(AW.dir),_Oe=XP(AW.tmpName);YP=XP(YP);async function wOe(e){let t=r=>ei.statSync(r).isDirectory();try{return await ei.readdir(e).then(r=>r.map(i=>Ag.join(e,i)).filter(t))}catch(r){throw r.code===Qu.FILE_SYSTEM_ERROR_CODES.NotFound?new Mh.NotFound(`[${e}] directory does not exist`):r.code===Qu.FILE_SYSTEM_ERROR_CODES.NotDirectory?new Mh.InvalidParameter("`root` argument is not a directory"):r}}async function hE(e){let t=await RW(e),r=t.filter(i=>(i.stats.mode&Qu.FILE_MODE_MASKS.Write)!==Qu.FILE_MODE_MASKS.Write);await Promise.all(r.map(i=>ei.chmod(i.path,i.stats.mode|Qu.FILE_MODE_MASKS.Write)))}async function JP(e){return ei.stat(e).catch(()=>{})}async function CW(e){try{await hE(e),await ei.remove(e)}catch(t){Rl.warn(`Failed to delete '${e}': ${t}`)}}async function OW(e,t){await ei.copy(e,t,{preserveTimestamps:!0,dereference:!0})}async function ZP(e,t){try{await OW(e,t)}catch(r){Rl.warn(`Failed to copy '${e}' to '${t}': ${r}`)}}async function QP(e,t){SW(e,"`source` parameter is required"),SW(t,"`target` parameter is required");let[r,i]=await Promise.all([JP(e),JP(t)]);if(!r)i&&(Rl.silly(`Removing '${t}' (extraneous)`),await CW(t));else if(!i)r.isDirectory()?(Rl.silly(`Adding folder '${t}' (missing)`),await ei.mkdir(t),await QP(e,t)):(Rl.silly(`Adding file '${t}' (missing)`),await ZP(e,t));else if(r.isDirectory()&&i.isDirectory()){let[s,n]=await Promise.all([ei.readdir(e),ei.readdir(t)]),a=dOe.union(s,n);await Promise.all(a.map(async o=>{let u=Ag.join(e,o),d=Ag.join(t,o);await QP(u,d)}))}else r.isFile()&&i.isFile()?r.size!==i.size||r.mtime.getTime()!==i.mtime.getTime()?(Rl.silly(`Overwriting '${t}' (files differ):
Source path='${e}, mtimeMs=${r.mtimeMs}, size=${r.size}
Target path='${t}, mtimeMs=${i.mtimeMs}, size=${i.size}`),await ZP(e,t)):Rl.silly(`File ${t} OK`):(Rl.silly(`Replacing '${t}' (directory/file mismatch):
'${e}' is a ${r.isDirectory()?"directory":"file"}, '${t}' is a ${i.isDirectory()?"directory":"file"}.`),await CW(t),await ZP(e,t))}async function kW(e,t={}){let r=".del-",i=Ag.dirname(e),s=Ag.basename(e),n;s.startsWith(r)||(n=await _Oe({prefix:r,dir:i}),await ei.move(e,n));let a=n||e;await hE(a);let o=ei.remove(a);t.backgroundDelete?o.catch(u=>Rl.verbose(`Failed to delete file ${a}: ${u.message}`)):await o}async function bOe(e,t){let r=`moveDirectorySafe-${t}`;return yOe.inFlightPromise(r,async()=>{await ei.exists(t)&&await kW(t,{backgroundDelete:!0}),await ei.rename(e,t)})}function eI(e){return ei.readFile(e,"utf-8").catch(t=>{throw t.code===Qu.FILE_SYSTEM_ERROR_CODES.NotFound?new Mh.NotFound(`The file [${e}] cannot be found`):new Mh.UpmError(`An error occurred while reading the file [${e}]`,t)})}async function PW(e,t){try{try{await ei.access(e,ei.constants.W_OK)}catch(r){if(r.code===Qu.FILE_SYSTEM_ERROR_CODES.AccessDenied)await hE(e),Rl.debug(`Granting write permission to ${e}`);else if(r.code!==Qu.FILE_SYSTEM_ERROR_CODES.NotFound)throw r}await ei.ensureDir(Ag.dirname(e)),await YP(e,t)}catch(r){throw r.code===Qu.FILE_SYSTEM_ERROR_CODES.AccessDenied?new Mh.Forbidden(`Access to the file [${e}] is denied`):new Mh.UpmError(`An error occurred while writing the file [${e}]`,r)}}async function xOe(e,t={}){let r=await eI(e);try{let i;try{i=JSON.parse(r.trimStart())}catch(s){throw gOe(r),s}if(t.disallowDuplicateKeys){let s=mOe.validate(r,!1);if(s)throw s}return i}catch(i){throw new Mh.UpmError(`The file [${e}] is not valid JSON`,i)}}async function EOe(e,t){await PW(e,`${JSON.stringify(t,null,2)}
`)}async function SOe(e){let t=await eI(e);try{return TW.parse(t)}catch(r){throw new Mh.UpmError(`The file [${e}] is not valid TOML`,r)}}async function ROe(e,t){await PW(e,TW.stringify(t))}async function AOe(e,t,r){let i=await RW(e),s=i.filter(n=>!n.stats.isDirectory());await Promise.all(s.map(n=>ei.utimes(n.path,t,r)))}async function TOe(e,t={}){let{dir:r}=t;r&&await ei.ensureDir(r);let i=await vOe({dir:r,prefix:".tmp"});try{return await e(i)}finally{await ei.remove(i)}}EW.exports={getDirectories:wOe,makeWritableRecursive:hE,mirror:QP,renameAndDelete:kW,moveDirectorySafe:bOe,readTextFile:eI,readJsonFile:xOe,writeJsonFile:EOe,readTomlFile:SOe,writeTomlFile:ROe,utimesr:AOe,safeStats:JP,withTempFolder:TOe,copyWithTimestamps:OW}}),tI=O((HZe,Od)=>{"use strict";var B1=P1(),IW=function(e,t){return new Promise((r,i)=>{B1(e,t,(s,n)=>s===null?r(n):i(s))})};Od.exports=IW;Od.exports.glob=B1;Od.exports.Glob=B1.Glob;Od.exports.hasMagic=B1.hasMagic;Od.exports.promise=IW;Od.exports.sync=B1.sync}),U1=O((GZe,qW)=>{var COe="2.0.0",OOe=256,kOe=Number.MAX_SAFE_INTEGER||9007199254740991,POe=16;qW.exports={SEMVER_SPEC_VERSION:COe,MAX_LENGTH:OOe,MAX_SAFE_INTEGER:kOe,MAX_SAFE_COMPONENT_LENGTH:POe}}),H1=O((zZe,NW)=>{var IOe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};NW.exports=IOe}),kd=O((Lh,MW)=>{var{MAX_SAFE_COMPONENT_LENGTH:rI}=U1(),qOe=H1();Lh=MW.exports={};var NOe=Lh.re=[],st=Lh.src=[],at=Lh.t={},MOe=0,Gt=(e,t,r)=>{let i=MOe++;qOe(i,t),at[e]=i,st[i]=t,NOe[i]=new RegExp(t,r?"g":void 0)};Gt("NUMERICIDENTIFIER","0|[1-9]\\d*");Gt("NUMERICIDENTIFIERLOOSE","[0-9]+");Gt("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Gt("MAINVERSION",`(${st[at.NUMERICIDENTIFIER]})\\.(${st[at.NUMERICIDENTIFIER]})\\.(${st[at.NUMERICIDENTIFIER]})`);Gt("MAINVERSIONLOOSE",`(${st[at.NUMERICIDENTIFIERLOOSE]})\\.(${st[at.NUMERICIDENTIFIERLOOSE]})\\.(${st[at.NUMERICIDENTIFIERLOOSE]})`);Gt("PRERELEASEIDENTIFIER",`(?:${st[at.NUMERICIDENTIFIER]}|${st[at.NONNUMERICIDENTIFIER]})`);Gt("PRERELEASEIDENTIFIERLOOSE",`(?:${st[at.NUMERICIDENTIFIERLOOSE]}|${st[at.NONNUMERICIDENTIFIER]})`);Gt("PRERELEASE",`(?:-(${st[at.PRERELEASEIDENTIFIER]}(?:\\.${st[at.PRERELEASEIDENTIFIER]})*))`);Gt("PRERELEASELOOSE",`(?:-?(${st[at.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${st[at.PRERELEASEIDENTIFIERLOOSE]})*))`);Gt("BUILDIDENTIFIER","[0-9A-Za-z-]+");Gt("BUILD",`(?:\\+(${st[at.BUILDIDENTIFIER]}(?:\\.${st[at.BUILDIDENTIFIER]})*))`);Gt("FULLPLAIN",`v?${st[at.MAINVERSION]}${st[at.PRERELEASE]}?${st[at.BUILD]}?`);Gt("FULL",`^${st[at.FULLPLAIN]}$`);Gt("LOOSEPLAIN",`[v=\\s]*${st[at.MAINVERSIONLOOSE]}${st[at.PRERELEASELOOSE]}?${st[at.BUILD]}?`);Gt("LOOSE",`^${st[at.LOOSEPLAIN]}$`);Gt("GTLT","((?:<|>)?=?)");Gt("XRANGEIDENTIFIERLOOSE",`${st[at.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Gt("XRANGEIDENTIFIER",`${st[at.NUMERICIDENTIFIER]}|x|X|\\*`);Gt("XRANGEPLAIN",`[v=\\s]*(${st[at.XRANGEIDENTIFIER]})(?:\\.(${st[at.XRANGEIDENTIFIER]})(?:\\.(${st[at.XRANGEIDENTIFIER]})(?:${st[at.PRERELEASE]})?${st[at.BUILD]}?)?)?`);Gt("XRANGEPLAINLOOSE",`[v=\\s]*(${st[at.XRANGEIDENTIFIERLOOSE]})(?:\\.(${st[at.XRANGEIDENTIFIERLOOSE]})(?:\\.(${st[at.XRANGEIDENTIFIERLOOSE]})(?:${st[at.PRERELEASELOOSE]})?${st[at.BUILD]}?)?)?`);Gt("XRANGE",`^${st[at.GTLT]}\\s*${st[at.XRANGEPLAIN]}$`);Gt("XRANGELOOSE",`^${st[at.GTLT]}\\s*${st[at.XRANGEPLAINLOOSE]}$`);Gt("COERCE",`(^|[^\\d])(\\d{1,${rI}})(?:\\.(\\d{1,${rI}}))?(?:\\.(\\d{1,${rI}}))?(?:$|[^\\d])`);Gt("COERCERTL",st[at.COERCE],!0);Gt("LONETILDE","(?:~>?)");Gt("TILDETRIM",`(\\s*)${st[at.LONETILDE]}\\s+`,!0);Lh.tildeTrimReplace="$1~";Gt("TILDE",`^${st[at.LONETILDE]}${st[at.XRANGEPLAIN]}$`);Gt("TILDELOOSE",`^${st[at.LONETILDE]}${st[at.XRANGEPLAINLOOSE]}$`);Gt("LONECARET","(?:\\^)");Gt("CARETTRIM",`(\\s*)${st[at.LONECARET]}\\s+`,!0);Lh.caretTrimReplace="$1^";Gt("CARET",`^${st[at.LONECARET]}${st[at.XRANGEPLAIN]}$`);Gt("CARETLOOSE",`^${st[at.LONECARET]}${st[at.XRANGEPLAINLOOSE]}$`);Gt("COMPARATORLOOSE",`^${st[at.GTLT]}\\s*(${st[at.LOOSEPLAIN]})$|^$`);Gt("COMPARATOR",`^${st[at.GTLT]}\\s*(${st[at.FULLPLAIN]})$|^$`);Gt("COMPARATORTRIM",`(\\s*)${st[at.GTLT]}\\s*(${st[at.LOOSEPLAIN]}|${st[at.XRANGEPLAIN]})`,!0);Lh.comparatorTrimReplace="$1$2$3";Gt("HYPHENRANGE",`^\\s*(${st[at.XRANGEPLAIN]})\\s+-\\s+(${st[at.XRANGEPLAIN]})\\s*$`);Gt("HYPHENRANGELOOSE",`^\\s*(${st[at.XRANGEPLAINLOOSE]})\\s+-\\s+(${st[at.XRANGEPLAINLOOSE]})\\s*$`);Gt("STAR","(<|>)?=?\\s*\\*");Gt("GTE0","^\\s*>=\\s*0.0.0\\s*$");Gt("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),G1=O((VZe,LW)=>{var LOe=["includePrerelease","loose","rtl"],DOe=e=>e?typeof e!="object"?{loose:!0}:LOe.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};LW.exports=DOe}),pE=O((WZe,DW)=>{var $W=/^[0-9]+$/,jW=(e,t)=>{let r=$W.test(e),i=$W.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1},$Oe=(e,t)=>jW(t,e);DW.exports={compareIdentifiers:jW,rcompareIdentifiers:$Oe}}),cs=O((KZe,FW)=>{var dE=H1(),{MAX_LENGTH:BW,MAX_SAFE_INTEGER:mE}=U1(),{re:UW,t:HW}=kd(),jOe=G1(),{compareIdentifiers:z1}=pE(),Ao=class{constructor(t,r){if(r=jOe(r),t instanceof Ao){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>BW)throw new TypeError(`version is longer than ${BW} characters`);dE("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let i=t.trim().match(r.loose?UW[HW.LOOSE]:UW[HW.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>mE||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mE||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mE||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let n=+s;if(n>=0&&n<mE)return n}return s}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(dE("SemVer.compare",this.version,this.options,t),!(t instanceof Ao)){if(typeof t=="string"&&t===this.version)return 0;t=new Ao(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ao||(t=new Ao(t,this.options)),z1(this.major,t.major)||z1(this.minor,t.minor)||z1(this.patch,t.patch)}comparePre(t){if(t instanceof Ao||(t=new Ao(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let i=this.prerelease[r],s=t.prerelease[r];if(dE("prerelease compare",r,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return z1(i,s)}while(++r)}compareBuild(t){t instanceof Ao||(t=new Ao(t,this.options));let r=0;do{let i=this.build[r],s=t.build[r];if(dE("prerelease compare",r,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return z1(i,s)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};FW.exports=Ao}),Pd=O((XZe,GW)=>{var{MAX_LENGTH:FOe}=U1(),{re:zW,t:VW}=kd(),WW=cs(),BOe=G1(),UOe=(e,t)=>{if(t=BOe(t),e instanceof WW)return e;if(typeof e!="string")return null;if(e.length>FOe)return null;let r=t.loose?zW[VW.LOOSE]:zW[VW.FULL];if(!r.test(e))return null;try{return new WW(e,t)}catch(i){return null}};GW.exports=UOe}),XW=O((YZe,KW)=>{var HOe=Pd(),GOe=(e,t)=>{let r=HOe(e,t);return r?r.version:null};KW.exports=GOe}),JW=O((JZe,YW)=>{var zOe=Pd(),VOe=(e,t)=>{let r=zOe(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};YW.exports=VOe}),QW=O((ZZe,ZW)=>{var WOe=cs(),KOe=(e,t,r,i)=>{typeof r=="string"&&(i=r,r=void 0);try{return new WOe(e,r).inc(t,i).version}catch(s){return null}};ZW.exports=KOe}),To=O((QZe,eK)=>{var tK=cs(),XOe=(e,t,r)=>new tK(e,r).compare(new tK(t,r));eK.exports=XOe}),gE=O((eQe,rK)=>{var YOe=To(),JOe=(e,t,r)=>YOe(e,t,r)===0;rK.exports=JOe}),sK=O((tQe,nK)=>{var iK=Pd(),ZOe=gE(),QOe=(e,t)=>{if(ZOe(e,t))return null;{let r=iK(e),i=iK(t),s=r.prerelease.length||i.prerelease.length,n=s?"pre":"",a=s?"prerelease":"";for(let o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==i[o])return n+o;return a}};nK.exports=QOe}),oK=O((rQe,aK)=>{var eke=cs(),tke=(e,t)=>new eke(e,t).major;aK.exports=tke}),lK=O((nQe,cK)=>{var rke=cs(),nke=(e,t)=>new rke(e,t).minor;cK.exports=nke}),fK=O((iQe,uK)=>{var ike=cs(),ske=(e,t)=>new ike(e,t).patch;uK.exports=ske}),pK=O((sQe,hK)=>{var ake=Pd(),oke=(e,t)=>{let r=ake(e,t);return r&&r.prerelease.length?r.prerelease:null};hK.exports=oke}),mK=O((aQe,dK)=>{var cke=To(),lke=(e,t,r)=>cke(t,e,r);dK.exports=lke}),yK=O((oQe,gK)=>{var uke=To(),fke=(e,t)=>uke(e,t,!0);gK.exports=fke}),yE=O((cQe,vK)=>{var _K=cs(),hke=(e,t,r)=>{let i=new _K(e,r),s=new _K(t,r);return i.compare(s)||i.compareBuild(s)};vK.exports=hke}),bK=O((lQe,wK)=>{var pke=yE(),dke=(e,t)=>e.sort((r,i)=>pke(r,i,t));wK.exports=dke}),EK=O((uQe,xK)=>{var mke=yE(),gke=(e,t)=>e.sort((r,i)=>mke(i,r,t));xK.exports=gke}),V1=O((fQe,SK)=>{var yke=To(),vke=(e,t,r)=>yke(e,t,r)>0;SK.exports=vke}),vE=O((hQe,RK)=>{var _ke=To(),wke=(e,t,r)=>_ke(e,t,r)<0;RK.exports=wke}),nI=O((pQe,AK)=>{var bke=To(),xke=(e,t,r)=>bke(e,t,r)!==0;AK.exports=xke}),_E=O((dQe,TK)=>{var Eke=To(),Ske=(e,t,r)=>Eke(e,t,r)>=0;TK.exports=Ske}),wE=O((mQe,CK)=>{var Rke=To(),Ake=(e,t,r)=>Rke(e,t,r)<=0;CK.exports=Ake}),iI=O((gQe,OK)=>{var Tke=gE(),Cke=nI(),Oke=V1(),kke=_E(),Pke=vE(),Ike=wE(),qke=(e,t,r,i)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Tke(e,r,i);case"!=":return Cke(e,r,i);case">":return Oke(e,r,i);case">=":return kke(e,r,i);case"<":return Pke(e,r,i);case"<=":return Ike(e,r,i);default:throw new TypeError(`Invalid operator: ${t}`)}};OK.exports=qke}),PK=O((yQe,kK)=>{var Nke=cs(),Mke=Pd(),{re:bE,t:xE}=kd(),Lke=(e,t)=>{if(e instanceof Nke)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(bE[xE.COERCE]);else{let i;for(;(i=bE[xE.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||i.index+i[0].length!==r.index+r[0].length)&&(r=i),bE[xE.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;bE[xE.COERCERTL].lastIndex=-1}return r===null?null:Mke(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};kK.exports=Lke}),qK=O((vQe,IK)=>{"use strict";IK.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}}),MK=O((_Qe,NK)=>{"use strict";NK.exports=dr;dr.Node=Id;dr.create=dr;function dr(e){var t=this;if(t instanceof dr||(t=new dr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}dr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};dr.prototype.unshiftNode=function(e){if(e===this.head)return;e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++};dr.prototype.pushNode=function(e){if(e===this.tail)return;e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++};dr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Dke(this,arguments[e]);return this.length};dr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)$ke(this,arguments[e]);return this.length};dr.prototype.pop=function(){if(!this.tail)return;var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e};dr.prototype.shift=function(){if(!this.head)return;var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e};dr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++)e.call(t,r.value,i,this),r=r.next};dr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--)e.call(t,r.value,i,this),r=r.prev};dr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};dr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};dr.prototype.map=function(e,t){t=t||this;for(var r=new dr,i=this.head;i!==null;)r.push(e.call(t,i.value,this)),i=i.next;return r};dr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new dr,i=this.tail;i!==null;)r.push(e.call(t,i.value,this)),i=i.prev;return r};dr.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)r=e(r,i.value,s),i=i.next;return r};dr.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)r=e(r,i.value,s),i=i.prev;return r};dr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};dr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};dr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new dr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(;s!==null&&i<t;i++,s=s.next)r.push(s.value);return r};dr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new dr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;s!==null&&i>t;i--)s=s.prev;for(;s!==null&&i>e;i--,s=s.prev)r.push(s.value);return r};dr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(var n=[],i=0;s&&i<t;i++)n.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var i=0;i<r.length;i++)s=jke(this,s,r[i]);return n};dr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};function jke(e,t,r){var i=t===e.head?new Id(r,null,t,e):new Id(r,t,t.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function Dke(e,t){e.tail=new Id(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function $ke(e,t){e.head=new Id(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Id(e,t,r,i){if(!(this instanceof Id))return new Id(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{qK()(dr)}catch(e){}}),UK=O((wQe,LK)=>{"use strict";var Fke=MK(),qd=Symbol("max"),ef=Symbol("length"),Tg=Symbol("lengthCalculator"),W1=Symbol("allowStale"),Nd=Symbol("maxAge"),tf=Symbol("dispose"),DK=Symbol("noDisposeOnSet"),Ai=Symbol("lruList"),dc=Symbol("cache"),$K=Symbol("updateAgeOnGet"),sI=()=>1,jK=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[qd]=t.max||Infinity,i=t.length||sI;if(this[Tg]=typeof i!="function"?sI:i,this[W1]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Nd]=t.maxAge||0,this[tf]=t.dispose,this[DK]=t.noDisposeOnSet||!1,this[$K]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[qd]=t||Infinity,K1(this)}get max(){return this[qd]}set allowStale(t){this[W1]=!!t}get allowStale(){return this[W1]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Nd]=t,K1(this)}get maxAge(){return this[Nd]}set lengthCalculator(t){typeof t!="function"&&(t=sI),t!==this[Tg]&&(this[Tg]=t,this[ef]=0,this[Ai].forEach(r=>{r.length=this[Tg](r.value,r.key),this[ef]+=r.length})),K1(this)}get lengthCalculator(){return this[Tg]}get length(){return this[ef]}get itemCount(){return this[Ai].length}rforEach(t,r){r=r||this;for(let i=this[Ai].tail;i!==null;){let s=i.prev;BK(this,t,i,r),i=s}}forEach(t,r){r=r||this;for(let i=this[Ai].head;i!==null;){let s=i.next;BK(this,t,i,r),i=s}}keys(){return this[Ai].toArray().map(t=>t.key)}values(){return this[Ai].toArray().map(t=>t.value)}reset(){this[tf]&&this[Ai]&&this[Ai].length&&this[Ai].forEach(t=>this[tf](t.key,t.value)),this[dc]=new Map,this[Ai]=new Fke,this[ef]=0}dump(){return this[Ai].map(t=>EE(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ai]}set(t,r,i){if(i=i||this[Nd],i&&typeof i!="number")throw new TypeError("maxAge must be a number");let s=i?Date.now():0,n=this[Tg](r,t);if(this[dc].has(t)){if(n>this[qd])return Cg(this,this[dc].get(t)),!1;let o=this[dc].get(t),u=o.value;return this[tf]&&(this[DK]||this[tf](t,u.value)),u.now=s,u.maxAge=i,u.value=r,this[ef]+=n-u.length,u.length=n,this.get(t),K1(this),!0}let a=new FK(t,r,n,s,i);return a.length>this[qd]?(this[tf]&&this[tf](t,r),!1):(this[ef]+=a.length,this[Ai].unshift(a),this[dc].set(t,this[Ai].head),K1(this),!0)}has(t){if(!this[dc].has(t))return!1;let r=this[dc].get(t).value;return!EE(this,r)}get(t){return aI(this,t,!0)}peek(t){return aI(this,t,!1)}pop(){let t=this[Ai].tail;return t?(Cg(this,t),t.value):null}del(t){Cg(this,this[dc].get(t))}load(t){this.reset();let r=Date.now();for(let i=t.length-1;i>=0;i--){let s=t[i],n=s.e||0;if(n===0)this.set(s.k,s.v);else{let a=n-r;a>0&&this.set(s.k,s.v,a)}}}prune(){this[dc].forEach((t,r)=>aI(this,r,!1))}},aI=(e,t,r)=>{let i=e[dc].get(t);if(i){let s=i.value;if(EE(e,s)){if(Cg(e,i),!e[W1])return}else r&&(e[$K]&&(i.value.now=Date.now()),e[Ai].unshiftNode(i));return s.value}},EE=(e,t)=>{if(!t||!t.maxAge&&!e[Nd])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Nd]&&r>e[Nd]},K1=e=>{if(e[ef]>e[qd])for(let t=e[Ai].tail;e[ef]>e[qd]&&t!==null;){let r=t.prev;Cg(e,t),t=r}},Cg=(e,t)=>{if(t){let r=t.value;e[tf]&&e[tf](r.key,r.value),e[ef]-=r.length,e[dc].delete(r.key),e[Ai].removeNode(t)}},FK=class{constructor(t,r,i,s,n){this.key=t,this.value=r,this.length=i,this.now=s,this.maxAge=n||0}},BK=(e,t,r,i)=>{let s=r.value;EE(e,s)&&(Cg(e,r),e[W1]||(s=void 0)),s&&t.call(i,s.value,s.key,e)};LK.exports=jK}),Co=O((bQe,HK)=>{var Og=class{constructor(t,r){if(r=Bke(r),t instanceof Og)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new Og(t.raw,r);if(t instanceof oI)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(s=>!zK(s[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Vke(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let r=Object.keys(this.options).join(","),i=`parseRange:${r}:${t}`,s=GK.get(i);if(s)return s;let n=this.options.loose,a=n?ls[Fi.HYPHENRANGELOOSE]:ls[Fi.HYPHENRANGE];t=t.replace(a,Xke(this.options.includePrerelease)),Fn("hyphen replace",t),t=t.replace(ls[Fi.COMPARATORTRIM],Hke),Fn("comparator trim",t,ls[Fi.COMPARATORTRIM]),t=t.replace(ls[Fi.TILDETRIM],Gke),t=t.replace(ls[Fi.CARETTRIM],zke),t=t.split(/\s+/).join(" ");let o=n?ls[Fi.COMPARATORLOOSE]:ls[Fi.COMPARATOR],u=t.split(" ").map(x=>Wke(x,this.options)).join(" ").split(/\s+/).map(x=>Kke(x,this.options)).filter(this.options.loose?x=>!!x.match(o):()=>!0).map(x=>new oI(x,this.options)),d=u.length,m=new Map;for(let x of u){if(zK(x))return[x];m.set(x.value,x)}m.size>1&&m.has("")&&m.delete("");let f=[...m.values()];return GK.set(i,f),f}intersects(t,r){if(!(t instanceof Og))throw new TypeError("a Range is required");return this.set.some(i=>VK(i,r)&&t.set.some(s=>VK(s,r)&&i.every(n=>s.every(a=>n.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Uke(t,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(Yke(this.set[r],t,this.options))return!0;return!1}};HK.exports=Og;var Jke=UK(),GK=new Jke({max:1e3}),Bke=G1(),oI=X1(),Fn=H1(),Uke=cs(),{re:ls,t:Fi,comparatorTrimReplace:Hke,tildeTrimReplace:Gke,caretTrimReplace:zke}=kd(),zK=e=>e.value==="<0.0.0-0",Vke=e=>e.value==="",VK=(e,t)=>{let r=!0,i=e.slice(),s=i.pop();for(;r&&i.length;)r=i.every(n=>s.intersects(n,t)),s=i.pop();return r},Wke=(e,t)=>(Fn("comp",e,t),e=Qke(e,t),Fn("caret",e),e=Zke(e,t),Fn("tildes",e),e=ePe(e,t),Fn("xrange",e),e=tPe(e,t),Fn("stars",e),e),Ns=e=>!e||e.toLowerCase()==="x"||e==="*",Zke=(e,t)=>e.trim().split(/\s+/).map(r=>rPe(r,t)).join(" "),rPe=(e,t)=>{let r=t.loose?ls[Fi.TILDELOOSE]:ls[Fi.TILDE];return e.replace(r,(i,s,n,a,o)=>{Fn("tilde",e,i,s,n,a,o);let u;return Ns(s)?u="":Ns(n)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:Ns(a)?u=`>=${s}.${n}.0 <${s}.${+n+1}.0-0`:o?(Fn("replaceTilde pr",o),u=`>=${s}.${n}.${a}-${o} <${s}.${+n+1}.0-0`):u=`>=${s}.${n}.${a} <${s}.${+n+1}.0-0`,Fn("tilde return",u),u})},Qke=(e,t)=>e.trim().split(/\s+/).map(r=>nPe(r,t)).join(" "),nPe=(e,t)=>{Fn("caret",e,t);let r=t.loose?ls[Fi.CARETLOOSE]:ls[Fi.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,(s,n,a,o,u)=>{Fn("caret",e,s,n,a,o,u);let d;return Ns(n)?d="":Ns(a)?d=`>=${n}.0.0${i} <${+n+1}.0.0-0`:Ns(o)?n==="0"?d=`>=${n}.${a}.0${i} <${n}.${+a+1}.0-0`:d=`>=${n}.${a}.0${i} <${+n+1}.0.0-0`:u?(Fn("replaceCaret pr",u),n==="0"?a==="0"?d=`>=${n}.${a}.${o}-${u} <${n}.${a}.${+o+1}-0`:d=`>=${n}.${a}.${o}-${u} <${n}.${+a+1}.0-0`:d=`>=${n}.${a}.${o}-${u} <${+n+1}.0.0-0`):(Fn("no pr"),n==="0"?a==="0"?d=`>=${n}.${a}.${o}${i} <${n}.${a}.${+o+1}-0`:d=`>=${n}.${a}.${o}${i} <${n}.${+a+1}.0-0`:d=`>=${n}.${a}.${o} <${+n+1}.0.0-0`),Fn("caret return",d),d})},ePe=(e,t)=>(Fn("replaceXRanges",e,t),e.split(/\s+/).map(r=>iPe(r,t)).join(" ")),iPe=(e,t)=>{e=e.trim();let r=t.loose?ls[Fi.XRANGELOOSE]:ls[Fi.XRANGE];return e.replace(r,(i,s,n,a,o,u)=>{Fn("xRange",e,i,s,n,a,o,u);let d=Ns(n),m=d||Ns(a),f=m||Ns(o),x=f;return s==="="&&x&&(s=""),u=t.includePrerelease?"-0":"",d?s===">"||s==="<"?i="<0.0.0-0":i="*":s&&x?(m&&(a=0),o=0,s===">"?(s=">=",m?(n=+n+1,a=0,o=0):(a=+a+1,o=0)):s==="<="&&(s="<",m?n=+n+1:a=+a+1),s==="<"&&(u="-0"),i=`${s+n}.${a}.${o}${u}`):m?i=`>=${n}.0.0${u} <${+n+1}.0.0-0`:f&&(i=`>=${n}.${a}.0${u} <${n}.${+a+1}.0-0`),Fn("xRange return",i),i})},tPe=(e,t)=>(Fn("replaceStars",e,t),e.trim().replace(ls[Fi.STAR],"")),Kke=(e,t)=>(Fn("replaceGTE0",e,t),e.trim().replace(ls[t.includePrerelease?Fi.GTE0PRE:Fi.GTE0],"")),Xke=e=>(t,r,i,s,n,a,o,u,d,m,f,x,T)=>(Ns(i)?r="":Ns(s)?r=`>=${i}.0.0${e?"-0":""}`:Ns(n)?r=`>=${i}.${s}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Ns(d)?u="":Ns(m)?u=`<${+d+1}.0.0-0`:Ns(f)?u=`<${d}.${+m+1}.0-0`:x?u=`<=${d}.${m}.${f}-${x}`:e?u=`<${d}.${m}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),Yke=(e,t,r)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let i=0;i<e.length;i++){if(Fn(e[i].semver),e[i].semver===oI.ANY)continue;if(e[i].semver.prerelease.length>0){let s=e[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}}return!1}return!0}}),X1=O((xQe,WK)=>{var Y1=Symbol("SemVer ANY"),J1=class{static get ANY(){return Y1}constructor(t,r){if(r=sPe(r),t instanceof J1){if(t.loose===!!r.loose)return t;t=t.value}lI("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Y1?this.value="":this.value=this.operator+this.semver.version,lI("comp",this)}parse(t){let r=this.options.loose?KK[XK.COMPARATORLOOSE]:KK[XK.COMPARATOR],i=t.match(r);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new YK(i[2],this.options.loose):this.semver=Y1}toString(){return this.value}test(t){if(lI("Comparator.test",t,this.options.loose),this.semver===Y1||t===Y1)return!0;if(typeof t=="string")try{t=new YK(t,this.options)}catch(r){return!1}return cI(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof J1))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new JK(t.value,r).test(this.value);if(t.operator==="")return t.value===""?!0:new JK(this.value,r).test(t.semver);let i=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),n=this.semver.version===t.semver.version,a=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),o=cI(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=cI(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return i||s||n&&a||o||u}};WK.exports=J1;var sPe=G1(),{re:KK,t:XK}=kd(),cI=iI(),lI=H1(),YK=cs(),JK=Co()}),Z1=O((EQe,ZK)=>{var aPe=Co(),oPe=(e,t,r)=>{try{t=new aPe(t,r)}catch(i){return!1}return t.test(e)};ZK.exports=oPe}),eX=O((SQe,QK)=>{var cPe=Co(),lPe=(e,t)=>new cPe(e,t).set.map(r=>r.map(i=>i.value).join(" ").trim().split(" "));QK.exports=lPe}),rX=O((RQe,tX)=>{var uPe=cs(),fPe=Co(),hPe=(e,t,r)=>{let i=null,s=null,n=null;try{n=new fPe(t,r)}catch(a){return null}return e.forEach(a=>{n.test(a)&&((!i||s.compare(a)===-1)&&(i=a,s=new uPe(i,r)))}),i};tX.exports=hPe}),iX=O((AQe,nX)=>{var pPe=cs(),dPe=Co(),mPe=(e,t,r)=>{let i=null,s=null,n=null;try{n=new dPe(t,r)}catch(a){return null}return e.forEach(a=>{n.test(a)&&((!i||s.compare(a)===1)&&(i=a,s=new pPe(i,r)))}),i};nX.exports=mPe}),oX=O((TQe,sX)=>{var uI=cs(),gPe=Co(),aX=V1(),yPe=(e,t)=>{e=new gPe(e,t);let r=new uI("0.0.0");if(e.test(r))return r;if(r=new uI("0.0.0-0"),e.test(r))return r;r=null;for(let i=0;i<e.set.length;++i){let s=e.set[i],n=null;s.forEach(a=>{let o=new uI(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!n||aX(o,n))&&(n=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),n&&(!r||aX(r,n))&&(r=n)}return r&&e.test(r)?r:null};sX.exports=yPe}),lX=O((CQe,cX)=>{var vPe=Co(),_Pe=(e,t)=>{try{return new vPe(e,t).range||"*"}catch(r){return null}};cX.exports=_Pe}),SE=O((OQe,uX)=>{var wPe=cs(),fX=X1(),{ANY:bPe}=fX,xPe=Co(),EPe=Z1(),hX=V1(),pX=vE(),SPe=wE(),RPe=_E(),APe=(e,t,r,i)=>{e=new wPe(e,i),t=new xPe(t,i);let s,n,a,o,u;switch(r){case">":s=hX,n=SPe,a=pX,o=">",u=">=";break;case"<":s=pX,n=RPe,a=hX,o="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(EPe(e,t,i))return!1;for(let d=0;d<t.set.length;++d){let m=t.set[d],f=null,x=null;if(m.forEach(T=>{T.semver===bPe&&(T=new fX(">=0.0.0")),f=f||T,x=x||T,s(T.semver,f.semver,i)?f=T:a(T.semver,x.semver,i)&&(x=T)}),f.operator===o||f.operator===u)return!1;if((!x.operator||x.operator===o)&&n(e,x.semver))return!1;if(x.operator===u&&a(e,x.semver))return!1}return!0};uX.exports=APe}),mX=O((kQe,dX)=>{var TPe=SE(),CPe=(e,t,r)=>TPe(e,t,">",r);dX.exports=CPe}),yX=O((PQe,gX)=>{var OPe=SE(),kPe=(e,t,r)=>OPe(e,t,"<",r);gX.exports=kPe}),wX=O((IQe,vX)=>{var _X=Co(),PPe=(e,t,r)=>(e=new _X(e,r),t=new _X(t,r),e.intersects(t));vX.exports=PPe}),xX=O((qQe,bX)=>{var IPe=Z1(),qPe=To();bX.exports=(e,t,r)=>{let i=[],s=null,n=null,a=e.sort((m,f)=>qPe(m,f,r));for(let m of a){let f=IPe(m,t,r);f?(n=m,s||(s=m)):(n&&i.push([s,n]),n=null,s=null)}s&&i.push([s,null]);let o=[];for(let[m,f]of i)m===f?o.push(m):!f&&m===a[0]?o.push("*"):f?m===a[0]?o.push(`<=${f}`):o.push(`${m} - ${f}`):o.push(`>=${m}`);let u=o.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return u.length<d.length?u:t}}),TX=O((NQe,EX)=>{var SX=Co(),RE=X1(),{ANY:fI}=RE,Q1=Z1(),hI=To(),MPe=(e,t,r={})=>{if(e===t)return!0;e=new SX(e,r),t=new SX(t,r);let i=!1;e:for(let s of e.set){for(let n of t.set){let a=NPe(s,n,r);if(i=i||a!==null,a)continue e}if(i)return!1}return!0},NPe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===fI){if(t.length===1&&t[0].semver===fI)return!0;r.includePrerelease?e=[new RE(">=0.0.0-0")]:e=[new RE(">=0.0.0")]}if(t.length===1&&t[0].semver===fI){if(r.includePrerelease)return!0;t=[new RE(">=0.0.0")]}let i=new Set,s,n;for(let T of e)T.operator===">"||T.operator===">="?s=RX(s,T,r):T.operator==="<"||T.operator==="<="?n=AX(n,T,r):i.add(T.semver);if(i.size>1)return null;let a;if(s&&n){if(a=hI(s.semver,n.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||n.operator!=="<="))return null}for(let T of i){if(s&&!Q1(T,String(s),r))return null;if(n&&!Q1(T,String(n),r))return null;for(let q of t)if(!Q1(T,String(q),r))return!1;return!0}let o,u,d,m,f=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1,x=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&n.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let T of t){if(m=m||T.operator===">"||T.operator===">=",d=d||T.operator==="<"||T.operator==="<=",s){if(x&&(T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===x.major&&T.semver.minor===x.minor&&T.semver.patch===x.patch&&(x=!1)),T.operator===">"||T.operator===">="){if(o=RX(s,T,r),o===T&&o!==s)return!1}else if(s.operator===">="&&!Q1(s.semver,String(T),r))return!1}if(n){if(f&&(T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===f.major&&T.semver.minor===f.minor&&T.semver.patch===f.patch&&(f=!1)),T.operator==="<"||T.operator==="<="){if(u=AX(n,T,r),u===T&&u!==n)return!1}else if(n.operator==="<="&&!Q1(n.semver,String(T),r))return!1}if(!T.operator&&(n||s)&&a!==0)return!1}return s&&d&&!n&&a!==0||n&&m&&!s&&a!==0?!1:!(x||f)},RX=(e,t,r)=>{if(!e)return t;let i=hI(e.semver,t.semver,r);return i>0?e:i<0||t.operator===">"&&e.operator===">="?t:e},AX=(e,t,r)=>{if(!e)return t;let i=hI(e.semver,t.semver,r);return i<0?e:i>0||t.operator==="<"&&e.operator==="<="?t:e};EX.exports=MPe}),Bi=O((MQe,CX)=>{var pI=kd();CX.exports={re:pI.re,src:pI.src,tokens:pI.t,SEMVER_SPEC_VERSION:U1().SEMVER_SPEC_VERSION,SemVer:cs(),compareIdentifiers:pE().compareIdentifiers,rcompareIdentifiers:pE().rcompareIdentifiers,parse:Pd(),valid:XW(),clean:JW(),inc:QW(),diff:sK(),major:oK(),minor:lK(),patch:fK(),prerelease:pK(),compare:To(),rcompare:mK(),compareLoose:yK(),compareBuild:yE(),sort:bK(),rsort:EK(),gt:V1(),lt:vE(),eq:gE(),neq:nI(),gte:_E(),lte:wE(),cmp:iI(),coerce:PK(),Comparator:X1(),Range:Co(),satisfies:Z1(),toComparators:eX(),maxSatisfying:rX(),minSatisfying:iX(),minVersion:oX(),validRange:lX(),outside:SE(),gtr:mX(),ltr:yX(),intersects:wX(),simplifyRange:xX(),subset:TX()}}),IX=O(kg=>{"use strict";var LPe=require("stream").Transform,dI=require("crypto"),OX=ii();kg.check=DPe;kg.checkSync=$Pe;kg.get=kX;kg.getSync=PX;kg.stream=jPe;function DPe(e,t,r,i){typeof r=="function"&&(i=r,r=void 0),t=t.toLowerCase().trim(),kX(e,r,function(s,n){if(s)return s.message&&(s.message+=" while getting shasum for "+e),i(s);if(n===t)return i(null);i(new Error("shasum check failed for "+e+`
Expected: `+t+`
Actual:   `+n))})}function $Pe(e,t,r){t=t.toLowerCase().trim();var i;try{i=PX(e,r)}catch(n){throw n.message&&(n.message+=" while getting shasum for "+e),n}if(i!==t){var s=new Error("shasum check failed for "+e+`
Expected: `+t+`
Actual:   `+i);throw s}}function kX(e,t,r){typeof t=="function"&&(r=t,t=void 0),t=t||{};var i=t.algorithm||"sha1",s=dI.createHash(i),n=OX.createReadStream(e),a=null;n.on("error",function(o){return a?void 0:r(a=o)}).on("data",function(o){if(a)return;s.update(o)}).on("end",function(){if(a)return;var o=s.digest("hex").toLowerCase().trim();r(null,o)})}function PX(e,t){t=t||{};var r=t.algorithm||"sha1",i=dI.createHash(r),s=OX.readFileSync(e);return i.update(s),i.digest("hex").toLowerCase().trim()}function jPe(e,t){e=e.toLowerCase().trim(),t=t||{};var r=t.algorithm||"sha1",i=dI.createHash(r),s=new LPe;return s._transform=function(n,a,o){i.update(n),s.push(n),o()},s._flush=function(n){var a=i.digest("hex").toLowerCase().trim();if(a===e)return n(null);n(new Error(`shasum check failed for:
  Expected: `+e+`
  Actual:   `+a)),this.push(null)},s}}),mI=O((DQe,qX)=>{"use strict";qX.exports=function(t,r){return function(){for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];return t.apply(r,s)}}}),us=O(($Qe,NX)=>{"use strict";var FPe=mI(),Dh=Object.prototype.toString;function gI(e){return Array.isArray(e)}function yI(e){return typeof e=="undefined"}function BPe(e){return e!==null&&!yI(e)&&e.constructor!==null&&!yI(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function MX(e){return Dh.call(e)==="[object ArrayBuffer]"}function UPe(e){return Dh.call(e)==="[object FormData]"}function HPe(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&MX(e.buffer),t}function GPe(e){return typeof e=="string"}function zPe(e){return typeof e=="number"}function LX(e){return e!==null&&typeof e=="object"}function AE(e){if(Dh.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function VPe(e){return Dh.call(e)==="[object Date]"}function WPe(e){return Dh.call(e)==="[object File]"}function KPe(e){return Dh.call(e)==="[object Blob]"}function DX(e){return Dh.call(e)==="[object Function]"}function XPe(e){return LX(e)&&DX(e.pipe)}function YPe(e){return Dh.call(e)==="[object URLSearchParams]"}function JPe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ZPe(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function vI(e,t){if(e===null||typeof e=="undefined")return;if(typeof e!="object"&&(e=[e]),gI(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function _I(){var e={};function t(s,n){AE(e[n])&&AE(s)?e[n]=_I(e[n],s):AE(s)?e[n]=_I({},s):gI(s)?e[n]=s.slice():e[n]=s}for(var r=0,i=arguments.length;r<i;r++)vI(arguments[r],t);return e}function QPe(e,t,r){return vI(t,function(s,n){r&&typeof s=="function"?e[n]=FPe(s,r):e[n]=s}),e}function eIe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}NX.exports={isArray:gI,isArrayBuffer:MX,isBuffer:BPe,isFormData:UPe,isArrayBufferView:HPe,isString:GPe,isNumber:zPe,isObject:LX,isPlainObject:AE,isUndefined:yI,isDate:VPe,isFile:WPe,isBlob:KPe,isFunction:DX,isStream:XPe,isURLSearchParams:YPe,isStandardBrowserEnv:ZPe,forEach:vI,merge:_I,extend:QPe,trim:JPe,stripBOM:eIe}}),TE=O((jQe,$X)=>{"use strict";var Pg=us();function jX(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}$X.exports=function(t,r,i){if(!r)return t;var s;if(i)s=i(r);else if(Pg.isURLSearchParams(r))s=r.toString();else{var n=[];Pg.forEach(r,function(u,d){if(u===null||typeof u=="undefined")return;Pg.isArray(u)?d=d+"[]":u=[u],Pg.forEach(u,function(f){Pg.isDate(f)?f=f.toISOString():Pg.isObject(f)&&(f=JSON.stringify(f)),n.push(jX(d)+"="+jX(f))})}),s=n.join("&")}if(s){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}}),BX=O((FQe,FX)=>{"use strict";var tIe=us();function CE(){this.handlers=[]}CE.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};CE.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};CE.prototype.forEach=function(t){tIe.forEach(this.handlers,function(i){i!==null&&t(i)})};FX.exports=CE}),HX=O((BQe,UX)=>{"use strict";var rIe=us();UX.exports=function(t,r){rIe.forEach(t,function(s,n){n!==r&&n.toUpperCase()===r.toUpperCase()&&(t[r]=s,delete t[n])})}}),OE=O((UQe,GX)=>{"use strict";GX.exports=function(t,r,i,s,n){return t.config=r,i&&(t.code=i),t.request=s,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}}),kE=O((HQe,zX)=>{"use strict";var nIe=OE();zX.exports=function(t,r,i,s,n){var a=new Error(t);return nIe(a,r,i,s,n)}}),wI=O((GQe,VX)=>{"use strict";var iIe=kE();VX.exports=function(t,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):r(iIe("Request failed with status code "+i.status,i.config,null,i.request,i))}}),KX=O((zQe,WX)=>{"use strict";var PE=us();WX.exports=PE.isStandardBrowserEnv()?function(){return{write:function(r,i,s,n,a,o){var u=[];u.push(r+"="+encodeURIComponent(i)),PE.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),PE.isString(n)&&u.push("path="+n),PE.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()}),YX=O((VQe,XX)=>{"use strict";XX.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}}),ZX=O((WQe,JX)=>{"use strict";JX.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}}),bI=O((KQe,QX)=>{"use strict";var sIe=YX(),aIe=ZX();QX.exports=function(t,r){return t&&!sIe(r)?aIe(t,r):r}}),tY=O((XQe,eY)=>{"use strict";var xI=us(),oIe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];eY.exports=function(t){var r={},i,s,n;return t&&xI.forEach(t.split(`
`),function(o){if(n=o.indexOf(":"),i=xI.trim(o.substr(0,n)).toLowerCase(),s=xI.trim(o.substr(n+1)),i){if(r[i]&&oIe.indexOf(i)>=0)return;i==="set-cookie"?r[i]=(r[i]?r[i]:[]).concat([s]):r[i]=r[i]?r[i]+", "+s:s}}),r}}),iY=O((YQe,rY)=>{"use strict";var nY=us();rY.exports=nY.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(n){var a=n;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var o=nY.isString(a)?s(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}()}),Ig=O((JQe,sY)=>{"use strict";function EI(e){this.message=e}EI.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};EI.prototype.__CANCEL__=!0;sY.exports=EI}),oY=O((ZQe,aY)=>{"use strict";var IE=us(),cIe=wI(),lIe=KX(),uIe=TE(),fIe=bI(),hIe=tY(),pIe=iY(),SI=kE(),dIe=qg(),mIe=Ig();aY.exports=function(t){return new Promise(function(i,s){var n=t.data,a=t.headers,o=t.responseType,u;function d(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}IE.isFormData(n)&&delete a["Content-Type"];var m=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(f+":"+x)}var T=fIe(t.baseURL,t.url);m.open(t.method.toUpperCase(),uIe(T,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function q(){if(!m)return;var $="getAllResponseHeaders"in m?hIe(m.getAllResponseHeaders()):null,H=!o||o==="text"||o==="json"?m.responseText:m.response,oe={data:H,status:m.status,statusText:m.statusText,headers:$,config:t,request:m};cIe(function(pe){i(pe),d()},function(pe){s(pe),d()},oe),m=null}if("onloadend"in m?m.onloadend=q:m.onreadystatechange=function(){if(!m||m.readyState!==4)return;if(m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0))return;setTimeout(q)},m.onabort=function(){if(!m)return;s(SI("Request aborted",t,"ECONNABORTED",m)),m=null},m.onerror=function(){s(SI("Network Error",t,null,m)),m=null},m.ontimeout=function(){var H=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",oe=t.transitional||dIe.transitional;t.timeoutErrorMessage&&(H=t.timeoutErrorMessage),s(SI(H,t,oe.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},IE.isStandardBrowserEnv()){var F=(t.withCredentials||pIe(T))&&t.xsrfCookieName?lIe.read(t.xsrfCookieName):void 0;F&&(a[t.xsrfHeaderName]=F)}"setRequestHeader"in m&&IE.forEach(a,function(H,oe){typeof n=="undefined"&&oe.toLowerCase()==="content-type"?delete a[oe]:m.setRequestHeader(oe,H)}),IE.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),o&&o!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(u=function($){if(!m)return;s(!$||$&&$.type?new mIe("canceled"):$),m.abort(),m=null},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u))),n||(n=null),m.send(n)})}}),lY=O(cY=>{"use strict";var gIe=require("url").parse,yIe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},vIe=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function wIe(e){var t=typeof e=="string"?gIe(e):e||{},r=t.protocol,i=t.host,s=t.port;if(typeof i!="string"||!i||typeof r!="string")return"";if(r=r.split(":",1)[0],i=i.replace(/:\d*$/,""),s=parseInt(s)||yIe[r]||0,!_Ie(i,s))return"";var n=Ng("npm_config_"+r+"_proxy")||Ng(r+"_proxy")||Ng("npm_config_proxy")||Ng("all_proxy");return n&&n.indexOf("://")===-1&&(n=r+"://"+n),n}function _Ie(e,t){var r=(Ng("npm_config_no_proxy")||Ng("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(i){if(!i)return!0;var s=i.match(/^(.+):(\d+)$/),n=s?s[1]:i,a=s?parseInt(s[2]):0;return a&&a!==t?!0:/^[.*]/.test(n)?(n.charAt(0)==="*"&&(n=n.slice(1)),!vIe.call(e,n)):e!==n}):!0}function Ng(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}cY.getProxyForUrl=wIe}),fY=O((eet,uY)=>{var Mg=1e3,Lg=Mg*60,Dg=Lg*60,Md=Dg*24,bIe=Md*7,xIe=Md*365.25;uY.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return EIe(e);if(r==="number"&&isFinite(e))return t.long?RIe(e):SIe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function EIe(e){if(e=String(e),e.length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*xIe;case"weeks":case"week":case"w":return r*bIe;case"days":case"day":case"d":return r*Md;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Dg;case"minutes":case"minute":case"mins":case"min":case"m":return r*Lg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Mg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}function SIe(e){var t=Math.abs(e);return t>=Md?Math.round(e/Md)+"d":t>=Dg?Math.round(e/Dg)+"h":t>=Lg?Math.round(e/Lg)+"m":t>=Mg?Math.round(e/Mg)+"s":e+"ms"}function RIe(e){var t=Math.abs(e);return t>=Md?qE(e,t,Md,"day"):t>=Dg?qE(e,t,Dg,"hour"):t>=Lg?qE(e,t,Lg,"minute"):t>=Mg?qE(e,t,Mg,"second"):e+" ms"}function qE(e,t,r,i){var s=t>=r*1.5;return Math.round(e/r)+" "+i+(s?"s":"")}}),RI=O((tet,hY)=>{function AIe(e){r.debug=r,r.default=r,r.coerce=d,r.disable=a,r.enable=n,r.enabled=o,r.humanize=fY(),Object.keys(e).forEach(m=>{r[m]=e[m]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(m){let f=0;for(let x=0;x<m.length;x++)f=(f<<5)-f+m.charCodeAt(x),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(m){let f;function x(...T){if(!x.enabled)return;let q=x,F=Number(new Date),$=F-(f||F);q.diff=$,q.prev=f,q.curr=F,f=F,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let H=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(Q,pe)=>{if(Q==="%%")return Q;H++;let ve=r.formatters[pe];if(typeof ve=="function"){let Ce=T[H];Q=ve.call(q,Ce),T.splice(H,1),H--}return Q}),r.formatArgs.call(q,T);let oe=q.log||r.log;oe.apply(q,T)}return x.namespace=m,x.enabled=r.enabled(m),x.useColors=r.useColors(),x.color=r.selectColor(m),x.destroy=i,x.extend=s,typeof r.init=="function"&&r.init(x),r.instances.push(x),x}function i(){let m=r.instances.indexOf(this);return m!==-1?(r.instances.splice(m,1),!0):!1}function s(m,f){let x=r(this.namespace+(typeof f=="undefined"?":":f)+m);return x.log=this.log,x}function n(m){r.save(m),r.names=[],r.skips=[];let f,x=(typeof m=="string"?m:"").split(/[\s,]+/),T=x.length;for(f=0;f<T;f++){if(!x[f])continue;m=x[f].replace(/\*/g,".*?"),m[0]==="-"?r.skips.push(new RegExp("^"+m.substr(1)+"$")):r.names.push(new RegExp("^"+m+"$"))}for(f=0;f<r.instances.length;f++){let q=r.instances[f];q.enabled=r.enabled(q.namespace)}}function a(){let m=[...r.names.map(u),...r.skips.map(u).map(f=>"-"+f)].join(",");return r.enable(""),m}function o(m){if(m[m.length-1]==="*")return!0;let f,x;for(f=0,x=r.skips.length;f<x;f++)if(r.skips[f].test(m))return!1;for(f=0,x=r.names.length;f<x;f++)if(r.names[f].test(m))return!0;return!1}function u(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function d(m){return m instanceof Error?m.stack||m.message:m}return r.enable(r.load()),r}hY.exports=AIe}),pY=O((Oo,NE)=>{Oo.formatArgs=TIe;Oo.save=CIe;Oo.load=OIe;Oo.useColors=kIe;Oo.storage=PIe();Oo.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function kIe(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function TIe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+NE.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,s=>{if(s==="%%")return;r++,s==="%c"&&(i=r)}),e.splice(i,0,t)}Oo.log=console.debug||console.log||(()=>{});function CIe(e){try{e?Oo.storage.setItem("debug",e):Oo.storage.removeItem("debug")}catch(t){}}function OIe(){let e;try{e=Oo.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function PIe(){try{return localStorage}catch(e){}}NE.exports=RI()(Oo);var{formatters:IIe}=NE.exports;IIe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),mY=O((ret,dY)=>{"use strict";dY.exports=(e,t)=>{t=t||process.argv;let r=e.startsWith("-")?"":e.length===1?"-":"--",i=t.indexOf(r+e),s=t.indexOf("--");return i!==-1&&(s===-1?!0:i<s)}}),yY=O((net,gY)=>{"use strict";var qIe=require("os"),mc=mY(),fs=process.env,$g;mc("no-color")||mc("no-colors")||mc("color=false")?$g=!1:(mc("color")||mc("colors")||mc("color=true")||mc("color=always"))&&($g=!0);"FORCE_COLOR"in fs&&($g=fs.FORCE_COLOR.length===0||parseInt(fs.FORCE_COLOR,10)!==0);function NIe(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function MIe(e){if($g===!1)return 0;if(mc("color=16m")||mc("color=full")||mc("color=truecolor"))return 3;if(mc("color=256"))return 2;if(e&&!e.isTTY&&$g!==!0)return 0;let t=$g?1:0;if(process.platform==="win32"){let r=qIe.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in fs)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in fs)||fs.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in fs)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(fs.TEAMCITY_VERSION)?1:0;if(fs.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in fs){let r=parseInt((fs.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(fs.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(fs.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(fs.TERM)||"COLORTERM"in fs?1:(fs.TERM==="dumb",t)}function AI(e){let t=MIe(e);return NIe(t)}gY.exports={supportsColor:AI,stdout:AI(process.stdout),stderr:AI(process.stderr)}}),_Y=O((hs,ME)=>{var LIe=require("tty"),TI=require("util");hs.init=DIe;hs.log=$Ie;hs.formatArgs=jIe;hs.save=FIe;hs.load=BIe;hs.useColors=UIe;hs.colors=[6,2,3,4,5,1];try{let e=yY();e&&(e.stderr||e).level>=2&&(hs.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}hs.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,n)=>n.toUpperCase()),i=process.env[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),e[r]=i,e},{});function UIe(){return"colors"in hs.inspectOpts?Boolean(hs.inspectOpts.colors):LIe.isatty(process.stderr.fd)}function jIe(e){let{namespace:t,useColors:r}=this;if(r){let i=this.color,s="[3"+(i<8?i:"8;5;"+i),n=`  ${s};1m${t} [0m`;e[0]=n+e[0].split(`
`).join(`
`+n),e.push(s+"m+"+ME.exports.humanize(this.diff)+"[0m")}else e[0]=HIe()+t+" "+e[0]}function HIe(){return hs.inspectOpts.hideDate?"":new Date().toISOString()+" "}function $Ie(...e){return process.stderr.write(TI.format(...e)+`
`)}function FIe(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function BIe(){return process.env.DEBUG}function DIe(e){e.inspectOpts={};let t=Object.keys(hs.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=hs.inspectOpts[t[r]]}ME.exports=RI()(hs);var{formatters:vY}=ME.exports;vY.o=function(e){return this.inspectOpts.colors=this.useColors,TI.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};vY.O=function(e){return this.inspectOpts.colors=this.useColors,TI.inspect(e,this.inspectOpts)}}),e_=O((iet,CI)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?CI.exports=pY():CI.exports=_Y()}),bY=O((set,wY)=>{var t_;wY.exports=function(){if(!t_){try{t_=e_()("follow-redirects")}catch(e){}typeof t_!="function"&&(t_=function(){})}t_.apply(null,arguments)}}),qI=O((aet,OI)=>{var $h=require("url"),kI=$h.URL,GIe=require("http"),zIe=require("https"),xY=require("stream").Writable,VIe=require("assert"),EY=bY(),Ld=["abort","aborted","connect","error","socket","timeout"],PI=Object.create(null);Ld.forEach(function(e){PI[e]=function(t,r,i){this._redirectable.emit(e,t,r,i)}});var SY=LE("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),WIe=LE("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),KIe=LE("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),XIe=LE("ERR_STREAM_WRITE_AFTER_END","write after end");function qa(e,t){xY.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(i){r._processResponse(i)},this._performRequest()}qa.prototype=Object.create(xY.prototype);qa.prototype.abort=function(){RY(this._currentRequest),this.emit("abort")};qa.prototype.write=function(e,t,r){if(this._ending)throw new XIe;if(!(typeof e=="string"||typeof e=="object"&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof t=="function"&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new KIe),this.abort())};qa.prototype.end=function(e,t,r){if(typeof e=="function"?(r=e,e=t=null):typeof t=="function"&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var i=this,s=this._currentRequest;this.write(e,t,function(){i._ended=!0,s.end(null,null,r)}),this._ending=!0}};qa.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};qa.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};qa.prototype.setTimeout=function(e,t){var r=this;function i(a){a.setTimeout(e),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function s(a){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),n()},e),i(a)}function n(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",n),r.removeListener("error",n),r.removeListener("response",n),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",i),this.on("abort",n),this.on("error",n),this.on("response",n),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){qa.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(qa.prototype,e,{get:function(){return this._currentRequest[e]}})});qa.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};qa.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=$h.resolve($h.format(this._options),this._options.path),i._redirectable=this;for(var s=0;s<Ld.length;s++)i.on(Ld[s],PI[Ld[s]]);if(this._isRedirect){var n=0,a=this,o=this._requestBodyBuffers;(function u(d){if(i===a._currentRequest)if(d)a.emit("error",d);else if(n<o.length){var m=o[n++];i.finished||i.write(m.data,m.encoding,u)}else a._ended&&i.end()})()}};qa.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&this._options.followRedirects!==!1&&t>=300&&t<400){if(RY(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new WIe);return}((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],II(/^content-/i,this._options.headers));var i=II(/^host$/i,this._options.headers),s=$h.parse(this._currentUrl),n=i||s.host,a=/^\w+:/.test(r)?this._currentUrl:$h.format(Object.assign(s,{host:n})),o;try{o=$h.resolve(a,r)}catch(m){this.emit("error",new SY(m));return}EY("redirecting to",o),this._isRedirect=!0;var u=$h.parse(o);if(Object.assign(this._options,u),u.host===n||YIe(u.host,n)||II(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var d={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,d)}catch(m){this.emit("error",m);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(m){this.emit("error",new SY(m))}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]};function TY(e){var t={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(e).forEach(function(i){var s=i+":",n=r[s]=e[i],a=t[i]=Object.create(n);function o(d,m,f){if(typeof d=="string"){var x=d;try{d=AY(new kI(x))}catch(T){d=$h.parse(x)}}else kI&&d instanceof kI?d=AY(d):(f=m,m=d,d={protocol:s});return typeof m=="function"&&(f=m,m=null),m=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},d,m),m.nativeProtocols=r,VIe.equal(m.protocol,s,"protocol mismatch"),EY("options",m),new qa(m,f)}function u(d,m,f){var x=a.request(d,m,f);return x.end(),x}Object.defineProperties(a,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),t}function JIe(){}function AY(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function II(e,t){var r;for(var i in t)e.test(i)&&(r=t[i],delete t[i]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function LE(e,t){function r(i){Error.captureStackTrace(this,this.constructor),i?(this.message=t+": "+i.message,this.cause=i):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function RY(e){for(var t=0;t<Ld.length;t++)e.removeListener(Ld[t],PI[Ld[t]]);e.on("error",JIe),e.abort()}function YIe(e,t){let r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}OI.exports=TY({http:GIe,https:zIe});OI.exports.wrap=TY}),CY=O(NI=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0});function ZIe(e){return function(t,r){return new Promise((i,s)=>{e.call(this,t,r,(n,a)=>{n?s(n):i(a)})})}}NI.default=ZIe}),PY=O((MI,OY)=>{"use strict";var kY=MI&&MI.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},QIe=require("events"),eqe=kY(e_()),tqe=kY(CY()),r_=eqe.default("agent-base");function rqe(e){return Boolean(e)&&typeof e.addRequest=="function"}function LI(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function DE(e,t){return new DE.Agent(e,t)}(function(e){class t extends QIe.EventEmitter{constructor(i,s){super();let n=s;typeof i=="function"?this.callback=i:i&&(n=i),this.timeout=null,n&&typeof n.timeout=="number"&&(this.timeout=n.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:LI()?443:80}set defaultPort(i){this.explicitDefaultPort=i}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:LI()?"https:":"http:"}set protocol(i){this.explicitProtocol=i}callback(i,s,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(i,s){let n=Object.assign({},s);typeof n.secureEndpoint!="boolean"&&(n.secureEndpoint=LI()),n.host==null&&(n.host="localhost"),n.port==null&&(n.port=n.secureEndpoint?443:80),n.protocol==null&&(n.protocol=n.secureEndpoint?"https:":"http:"),n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,i._last=!0,i.shouldKeepAlive=!1;let a=!1,o=null,u=n.timeout||this.timeout,d=T=>{if(i._hadError)return;i.emit("error",T),i._hadError=!0},m=()=>{o=null,a=!0;let T=new Error(`A "socket" was not created for HTTP request before ${u}ms`);T.code="ETIMEOUT",d(T)},f=T=>{if(a)return;o!==null&&(clearTimeout(o),o=null),d(T)},x=T=>{if(a)return;if(o!=null&&(clearTimeout(o),o=null),rqe(T)){r_("Callback returned another Agent instance %o",T.constructor.name),T.addRequest(i,n);return}if(T){T.once("free",()=>{this.freeSocket(T,n)}),i.onSocket(T);return}let q=new Error(`no Duplex stream was returned to agent-base for \`${i.method} ${i.path}\``);d(q)};if(typeof this.callback!="function"){d(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(r_("Converting legacy callback function to promise"),this.promisifiedCallback=tqe.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(o=setTimeout(m,u)),"port"in n&&typeof n.port!="number"&&(n.port=Number(n.port));try{r_("Resolving socket for %o request: %o",n.protocol,`${i.method} ${i.path}`),Promise.resolve(this.promisifiedCallback(i,n)).then(x,f)}catch(T){Promise.reject(T).catch(f)}}freeSocket(i,s){r_("Freeing socket %o %o",i.constructor.name,s),i.destroy()}destroy(){r_("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(DE||(DE={}));OY.exports=DE}),IY=O(n_=>{"use strict";var nqe=n_&&n_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n_,"__esModule",{value:!0});var iqe=nqe(e_()),i_=iqe.default("https-proxy-agent:parse-proxy-response");function sqe(e){return new Promise((t,r)=>{let i=0,s=[];function n(){let f=e.read();f?m(f):e.once("readable",n)}function a(){e.removeListener("end",u),e.removeListener("error",d),e.removeListener("close",o),e.removeListener("readable",n)}function o(f){i_("onclose had error %o",f)}function u(){i_("onend")}function d(f){a(),i_("onerror %o",f),r(f)}function m(f){s.push(f),i+=f.length;let x=Buffer.concat(s,i),T=x.indexOf(`\r
\r
`);if(T===-1){i_("have not received end of HTTP headers yet..."),n();return}let q=x.toString("ascii",0,x.indexOf(`\r
`)),F=+q.split(" ")[1];i_("got proxy server response: %o",q),t({statusCode:F,buffered:x})}e.on("error",d),e.on("close",o),e.on("end",u),n()})}n_.default=sqe}),LY=O(Dd=>{"use strict";var aqe=Dd&&Dd.__awaiter||function(e,t,r,i){function s(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(m){try{d(i.next(m))}catch(f){a(f)}}function u(m){try{d(i.throw(m))}catch(f){a(f)}}function d(m){m.done?n(m.value):s(m.value).then(o,u)}d((i=i.apply(e,t||[])).next())})},jg=Dd&&Dd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dd,"__esModule",{value:!0});var qY=jg(require("net")),NY=jg(require("tls")),oqe=jg(require("url")),cqe=jg(require("assert")),lqe=jg(e_()),uqe=PY(),fqe=jg(IY()),s_=lqe.default("https-proxy-agent:agent"),MY=class extends uqe.Agent{constructor(t){let r;if(typeof t=="string"?r=oqe.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");s_("creating new HttpsProxyAgent instance: %o",r),super(r);let i=Object.assign({},r);this.secureProxy=r.secureProxy||dqe(i.protocol),i.host=i.hostname||i.host,typeof i.port=="string"&&(i.port=parseInt(i.port,10)),!i.port&&i.host&&(i.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in i)&&(i.ALPNProtocols=["http 1.1"]),i.host&&i.path&&(delete i.path,delete i.pathname),this.proxy=i}callback(t,r){return aqe(this,void 0,void 0,function*(){let{proxy:i,secureProxy:s}=this,n;s?(s_("Creating `tls.Socket`: %o",i),n=NY.default.connect(i)):(s_("Creating `net.Socket`: %o",i),n=qY.default.connect(i));let a=Object.assign({},i.headers),o=`${r.host}:${r.port}`,u=`CONNECT ${o} HTTP/1.1\r
`;i.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(i.auth).toString("base64")}`);let{host:d,port:m,secureEndpoint:f}=r;pqe(m,f)||(d+=`:${m}`),a.Host=d,a.Connection="close";for(let $ of Object.keys(a))u+=`${$}: ${a[$]}\r
`;let x=fqe.default(n);n.write(`${u}\r
`);let{statusCode:T,buffered:q}=yield x;if(T===200){if(t.once("socket",hqe),r.secureEndpoint){let $=r.servername||r.host;if(!$)throw new Error('Could not determine "servername"');return s_("Upgrading socket connection to TLS"),NY.default.connect(Object.assign(Object.assign({},mqe(r,"host","hostname","path","port")),{socket:n,servername:$}))}return n}n.destroy();let F=new qY.default.Socket;return F.readable=!0,t.once("socket",$=>{s_("replaying proxy buffer for failed request"),cqe.default($.listenerCount("data")>0),$.push(q),$.push(null)}),F})}};Dd.default=MY;function hqe(e){e.resume()}function pqe(e,t){return Boolean(!t&&e===80||t&&e===443)}function dqe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function mqe(e,...t){let r={},i;for(i in e)t.includes(i)||(r[i]=e[i]);return r}}),$Y=O((DI,DY)=>{"use strict";var gqe=DI&&DI.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$I=gqe(LY());function jI(e){return new $I.default(e)}(function(e){e.HttpsProxyAgent=$I.default,e.prototype=$I.default.prototype})(jI||(jI={}));DY.exports=jI}),$E=O((fet,jY)=>{jY.exports={version:"0.25.0"}}),zY=O((het,FY)=>{"use strict";var Fg=us(),BY=wI(),yqe=bI(),UY=TE(),vqe=lY().getProxyForUrl,_qe=require("http"),wqe=require("https"),bqe=qI().http,xqe=qI().https,Eqe=$Y(),HY=require("url"),Sqe=require("zlib"),Rqe=$E().version,Bg=kE(),jE=OE(),Aqe=Ig(),Tqe=qg(),FI=/https:?/;function GY(e,t,r){var i=t.proxy;if(!i&&i!==!1){var s=vqe(r);s&&(i=HY.parse(s))}if(i){i.auth&&((i.auth.username||i.auth.password)&&(i.auth=(i.auth.username||"")+":"+(i.auth.password||"")));var n=i.hostname||i.host;if(FI.test(e.protocol)){var a=t.httpsAgent?t.httpsAgent.options:{},o=Fg.merge(a,e,i);o.servername=i.servername||n,e.agents.https=new Eqe(o),a.ca!==void 0&&(e.ca=a.ca),a.rejectUnauthorized!==void 0&&(e.rejectUnauthorized=a.rejectUnauthorized)}else if(e.headers.host=e.hostname+(e.port?":"+e.port:""),e.hostname=n,e.host=n,e.port=i.port,e.path=r,i.protocol&&(e.protocol=i.protocol,FI.test(i.protocol)&&(e.servername=i.servername||n)),i.auth){var u=Buffer.from(i.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+u}}e.beforeRedirect=function(m){m.agents.https=t.httpsAgent,m.servername=t.servername,GY(m,t,m.href)}}FY.exports=function(t){return new Promise(function(i,s){var n;function a(){t.cancelToken&&t.cancelToken.unsubscribe(n),t.signal&&t.signal.removeEventListener("abort",n)}var o=function(Ye){a(),i(Ye)},u=!1,d=function(Ye){a(),u=!0,s(Ye)},m=t.data,f=t.headers,x={};if(Object.keys(f).forEach(function(Ye){x[Ye.toLowerCase()]=Ye}),"user-agent"in x?f[x["user-agent"]]||delete f[x["user-agent"]]:f["User-Agent"]="axios/"+Rqe,m&&!Fg.isStream(m)){if(!Buffer.isBuffer(m))if(Fg.isArrayBuffer(m))m=Buffer.from(new Uint8Array(m));else if(Fg.isString(m))m=Buffer.from(m,"utf-8");else return d(Bg("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));if(t.maxBodyLength>-1&&m.length>t.maxBodyLength)return d(Bg("Request body larger than maxBodyLength limit",t));x["content-length"]||(f["Content-Length"]=m.length)}var T=void 0;if(t.auth){var q=t.auth.username||"",F=t.auth.password||"";T=q+":"+F}var $=yqe(t.baseURL,t.url),H=HY.parse($),oe=H.protocol||"http:";if(!T&&H.auth){var Q=H.auth.split(":"),pe=Q[0]||"",ve=Q[1]||"";T=pe+":"+ve}T&&x.authorization&&delete f[x.authorization];try{UY(H.path,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(lt){var Ce=new Error(lt.message);Ce.config=t,Ce.url=t.url,Ce.exists=!0,d(Ce)}var fe={path:UY(H.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:f,agents:{http:t.httpAgent,https:t.httpsAgent},auth:T,protocol:oe};t.socketPath?fe.socketPath=t.socketPath:(fe.hostname=H.hostname,fe.port=H.port,GY(fe,t,oe+"//"+H.hostname+(H.port?":"+H.port:"")+fe.path));var Pe,Ve=FI.test(fe.protocol);fe.agent=Ve?fe.httpsAgent:fe.httpAgent,t.transport?Pe=t.transport:t.maxRedirects===0?Pe=Ve?wqe:_qe:(t.maxRedirects&&(fe.maxRedirects=t.maxRedirects),Pe=Ve?xqe:bqe),t.maxBodyLength>-1&&(fe.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(fe.insecureHTTPParser=t.insecureHTTPParser);var Ie=Pe.request(fe,function(Ye){if(Ie.aborted)return;var At=Ye,gt=Ye.req||Ie;if(Ye.statusCode!==204&&gt.method!=="HEAD"&&t.decompress!==!1)switch(Ye.headers["content-encoding"]){case"gzip":case"compress":case"deflate":At=At.pipe(Sqe.createUnzip()),delete Ye.headers["content-encoding"];break}var ut={status:Ye.statusCode,statusText:Ye.statusMessage,headers:Ye.headers,config:t,request:gt};if(t.responseType==="stream")ut.data=At,BY(o,d,ut);else{var $t=[],de=0;At.on("data",function(tr){$t.push(tr),de+=tr.length,t.maxContentLength>-1&&de>t.maxContentLength&&(u=!0,At.destroy(),d(Bg("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,gt)))}),At.on("aborted",function(){if(u)return;At.destroy(),d(Bg("error request aborted",t,"ERR_REQUEST_ABORTED",gt))}),At.on("error",function(tr){if(Ie.aborted)return;d(jE(tr,t,null,gt))}),At.on("end",function(){try{var tr=$t.length===1?$t[0]:Buffer.concat($t);t.responseType!=="arraybuffer"&&(tr=tr.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(tr=Fg.stripBOM(tr))),ut.data=tr}catch(fn){d(jE(fn,t,fn.code,ut.request,ut))}BY(o,d,ut)})}});if(Ie.on("error",function(Ye){if(Ie.aborted&&Ye.code!=="ERR_FR_TOO_MANY_REDIRECTS")return;d(jE(Ye,t,null,Ie))}),Ie.on("socket",function(Ye){Ye.setKeepAlive(!0,1e3*60)}),t.timeout){var Ot=parseInt(t.timeout,10);if(isNaN(Ot)){d(Bg("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",Ie));return}Ie.setTimeout(Ot,function(){Ie.abort();var Ye="";t.timeoutErrorMessage?Ye=t.timeoutErrorMessage:Ye="timeout of "+t.timeout+"ms exceeded";var At=t.transitional||Tqe.transitional;d(Bg(Ye,t,At.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Ie))})}(t.cancelToken||t.signal)&&(n=function(lt){if(Ie.aborted)return;Ie.abort(),d(!lt||lt&&lt.type?new Aqe("canceled"):lt)},t.cancelToken&&t.cancelToken.subscribe(n),t.signal&&(t.signal.aborted?n():t.signal.addEventListener("abort",n))),Fg.isStream(m)?m.on("error",function(Ye){d(jE(Ye,t,null,Ie))}).pipe(Ie):Ie.end(m)})}}),qg=O((pet,VY)=>{"use strict";var Ui=us(),WY=HX(),Cqe=OE(),Oqe={"Content-Type":"application/x-www-form-urlencoded"};function KY(e,t){!Ui.isUndefined(e)&&Ui.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function kqe(){var e;return typeof XMLHttpRequest!="undefined"?e=oY():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=zY()),e}function Pqe(e,t,r){if(Ui.isString(e))try{return(t||JSON.parse)(e),Ui.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var FE={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:kqe(),transformRequest:[function(t,r){return WY(r,"Accept"),WY(r,"Content-Type"),Ui.isFormData(t)||Ui.isArrayBuffer(t)||Ui.isBuffer(t)||Ui.isStream(t)||Ui.isFile(t)||Ui.isBlob(t)?t:Ui.isArrayBufferView(t)?t.buffer:Ui.isURLSearchParams(t)?(KY(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ui.isObject(t)||r&&r["Content-Type"]==="application/json"?(KY(r,"application/json"),Pqe(t)):t}],transformResponse:[function(t){var r=this.transitional||FE.transitional,i=r&&r.silentJSONParsing,s=r&&r.forcedJSONParsing,n=!i&&this.responseType==="json";if(n||s&&Ui.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(n)throw a.name==="SyntaxError"?Cqe(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ui.forEach(["delete","get","head"],function(t){FE.headers[t]={}});Ui.forEach(["post","put","patch"],function(t){FE.headers[t]=Ui.merge(Oqe)});VY.exports=FE}),YY=O((det,XY)=>{"use strict";var Iqe=us(),qqe=qg();XY.exports=function(t,r,i){var s=this||qqe;return Iqe.forEach(i,function(a){t=a.call(s,t,r)}),t}}),BI=O((met,JY)=>{"use strict";JY.exports=function(t){return!!(t&&t.__CANCEL__)}}),eJ=O((get,ZY)=>{"use strict";var QY=us(),UI=YY(),Nqe=BI(),Mqe=qg(),Lqe=Ig();function HI(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lqe("canceled")}ZY.exports=function(t){HI(t),t.headers=t.headers||{},t.data=UI.call(t,t.data,t.headers,t.transformRequest),t.headers=QY.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),QY.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var r=t.adapter||Mqe.adapter;return r(t).then(function(s){return HI(t),s.data=UI.call(t,s.data,s.headers,t.transformResponse),s},function(s){return Nqe(s)||(HI(t),s&&s.response&&(s.response.data=UI.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})}}),GI=O((yet,tJ)=>{"use strict";var Na=us();tJ.exports=function(t,r){r=r||{};var i={};function s(m,f){return Na.isPlainObject(m)&&Na.isPlainObject(f)?Na.merge(m,f):Na.isPlainObject(f)?Na.merge({},f):Na.isArray(f)?f.slice():f}function n(m){if(Na.isUndefined(r[m])){if(!Na.isUndefined(t[m]))return s(void 0,t[m])}else return s(t[m],r[m])}function a(m){if(!Na.isUndefined(r[m]))return s(void 0,r[m])}function o(m){if(Na.isUndefined(r[m])){if(!Na.isUndefined(t[m]))return s(void 0,t[m])}else return s(void 0,r[m])}function u(m){if(m in r)return s(t[m],r[m]);if(m in t)return s(void 0,t[m])}var d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return Na.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var x=d[f]||n,T=x(f);Na.isUndefined(T)&&x!==u||(i[f]=T)}),i}}),iJ=O((vet,rJ)=>{"use strict";var Dqe=$E().version,zI={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){zI[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var nJ={};zI.transitional=function(t,r,i){function s(n,a){return"[Axios v"+Dqe+"] Transitional option '"+n+"'"+a+(i?". "+i:"")}return function(n,a,o){if(t===!1)throw new Error(s(a," has been removed"+(r?" in "+r:"")));return r&&!nJ[a]&&(nJ[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(n,a,o):!0}};function $qe(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var i=Object.keys(e),s=i.length;s-- >0;){var n=i[s],a=t[n];if(a){var o=e[n],u=o===void 0||a(o,n,e);if(u!==!0)throw new TypeError("option "+n+" must be "+u);continue}if(r!==!0)throw Error("Unknown option "+n)}}rJ.exports={assertOptions:$qe,validators:zI}}),uJ=O((_et,sJ)=>{"use strict";var aJ=us(),jqe=TE(),oJ=BX(),cJ=eJ(),BE=GI(),lJ=iJ(),Ug=lJ.validators;function a_(e){this.defaults=e,this.interceptors={request:new oJ,response:new oJ}}a_.prototype.request=function(t,r){if(typeof t=="string"?(r=r||{},r.url=t):r=t||{},!r.url)throw new Error("Provided config url is not valid");r=BE(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&lJ.assertOptions(i,{silentJSONParsing:Ug.transitional(Ug.boolean),forcedJSONParsing:Ug.transitional(Ug.boolean),clarifyTimeoutError:Ug.transitional(Ug.boolean)},!1);var s=[],n=!0;this.interceptors.request.forEach(function(T){if(typeof T.runWhen=="function"&&T.runWhen(r)===!1)return;n=n&&T.synchronous,s.unshift(T.fulfilled,T.rejected)});var a=[];this.interceptors.response.forEach(function(T){a.push(T.fulfilled,T.rejected)});var o;if(!n){var u=[cJ,void 0];for(Array.prototype.unshift.apply(u,s),u=u.concat(a),o=Promise.resolve(r);u.length;)o=o.then(u.shift(),u.shift());return o}for(var d=r;s.length;){var m=s.shift(),f=s.shift();try{d=m(d)}catch(x){f(x);break}}try{o=cJ(d)}catch(x){return Promise.reject(x)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};a_.prototype.getUri=function(t){if(!t.url)throw new Error("Provided config url is not valid");return t=BE(this.defaults,t),jqe(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};aJ.forEach(["delete","get","head","options"],function(t){a_.prototype[t]=function(r,i){return this.request(BE(i||{},{method:t,url:r,data:(i||{}).data}))}});aJ.forEach(["post","put","patch"],function(t){a_.prototype[t]=function(r,i,s){return this.request(BE(s||{},{method:t,url:r,data:i}))}});sJ.exports=a_}),hJ=O((wet,fJ)=>{"use strict";var Fqe=Ig();function Hg(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(s){t=s});var r=this;this.promise.then(function(i){if(!r._listeners)return;var s,n=r._listeners.length;for(s=0;s<n;s++)r._listeners[s](i);r._listeners=null}),this.promise.then=function(i){var s,n=new Promise(function(a){r.subscribe(a),s=a}).then(i);return n.cancel=function(){r.unsubscribe(s)},n},e(function(s){if(r.reason)return;r.reason=new Fqe(s),t(r.reason)})}Hg.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Hg.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Hg.prototype.unsubscribe=function(t){if(!this._listeners)return;var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)};Hg.source=function(){var t,r=new Hg(function(s){t=s});return{token:r,cancel:t}};fJ.exports=Hg}),dJ=O((bet,pJ)=>{"use strict";pJ.exports=function(t){return function(i){return t.apply(null,i)}}}),gJ=O((xet,mJ)=>{"use strict";var Bqe=us();mJ.exports=function(t){return Bqe.isObject(t)&&t.isAxiosError===!0}}),_J=O((Eet,VI)=>{"use strict";var yJ=us(),Uqe=mI(),UE=uJ(),Hqe=GI(),Gqe=qg();function vJ(e){var t=new UE(e),r=Uqe(UE.prototype.request,t);return yJ.extend(r,UE.prototype,t),yJ.extend(r,t),r.create=function(s){return vJ(Hqe(e,s))},r}var Al=vJ(Gqe);Al.Axios=UE;Al.Cancel=Ig();Al.CancelToken=hJ();Al.isCancel=BI();Al.VERSION=$E().version;Al.all=function(t){return Promise.all(t)};Al.spread=dJ();Al.isAxiosError=gJ();VI.exports=Al;VI.exports.default=Al}),bJ=O((Ret,wJ)=>{wJ.exports=_J()}),HE=O((Aet,xJ)=>{var EJ=require("assert"),zqe=require("http"),Vqe=require("https"),SJ=require("querystring"),RJ=require("stream"),Wqe=require("util"),ko=Tt(),Kqe=bJ(),Xqe=$n(),AJ=rr(),Yqe=Ar(),Ma=yt(),Jqe=Wqe.promisify(RJ.pipeline),TJ={maxSockets:10},Zqe=new zqe.Agent(TJ),CJ=new Vqe.Agent(TJ);function Qqe(e,t,r,i){let{headers:s={},gzip:n,formData:a,responseType:o,params:u}=i;n&&(s["Accept-encoding"]="gzip, deflate");let{data:d}=i;ko.isEmpty(a)||(EJ(ko.isEmpty(d),"formData will overwrite data option in the request"),s["Content-Type"]="application/x-www-form-urlencoded",d=SJ.stringify(a)),CJ.options.ca=ko.get(r.ssl,"ca");let m=ko.omitBy({url:e,method:t,headers:s,data:d,httpAgent:Zqe,httpsAgent:CJ,responseType:o,params:u},ko.isUndefined);return m}function e4e(e,t){switch(e.code){case"ENOTFOUND":case"ENOENT":case"ECONNRESET":case"ECONNREFUSED":case"EPIPE":case"EPERM":case"EACCES":{let{host:r}=new URL(t);return new Ma.ConnectionError(`Cannot connect to '${r||t}' (error code: ${e.code}). Verify your environment firewall policies allow connection to this host name. If your system is behind a proxy, verify your proxy environment variables (HTTP_PROXY and HTTPS_PROXY) are properly set.`)}default:return e}}function t4e(e,t){EJ(e.status>=300,"Cannot convert HTTP response with Success code to a UPM error");let{config:r,status:i}=e,s=r.method.toUpperCase();switch(i){case 304:return new Ma.NotModified("Request succeeded but resource is not modified.");case 400:return new Ma.InvalidParameter(`Request [${s} ${t}] failed. One or more invalid parameters was given.`);case 401:return new Ma.Unauthorized(`Request [${s} ${t}] failed because it lacks valid authentication credentials`);case 403:return new Ma.Forbidden(`Access to '${t}' was denied`);case 404:return new Ma.NotFound(`'${t}' was not found`);case 409:return new Ma.Conflict(`Cannot perform '${s}' on resource at '${t}' because it was not in the expected state`);default:return new Ma.UpmError(`Request [${s} ${t}] failed with status code [${i}]`)}}function r4e(e,t){let{config:r,status:i,data:s}=e,n=r.method.toUpperCase(),a="";if(ko.isPlainObject(s)||ko.isString(s)){let o=JSON.stringify(s);a=o.length>0?` Body: ${o}`:""}AJ.debug(`Request [${n} ${t}] failed with status code [${i}].${a}`)}async function o_(e,t,r,i={}){let s=Qqe(t,e,r,i),n;try{n=await Kqe.request(s)}catch(a){let o=ko.isEmpty(i.params)?t:`${t}?${SJ.stringify(i.params)}`;throw a.response?(r4e(a.response,o),t4e(a.response,o)):a.request?e4e(a,o):a}return n}function n4e(e){let t=ko.get(e,"headers.content-length"),r=parseInt(t,10);return isNaN(r)||r<0?Yqe.UNKNOWN_DOWNLOAD_SIZE:r}async function i4e(e,t,r,i={}){let{progressCb:s}=i;try{let n=await o_("get",e,t,{...i,responseType:"stream"}),a=n4e(n),o=[n.data];if(s){s({currentBytes:0,totalBytes:a});let d=0,m=new RJ.PassThrough;m.on("data",f=>{d+=f.length,s({currentBytes:d})}),o.push(m)}let u=Xqe.createWriteStream(r);return o.push(u),await Jqe(...o),a}catch(n){throw AJ.verbose(`Failed to download '${e}': ${n}`),n}}async function OJ(e,t,r={}){return o_("get",e,t,r)}async function kJ(e,t,r={}){return o_("post",e,t,r)}async function s4e(e,t,r={}){return o_("put",e,t,r)}function a4e(e,t){if(!t)throw new Ma.UnexpectedContentType(`The url [${e}] did not return a JSON response`);if(!t.includes("application/json"))throw new Ma.UnexpectedContentType(`The url [${e}] did not return a JSON response`,`Expected Content-Type: 'application/json'
Got: '${t}'`)}async function o4e(e,t,r={}){let i=await OJ(e,t,{...r,responseType:"json"});if(ko.isPlainObject(i.data))return i.data;throw a4e(e,i.headers["content-type"]),new Ma.UpmError(`The url [${e}] did not return a valid JSON response.`)}async function c4e(e,t,r={}){let i=await kJ(e,t,{...r,responseType:"json"});if(ko.isPlainObject(i.data))return i.data;throw new Ma.UpmError(`The url [${e}] did not return a valid JSON response.`)}async function l4e(e,t,r={}){let i=await s4e(e,t,{...r,responseType:"json"});if(ko.isPlainObject(i.data))return i.data;throw new Ma.UpmError(`The url [${e}] did not return a valid JSON response.`)}async function u4e(e,t,r={}){return o_("head",e,t,r)}xJ.exports={get:OJ,getJson:o4e,head:u4e,downloadFile:i4e,post:kJ,postJson:c4e,putJson:l4e}}),VE=O((Tet,PJ)=>{var f4e=require("assert"),h4e=require("crypto"),p4e=require("path"),GE=Tt(),WI=$n(),d4e=rP(),IJ=Bi(),qJ=rr(),la=yt(),m4e=Nh(),zE=HE(),g4e="/-/api/download-info",y4e="/-/api/search",v4e=5*60*1e3,KI={none:"upm",assetstore:"assetstore",enterprise:"enterprise"},NJ={name:"name",displayName:"displayName"},MJ={asc:"asc",desc:"desc"},_4e=["query","type","host","order","orderBy","offset","limit","provider"],w4e=d4e(WI.readFileSync(p4e.join(__dirname,"./genesis.conf.json"),"utf-8"));function XI(e){f4e(e.genesis);let t=e.genesis.environment||"production";return w4e[t]}var $d={};function b4e(e,t){return setTimeout(()=>{delete $d[e]},t)}function x4e(e){return`${e.genesis.userToken}:${e.genesis.environment}`}function E4e(e,t,r){$d[e]&&clearTimeout($d[e].timeoutId),$d[e]={expirationTime:Date.now()+r,token:t,isExpiring(){return Date.now()>=this.expirationTime-v4e},timeoutId:b4e(e,r)}}function S4e(e){return $d[e]&&!$d[e].isExpiring()?$d[e].token:null}function R4e(e,t,r){return`${r}${g4e}/${e}/${t}`}async function A4e(e){let t=`https://${XI(e).host}/v1/oauth2/authorize`,r={formData:{client_id:"packman",response_type:"code",format:"json",prompt:"none",access_token:e.genesis.userToken}};try{let i=await zE.postJson(t,e.configuration,r);return i.code}catch(i){throw i instanceof la.InvalidParameter?(qJ.debug(i.toString()),new la.Unauthorized("Cannot fetch authorization code. User access token is expired or invalid. You may need to sign out and sign in again.")):(qJ.error(`Unexpected error when fetching authorization code: ${i}`),i)}}async function LJ(e){let t=x4e(e),r=S4e(t);return r||m4e.inFlightPromise(`access_token@${t}`,async()=>{let i=`https://${XI(e).host}/v1/oauth2/token`,s={formData:{grant_type:"authorization_code",code:await A4e(e),client_id:"packman",client_secret:XI(e).clientSecret}},n=await zE.postJson(i,e.configuration,s);return E4e(t,n.access_token,n.expires_in*1e3),n.access_token})}async function DJ(e,t){let r=t.genesis&&t.genesis.userToken;r&&(e.Authorization=`Bearer ${await LJ(t)}`)}async function T4e(e,t,r,i){let s=R4e(e,t,r),n={headers:{Authorization:`Bearer ${await LJ(i)}`}};try{let a=await zE.getJson(s,i.configuration,n);return a.result.download}catch(a){throw a instanceof la.Forbidden?new la.Forbidden("Cannot download package. Your license does not grant access to use the package. Visit the Asset Store to buy the package or verify if the license has expired."):a}}async function C4e(e,t,r){let i=`Cannot decrypt file [${e}] into [${t}]`;if(r.length!==96)throw new la.InvalidParameter(i,`Invalid decryption key. Expected key length to be 96 characters, was ${r.length}.`);let s=Buffer.from(r.substring(0,64),"hex"),n=Buffer.from(r.substring(64),"hex"),a;try{a=h4e.createDecipheriv("aes-256-cbc",s,n)}catch(o){throw new la.InvalidParameter(i,o)}await new Promise((o,u)=>{let d=f=>{u(new la.InvalidParameter(i,f))},m=WI.createWriteStream(t);m.on("finish",o).on("error",d),WI.createReadStream(e).on("error",f=>{m.destroy(f)}).pipe(a).on("error",f=>{m.destroy(f)}).pipe(m)})}async function O4e(e,t,r,i){if(!i.genesis||!i.genesis.userToken)throw new la.Unauthorized("Cannot install Asset Store package. You are not signed in. Please sign in using the Hub and retry.");try{let s=await T4e(e,t,r,i);return s?s.key:null}catch(s){if(s instanceof la.NotFound)return null;throw s}}async function k4e(e,t,r={}){let i=`${e}${y4e}`;if(r.entitlement&&!(r.entitlement in KI))throw new la.InvalidParameter(`Invalid [entitlement] search option. Expected a value in [${Object.keys(KI).join(", ")}]. Got [${r.entitlement}]`);if(r.orderBy&&!(r.orderBy in NJ))throw new la.InvalidParameter(`Invalid [orderBy] search option. Expected a value in [${Object.keys(NJ).join(", ")}]. Got [${r.orderBy}]`);if(r.order&&!(r.order in MJ))throw new la.InvalidParameter(`Invalid [order] search option. Expected a value in [${Object.keys(MJ).join(", ")}]. Got [${r.order}]`);let s=GE.omitBy(Object.assign(GE.pick(r,..._4e),{provider:KI[r.entitlement]}),GE.isUndefined),n={};await DJ(n,t);try{let a=await zE.getJson(i,t.configuration,{params:s,headers:n});return{total:a.total,packages:a.results.map(o=>Object.assign(GE.pick(o,["name","displayName","description","versions"]),{latest:IJ.maxSatisfying(o.versions,"*")||IJ.sort(o.versions)[o.versions.length-1]})),capabilities:{pagination:!0,classification:!0,ordering:!0}}}catch(a){throw a instanceof la.NotFound?new la.NotFound(`The configured registry [${e}] does not support paginated search requests.`):a}}PJ.exports={injectAuthorizationHeader:DJ,decryptFile:C4e,getDecryptionKey:O4e,search:k4e}}),rf=O((Cet,$J)=>{var jd=require("assert"),WE=Tt(),Ms=Ar(),jJ=class{constructor(t,r,i){this.emitter=t,this.name=r,this.version=i,this.state=Ms.PROGRESS_STATE.Pending,this.totalBytes=Ms.UNKNOWN_DOWNLOAD_SIZE,this.currentBytes=0}buildEventArg(){return{name:this.name,version:this.version,state:this.state,currentBytes:this.currentBytes,totalBytes:this.totalBytes}}emitProgress(){this.emitter.emit("progress",this.buildEventArg())}setStateDownloading(t={}){jd(this.state===Ms.PROGRESS_STATE.Downloading||this.state===Ms.PROGRESS_STATE.Pending,"The previous state must be Downloading or Pending"),this.state=Ms.PROGRESS_STATE.Downloading;let{currentBytes:r,totalBytes:i}=t;r!==void 0&&(this.currentBytes=r),i!==void 0&&(this.totalBytes=i),this.emitProgress()}setStateCaching(){jd(this.state===Ms.PROGRESS_STATE.Downloading||this.state===Ms.PROGRESS_STATE.Pending,"The previous state must be Downloading or Pending"),this.state=Ms.PROGRESS_STATE.Caching,this.emitProgress()}setStateInstalling(){jd(this.state===Ms.PROGRESS_STATE.Caching||this.state===Ms.PROGRESS_STATE.Pending,"The previous state must be Caching or Pending"),this.state=Ms.PROGRESS_STATE.Installing,this.emitProgress()}setStateReady(){jd(this.state!==Ms.PROGRESS_STATE.Error),this.state=Ms.PROGRESS_STATE.Ready,this.emitProgress()}setStateError(){jd(this.state!==Ms.PROGRESS_STATE.Ready),this.state=Ms.PROGRESS_STATE.Error,this.emitProgress()}};function P4e(e,t){let r=WE.get(t,["events","emitter"]);if(!r||WE.isEmpty(e))return;let i=WE.mapValues(e,(s,n)=>new jJ(r,n,s.version));r.emit("progressStart",WE.mapValues(i,s=>s.buildEventArg())),t.events.progress=i}function I4e(e,t){return t.events?(jd(t.events.progress,"Progress reporting has not been correctly set up"),jd(t.events.progress[e],`Expected to find progress reporting for ${e}`),t.events.progress[e]):void 0}function q4e(e,t,r){let i=this.getPackageProgress(e,t);i&&i.setStateDownloading(r)}function N4e(e,t){let r=this.getPackageProgress(e,t);r&&r.setStateCaching()}function M4e(e,t){let r=this.getPackageProgress(e,t);r&&r.setStateInstalling()}function L4e(e,t){let r=this.getPackageProgress(e,t);r&&r.setStateReady()}function D4e(e,t){let r=this.getPackageProgress(e,t);r&&r.setStateError()}$J.exports={init:P4e,getPackageProgress:I4e,setStateDownloading:q4e,setStateCaching:N4e,setStateInstalling:M4e,setStateReady:L4e,setStateError:D4e}}),Gg=O((Oet,FJ)=>{"use strict";var BJ=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);FJ.exports=e=>e?Object.keys(e).map(t=>[BJ.has(t)?BJ.get(t):t,e[t]]).reduce((t,r)=>(t[r[0]]=r[1],t),Object.create(null)):{}}),HJ=O((ket,UJ)=>{"use strict";UJ.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}}),zJ=O((Pet,GJ)=>{"use strict";GJ.exports=mr;mr.Node=Fd;mr.create=mr;function mr(e){var t=this;if(t instanceof mr||(t=new mr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}mr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};mr.prototype.unshiftNode=function(e){if(e===this.head)return;e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++};mr.prototype.pushNode=function(e){if(e===this.tail)return;e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++};mr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)$4e(this,arguments[e]);return this.length};mr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)j4e(this,arguments[e]);return this.length};mr.prototype.pop=function(){if(!this.tail)return;var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e};mr.prototype.shift=function(){if(!this.head)return;var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e};mr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++)e.call(t,r.value,i,this),r=r.next};mr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--)e.call(t,r.value,i,this),r=r.prev};mr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};mr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};mr.prototype.map=function(e,t){t=t||this;for(var r=new mr,i=this.head;i!==null;)r.push(e.call(t,i.value,this)),i=i.next;return r};mr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new mr,i=this.tail;i!==null;)r.push(e.call(t,i.value,this)),i=i.prev;return r};mr.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)r=e(r,i.value,s),i=i.next;return r};mr.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)r=e(r,i.value,s),i=i.prev;return r};mr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};mr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};mr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new mr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(;s!==null&&i<t;i++,s=s.next)r.push(s.value);return r};mr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new mr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;s!==null&&i>t;i--)s=s.prev;for(;s!==null&&i>e;i--,s=s.prev)r.push(s.value);return r};mr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(var n=[],i=0;s&&i<t;i++)n.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var i=0;i<r.length;i++)s=F4e(this,s,r[i]);return n};mr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};function F4e(e,t,r){var i=t===e.head?new Fd(r,null,t,e):new Fd(r,t,t.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function $4e(e,t){e.tail=new Fd(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function j4e(e,t){e.head=new Fd(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Fd(e,t,r,i){if(!(this instanceof Fd))return new Fd(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{HJ()(mr)}catch(e){}}),zg=O((Iet,VJ)=>{"use strict";var B4e=require("events"),WJ=require("stream"),c_=zJ(),KJ=require("string_decoder").StringDecoder,nf=Symbol("EOF"),l_=Symbol("maybeEmitEnd"),jh=Symbol("emittedEnd"),KE=Symbol("emittingEnd"),XE=Symbol("closed"),XJ=Symbol("read"),YI=Symbol("flush"),YJ=Symbol("flushChunk"),ua=Symbol("encoding"),sf=Symbol("decoder"),YE=Symbol("flowing"),u_=Symbol("paused"),f_=Symbol("resume"),Ls=Symbol("bufferLength"),JJ=Symbol("bufferPush"),JI=Symbol("bufferShift"),ps=Symbol("objectMode"),ds=Symbol("destroyed"),ZJ=global._MP_NO_ITERATOR_SYMBOLS_!=="1",U4e=ZJ&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),H4e=ZJ&&Symbol.iterator||Symbol("iterator not implemented"),QJ=e=>e==="end"||e==="finish"||e==="prefinish",G4e=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,z4e=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);VJ.exports=class eZ extends WJ{constructor(t){super();this[YE]=!1,this[u_]=!1,this.pipes=new c_,this.buffer=new c_,this[ps]=t&&t.objectMode||!1,this[ps]?this[ua]=null:this[ua]=t&&t.encoding||null,this[ua]==="buffer"&&(this[ua]=null),this[sf]=this[ua]?new KJ(this[ua]):null,this[nf]=!1,this[jh]=!1,this[KE]=!1,this[XE]=!1,this.writable=!0,this.readable=!0,this[Ls]=0,this[ds]=!1}get bufferLength(){return this[Ls]}get encoding(){return this[ua]}set encoding(t){if(this[ps])throw new Error("cannot set encoding in objectMode");if(this[ua]&&t!==this[ua]&&(this[sf]&&this[sf].lastNeed||this[Ls]))throw new Error("cannot change encoding");this[ua]!==t&&(this[sf]=t?new KJ(t):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[sf].write(r)))),this[ua]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[ps]}set objectMode(t){this[ps]=this[ps]||!!t}write(t,r,i){if(this[nf])throw new Error("write after end");return this[ds]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(i=r,r="utf8"),r||(r="utf8"),!this[ps]&&!Buffer.isBuffer(t)&&(z4e(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):G4e(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),!this.objectMode&&!t.length?(this[Ls]!==0&&this.emit("readable"),i&&i(),this.flowing):(typeof t=="string"&&!this[ps]&&!(r===this[ua]&&!this[sf].lastNeed)&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[ua]&&(t=this[sf].write(t)),this.flowing?(this[Ls]!==0&&this[YI](!0),this.emit("data",t)):this[JJ](t),this[Ls]!==0&&this.emit("readable"),i&&i(),this.flowing))}read(t){if(this[ds])return null;try{return this[Ls]===0||t===0||t>this[Ls]?null:(this[ps]&&(t=null),this.buffer.length>1&&!this[ps]&&(this.encoding?this.buffer=new c_([Array.from(this.buffer).join("")]):this.buffer=new c_([Buffer.concat(Array.from(this.buffer),this[Ls])])),this[XJ](t||null,this.buffer.head.value))}finally{this[l_]()}}[XJ](t,r){return t===r.length||t===null?this[JI]():(this.buffer.head.value=r.slice(t),r=r.slice(0,t),this[Ls]-=t),this.emit("data",r),!this.buffer.length&&!this[nf]&&this.emit("drain"),r}end(t,r,i){return typeof t=="function"&&(i=t,t=null),typeof r=="function"&&(i=r,r="utf8"),t&&this.write(t,r),i&&this.once("end",i),this[nf]=!0,this.writable=!1,(this.flowing||!this[u_])&&this[l_](),this}[f_](){if(this[ds])return;this[u_]=!1,this[YE]=!0,this.emit("resume"),this.buffer.length?this[YI]():this[nf]?this[l_]():this.emit("drain")}resume(){return this[f_]()}pause(){this[YE]=!1,this[u_]=!0}get destroyed(){return this[ds]}get flowing(){return this[YE]}get paused(){return this[u_]}[JJ](t){return this[ps]?this[Ls]+=1:this[Ls]+=t.length,this.buffer.push(t)}[JI](){return this.buffer.length&&(this[ps]?this[Ls]-=1:this[Ls]-=this.buffer.head.value.length),this.buffer.shift()}[YI](t){do;while(this[YJ](this[JI]()));!t&&!this.buffer.length&&!this[nf]&&this.emit("drain")}[YJ](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,r){if(this[ds])return;let i=this[jh];r=r||{},t===process.stdout||t===process.stderr?r.end=!1:r.end=r.end!==!1;let s={dest:t,opts:r,ondrain:n=>this[f_]()};return this.pipes.push(s),t.on("drain",s.ondrain),this[f_](),i&&s.opts.end&&s.dest.end(),t}addListener(t,r){return this.on(t,r)}on(t,r){try{return super.on(t,r)}finally{t==="data"&&!this.pipes.length&&!this.flowing?this[f_]():QJ(t)&&this[jh]&&(super.emit(t),this.removeAllListeners(t))}}get emittedEnd(){return this[jh]}[l_](){!this[KE]&&!this[jh]&&!this[ds]&&this.buffer.length===0&&this[nf]&&(this[KE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[XE]&&this.emit("close"),this[KE]=!1)}emit(t,r){if(t!=="error"&&t!=="close"&&t!==ds&&this[ds])return;if(t==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(s=>s.dest.write(r)===!1&&this.pause())}else if(t==="end"){if(this[jh]===!0)return;this[jh]=!0,this.readable=!1,this[sf]&&(r=this[sf].end(),r&&(this.pipes.forEach(s=>s.dest.write(r)),super.emit("data",r))),this.pipes.forEach(s=>{s.dest.removeListener("drain",s.ondrain),s.opts.end&&s.dest.end()})}else if(t==="close"&&(this[XE]=!0,!this[jh]&&!this[ds]))return;let i=new Array(arguments.length);if(i[0]=t,i[1]=r,arguments.length>2)for(let s=2;s<arguments.length;s++)i[s]=arguments[s];try{return super.emit.apply(this,i)}finally{QJ(t)?this.removeAllListeners(t):this[l_]()}}collect(){let t=[];this[ps]||(t.dataLength=0);let r=this.promise();return this.on("data",i=>{t.push(i),this[ps]||(t.dataLength+=i.length)}),r.then(()=>t)}concat(){return this[ps]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[ps]?Promise.reject(new Error("cannot concat in objectMode")):this[ua]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,r)=>{this.on(ds,()=>r(new Error("stream destroyed"))),this.on("end",()=>t()),this.on("error",i=>r(i))})}[U4e](){let t=()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[nf])return Promise.resolve({done:!0});let i=null,s=null,n=d=>{this.removeListener("data",a),this.removeListener("end",o),s(d)},a=d=>{this.removeListener("error",n),this.removeListener("end",o),this.pause(),i({value:d,done:!!this[nf]})},o=()=>{this.removeListener("error",n),this.removeListener("data",a),i({done:!0})},u=()=>n(new Error("stream destroyed"));return new Promise((d,m)=>{s=m,i=d,this.once(ds,u),this.once("error",n),this.once("end",o),this.once("data",a)})};return{next:t}}[H4e](){let t=()=>{let r=this.read(),i=r===null;return{value:r,done:i}};return{next:t}}destroy(t){return this[ds]?(t?this.emit("error",t):this.emit(ds),this):(this[ds]=!0,this.buffer=new c_,this[Ls]=0,typeof this.close=="function"&&!this[XE]&&this.close(),t?this.emit("error",t):this.emit(ds),this)}static isStream(t){return!!t&&(t instanceof eZ||t instanceof WJ||t instanceof B4e&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}}),rZ=O((qet,tZ)=>{var V4e=require("zlib").constants||{ZLIB_VERNUM:4736};tZ.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},V4e))}),aq=O(La=>{"use strict";var ZI=require("assert"),Fh=require("buffer").Buffer,nZ=require("zlib"),Bd=La.constants=rZ(),W4e=zg(),iZ=Fh.concat,Ud=Symbol("_superWrite"),h_=class extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},K4e=Symbol("opts"),p_=Symbol("flushFlag"),sZ=Symbol("finishFlushFlag"),QI=Symbol("fullFlushFlag"),Kr=Symbol("handle"),JE=Symbol("onError"),Vg=Symbol("sawError"),eq=Symbol("level"),tq=Symbol("strategy"),rq=Symbol("ended"),Net=Symbol("_defaultFullFlush"),nq=class extends W4e{constructor(t,r){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[Vg]=!1,this[rq]=!1,this[K4e]=t,this[p_]=t.flush,this[sZ]=t.finishFlush;try{this[Kr]=new nZ[r](t)}catch(i){throw new h_(i)}this[JE]=i=>{if(this[Vg])return;this[Vg]=!0,this.close(),this.emit("error",i)},this[Kr].on("error",i=>this[JE](new h_(i))),this.once("end",()=>this.close)}close(){this[Kr]&&(this[Kr].close(),this[Kr]=null,this.emit("close"))}reset(){if(!this[Vg])return ZI(this[Kr],"zlib binding closed"),this[Kr].reset()}flush(t){if(this.ended)return;typeof t!="number"&&(t=this[QI]),this.write(Object.assign(Fh.alloc(0),{[p_]:t}))}end(t,r,i){return t&&this.write(t,r),this.flush(this[sZ]),this[rq]=!0,super.end(null,null,i)}get ended(){return this[rq]}write(t,r,i){if(typeof r=="function"&&(i=r,r="utf8"),typeof t=="string"&&(t=Fh.from(t,r)),this[Vg])return;ZI(this[Kr],"zlib binding closed");let s=this[Kr]._handle,n=s.close;s.close=()=>{};let a=this[Kr].close;this[Kr].close=()=>{},Fh.concat=d=>d;let o;try{let d=typeof t[p_]=="number"?t[p_]:this[p_];o=this[Kr]._processChunk(t,d),Fh.concat=iZ}catch(d){Fh.concat=iZ,this[JE](new h_(d))}finally{this[Kr]&&(this[Kr]._handle=s,s.close=n,this[Kr].close=a,this[Kr].removeAllListeners("error"))}this[Kr]&&this[Kr].on("error",d=>this[JE](new h_(d)));let u;if(o)if(Array.isArray(o)&&o.length>0){u=this[Ud](Fh.from(o[0]));for(let d=1;d<o.length;d++)u=this[Ud](o[d])}else u=this[Ud](Fh.from(o));return i&&i(),u}[Ud](t){return super.write(t)}},Bh=class extends nq{constructor(t,r){t=t||{},t.flush=t.flush||Bd.Z_NO_FLUSH,t.finishFlush=t.finishFlush||Bd.Z_FINISH,super(t,r),this[QI]=Bd.Z_FULL_FLUSH,this[eq]=t.level,this[tq]=t.strategy}params(t,r){if(this[Vg])return;if(!this[Kr])throw new Error("cannot switch params when binding is closed");if(!this[Kr].params)throw new Error("not supported in this implementation");if(this[eq]!==t||this[tq]!==r){this.flush(Bd.Z_SYNC_FLUSH),ZI(this[Kr],"zlib binding closed");let i=this[Kr].flush;this[Kr].flush=(s,n)=>{this.flush(s),n()};try{this[Kr].params(t,r)}finally{this[Kr].flush=i}this[Kr]&&(this[eq]=t,this[tq]=r)}}},aZ=class extends Bh{constructor(t){super(t,"Deflate")}},oZ=class extends Bh{constructor(t){super(t,"Inflate")}},iq=Symbol("_portable"),cZ=class extends Bh{constructor(t){super(t,"Gzip");this[iq]=t&&!!t.portable}[Ud](t){return this[iq]?(this[iq]=!1,t[9]=255,super[Ud](t)):super[Ud](t)}},lZ=class extends Bh{constructor(t){super(t,"Gunzip")}},uZ=class extends Bh{constructor(t){super(t,"DeflateRaw")}},fZ=class extends Bh{constructor(t){super(t,"InflateRaw")}},hZ=class extends Bh{constructor(t){super(t,"Unzip")}},sq=class extends nq{constructor(t,r){t=t||{},t.flush=t.flush||Bd.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||Bd.BROTLI_OPERATION_FINISH,super(t,r),this[QI]=Bd.BROTLI_OPERATION_FLUSH}},pZ=class extends sq{constructor(t){super(t,"BrotliCompress")}},dZ=class extends sq{constructor(t){super(t,"BrotliDecompress")}};La.Deflate=aZ;La.Inflate=oZ;La.Gzip=cZ;La.Gunzip=lZ;La.DeflateRaw=uZ;La.InflateRaw=fZ;La.Unzip=hZ;typeof nZ.BrotliCompress=="function"?(La.BrotliCompress=pZ,La.BrotliDecompress=dZ):La.BrotliCompress=La.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}),Wg=O((Let,mZ)=>{var X4e=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;mZ.exports=X4e!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")}),ZE=O(($et,gZ)=>{"use strict";var Y4e=zg(),oq=Wg(),cq=Symbol("slurp");gZ.exports=class extends Y4e{constructor(t,r,i){super();this.pause(),this.extended=r,this.globalExtended=i,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=oq(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=oq(t.linkpath),this.uname=t.uname,this.gname=t.gname,r&&this[cq](r),i&&this[cq](i,!0)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let i=this.remain,s=this.blockRemain;return this.remain=Math.max(0,i-r),this.blockRemain=Math.max(0,s-r),this.ignore?!0:i>=r?super.write(t):super.write(t.slice(0,i))}[cq](t,r){for(let i in t)t[i]!==null&&t[i]!==void 0&&!(r&&i==="path")&&(this[i]=i==="path"||i==="linkpath"?oq(t[i]):t[i])}}}),lq=O(QE=>{"use strict";QE.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);QE.code=new Map(Array.from(QE.name).map(e=>[e[1],e[0]]))}),wZ=O((Fet,yZ)=>{"use strict";var Q4e=(e,t)=>{if(Number.isSafeInteger(e))e<0?Z4e(e,t):J4e(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},J4e=(e,t)=>{t[0]=128;for(var r=t.length;r>1;r--)t[r-1]=e&255,e=Math.floor(e/256)},Z4e=(e,t)=>{t[0]=255;var r=!1;e=e*-1;for(var i=t.length;i>1;i--){var s=e&255;e=Math.floor(e/256),r?t[i-1]=vZ(s):s===0?t[i-1]=0:(r=!0,t[i-1]=_Z(s))}},rNe=e=>{let t=e[0],r=t===128?tNe(e.slice(1,e.length)):t===255?eNe(e):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},eNe=e=>{for(var t=e.length,r=0,i=!1,s=t-1;s>-1;s--){var n=e[s],a;i?a=vZ(n):n===0?a=n:(i=!0,a=_Z(n)),a!==0&&(r-=a*Math.pow(256,t-s-1))}return r},tNe=e=>{for(var t=e.length,r=0,i=t-1;i>-1;i--){var s=e[i];s!==0&&(r+=s*Math.pow(256,t-i-1))}return r},vZ=e=>(255^e)&255,_Z=e=>(255^e)+1&255;yZ.exports={encode:Q4e,parse:rNe}}),Xg=O((Bet,bZ)=>{"use strict";var uq=lq(),Kg=require("path").posix,xZ=wZ(),fq=Symbol("slurp"),Da=Symbol("type"),EZ=class{constructor(t,r,i,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Da]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,r||0,i,s):t&&this.set(t)}decode(t,r,i,s){if(r||(r=0),!t||!(t.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Hd(t,r,100),this.mode=Uh(t,r+100,8),this.uid=Uh(t,r+108,8),this.gid=Uh(t,r+116,8),this.size=Uh(t,r+124,12),this.mtime=hq(t,r+136,12),this.cksum=Uh(t,r+148,12),this[fq](i),this[fq](s,!0),this[Da]=Hd(t,r+156,1),this[Da]===""&&(this[Da]="0"),this[Da]==="0"&&this.path.substr(-1)==="/"&&(this[Da]="5"),this[Da]==="5"&&(this.size=0),this.linkpath=Hd(t,r+157,100),t.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Hd(t,r+265,32),this.gname=Hd(t,r+297,32),this.devmaj=Uh(t,r+329,8),this.devmin=Uh(t,r+337,8),t[r+475]!==0){let a=Hd(t,r+345,155);this.path=a+"/"+this.path}else{let a=Hd(t,r+345,130);a&&(this.path=a+"/"+this.path),this.atime=hq(t,r+476,12),this.ctime=hq(t,r+488,12)}let n=8*32;for(let a=r;a<r+148;a++)n+=t[a];for(let a=r+156;a<r+512;a++)n+=t[a];this.cksumValid=n===this.cksum,this.cksum===null&&n===8*32&&(this.nullBlock=!0)}[fq](t,r){for(let i in t)t[i]!==null&&t[i]!==void 0&&!(r&&i==="path")&&(this[i]=t[i])}encode(t,r){if(t||(t=this.block=Buffer.alloc(512),r=0),r||(r=0),!(t.length>=r+512))throw new Error("need 512 bytes for header");let i=this.ctime||this.atime?130:155,s=nNe(this.path||"",i),n=s[0],a=s[1];this.needPax=s[2],this.needPax=Gd(t,r,100,n)||this.needPax,this.needPax=Hh(t,r+100,8,this.mode)||this.needPax,this.needPax=Hh(t,r+108,8,this.uid)||this.needPax,this.needPax=Hh(t,r+116,8,this.gid)||this.needPax,this.needPax=Hh(t,r+124,12,this.size)||this.needPax,this.needPax=pq(t,r+136,12,this.mtime)||this.needPax,t[r+156]=this[Da].charCodeAt(0),this.needPax=Gd(t,r+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",r+257,8),this.needPax=Gd(t,r+265,32,this.uname)||this.needPax,this.needPax=Gd(t,r+297,32,this.gname)||this.needPax,this.needPax=Hh(t,r+329,8,this.devmaj)||this.needPax,this.needPax=Hh(t,r+337,8,this.devmin)||this.needPax,this.needPax=Gd(t,r+345,i,a)||this.needPax,t[r+475]!==0?this.needPax=Gd(t,r+345,155,a)||this.needPax:(this.needPax=Gd(t,r+345,130,a)||this.needPax,this.needPax=pq(t,r+476,12,this.atime)||this.needPax,this.needPax=pq(t,r+488,12,this.ctime)||this.needPax);let o=8*32;for(let u=r;u<r+148;u++)o+=t[u];for(let u=r+156;u<r+512;u++)o+=t[u];return this.cksum=o,Hh(t,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let r in t)t[r]!==null&&t[r]!==void 0&&(this[r]=t[r])}get type(){return uq.name.get(this[Da])||this[Da]}get typeKey(){return this[Da]}set type(t){uq.code.has(t)?this[Da]=uq.code.get(t):this[Da]=t}},nNe=(e,t)=>{let r=100,i=e,s="",n,a=Kg.parse(e).root||".";if(Buffer.byteLength(i)<r)n=[i,s,!1];else{s=Kg.dirname(i),i=Kg.basename(i);do Buffer.byteLength(i)<=r&&Buffer.byteLength(s)<=t?n=[i,s,!1]:Buffer.byteLength(i)>r&&Buffer.byteLength(s)<=t?n=[i.substr(0,r-1),s,!0]:(i=Kg.join(Kg.basename(s),i),s=Kg.dirname(s));while(s!==a&&!n);n||(n=[e.substr(0,r-1),"",!0])}return n},Hd=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,""),hq=(e,t,r)=>iNe(Uh(e,t,r)),iNe=e=>e===null?null:new Date(e*1e3),Uh=(e,t,r)=>e[t]&128?xZ.parse(e.slice(t,t+r)):sNe(e,t,r),aNe=e=>isNaN(e)?null:e,sNe=(e,t,r)=>aNe(parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),oNe={12:8589934591,8:2097151},Hh=(e,t,r,i)=>i===null?!1:i>oNe[r]||i<0?(xZ.encode(i,e.slice(t,t+r)),!0):(cNe(e,t,r,i),!1),cNe=(e,t,r,i)=>e.write(lNe(i,r),t,r,"ascii"),lNe=(e,t)=>uNe(Math.floor(e).toString(8),t),uNe=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",pq=(e,t,r,i)=>i===null?!1:Hh(e,t,r,i.getTime()/1e3),fNe=new Array(156).join("\0"),Gd=(e,t,r,i)=>i===null?!1:(e.write(i+fNe,t,r,"utf8"),i.length!==Buffer.byteLength(i)||i.length>r);bZ.exports=EZ}),tS=O((Uet,SZ)=>{"use strict";var hNe=Xg(),pNe=require("path"),eS=class{constructor(t,r){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=r||!1}encode(){let t=this.encodeBody();if(t==="")return null;let r=Buffer.byteLength(t),i=512*Math.ceil(1+r/512),s=Buffer.allocUnsafe(i);for(let n=0;n<512;n++)s[n]=0;new hNe({path:("PaxHeader/"+pNe.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(t,512,r,"utf8");for(let n=r+512;n<s.length;n++)s[n]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let r=this[t]instanceof Date?this[t].getTime()/1e3:this[t],i=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+r+`
`,s=Buffer.byteLength(i),n=Math.floor(Math.log(s)/Math.log(10))+1;s+n>=Math.pow(10,n)&&(n+=1);let a=n+s;return a+i}};eS.parse=(e,t,r)=>new eS(dNe(mNe(e),t),r);var dNe=(e,t)=>t?Object.keys(e).reduce((r,i)=>(r[i]=e[i],r),t):e,mNe=e=>e.replace(/\n$/,"").split(`
`).reduce(gNe,Object.create(null)),gNe=(e,t)=>{let r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1)return e;t=t.substr((r+" ").length);let i=t.split("="),s=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return e;let n=i.join("=");return e[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(n*1e3):/^[0-9]+$/.test(n)?+n:n,e};SZ.exports=eS}),Yg=O((Het,RZ)=>{RZ.exports=e=>{let t=e.length-1,r=-1;for(;t>-1&&e.charAt(t)==="/";)r=t,t--;return r===-1?e:e.slice(0,r)}}),rS=O((Get,AZ)=>{"use strict";AZ.exports=e=>class extends e{warn(t,r,i={}){this.file&&(i.file=this.file),this.cwd&&(i.cwd=this.cwd),i.code=r instanceof Error&&r.code||t,i.tarCode=t,!this.strict&&i.recoverable!==!1?(r instanceof Error&&(i=Object.assign(r,i),r=r.message),this.emit("warn",i.tarCode,r,i)):r instanceof Error?this.emit("error",Object.assign(r,i)):this.emit("error",Object.assign(new Error(`${t}: ${r}`),i))}}}),mq=O((zet,TZ)=>{"use strict";var nS=["|","<",">","?",":"],dq=nS.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),yNe=new Map(nS.map((e,t)=>[e,dq[t]])),vNe=new Map(dq.map((e,t)=>[e,nS[t]]));TZ.exports={encode:e=>nS.reduce((t,r)=>t.split(r).join(yNe.get(r)),e),decode:e=>dq.reduce((t,r)=>t.split(r).join(vNe.get(r)),e)}}),gq=O((Vet,CZ)=>{var{isAbsolute:_Ne,parse:OZ}=require("path").win32;CZ.exports=e=>{let t="",r=OZ(e);for(;_Ne(e)||r.root;){let i=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":r.root;e=e.substr(i.length),t+=i,r=OZ(e)}return[t,e]}}),PZ=O((Wet,kZ)=>{"use strict";kZ.exports=(e,t,r)=>(e&=4095,r&&(e=(e|384)&~18),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)}),Rq=O((Yet,IZ)=>{"use strict";var qZ=zg(),NZ=tS(),MZ=Xg(),Tl=require("fs"),LZ=require("path"),Cl=Wg(),wNe=Yg(),DZ=(e,t)=>t?(e=Cl(e).replace(/^\.(\/|$)/,""),wNe(t)+"/"+e):Cl(e),bNe=16*1024*1024,$Z=Symbol("process"),jZ=Symbol("file"),FZ=Symbol("directory"),yq=Symbol("symlink"),BZ=Symbol("hardlink"),d_=Symbol("header"),iS=Symbol("read"),vq=Symbol("lstat"),sS=Symbol("onlstat"),_q=Symbol("onread"),wq=Symbol("onreadlink"),bq=Symbol("openfile"),xq=Symbol("onopenfile"),Gh=Symbol("close"),aS=Symbol("mode"),Eq=Symbol("awaitDrain"),Sq=Symbol("ondrain"),Ol=Symbol("prefix"),UZ=Symbol("hadError"),HZ=rS(),xNe=mq(),GZ=gq(),zZ=PZ(),oS=HZ(class extends qZ{constructor(t,r){if(r=r||{},super(r),typeof t!="string")throw new TypeError("path is required");this.path=Cl(t),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||bNe,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Cl(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Cl(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let i=!1;if(!this.preservePaths){let[s,n]=GZ(this.path);s&&(this.path=n,i=s)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=xNe.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Cl(r.absolute||LZ.resolve(this.cwd,t)),this.path===""&&(this.path="./"),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.statCache.has(this.absolute)?this[sS](this.statCache.get(this.absolute)):this[vq]()}emit(t,...r){return t==="error"&&(this[UZ]=!0),super.emit(t,...r)}[vq](){Tl.lstat(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[sS](r)})}[sS](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=ENe(t),this.emit("stat",t),this[$Z]()}[$Z](){switch(this.type){case"File":return this[jZ]();case"Directory":return this[FZ]();case"SymbolicLink":return this[yq]();default:return this.end()}}[aS](t){return zZ(t,this.type==="Directory",this.portable)}[Ol](t){return DZ(t,this.prefix)}[d_](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new MZ({path:this[Ol](this.path),linkpath:this.type==="Link"?this[Ol](this.linkpath):this.linkpath,mode:this[aS](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new NZ({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Ol](this.path),linkpath:this.type==="Link"?this[Ol](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[FZ](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[d_](),this.end()}[yq](){Tl.readlink(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[wq](r)})}[wq](t){this.linkpath=Cl(t),this[d_](),this.end()}[BZ](t){this.type="Link",this.linkpath=Cl(LZ.relative(this.cwd,t)),this.stat.size=0,this[d_](),this.end()}[jZ](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let r=this.linkCache.get(t);if(r.indexOf(this.cwd)===0)return this[BZ](r)}this.linkCache.set(t,this.absolute)}if(this[d_](),this.stat.size===0)return this.end();this[bq]()}[bq](){Tl.open(this.absolute,"r",(t,r)=>{if(t)return this.emit("error",t);this[xq](r)})}[xq](t){if(this.fd=t,this[UZ])return this[Gh]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[iS]()}[iS](){let{fd:t,buf:r,offset:i,length:s,pos:n}=this;Tl.read(t,r,i,s,n,(a,o)=>{if(a)return this[Gh](()=>this.emit("error",a));this[_q](o)})}[Gh](t){Tl.close(this.fd,t)}[_q](t){if(t<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Gh](()=>this.emit("error",s))}if(t>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Gh](()=>this.emit("error",s))}if(t===this.remain)for(let s=t;s<this.length&&t<this.blockRemain;s++)this.buf[s+this.offset]=0,t++,this.remain++;let r=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t),i=this.write(r);i?this[Sq]():this[Eq](()=>this[Sq]())}[Eq](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Sq](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Gh](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[iS]()}}),VZ=class extends oS{[vq](){this[sS](Tl.lstatSync(this.absolute))}[yq](){this[wq](Tl.readlinkSync(this.absolute))}[bq](){this[xq](Tl.openSync(this.absolute,"r"))}[iS](){let t=!0;try{let{fd:r,buf:i,offset:s,length:n,pos:a}=this,o=Tl.readSync(r,i,s,n,a);this[_q](o),t=!1}finally{if(t)try{this[Gh](()=>{})}catch(r){}}}[Eq](t){t()}[Gh](t){Tl.closeSync(this.fd),t()}},SNe=HZ(class extends qZ{constructor(t,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Cl(t.path),this.mode=this[aS](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:r.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Cl(t.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let i=!1;if(!this.preservePaths){let[s,n]=GZ(this.path);s&&(this.path=n,i=s)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new MZ({path:this[Ol](this.path),linkpath:this.type==="Link"?this[Ol](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),i&&this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:this,path:i+this.path}),this.header.encode()&&!this.noPax&&super.write(new NZ({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Ol](this.path),linkpath:this.type==="Link"?this[Ol](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[Ol](t){return DZ(t,this.prefix)}[aS](t){return zZ(t,this.type==="Directory",this.portable)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});oS.Sync=VZ;oS.Tar=SNe;var ENe=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";IZ.exports=oS}),KZ=O((Jet,WZ)=>{"use strict";WZ.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}}),Aq=O((Zet,XZ)=>{"use strict";XZ.exports=gr;gr.Node=zd;gr.create=gr;function gr(e){var t=this;if(t instanceof gr||(t=new gr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}gr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};gr.prototype.unshiftNode=function(e){if(e===this.head)return;e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++};gr.prototype.pushNode=function(e){if(e===this.tail)return;e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++};gr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)RNe(this,arguments[e]);return this.length};gr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)ANe(this,arguments[e]);return this.length};gr.prototype.pop=function(){if(!this.tail)return;var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e};gr.prototype.shift=function(){if(!this.head)return;var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e};gr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++)e.call(t,r.value,i,this),r=r.next};gr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--)e.call(t,r.value,i,this),r=r.prev};gr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};gr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};gr.prototype.map=function(e,t){t=t||this;for(var r=new gr,i=this.head;i!==null;)r.push(e.call(t,i.value,this)),i=i.next;return r};gr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new gr,i=this.tail;i!==null;)r.push(e.call(t,i.value,this)),i=i.prev;return r};gr.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)r=e(r,i.value,s),i=i.next;return r};gr.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)r=e(r,i.value,s),i=i.prev;return r};gr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};gr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};gr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new gr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(;s!==null&&i<t;i++,s=s.next)r.push(s.value);return r};gr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new gr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;s!==null&&i>t;i--)s=s.prev;for(;s!==null&&i>e;i--,s=s.prev)r.push(s.value);return r};gr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(var n=[],i=0;s&&i<t;i++)n.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var i=0;i<r.length;i++)s=TNe(this,s,r[i]);return n};gr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};function TNe(e,t,r){var i=t===e.head?new zd(r,null,t,e):new zd(r,t,t.next,e);return i.next===null&&(e.tail=i),i.prev===null&&(e.head=i),e.length++,i}function RNe(e,t){e.tail=new zd(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function ANe(e,t){e.head=new zd(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function zd(e,t,r,i){if(!(this instanceof zd))return new zd(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{KZ()(gr)}catch(e){}}),mS=O((ett,YZ)=>{"use strict";var Tq=class{constructor(t,r){this.path=t||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},CNe=zg(),ONe=aq(),kNe=ZE(),Cq=Rq(),PNe=Cq.Sync,INe=Cq.Tar,qNe=Aq(),JZ=Buffer.alloc(1024),cS=Symbol("onStat"),lS=Symbol("ended"),kl=Symbol("queue"),Jg=Symbol("current"),Vd=Symbol("process"),uS=Symbol("processing"),ZZ=Symbol("processJob"),Pl=Symbol("jobs"),Oq=Symbol("jobDone"),fS=Symbol("addFSEntry"),QZ=Symbol("addTarEntry"),kq=Symbol("stat"),Pq=Symbol("readdir"),hS=Symbol("onreaddir"),pS=Symbol("pipe"),eQ=Symbol("entry"),Iq=Symbol("entryOpt"),qq=Symbol("writeEntryClass"),tQ=Symbol("write"),Nq=Symbol("ondrain"),dS=require("fs"),rQ=require("path"),NNe=rS(),Mq=Wg(),Lq=NNe(class extends CNe{constructor(t){super(t);t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=Mq(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[qq]=Cq,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new ONe.Gzip(t.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Nq]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Nq]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:r=>!0,this[kl]=new qNe,this[Pl]=0,this.jobs=+t.jobs||4,this[uS]=!1,this[lS]=!1}[tQ](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[lS]=!0,this[Vd](),this}write(t){if(this[lS])throw new Error("write after end");return t instanceof kNe?this[QZ](t):this[fS](t),this.flowing}[QZ](t){let r=Mq(rQ.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let i=new Tq(t.path,r,!1);i.entry=new INe(t,this[Iq](i)),i.entry.on("end",s=>this[Oq](i)),this[Pl]+=1,this[kl].push(i)}this[Vd]()}[fS](t){let r=Mq(rQ.resolve(this.cwd,t));this[kl].push(new Tq(t,r)),this[Vd]()}[kq](t){t.pending=!0,this[Pl]+=1;let r=this.follow?"stat":"lstat";dS[r](t.absolute,(i,s)=>{t.pending=!1,this[Pl]-=1,i?this.emit("error",i):this[cS](t,s)})}[cS](t,r){this.statCache.set(t.absolute,r),t.stat=r,this.filter(t.path,r)||(t.ignore=!0),this[Vd]()}[Pq](t){t.pending=!0,this[Pl]+=1,dS.readdir(t.absolute,(r,i)=>{if(t.pending=!1,this[Pl]-=1,r)return this.emit("error",r);this[hS](t,i)})}[hS](t,r){this.readdirCache.set(t.absolute,r),t.readdir=r,this[Vd]()}[Vd](){if(this[uS])return;this[uS]=!0;for(let t=this[kl].head;t!==null&&this[Pl]<this.jobs;t=t.next)if(this[ZZ](t.value),t.value.ignore){let r=t.next;this[kl].removeNode(t),t.next=r}this[uS]=!1,this[lS]&&!this[kl].length&&this[Pl]===0&&(this.zip?this.zip.end(JZ):(super.write(JZ),super.end()))}get[Jg](){return this[kl]&&this[kl].head&&this[kl].head.value}[Oq](t){this[kl].shift(),this[Pl]-=1,this[Vd]()}[ZZ](t){if(t.pending)return;if(t.entry){t===this[Jg]&&!t.piped&&this[pS](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[cS](t,this.statCache.get(t.absolute)):this[kq](t)),!t.stat)return;if(t.ignore)return;if(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[hS](t,this.readdirCache.get(t.absolute)):this[Pq](t),!t.readdir))return;if(t.entry=this[eQ](t),!t.entry){t.ignore=!0;return}t===this[Jg]&&!t.piped&&this[pS](t)}[Iq](t){return{onwarn:(r,i,s)=>this.warn(r,i,s),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[eQ](t){this[Pl]+=1;try{return new this[qq](t.path,this[Iq](t)).on("end",()=>this[Oq](t)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Nq](){this[Jg]&&this[Jg].entry&&this[Jg].entry.resume()}[pS](t){t.piped=!0,t.readdir&&t.readdir.forEach(s=>{let n=t.path,a=n==="./"?"":n.replace(/\/*$/,"/");this[fS](a+s)});let r=t.entry,i=this.zip;i?r.on("data",s=>{i.write(s)||r.pause()}):r.on("data",s=>{super.write(s)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),nQ=class extends Lq{constructor(t){super(t);this[qq]=PNe}pause(){}resume(){}[kq](t){let r=this.follow?"statSync":"lstatSync";this[cS](t,dS[r](t.absolute))}[Pq](t,r){this[hS](t,dS.readdirSync(t.absolute))}[pS](t){let r=t.entry,i=this.zip;t.readdir&&t.readdir.forEach(s=>{let n=t.path,a=n==="./"?"":n.replace(/\/*$/,"/");this[fS](a+s)}),i?r.on("data",s=>{i.write(s)}):r.on("data",s=>{super[tQ](s)})}};Lq.Sync=nQ;YZ.exports=Lq}),sy=O(m_=>{"use strict";var MNe=zg(),LNe=require("events").EventEmitter,fa=require("fs"),Dq=fa.writev;if(!Dq){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;Dq=(r,i,s,n)=>{let a=(u,d)=>n(u,d,i),o=new t;o.oncomplete=a,e.writeBuffers(r,i,s,o)}}var Zg=Symbol("_autoClose"),gc=Symbol("_close"),g_=Symbol("_ended"),$r=Symbol("_fd"),iQ=Symbol("_finished"),zh=Symbol("_flags"),$q=Symbol("_flush"),jq=Symbol("_handleChunk"),Fq=Symbol("_makeBuf"),gS=Symbol("_mode"),yS=Symbol("_needDrain"),Qg=Symbol("_onerror"),ey=Symbol("_onopen"),Bq=Symbol("_onread"),ty=Symbol("_onwrite"),Vh=Symbol("_open"),af=Symbol("_path"),Wd=Symbol("_pos"),Il=Symbol("_queue"),ry=Symbol("_read"),sQ=Symbol("_readSize"),Wh=Symbol("_reading"),vS=Symbol("_remain"),aQ=Symbol("_size"),_S=Symbol("_write"),ny=Symbol("_writing"),wS=Symbol("_defaultFlag"),iy=Symbol("_errored"),Uq=class extends MNe{constructor(t,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[iy]=!1,this[$r]=typeof r.fd=="number"?r.fd:null,this[af]=t,this[sQ]=r.readSize||16*1024*1024,this[Wh]=!1,this[aQ]=typeof r.size=="number"?r.size:Infinity,this[vS]=this[aQ],this[Zg]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[$r]=="number"?this[ry]():this[Vh]()}get fd(){return this[$r]}get path(){return this[af]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Vh](){fa.open(this[af],"r",(t,r)=>this[ey](t,r))}[ey](t,r){t?this[Qg](t):(this[$r]=r,this.emit("open",r),this[ry]())}[Fq](){return Buffer.allocUnsafe(Math.min(this[sQ],this[vS]))}[ry](){if(!this[Wh]){this[Wh]=!0;let t=this[Fq]();if(t.length===0)return process.nextTick(()=>this[Bq](null,0,t));fa.read(this[$r],t,0,t.length,null,(r,i,s)=>this[Bq](r,i,s))}}[Bq](t,r,i){this[Wh]=!1,t?this[Qg](t):this[jq](r,i)&&this[ry]()}[gc](){if(this[Zg]&&typeof this[$r]=="number"){let t=this[$r];this[$r]=null,fa.close(t,r=>r?this.emit("error",r):this.emit("close"))}}[Qg](t){this[Wh]=!0,this[gc](),this.emit("error",t)}[jq](t,r){let i=!1;return this[vS]-=t,t>0&&(i=super.write(t<r.length?r.slice(0,t):r)),(t===0||this[vS]<=0)&&(i=!1,this[gc](),super.end()),i}emit(t,r){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[$r]=="number"&&this[ry]();break;case"error":return this[iy]?void 0:(this[iy]=!0,super.emit(t,r));default:return super.emit(t,r)}}},oQ=class extends Uq{[Vh](){let t=!0;try{this[ey](null,fa.openSync(this[af],"r")),t=!1}finally{t&&this[gc]()}}[ry](){let t=!0;try{if(!this[Wh]){this[Wh]=!0;do{let r=this[Fq](),i=r.length===0?0:fa.readSync(this[$r],r,0,r.length,null);if(!this[jq](i,r))break}while(!0);this[Wh]=!1}t=!1}finally{t&&this[gc]()}}[gc](){if(this[Zg]&&typeof this[$r]=="number"){let t=this[$r];this[$r]=null,fa.closeSync(t),this.emit("close")}}},Hq=class extends LNe{constructor(t,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[iy]=!1,this[ny]=!1,this[g_]=!1,this[yS]=!1,this[Il]=[],this[af]=t,this[$r]=typeof r.fd=="number"?r.fd:null,this[gS]=r.mode===void 0?438:r.mode,this[Wd]=typeof r.start=="number"?r.start:null,this[Zg]=typeof r.autoClose=="boolean"?r.autoClose:!0;let i=this[Wd]!==null?"r+":"w";this[wS]=r.flags===void 0,this[zh]=this[wS]?i:r.flags,this[$r]===null&&this[Vh]()}emit(t,r){if(t==="error"){if(this[iy])return;this[iy]=!0}return super.emit(t,r)}get fd(){return this[$r]}get path(){return this[af]}[Qg](t){this[gc](),this[ny]=!0,this.emit("error",t)}[Vh](){fa.open(this[af],this[zh],this[gS],(t,r)=>this[ey](t,r))}[ey](t,r){this[wS]&&this[zh]==="r+"&&t&&t.code==="ENOENT"?(this[zh]="w",this[Vh]()):t?this[Qg](t):(this[$r]=r,this.emit("open",r),this[$q]())}end(t,r){return t&&this.write(t,r),this[g_]=!0,!this[ny]&&!this[Il].length&&typeof this[$r]=="number"&&this[ty](null,0),this}write(t,r){return typeof t=="string"&&(t=Buffer.from(t,r)),this[g_]?(this.emit("error",new Error("write() after end()")),!1):this[$r]===null||this[ny]||this[Il].length?(this[Il].push(t),this[yS]=!0,!1):(this[ny]=!0,this[_S](t),!0)}[_S](t){fa.write(this[$r],t,0,t.length,this[Wd],(r,i)=>this[ty](r,i))}[ty](t,r){t?this[Qg](t):(this[Wd]!==null&&(this[Wd]+=r),this[Il].length?this[$q]():(this[ny]=!1,this[g_]&&!this[iQ]?(this[iQ]=!0,this[gc](),this.emit("finish")):this[yS]&&(this[yS]=!1,this.emit("drain"))))}[$q](){if(this[Il].length===0)this[g_]&&this[ty](null,0);else if(this[Il].length===1)this[_S](this[Il].pop());else{let t=this[Il];this[Il]=[],Dq(this[$r],t,this[Wd],(r,i)=>this[ty](r,i))}}[gc](){if(this[Zg]&&typeof this[$r]=="number"){let t=this[$r];this[$r]=null,fa.close(t,r=>r?this.emit("error",r):this.emit("close"))}}},cQ=class extends Hq{[Vh](){let t;if(this[wS]&&this[zh]==="r+")try{t=fa.openSync(this[af],this[zh],this[gS])}catch(r){if(r.code==="ENOENT")return this[zh]="w",this[Vh]();throw r}else t=fa.openSync(this[af],this[zh],this[gS]);this[ey](null,t)}[gc](){if(this[Zg]&&typeof this[$r]=="number"){let t=this[$r];this[$r]=null,fa.closeSync(t),this.emit("close")}}[_S](t){let r=!0;try{this[ty](null,fa.writeSync(this[$r],t,0,t.length,this[Wd])),r=!1}finally{if(r)try{this[gc]()}catch(i){}}}};m_.ReadStream=Uq;m_.ReadStreamSync=oQ;m_.WriteStream=Hq;m_.WriteStreamSync=cQ}),TS=O((ntt,lQ)=>{"use strict";var DNe=rS(),$Ne=Xg(),jNe=require("events"),FNe=Aq(),BNe=1024*1024,UNe=ZE(),uQ=tS(),HNe=aq(),Gq=Buffer.from([31,139]),Po=Symbol("state"),Kd=Symbol("writeEntry"),of=Symbol("readEntry"),zq=Symbol("nextEntry"),fQ=Symbol("processEntry"),Io=Symbol("extendedHeader"),y_=Symbol("globalExtendedHeader"),Kh=Symbol("meta"),hQ=Symbol("emitMeta"),rn=Symbol("buffer"),cf=Symbol("queue"),Xd=Symbol("ended"),pQ=Symbol("emittedEnd"),Yd=Symbol("emit"),ha=Symbol("unzip"),bS=Symbol("consumeChunk"),xS=Symbol("consumeChunkSub"),Vq=Symbol("consumeBody"),dQ=Symbol("consumeMeta"),mQ=Symbol("consumeHeader"),ES=Symbol("consuming"),Wq=Symbol("bufferConcat"),Kq=Symbol("maybeEnd"),v_=Symbol("writing"),Xh=Symbol("aborted"),SS=Symbol("onDone"),Jd=Symbol("sawValidEntry"),RS=Symbol("sawNullBlock"),AS=Symbol("sawEOF"),GNe=e=>!0;lQ.exports=DNe(class extends jNe{constructor(t){t=t||{},super(t),this.file=t.file||"",this[Jd]=null,this.on(SS,r=>{(this[Po]==="begin"||this[Jd]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(SS,t.ondone):this.on(SS,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||BNe,this.filter=typeof t.filter=="function"?t.filter:GNe,this.writable=!0,this.readable=!1,this[cf]=new FNe,this[rn]=null,this[of]=null,this[Kd]=null,this[Po]="begin",this[Kh]="",this[Io]=null,this[y_]=null,this[Xd]=!1,this[ha]=null,this[Xh]=!1,this[RS]=!1,this[AS]=!1,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[mQ](t,r){this[Jd]===null&&(this[Jd]=!1);let i;try{i=new $Ne(t,r,this[Io],this[y_])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(i.nullBlock)this[RS]?(this[AS]=!0,this[Po]==="begin"&&(this[Po]="header"),this[Yd]("eof")):(this[RS]=!0,this[Yd]("nullBlock"));else if(this[RS]=!1,!i.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:i});else if(!i.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:i});else{let s=i.type;if(/^(Symbolic)?Link$/.test(s)&&!i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:i});else if(!/^(Symbolic)?Link$/.test(s)&&i.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:i});else{let n=this[Kd]=new UNe(i,this[Io],this[y_]);if(!this[Jd])if(n.remain){let a=()=>{n.invalid||(this[Jd]=!0)};n.on("end",a)}else this[Jd]=!0;n.meta?n.size>this.maxMetaEntrySize?(n.ignore=!0,this[Yd]("ignoredEntry",n),this[Po]="ignore",n.resume()):n.size>0&&(this[Kh]="",n.on("data",a=>this[Kh]+=a),this[Po]="meta"):(this[Io]=null,n.ignore=n.ignore||!this.filter(n.path,n),n.ignore?(this[Yd]("ignoredEntry",n),this[Po]=n.remain?"ignore":"header",n.resume()):(n.remain?this[Po]="body":(this[Po]="header",n.end()),this[of]?this[cf].push(n):(this[cf].push(n),this[zq]())))}}}[fQ](t){let r=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[of]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",i=>this[zq]()),r=!1)):(this[of]=null,r=!1),r}[zq](){do;while(this[fQ](this[cf].shift()));if(!this[cf].length){let t=this[of],r=!t||t.flowing||t.size===t.remain;r?this[v_]||this.emit("drain"):t.once("drain",i=>this.emit("drain"))}}[Vq](t,r){let i=this[Kd],s=i.blockRemain,n=s>=t.length&&r===0?t:t.slice(r,r+s);return i.write(n),i.blockRemain||(this[Po]="header",this[Kd]=null,i.end()),n.length}[dQ](t,r){let i=this[Kd],s=this[Vq](t,r);return this[Kd]||this[hQ](i),s}[Yd](t,r,i){!this[cf].length&&!this[of]?this.emit(t,r,i):this[cf].push([t,r,i])}[hQ](t){this[Yd]("meta",this[Kh]);switch(t.type){case"ExtendedHeader":case"OldExtendedHeader":this[Io]=uQ.parse(this[Kh],this[Io],!1);break;case"GlobalExtendedHeader":this[y_]=uQ.parse(this[Kh],this[y_],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Io]=this[Io]||Object.create(null),this[Io].path=this[Kh].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Io]=this[Io]||Object.create(null),this[Io].linkpath=this[Kh].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Xh]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Xh])return;if(this[ha]===null&&t){if(this[rn]&&(t=Buffer.concat([this[rn],t]),this[rn]=null),t.length<Gq.length)return this[rn]=t,!0;for(let i=0;this[ha]===null&&i<Gq.length;i++)t[i]!==Gq[i]&&(this[ha]=!1);if(this[ha]===null){let i=this[Xd];this[Xd]=!1,this[ha]=new HNe.Unzip,this[ha].on("data",n=>this[bS](n)),this[ha].on("error",n=>this.abort(n)),this[ha].on("end",n=>{this[Xd]=!0,this[bS]()}),this[v_]=!0;let s=this[ha][i?"end":"write"](t);return this[v_]=!1,s}}this[v_]=!0,this[ha]?this[ha].write(t):this[bS](t),this[v_]=!1;let r=this[cf].length?!1:this[of]?this[of].flowing:!0;return!r&&!this[cf].length&&this[of].once("drain",i=>this.emit("drain")),r}[Wq](t){t&&!this[Xh]&&(this[rn]=this[rn]?Buffer.concat([this[rn],t]):t)}[Kq](){if(this[Xd]&&!this[pQ]&&!this[Xh]&&!this[ES]){this[pQ]=!0;let t=this[Kd];if(t&&t.blockRemain){let r=this[rn]?this[rn].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${r} available)`,{entry:t}),this[rn]&&t.write(this[rn]),t.end()}this[Yd](SS)}}[bS](t){if(this[ES])this[Wq](t);else if(!t&&!this[rn])this[Kq]();else{if(this[ES]=!0,this[rn]){this[Wq](t);let r=this[rn];this[rn]=null,this[xS](r)}else this[xS](t);for(;this[rn]&&this[rn].length>=512&&!this[Xh]&&!this[AS];){let r=this[rn];this[rn]=null,this[xS](r)}this[ES]=!1}(!this[rn]||this[Xd])&&this[Kq]()}[xS](t){let r=0,i=t.length;for(;r+512<=i&&!this[Xh]&&!this[AS];)switch(this[Po]){case"begin":case"header":this[mQ](t,r),r+=512;break;case"ignore":case"body":r+=this[Vq](t,r);break;case"meta":r+=this[dQ](t,r);break;default:throw new Error("invalid state: "+this[Po])}r<i&&(this[rn]?this[rn]=Buffer.concat([t.slice(r),this[rn]]):this[rn]=t.slice(r))}end(t){this[Xh]||(this[ha]?this[ha].end(t):(this[Xd]=!0,this.write(t)))}})}),CS=O((itt,gQ)=>{"use strict";var zNe=Gg(),yQ=TS(),ay=require("fs"),VNe=sy(),vQ=require("path"),Xq=Yg();gQ.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let i=zNe(e);if(i.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&KNe(i,t),i.noResume||WNe(i),i.file&&i.sync?XNe(i):i.file?YNe(i,r):_Q(i)};var WNe=e=>{let t=e.onentry;e.onentry=t?r=>{t(r),r.resume()}:r=>r.resume()},KNe=(e,t)=>{let r=new Map(t.map(n=>[Xq(n),!0])),i=e.filter,s=(n,a)=>{let o=a||vQ.parse(n).root||".",u=n===o?!1:r.has(n)?r.get(n):s(vQ.dirname(n),o);return r.set(n,u),u};e.filter=i?(n,a)=>i(n,a)&&s(Xq(n)):n=>s(Xq(n))},XNe=e=>{let t=_Q(e),r=e.file,i=!0,s;try{let n=ay.statSync(r),a=e.maxReadSize||16*1024*1024;if(n.size<a)t.end(ay.readFileSync(r));else{let o=0,u=Buffer.allocUnsafe(a);for(s=ay.openSync(r,"r");o<n.size;){let d=ay.readSync(s,u,0,a,o);o+=d,t.write(u.slice(0,d))}t.end()}i=!1}finally{if(i&&s)try{ay.closeSync(s)}catch(n){}}},YNe=(e,t)=>{let r=new yQ(e),i=e.maxReadSize||16*1024*1024,s=e.file,n=new Promise((a,o)=>{r.on("error",o),r.on("end",a),ay.stat(s,(u,d)=>{if(u)o(u);else{let m=new VNe.ReadStream(s,{readSize:i,size:d.size});m.on("error",o),m.pipe(r)}})});return t?n.then(t,t):n},_Q=e=>new yQ(e)}),RQ=O((stt,wQ)=>{"use strict";var JNe=Gg(),OS=mS(),bQ=sy(),xQ=CS(),EQ=require("path");wQ.exports=(e,t,r)=>{if(typeof t=="function"&&(r=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let i=JNe(e);if(i.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return i.file&&i.sync?ZNe(i,t):i.file?QNe(i,t,r):i.sync?e3e(i,t):t3e(i,t)};var ZNe=(e,t)=>{let r=new OS.Sync(e),i=new bQ.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(i),SQ(r,t)},QNe=(e,t,r)=>{let i=new OS(e),s=new bQ.WriteStream(e.file,{mode:e.mode||438});i.pipe(s);let n=new Promise((a,o)=>{s.on("error",o),s.on("close",a),i.on("error",o)});return Yq(i,t),r?n.then(r,r):n},SQ=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?xQ({file:EQ.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:i=>e.add(i)}):e.add(r)}),e.end()},Yq=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return xQ({file:EQ.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:i=>e.add(i)}).then(i=>Yq(e,t));e.add(r)}e.end()},e3e=(e,t)=>{let r=new OS.Sync(e);return SQ(r,t),r},t3e=(e,t)=>{let r=new OS(e);return Yq(r,t),r}}),Jq=O((att,AQ)=>{"use strict";var r3e=Gg(),TQ=mS(),$a=require("fs"),CQ=sy(),OQ=CS(),kQ=require("path"),PQ=Xg();AQ.exports=(e,t,r)=>{let i=r3e(e);if(!i.file)throw new TypeError("file is required");if(i.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),i.sync?n3e(i,t):i3e(i,t,r)};var n3e=(e,t)=>{let r=new TQ.Sync(e),i=!0,s,n;try{try{s=$a.openSync(e.file,"r+")}catch(u){if(u.code==="ENOENT")s=$a.openSync(e.file,"w+");else throw u}let a=$a.fstatSync(s),o=Buffer.alloc(512);e:for(n=0;n<a.size;n+=512){for(let m=0,f=0;m<512;m+=f){if(f=$a.readSync(s,o,m,o.length-m,n+m),n===0&&o[0]===31&&o[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let u=new PQ(o);if(!u.cksumValid)break;let d=512*Math.ceil(u.size/512);if(n+d+512>a.size)break;n+=d,e.mtimeCache&&e.mtimeCache.set(u.path,u.mtime)}i=!1,s3e(e,r,n,s,t)}finally{if(i)try{$a.closeSync(s)}catch(a){}}},s3e=(e,t,r,i,s)=>{let n=new CQ.WriteStreamSync(e.file,{fd:i,start:r});t.pipe(n),a3e(t,s)},i3e=(e,t,r)=>{t=Array.from(t);let i=new TQ(e),s=(a,o,u)=>{let d=(q,F)=>{q?$a.close(a,$=>u(q)):u(null,F)},m=0;if(o===0)return d(null,0);let f=0,x=Buffer.alloc(512),T=(q,F)=>{if(q)return d(q);if(f+=F,f<512&&F)return $a.read(a,x,f,x.length-f,m+f,T);if(m===0&&x[0]===31&&x[1]===139)return d(new Error("cannot append to compressed archives"));if(f<512)return d(null,m);let $=new PQ(x);if(!$.cksumValid)return d(null,m);let H=512*Math.ceil($.size/512);if(m+H+512>o)return d(null,m);if(m+=H+512,m>=o)return d(null,m);e.mtimeCache&&e.mtimeCache.set($.path,$.mtime),f=0,$a.read(a,x,0,512,m,T)};$a.read(a,x,0,512,m,T)},n=new Promise((a,o)=>{i.on("error",o);let u="r+",d=(m,f)=>{if(m&&m.code==="ENOENT"&&u==="r+")return u="w+",$a.open(e.file,u,d);if(m)return o(m);$a.fstat(f,(x,T)=>{if(x)return $a.close(f,()=>o(x));s(f,T.size,(q,F)=>{if(q)return o(q);let $=new CQ.WriteStream(e.file,{fd:f,start:F});i.pipe($),$.on("error",o),$.on("close",a),IQ(i,t)})})};$a.open(e.file,u,d)});return r?n.then(r,r):n},a3e=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?OQ({file:kQ.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:i=>e.add(i)}):e.add(r)}),e.end()},IQ=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return OQ({file:kQ.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:i=>e.add(i)}).then(i=>IQ(e,t));e.add(r)}e.end()}}),NQ=O((ott,qQ)=>{"use strict";var o3e=Gg(),c3e=Jq();qQ.exports=(e,t,r)=>{let i=o3e(e);if(!i.file)throw new TypeError("file is required");if(i.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),l3e(i),c3e(i,t,r)};var l3e=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(r,i)=>t(r,i)&&!(e.mtimeCache.get(r)>i.mtime):(r,i)=>!(e.mtimeCache.get(r)>i.mtime)}}),DQ=O((ctt,MQ)=>{var{promisify:LQ}=require("util"),Yh=require("fs"),u3e=e=>{if(!e)e={mode:511,fs:Yh};else if(typeof e=="object")e={mode:511,fs:Yh,...e};else if(typeof e=="number")e={mode:e,fs:Yh};else if(typeof e=="string")e={mode:parseInt(e,8),fs:Yh};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||Yh.mkdir,e.mkdirAsync=LQ(e.mkdir),e.stat=e.stat||e.fs.stat||Yh.stat,e.statAsync=LQ(e.stat),e.statSync=e.statSync||e.fs.statSync||Yh.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||Yh.mkdirSync,e};MQ.exports=u3e}),jQ=O((ltt,$Q)=>{var f3e=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:h3e,parse:p3e}=require("path"),d3e=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=h3e(e),f3e==="win32"){let t=/[*|"<>?:]/,{root:r}=p3e(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};$Q.exports=d3e}),GQ=O((utt,FQ)=>{var{dirname:BQ}=require("path"),UQ=(e,t,r=void 0)=>r===t?Promise.resolve():e.statAsync(t).then(i=>i.isDirectory()?r:void 0,i=>i.code==="ENOENT"?UQ(e,BQ(t),t):void 0),HQ=(e,t,r=void 0)=>{if(r===t)return;try{return e.statSync(t).isDirectory()?r:void 0}catch(i){return i.code==="ENOENT"?HQ(e,BQ(t),t):void 0}};FQ.exports={findMade:UQ,findMadeSync:HQ}}),e4=O((ftt,zQ)=>{var{dirname:VQ}=require("path"),Zq=(e,t,r)=>{t.recursive=!1;let i=VQ(e);return i===e?t.mkdirAsync(e,t).catch(s=>{if(s.code!=="EISDIR")throw s}):t.mkdirAsync(e,t).then(()=>r||e,s=>{if(s.code==="ENOENT")return Zq(i,t).then(n=>Zq(e,t,n));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return t.statAsync(e).then(n=>{if(n.isDirectory())return r;throw s},()=>{throw s})})},Qq=(e,t,r)=>{let i=VQ(e);if(t.recursive=!1,i===e)try{return t.mkdirSync(e,t)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return t.mkdirSync(e,t),r||e}catch(s){if(s.code==="ENOENT")return Qq(e,t,Qq(i,t,r));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!t.statSync(e).isDirectory())throw s}catch(n){throw s}}};zQ.exports={mkdirpManual:Zq,mkdirpManualSync:Qq}}),XQ=O((htt,WQ)=>{var{dirname:KQ}=require("path"),{findMade:m3e,findMadeSync:g3e}=GQ(),{mkdirpManual:y3e,mkdirpManualSync:v3e}=e4(),_3e=(e,t)=>{t.recursive=!0;let r=KQ(e);return r===e?t.mkdirAsync(e,t):m3e(t,e).then(i=>t.mkdirAsync(e,t).then(()=>i).catch(s=>{if(s.code==="ENOENT")return y3e(e,t);throw s}))},w3e=(e,t)=>{t.recursive=!0;let r=KQ(e);if(r===e)return t.mkdirSync(e,t);let i=g3e(t,e);try{return t.mkdirSync(e,t),i}catch(s){if(s.code==="ENOENT")return v3e(e,t);throw s}};WQ.exports={mkdirpNative:_3e,mkdirpNativeSync:w3e}}),QQ=O((ptt,YQ)=>{var JQ=require("fs"),b3e=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,t4=b3e.replace(/^v/,"").split("."),ZQ=+t4[0]>10||+t4[0]===10&&+t4[1]>=12,x3e=ZQ?e=>e.mkdir===JQ.mkdir:()=>!1,E3e=ZQ?e=>e.mkdirSync===JQ.mkdirSync:()=>!1;YQ.exports={useNative:x3e,useNativeSync:E3e}}),see=O((dtt,eee)=>{var oy=DQ(),cy=jQ(),{mkdirpNative:tee,mkdirpNativeSync:ree}=XQ(),{mkdirpManual:nee,mkdirpManualSync:iee}=e4(),{useNative:S3e,useNativeSync:R3e}=QQ(),ly=(e,t)=>(e=cy(e),t=oy(t),S3e(t)?tee(e,t):nee(e,t)),A3e=(e,t)=>(e=cy(e),t=oy(t),R3e(t)?ree(e,t):iee(e,t));ly.sync=A3e;ly.native=(e,t)=>tee(cy(e),oy(t));ly.manual=(e,t)=>nee(cy(e),oy(t));ly.nativeSync=(e,t)=>ree(cy(e),oy(t));ly.manualSync=(e,t)=>iee(cy(e),oy(t));eee.exports=ly}),hee=O((mtt,aee)=>{"use strict";var qo=require("fs"),Zd=require("path"),T3e=qo.lchown?"lchown":"chown",C3e=qo.lchownSync?"lchownSync":"chownSync",oee=qo.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),cee=(e,t,r)=>{try{return qo[C3e](e,t,r)}catch(i){if(i.code!=="ENOENT")throw i}},O3e=(e,t,r)=>{try{return qo.chownSync(e,t,r)}catch(i){if(i.code!=="ENOENT")throw i}},k3e=oee?(e,t,r,i)=>s=>{!s||s.code!=="EISDIR"?i(s):qo.chown(e,t,r,i)}:(e,t,r,i)=>i,r4=oee?(e,t,r)=>{try{return cee(e,t,r)}catch(i){if(i.code!=="EISDIR")throw i;O3e(e,t,r)}}:(e,t,r)=>cee(e,t,r),P3e=process.version,lee=(e,t,r)=>qo.readdir(e,t,r),I3e=(e,t)=>qo.readdirSync(e,t);/^v4\./.test(P3e)&&(lee=(e,t,r)=>qo.readdir(e,r));var kS=(e,t,r,i)=>{qo[T3e](e,t,r,k3e(e,t,r,s=>{i(s&&s.code!=="ENOENT"?s:null)}))},uee=(e,t,r,i,s)=>{if(typeof t=="string")return qo.lstat(Zd.resolve(e,t),(n,a)=>{if(n)return s(n.code!=="ENOENT"?n:null);a.name=t,uee(e,a,r,i,s)});if(t.isDirectory())n4(Zd.resolve(e,t.name),r,i,n=>{if(n)return s(n);let a=Zd.resolve(e,t.name);kS(a,r,i,s)});else{let n=Zd.resolve(e,t.name);kS(n,r,i,s)}},n4=(e,t,r,i)=>{lee(e,{withFileTypes:!0},(s,n)=>{if(s){if(s.code==="ENOENT")return i();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return i(s)}if(s||!n.length)return kS(e,t,r,i);let a=n.length,o=null,u=d=>{if(o)return;if(d)return i(o=d);if(--a===0)return kS(e,t,r,i)};n.forEach(d=>uee(e,d,t,r,u))})},q3e=(e,t,r,i)=>{if(typeof t=="string")try{let s=qo.lstatSync(Zd.resolve(e,t));s.name=t,t=s}catch(s){if(s.code==="ENOENT")return;throw s}t.isDirectory()&&fee(Zd.resolve(e,t.name),r,i),r4(Zd.resolve(e,t.name),r,i)},fee=(e,t,r)=>{let i;try{i=I3e(e,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return r4(e,t,r);throw s}return i&&i.length&&i.forEach(s=>q3e(e,s,t,r)),r4(e,t,r)};aee.exports=n4;n4.sync=fee}),gee=O((gtt,i4)=>{"use strict";var pee=see(),No=require("fs"),PS=require("path"),dee=hee(),yc=Wg(),s4=class extends Error{constructor(t,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=t}get name(){return"SylinkError"}},a4=class extends Error{constructor(t,r){super(r+": Cannot cd into '"+t+"'");this.path=t,this.code=r}get name(){return"CwdError"}},IS=(e,t)=>e.get(yc(t)),__=(e,t,r)=>e.set(yc(t),r),N3e=(e,t)=>{No.stat(e,(r,i)=>{(r||!i.isDirectory())&&(r=new a4(e,r&&r.code||"ENOTDIR")),t(r)})};i4.exports=(e,t,r)=>{e=yc(e);let i=t.umask,s=t.mode|448,n=(s&i)!==0,a=t.uid,o=t.gid,u=typeof a=="number"&&typeof o=="number"&&(a!==t.processUid||o!==t.processGid),d=t.preserve,m=t.unlink,f=t.cache,x=yc(t.cwd),T=($,H)=>{$?r($):(__(f,e,!0),H&&u?dee(H,a,o,oe=>T(oe)):n?No.chmod(e,s,r):r())};if(f&&IS(f,e)===!0)return T();if(e===x)return N3e(e,T);if(d)return pee(e,{mode:s}).then($=>T(null,$),T);let q=yc(PS.relative(x,e)),F=q.split("/");qS(x,F,s,f,m,x,null,T)};var qS=(e,t,r,i,s,n,a,o)=>{if(!t.length)return o(null,a);let u=t.shift(),d=yc(PS.resolve(e+"/"+u));if(IS(i,d))return qS(d,t,r,i,s,n,a,o);No.mkdir(d,r,mee(d,t,r,i,s,n,a,o))},mee=(e,t,r,i,s,n,a,o)=>u=>{u?No.lstat(e,(d,m)=>{if(d)d.path=d.path&&yc(d.path),o(d);else if(m.isDirectory())qS(e,t,r,i,s,n,a,o);else if(s)No.unlink(e,f=>{if(f)return o(f);No.mkdir(e,r,mee(e,t,r,i,s,n,a,o))});else{if(m.isSymbolicLink())return o(new s4(e,e+"/"+t.join("/")));o(u)}}):(a=a||e,qS(e,t,r,i,s,n,a,o))},M3e=e=>{let t=!1,r="ENOTDIR";try{t=No.statSync(e).isDirectory()}catch(i){r=i.code}finally{if(!t)throw new a4(e,r)}};i4.exports.sync=(e,t)=>{e=yc(e);let r=t.umask,i=t.mode|448,s=(i&r)!==0,n=t.uid,a=t.gid,o=typeof n=="number"&&typeof a=="number"&&(n!==t.processUid||a!==t.processGid),u=t.preserve,d=t.unlink,m=t.cache,f=yc(t.cwd),x=$=>{__(m,e,!0),$&&o&&dee.sync($,n,a),s&&No.chmodSync(e,i)};if(m&&IS(m,e)===!0)return x();if(e===f)return M3e(f),x();if(u)return x(pee.sync(e,i));let T=yc(PS.relative(f,e)),q=T.split("/"),F=null;for(let $=q.shift(),H=f;$&&(H+="/"+$);$=q.shift()){if(H=yc(PS.resolve(H)),IS(m,H))continue;try{No.mkdirSync(H,i),F=F||H,__(m,H,!0)}catch(oe){let Q=No.lstatSync(H);if(Q.isDirectory()){__(m,H,!0);continue}else if(d){No.unlinkSync(H),No.mkdirSync(H,i),F=F||H,__(m,H,!0);continue}else if(Q.isSymbolicLink())return new s4(H,H+"/"+q.join("/"))}}return x(F)}}),c4=O((ytt,yee)=>{var o4=Object.create(null),{hasOwnProperty:L3e}=Object.prototype;yee.exports=e=>(L3e.call(o4,e)||(o4[e]=e.normalize("NFKD")),o4[e])}),bee=O((vtt,vee)=>{var _ee=require("assert"),D3e=c4(),$3e=Yg(),{join:wee}=require("path"),j3e=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,F3e=j3e==="win32";vee.exports=()=>{let e=new Map,t=new Map,r=d=>{let m=d.split("/").slice(0,-1).reduce((f,x)=>(f.length&&(x=wee(f[f.length-1],x)),f.push(x||"/"),f),[]);return m},i=new Set,s=d=>{let m=t.get(d);if(!m)throw new Error("function does not have any path reservations");return{paths:m.paths.map(f=>e.get(f)),dirs:[...m.dirs].map(f=>e.get(f))}},n=d=>{let{paths:m,dirs:f}=s(d);return m.every(x=>x[0]===d)&&f.every(x=>x[0]instanceof Set&&x[0].has(d))},a=d=>i.has(d)||!n(d)?!1:(i.add(d),d(()=>o(d)),!0),o=d=>{if(!i.has(d))return!1;let{paths:m,dirs:f}=t.get(d),x=new Set;return m.forEach(T=>{let q=e.get(T);_ee.equal(q[0],d),q.length===1?e.delete(T):(q.shift(),typeof q[0]=="function"?x.add(q[0]):q[0].forEach(F=>x.add(F)))}),f.forEach(T=>{let q=e.get(T);_ee(q[0]instanceof Set),q[0].size===1&&q.length===1?e.delete(T):q[0].size===1?(q.shift(),x.add(q[0])):q[0].delete(d)}),i.delete(d),x.forEach(T=>a(T)),!0},u=(d,m)=>{d=F3e?["win32 parallelization disabled"]:d.map(x=>D3e($3e(wee(x))).toLowerCase());let f=new Set(d.map(x=>r(x)).reduce((x,T)=>x.concat(T)));return t.set(m,{dirs:f,paths:d}),d.forEach(x=>{let T=e.get(x);T?T.push(m):e.set(x,[m])}),f.forEach(x=>{let T=e.get(x);T?T[T.length-1]instanceof Set?T[T.length-1].add(m):T.push(new Set([m])):e.set(x,[new Set([m])])}),a(m)};return{check:n,reserve:u}}}),See=O((_tt,xee)=>{var B3e=process.env.__FAKE_PLATFORM__||process.platform,U3e=B3e==="win32",H3e=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:G3e,O_TRUNC:z3e,O_WRONLY:V3e,UV_FS_O_FILEMAP:Eee=0}=H3e.constants,W3e=U3e&&!!Eee,K3e=512*1024,X3e=Eee|z3e|G3e|V3e;xee.exports=W3e?e=>e<K3e?X3e:"w":()=>"w"}),g4=O((wtt,Ree)=>{"use strict";var Y3e=require("assert"),J3e=TS(),yr=require("fs"),Z3e=sy(),lf=require("path"),Aee=gee(),Tee=mq(),Q3e=bee(),eMe=gq(),ja=Wg(),tMe=Yg(),rMe=c4(),Cee=Symbol("onEntry"),l4=Symbol("checkFs"),Oee=Symbol("checkFs2"),NS=Symbol("pruneCache"),u4=Symbol("isReusable"),Mo=Symbol("makeFs"),f4=Symbol("file"),h4=Symbol("directory"),MS=Symbol("link"),kee=Symbol("symlink"),Pee=Symbol("hardlink"),Iee=Symbol("unsupported"),qee=Symbol("checkPath"),Jh=Symbol("mkdir"),ms=Symbol("onError"),LS=Symbol("pending"),Nee=Symbol("pend"),uy=Symbol("unpend"),p4=Symbol("ended"),d4=Symbol("maybeClose"),m4=Symbol("skip"),w_=Symbol("doChown"),b_=Symbol("uid"),x_=Symbol("gid"),E_=Symbol("checkedCwd"),Mee=require("crypto"),Lee=See(),nMe=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,S_=nMe==="win32",iMe=(e,t)=>{if(!S_)return yr.unlink(e,t);let r=e+".DELETE."+Mee.randomBytes(16).toString("hex");yr.rename(e,r,i=>{if(i)return t(i);yr.unlink(r,t)})},sMe=e=>{if(!S_)return yr.unlinkSync(e);let t=e+".DELETE."+Mee.randomBytes(16).toString("hex");yr.renameSync(e,t),yr.unlinkSync(t)},Dee=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r,$ee=e=>rMe(tMe(ja(e))).toLowerCase(),aMe=(e,t)=>{t=$ee(t);for(let r of e.keys()){let i=$ee(r);(i===t||i.indexOf(t+"/")===0)&&e.delete(r)}},oMe=e=>{for(let t of e.keys())e.delete(t)},DS=class extends J3e{constructor(t){if(t||(t={}),t.ondone=r=>{this[p4]=!0,this[d4]()},super(t),this[E_]=!1,this.reservations=Q3e(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[LS]=0,this[p4]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||S_,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=ja(lf.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",r=>this[Cee](r))}warn(t,r,i={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(i.recoverable=!1),super.warn(t,r,i)}[d4](){this[p4]&&this[LS]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[qee](t){if(this.strip){let r=ja(t.path).split("/");if(r.length<this.strip)return!1;if(t.path=r.slice(this.strip).join("/"),t.type==="Link"){let i=ja(t.linkpath).split("/");if(i.length>=this.strip)t.linkpath=i.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=ja(t.path),i=r.split("/");if(i.includes("..")||S_&&/^[a-z]:\.\.$/i.test(i[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:r}),!1;let[s,n]=eMe(r);s&&(t.path=n,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:t,path:r}))}if(lf.isAbsolute(t.path)?t.absolute=ja(lf.resolve(t.path)):t.absolute=ja(lf.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:ja(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=lf.win32.parse(t.absolute);t.absolute=r+Tee.encode(t.absolute.substr(r.length));let{root:i}=lf.win32.parse(t.path);t.path=i+Tee.encode(t.path.substr(i.length))}return!0}[Cee](t){if(!this[qee](t))return t.resume();Y3e.equal(typeof t.absolute,"string");switch(t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[l4](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[Iee](t)}}[ms](t,r){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:r}),this[uy](),r.resume())}[Jh](t,r,i){Aee(ja(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},i)}[w_](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[b_](t){return Dee(this.uid,t.uid,this.processUid)}[x_](t){return Dee(this.gid,t.gid,this.processGid)}[f4](t,r){let i=t.mode&4095||this.fmode,s=new Z3e.WriteStream(t.absolute,{flags:Lee(t.size),mode:i,autoClose:!1});s.on("error",u=>{s.fd&&yr.close(s.fd,()=>{}),s.write=()=>!0,this[ms](u,t),r()});let n=1,a=u=>{if(u){s.fd&&yr.close(s.fd,()=>{}),this[ms](u,t),r();return}--n===0&&yr.close(s.fd,d=>{d?this[ms](d,t):this[uy](),r()})};s.on("finish",u=>{let d=t.absolute,m=s.fd;if(t.mtime&&!this.noMtime){n++;let f=t.atime||new Date,x=t.mtime;yr.futimes(m,f,x,T=>T?yr.utimes(d,f,x,q=>a(q&&T)):a())}if(this[w_](t)){n++;let f=this[b_](t),x=this[x_](t);yr.fchown(m,f,x,T=>T?yr.chown(d,f,x,q=>a(q&&T)):a())}a()});let o=this.transform&&this.transform(t)||t;o!==t&&(o.on("error",u=>{this[ms](u,t),r()}),t.pipe(o)),o.pipe(s)}[h4](t,r){let i=t.mode&4095||this.dmode;this[Jh](t.absolute,i,s=>{if(s){this[ms](s,t),r();return}let n=1,a=o=>{--n===0&&(r(),this[uy](),t.resume())};t.mtime&&!this.noMtime&&(n++,yr.utimes(t.absolute,t.atime||new Date,t.mtime,a)),this[w_](t)&&(n++,yr.chown(t.absolute,this[b_](t),this[x_](t),a)),a()})}[Iee](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[kee](t,r){this[MS](t,t.linkpath,"symlink",r)}[Pee](t,r){let i=ja(lf.resolve(this.cwd,t.linkpath));this[MS](t,i,"link",r)}[Nee](){this[LS]++}[uy](){this[LS]--,this[d4]()}[m4](t){this[uy](),t.resume()}[u4](t,r){return t.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!S_}[l4](t){this[Nee]();let r=[t.path];t.linkpath&&r.push(t.linkpath),this.reservations.reserve(r,i=>this[Oee](t,i))}[NS](t){t.type==="SymbolicLink"?oMe(this.dirCache):t.type!=="Directory"&&aMe(this.dirCache,t.absolute)}[Oee](t,r){this[NS](t);let i=o=>{this[NS](t),r(o)},s=()=>{this[Jh](this.cwd,this.dmode,o=>{if(o){this[ms](o,t),i();return}this[E_]=!0,n()})},n=()=>{if(t.absolute!==this.cwd){let o=ja(lf.dirname(t.absolute));if(o!==this.cwd)return this[Jh](o,this.dmode,u=>{if(u){this[ms](u,t),i();return}a()})}a()},a=()=>{yr.lstat(t.absolute,(o,u)=>{if(u&&(this.keep||this.newer&&u.mtime>t.mtime)){this[m4](t),i();return}if(o||this[u4](t,u))return this[Mo](null,t,i);if(u.isDirectory()){if(t.type==="Directory"){let d=!this.noChmod&&t.mode&&(u.mode&4095)!==t.mode,m=f=>this[Mo](f,t,i);return d?yr.chmod(t.absolute,t.mode,m):m()}if(t.absolute!==this.cwd)return yr.rmdir(t.absolute,d=>this[Mo](d,t,i))}if(t.absolute===this.cwd)return this[Mo](null,t,i);iMe(t.absolute,d=>this[Mo](d,t,i))})};this[E_]?n():s()}[Mo](t,r,i){if(t){this[ms](t,r),i();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[f4](r,i);case"Link":return this[Pee](r,i);case"SymbolicLink":return this[kee](r,i);case"Directory":case"GNUDumpDir":return this[h4](r,i)}}[MS](t,r,i,s){yr[i](r,t.absolute,n=>{n?this[ms](n,t):(this[uy](),t.resume()),s()})}},$S=e=>{try{return[null,e()]}catch(t){return[t,null]}},jee=class extends DS{[Mo](t,r){return super[Mo](t,r,()=>{})}[l4](t){if(this[NS](t),!this[E_]){let n=this[Jh](this.cwd,this.dmode);if(n)return this[ms](n,t);this[E_]=!0}if(t.absolute!==this.cwd){let n=ja(lf.dirname(t.absolute));if(n!==this.cwd){let a=this[Jh](n,this.dmode);if(a)return this[ms](a,t)}}let[r,i]=$S(()=>yr.lstatSync(t.absolute));if(i&&(this.keep||this.newer&&i.mtime>t.mtime))return this[m4](t);if(r||this[u4](t,i))return this[Mo](null,t);if(i.isDirectory()){if(t.type==="Directory"){let a=!this.noChmod&&t.mode&&(i.mode&4095)!==t.mode,[o]=a?$S(()=>{yr.chmodSync(t.absolute,t.mode)}):[];return this[Mo](o,t)}let[n]=$S(()=>yr.rmdirSync(t.absolute));this[Mo](n,t)}let[s]=t.absolute===this.cwd?[]:$S(()=>sMe(t.absolute));this[Mo](s,t)}[f4](t,r){let i=t.mode&4095||this.fmode,s=o=>{let u;try{yr.closeSync(n)}catch(d){u=d}(o||u)&&this[ms](o||u,t),r()},n;try{n=yr.openSync(t.absolute,Lee(t.size),i)}catch(o){return s(o)}let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",o=>this[ms](o,t)),t.pipe(a)),a.on("data",o=>{try{yr.writeSync(n,o,0,o.length)}catch(u){s(u)}}),a.on("end",o=>{let u=null;if(t.mtime&&!this.noMtime){let d=t.atime||new Date,m=t.mtime;try{yr.futimesSync(n,d,m)}catch(f){try{yr.utimesSync(t.absolute,d,m)}catch(x){u=f}}}if(this[w_](t)){let d=this[b_](t),m=this[x_](t);try{yr.fchownSync(n,d,m)}catch(f){try{yr.chownSync(t.absolute,d,m)}catch(x){u=u||f}}}s(u)})}[h4](t,r){let i=t.mode&4095||this.dmode,s=this[Jh](t.absolute,i);if(s){this[ms](s,t),r();return}if(t.mtime&&!this.noMtime)try{yr.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch(n){}if(this[w_](t))try{yr.chownSync(t.absolute,this[b_](t),this[x_](t))}catch(n){}r(),t.resume()}[Jh](t,r){try{return Aee.sync(ja(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(i){return i}}[MS](t,r,i,s){try{yr[i+"Sync"](r,t.absolute),s(),t.resume()}catch(n){return this[ms](n,t)}}};DS.Sync=jee;Ree.exports=DS}),Gee=O((btt,Fee)=>{"use strict";var cMe=Gg(),jS=g4(),Bee=require("fs"),Uee=sy(),Hee=require("path"),y4=Yg();Fee.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let i=cMe(e);if(i.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!i.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&lMe(i,t),i.file&&i.sync?uMe(i):i.file?fMe(i,r):i.sync?hMe(i):pMe(i)};var lMe=(e,t)=>{let r=new Map(t.map(n=>[y4(n),!0])),i=e.filter,s=(n,a)=>{let o=a||Hee.parse(n).root||".",u=n===o?!1:r.has(n)?r.get(n):s(Hee.dirname(n),o);return r.set(n,u),u};e.filter=i?(n,a)=>i(n,a)&&s(y4(n)):n=>s(y4(n))},uMe=e=>{let t=new jS.Sync(e),r=e.file,i=Bee.statSync(r),s=e.maxReadSize||16*1024*1024,n=new Uee.ReadStreamSync(r,{readSize:s,size:i.size});n.pipe(t)},fMe=(e,t)=>{let r=new jS(e),i=e.maxReadSize||16*1024*1024,s=e.file,n=new Promise((a,o)=>{r.on("error",o),r.on("close",a),Bee.stat(s,(u,d)=>{if(u)o(u);else{let m=new Uee.ReadStream(s,{readSize:i,size:d.size});m.on("error",o),m.pipe(r)}})});return t?n.then(t,t):n},hMe=e=>new jS.Sync(e),pMe=e=>new jS(e)}),v4=O(li=>{"use strict";li.c=li.create=RQ();li.r=li.replace=Jq();li.t=li.list=CS();li.u=li.update=NQ();li.x=li.extract=Gee();li.Pack=mS();li.Unpack=g4();li.Parse=TS();li.ReadEntry=ZE();li.WriteEntry=Rq();li.Header=Xg();li.Pax=tS();li.types=lq()}),FS=O((Ett,zee)=>{var dMe=$n(),mMe=v4(),gMe=Ar(),Vee=yt(),Wee=os();async function Kee(e,t,r=void 0){let i=await Wee.safeStats(e);if(!i)throw new Vee.NotFound(`The package tarball at path [${e}] cannot be found`);await dMe.ensureDir(t);try{await mMe.extract({cwd:t,file:e,preservePaths:!0,strip:1,filter:r})}catch(s){throw s.code==="TAR_BAD_ARCHIVE"?new Vee.InvalidParameter(`[${e}] is not a valid package tarball.`):s}await Wee.utimesr(t,i.atime,i.mtime)}async function yMe(e,t){await Kee(e,t)}async function vMe(e,t){await Kee(e,t,r=>r===gMe.PACKAGE_TARBALL.ManifestFilePath)}zee.exports={extractAllFiles:yMe,extractPackageManifest:vMe}}),Qd=O((Stt,Xee)=>{var Yee=require("assert"),Ds=require("path"),_Me=require("util"),Pn=Tt(),uf=$n(),wMe=tI(),bMe=Bi(),xMe=IX(),Zh=rr(),ff=Ar(),$s=yt(),_4=os(),BS=VE(),Jee=rf(),Zee=Nh(),US=oa(),Qh=HE(),EMe=FS(),HS=`${ff.PACKAGE_TARBALL.PackageFolder}.tgz`,SMe=".cache.json",RMe="/-/all",Qee="/-/v1/search",AMe="-/user/org.couchdb.user:",TMe=_Me.promisify(xMe.check);function fy(e,t,r,i){Yee(!e.Authorization,"Authorization header already configured");let s=i.npmAuth&&i.npmAuth[r];s&&((s.alwaysAuth||new URL(t).host===new URL(r).host)&&(s.token&&(e.Authorization=`Bearer ${s.token}`),s._auth&&(e.Authorization=`Basic ${s._auth}`)))}function w4(e,t,r){return Ds.join(r.npm.packageCachePath,e,t)}function ete(e,t,r){let i=w4(e,t,r);return Ds.join(i,HS)}function tte(e,t,r){let i=w4(e,t,r);return Ds.join(i,ff.PACKAGE_TARBALL.ManifestFilePath)}function CMe(e,t){return Ds.join(t.npm.metadataCachePath,e,SMe)}async function OMe(e){let t=e.npm.packageCachePath,r=await wMe(`*/*/{${ff.PACKAGE_TARBALL.ManifestFilePath},${HS}}`,{cwd:t});return Pn(r).groupBy(i=>i.split("/").slice(0,2).join("@")).mapValues(i=>Pn.mapValues({manifestPath:ff.PACKAGE_MANIFEST_FILENAME,tarballPath:HS},s=>{let n=i.find(a=>Ds.basename(a)===s);return n&&Ds.resolve(Ds.join(t,n))})).value()}function rte(e,t,r){let i=tte(e,t,r),s=ete(e,t,r),n=uf.pathExistsSync(i),a=uf.pathExistsSync(s);if(n&&a)return!0;if(n||a){let o=n?"tarball":"manifest";Zh.debug(`Package [${e}@${t}] is missing its ${o} in the 'npm' cache`)}return!1}async function kMe(e,t,r,i){let s=`${e.url}${Qee}?text=${t}&from=${r}&size=250`,n={};fy(n,s,e.url,i);let a=await Qh.getJson(s,i,{gzip:!0,headers:n});return Pn.get(a,"objects",[]).map(o=>o.package)}async function PMe(e,t,r){let i=new Set,s=[],n=0,a;do{a=!1;try{let o=await kMe(e,t,n,r);n+=o.length;let u=o.filter(d=>!i.has(d.name));u.length>0&&(a=!0,u.forEach(d=>{i.add(d.name),s.push(d)}))}catch(o){if(s.length===0)throw o;Zh.error(`Failed to search packages: ${o.message}`)}}while(a);return s}async function nte(e,t){let r={dir:e.npm.packageCachePath};await _4.withTempFolder(async i=>{let s=Ds.join(i,"tarball");await uf.mkdir(s);let n=Ds.join(s,HS);await t(n);let{name:a,version:o}=await _4.readJsonFile(Ds.join(s,ff.PACKAGE_TARBALL.ManifestFilePath)),u=w4(a,o,e);await uf.move(s,u,{overwrite:!0})},r)}async function ite(e,t,r){Yee(e.dist);let i=3,s=e.dist.tarball,n=US.getRegistryByScope(e.name,r.configuration.registries),a,o={};US.isGenesisRegistryUrl(n.url)?(await BS.injectAuthorizationHeader(o,r),n.isMain&&e.entitlementsInfo&&e.entitlementsInfo.licenseType===ff.ENTITLEMENT_LICENSE_TYPES.AssetStore&&(a=await BS.getDecryptionKey(e.name,e.version,n.url,r))):fy(o,s,n.url,r.configuration);let u=`${t}-temp`,d=!1,m=0,f,x,T,q;for(Jee.setStateDownloading(e.name,r);!d&&m<i;){m+=1;try{Zh.info(`Downloading package [${e.name}@${e.version}] from registry '${n.url}'`),Zh.debug(`Starting tarball download: '${s}'`),T=new Date().getTime();let H=Q=>Jee.setStateDownloading(e.name,r,Q),oe={headers:o,progressCb:H};f=await Qh.downloadFile(s,r.configuration,u,oe)}catch(H){throw H instanceof $s.Forbidden&&Pn.get(e.entitlementsInfo,"licenseType")===ff.ENTITLEMENT_LICENSE_TYPES.Enterprise?new $s.Forbidden("Cannot download the package. You do not have a subscription for this package. Please check with the organization admin."):H}let $=new Date().getTime();Zh.info(`Finished downloading package [${e.name}@${e.version}] from registry '${n.url}' (${f} bytes in ${$-T} ms)`),a?await BS.decryptFile(u,t,a):await uf.rename(u,t);try{await TMe(t,e.dist.shasum),d=!0,q=null}catch(H){let oe=await uf.stat(t);x=oe.size,d=x&&x===f,q=H,Zh.warn(`Tarball integrity check failed (download attempt ${m}):
${H.message}`)}}if(!d||q)throw new $s.UpmError(`Tarball download failed after [${m}] attempts. Downloaded [${x}] bytes, expected [${f}]`,q);let F=new Date(e._time);if(Pn.isNaN(F.getTime())){let $=e._time?`Publish date '${e._time}' does not appear to be a valid date`:"No publish date provided";Zh.debug(`Skipping tarball timestamp modification for package [${e.name}@${e.version}] from registry '${n.url}': ${$}`)}else try{await uf.utimes(t,F,F)}catch($){Zh.warn(`Unable to set tarball timestamps to '${e._time}' for package [${e.name}@${e.version}] from registry '${n.url}'`)}}async function IMe(e,t){let{configuration:r}=t,i=US.getRegistryByScope(e.name,r.registries),s=`cacheAdd@${e.name}@${e.version}`;await Zee.inFlightPromise(s,async()=>{let n=rte(e.name,e.version,i);if(n)return;await nte(i,async a=>{await ite(e,a,t),await _4.writeJsonFile(Ds.join(Ds.dirname(a),ff.PACKAGE_TARBALL.ManifestFilePath),e)})})}async function qMe(e,t){let r=`cacheAddTarball@${Ds.resolve(e)}`;await Zee.inFlightPromise(r,async()=>{let i=await uf.pathExists(e);if(!i)throw new $s.NotFound(`Cannot find tarball at path [${e}]`);await nte(t,async s=>{let n={preserveTimestamps:!0},a=Ds.join(Ds.dirname(s),ff.PACKAGE_TARBALL.PackageFolder);await Promise.all([uf.copy(e,s,n),EMe.extractPackageManifest(e,a)])})})}async function NMe(e,t,r){let i={};US.isGenesisRegistryUrl(t)?await BS.injectAuthorizationHeader(i,r):fy(i,e,t,r.configuration);let s=await Qh.head(e,r.configuration,{headers:i});return parseInt(s.headers["content-length"],10)}async function MMe(e,t,r={}){let i=`${e}${Qee}`,s={};fy(s,i,e,t.configuration);let n=await Qh.getJson(i,t.configuration,{params:Pn.omitBy({text:r.query||"",from:r.offset,size:r.limit},Pn.isUndefined),gzip:!0,headers:s});if(!Pn.get(n,"objects")||n.objects.some(a=>Pn.isUndefined(Pn.get(a,"package.name"))))throw new $s.NotFound(`Configured registry [${e}] does not support paginated search requests.`);return{total:n.total||n.objects.length,packages:n.objects.map(a=>Pn.omitBy({name:Pn.get(a,"package.name"),description:Pn.get(a,"package.description"),latest:Pn.get(a,"package.version")},Pn.isUndefined)),capabilities:{pagination:!Pn.isUndefined(n.total),classification:!1,ordering:!1}}}async function LMe(e,t){let r=`${e}${RMe}`,i={};fy(i,r,e,t.configuration);let s=await Qh.getJson(r,t.configuration,{gzip:!0,headers:i}),n=Pn(s).pickBy(Pn.isObject).map(a=>Pn.omitBy({name:a.name,displayName:a.displayName,description:a.description,versions:a.time&&Pn.keys(a.time).filter(o=>bMe.valid(o))||void 0,latest:Pn.findKey(a.versions,o=>o==="latest")},Pn.isUndefined)).value();return{packages:n,total:n.length,capabilities:{pagination:!1,classification:!1,ordering:!1}}}async function DMe(e,t,r={}){try{let i=await MMe(e,t,r);return i}catch(i){if(!(i instanceof $s.NotFound))throw i}try{let i=await LMe(e,t);return i}catch(i){if(!(i instanceof $s.NotFound))throw i}throw new $s.NotFound(`Configured registry [${e}] does not support searching packages.`)}async function $Me(e,t,r,i){let s=`${e}/${AMe}${encodeURIComponent(t)}`,n={_id:`org.couchdb.user:${t}`,name:t,password:r,type:"user",roles:[],date:new Date().toISOString()},a;try{a=await Qh.putJson(s,i,{data:n})}catch(o){if(o instanceof $s.InvalidParameter)throw new $s.NotFound(`Login request on registry [${e}] failed: There is no user with the username "${t}".`);if(o instanceof $s.Unauthorized)throw new $s.Unauthorized(`Login request for user [${t}] on registry [${e}] was refused.`);if(o instanceof $s.NotFound)throw new $s.NotFound(`Cannot login user [${t}]. Registry [${e}] does not support npm authentication.`);if(o instanceof $s.Conflict){let u=await Qh.getJson(s,i,{params:{write:!0}}),d=Buffer.from(`${t}:${r}`,"utf8").toString("base64");a=await Qh.putJson(`${s}/-rev/${u._rev}`,i,{data:{...u,...n,roles:u.roles},headers:{Authorization:`Basic ${d}`}})}else throw new Error(`Login request for user [${t}] failed unexpectedly: ${o.message}`)}return a.token}Xee.exports={login:$Me,cacheAdd:IMe,cacheAddTarball:qMe,downloadTarball:ite,getRemoteTarballSize:NMe,getTarballCachePath:ete,getManifestCachePath:tte,getMetadataCachePath:CMe,findCachedPackageFilePaths:OMe,isPackageInNpmCache:rte,search:DMe,searchPackages:PMe,injectAuthorizationHeader:fy}}),R_=O(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.CompatibleDotNetVersionNotFoundException=pa.SignatureFieldEmptyOrMissingException=pa.SignatureDecodeException=pa.SignatureFileFormattingException=pa.NoSignatureFileFoundException=pa.UnknownPublicKeyException=void 0;var ste=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,new.target.prototype),this.name="UnknownPublicKeyException"}};pa.UnknownPublicKeyException=ste;var ate=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,new.target.prototype),this.name="NoSignatureFileFoundException"}};pa.NoSignatureFileFoundException=ate;var ote=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,new.target.prototype),this.name="SignatureFileFormattingException"}};pa.SignatureFileFormattingException=ote;var cte=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,new.target.prototype),this.name="SignatureDecodeException"}};pa.SignatureDecodeException=cte;var lte=class extends Error{constructor(t){super(`Signature file has missing or empty field: ${t}`);Object.setPrototypeOf(this,new.target.prototype),this.name="SignatureFieldEmptyOrMissingException",this.field=t}};pa.SignatureFieldEmptyOrMissingException=lte;var ute=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,new.target.prototype),this.name="CompatibleDotNetVersionNotFoundException"}};pa.CompatibleDotNetVersionNotFoundException=ute}),hte=O(hf=>{"use strict";var jMe=hf&&hf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hf,"__esModule",{value:!0});hf.Verify=hf.SIGNATURE_STATUS=void 0;var FMe=jMe(require("crypto")),b4=R_(),e0;(function(e){e.Valid="Valid",e.Invalid="Invalid",e.Unsigned="Unsigned"})(e0=hf.SIGNATURE_STATUS||(hf.SIGNATURE_STATUS={}));var fte=class{constructor(t,r,i){this.hasher=t,this.keychain=r,this.signatureReader=i}async verifyPackageSignature(t){try{let r=this.signatureReader.loadPackage(t),i,s;try{[i,s]=await Promise.all([this.hasher.hash(t,r.timestamp),this.keychain.findKey(r.publicKey)])}catch(m){if(m instanceof b4.CompatibleDotNetVersionNotFoundException)return{status:e0.Unsigned,reason:m.message};throw m}let n=Buffer.from(i,"hex"),a=FMe.default.publicDecrypt(s.publicKey,r.signature),o=a.slice(0,a.byteLength-32),u=Buffer.from([48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32]);if(Buffer.compare(o,u)!==0)return{status:e0.Invalid,reason:"Could not verify package, unexpected info block in the signature"};let d=a.slice(a.byteLength-32,a.byteLength);return Buffer.compare(n,d)!==0?{status:e0.Invalid,reason:"Could not verify package, the signature does not match the package"}:{status:e0.Valid,reason:""}}catch(r){if(r instanceof b4.NoSignatureFileFoundException)return{status:e0.Unsigned,reason:".signature file could not be located in the package path"};if(r instanceof b4.UnknownPublicKeyException)return{status:e0.Invalid,reason:"Public key in .signature file could not be validated"};throw r}}addPublicKey(t){return this.keychain.addKey(t)}};hf.Verify=fte}),dte=O(hy=>{"use strict";var pte=hy&&hy.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hy,"__esModule",{value:!0});hy.DotnetHasher=void 0;var BMe=pte(require("path")),UMe=pte(Bi()),HMe=R_(),py=class{constructor(t,r){this.execCmd=t,this.dotnetCorePath=r,this.compatibleDotNetVersion=null;let i=this.execCmd.execSync(`"${r}" --info`,{encoding:"utf-8"});this.parseDotNetVersion(i)}parseDotNetVersion(t){let r=/Microsoft\.NETCore\.App (\d+\.\d+\.\d+) /g,i=t.match(r);if(!i)return;i.every(s=>{let n=s.replace("Microsoft.NETCore.App","").trim(),a=UMe.default.parse(n);return!a||a.major<py.minimumCompatibleMajor?!0:(this.compatibleDotNetVersion=a,!1)})}async hash(t,r){if(!this.compatibleDotNetVersion)throw new HMe.CompatibleDotNetVersionNotFoundException(`A compatible version of .NET was not found. Please ensure that there is a .NET${py.minimumCompatibleMajor}+ version installed`);let i=[`"${this.dotnetCorePath}"`,`--fx-version ${this.compatibleDotNetVersion}`,`"${BMe.default.resolve(__dirname,"../bin/upmhash.dll")}"`,`"${t}"`,r];return new Promise((s,n)=>{this.execCmd.exec(i.join(" "),{encoding:"utf-8"},(a,o,u)=>{a&&n(a),u&&n(u),s(o.trim())})})}};hy.DotnetHasher=py;py.minimumCompatibleMajor=5}),yte=O(dy=>{"use strict";var mte=dy&&dy.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dy,"__esModule",{value:!0});dy.PublicKeyReader=void 0;var x4=mte(require("crypto")),GMe=mte(require("path")),zMe=R_(),gte=class{constructor(t,r){this.fs=t,this.publicKeysFolder=r,this.internalKeys=[]}findKey(t){let r=x4.default.createPublicKey(t).export({type:"pkcs1",format:"der"});if(this.internalKeys.length>0){let i=this.internalKeys.find(s=>{let n=x4.default.createPublicKey(s).export({type:"pkcs1",format:"der"});return r.compare(n)===0});if(i)return Promise.resolve({publicKey:i})}return new Promise((i,s)=>{this.fs.readdir(this.publicKeysFolder,async(n,a)=>{n&&s(n);try{await Promise.all(a.map(async o=>{let u=await this.readFile(GMe.default.join(this.publicKeysFolder,o)),d=x4.default.createPublicKey(u).export({type:"pkcs1",format:"der"});r.compare(d)===0&&i({publicKey:u.toString()})}))}catch(o){s(o)}s(new zMe.UnknownPublicKeyException)})})}addKey(t){this.internalKeys.push(t)}readFile(t){return new Promise((r,i)=>{this.fs.readFile(t,(s,n)=>{s&&i(s),r(n)})})}};dy.PublicKeyReader=gte}),wte=O(my=>{"use strict";var VMe=my&&my.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(my,"__esModule",{value:!0});my.PackageSignatureReader=void 0;var vte=VMe(require("path")),A_=R_(),_te=class{constructor(t){this.fs=t}loadPackage(t){if(this.fs.accessSync(t),this.fs.lstatSync(t).isFile())throw new Error(`ENOTDIR: not a directory: ${t}`);try{let r=this.fs.readFileSync(vte.default.join(t,".signature"),"utf8"),i=JSON.parse(r);this.validateSignature(i);let s=Buffer.from(i.signature,"base64"),n=Buffer.from(i.publicKey,"base64").toString().trim();return{path:vte.default.join(t,".signature"),timestamp:i.timestamp,signature:s,publicKey:n}}catch(r){throw r.code==="ENOENT"?new A_.NoSignatureFileFoundException:r instanceof SyntaxError?new A_.SignatureFileFormattingException:r}}validateSignature(t){if(!Object.keys(t).includes("timestamp")||!t.timestamp)throw new A_.SignatureFieldEmptyOrMissingException("timestamp");if(!Object.keys(t).includes("publicKey")||!t.publicKey)throw new A_.SignatureFieldEmptyOrMissingException("publicKey");if(!Object.keys(t).includes("signature")||!t.signature)throw new A_.SignatureFieldEmptyOrMissingException("signature")}};my.PackageSignatureReader=_te}),Ete=O(ep=>{"use strict";var E4=ep&&ep.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0});ep.SIGNATURE_STATUS=ep.Verify=void 0;var WMe=E4(require("child_process")),bte=E4(require("fs")),KMe=E4(require("path")),xte=hte();Object.defineProperty(ep,"SIGNATURE_STATUS",{enumerable:!0,get:function(){return xte.SIGNATURE_STATUS}});var XMe=dte(),YMe=yte(),JMe=wte();function ZMe(e){return new xte.Verify(new XMe.DotnetHasher(WMe.default,e),new YMe.PublicKeyReader(bte.default,KMe.default.join(__dirname,"certs")),new JMe.PackageSignatureReader(bte.default))}ep.Verify=ZMe}),O_=O((Ptt,Ste)=>{var Rte=require("assert"),T_=require("path"),QMe=Tt(),eLe=$n(),tLe=Ete(),gy=rr(),C_=Ar(),rLe=yt(),S4=os(),nLe=Qd(),iLe=oa(),Ate="signature";function Tte(e){return T_.join(e.projectPath,"..","Library","PackageManager","SignatureCache")}function Cte(e,t,r,i){if(r===C_.PACKAGE_SOURCE.LocalTarball)return T_.join(Tte(i),e,Ate);if(r===C_.PACKAGE_SOURCE.Registry){let s=iLe.getRegistryByScope(e,i.configuration.registries);return T_.join(T_.dirname(nLe.getTarballCachePath(e,t,s)),Ate)}return null}async function sLe(e,t){Rte(t,".NET Core runtime path is required");try{let r=tLe.Verify(t),i=await r.verifyPackageSignature(e);return i}catch(r){return gy.warn("Cannot verify package signature",r),{status:C_.SIGNATURE_STATUS.Error,reason:`Cannot verify package signature. There was an error: [${r}]`}}}async function aLe(e,t,r,i){let s=Cte(e,t,r,i);if(!s)return null;try{return await S4.readJsonFile(s)}catch(n){return n instanceof rLe.NotFound?(gy.silly(`The file [${s}] cannot be found`),null):(gy.error(`Failed to read cached signature file [${s}]:
 ${n}`),{status:C_.SIGNATURE_STATUS.Error,reason:`Failed to read signature file [${s}]`})}}async function oLe(e,t){let r=Tte(t),i;try{i=await eLe.readdir(r,{withFileTypes:!0})}catch(s){s.code!=="ENOENT"&&gy.warn(`Error while pruning unused signature cache folders: ${s}`);return}await Promise.all(i.filter(s=>{let n=e[s.name];return s.isFile()||!n||n.resolutionInfo.source!==C_.PACKAGE_SOURCE.LocalTarball}).map(async s=>{await S4.renameAndDelete(T_.join(r,s.name),{backgroundDelete:!0}).catch(n=>gy.warn(`Error while attempting to delete '${s.name}': ${n}`))}))}async function cLe(e,t,r,i,s){let n=QMe.get(s.unity,"dotNetRuntimePath");if(!n)return;let a=Cte(e,t,r,s);Rte(a,`Signature cannot be computed for package ${e}@${t}`);let o=await sLe(i,n);gy.debug(`Signature status for package [${e}@${t}]:
  Status = ${o.status}
  Reason = ${o.reason}`),await S4.writeJsonFile(a,o)}Ste.exports={getSignatureStatus:aLe,pruneProjectSignatureCache:oLe,saveSignatureStatus:cLe}}),r0=O((Itt,Ote)=>{var lLe=require("assert"),t0=require("path"),pf=$n(),vc=rr(),kte=WG(),yy=Ar(),Pte=yt(),df=os(),ql=Qd(),uLe=rf(),Ite=Nh(),fLe=oa(),hLe=O_(),pLe=FS();function R4(e,t,r){return t0.join(r.globalCachePath,`${e}@${t}`)}function A4(e,t,r){return lLe(r.projectCachePath,"configuration.projectCachePath is required"),t0.join(r.projectCachePath,`${e}@${t}`)}function qte(e,t,r){let i=R4(e,t,r);return pf.pathExists(t0.join(i,yy.PACKAGE_MANIFEST_FILENAME)).then(s=>s?i:void 0)}function Nte(e,t,r){let i=A4(e,t,r);return pf.pathExists(t0.join(i,yy.PACKAGE_MANIFEST_FILENAME)).then(s=>s?i:void 0)}async function dLe(e,t,r,i){let s=R4(e,t,r),n=ql.getTarballCachePath(e,t,r);vc.verbose(`Extracting package [${e}@${t}] to global cache at path: '${s}'`);let a={dir:r.globalCachePath};return df.withTempFolder(async o=>{let u=t0.join(o,"extract");return await pLe.extractAllFiles(n,u),await hLe.saveSignatureStatus(e,t,yy.PACKAGE_SOURCE.Registry,u,i),await pf.move(u,s,{overwrite:!0}),s},a)}async function mLe(e,t){let{configuration:{registries:r}}=t,{name:i,version:s}=e,n=fLe.getRegistryByScope(i,r),a=R4(i,s,n),o=`ensurePackageInGlobalCache-${a}`;return Ite.inFlightPromise(o,async()=>{let u=await qte(i,s,n);if(u){let m=await pf.stat(u);if((m.mode&yy.FILE_MODE_MASKS.Write)===yy.FILE_MODE_MASKS.Write)return u;vc.debug(`Removing read-only package [${i}@${s}] from global cache`),await pf.chmod(u,yy.FILE_MODE_MASKS.All),await df.renameAndDelete(u)}vc.verbose(`Could not find package [${i}@${s}] in global cache at path: '${a}'`);let d=new kte(i,s,r);try{await ql.cacheAdd(e,t),uLe.setStateCaching(i,t);let m=await dLe(i,s,n,t);return d.completeWithSuccess(),m}catch(m){throw d.completeWithError(m),m}})}async function gLe(e,t,r,i){let s=A4(e,t,i.configuration),n=await pf.exists(s);if(n){vc.silly(`Synchronizing project cache entry [${e}@${t}] at path: '${s}'`);try{await df.mirror(r,s)}catch(a){vc.error(a.toString())}}else vc.verbose(`Copying package [${e}@${t}] to project cache at path: '${s}'`),await df.withTempFolder(async a=>{let o=t0.join(a,"copy");await df.copyWithTimestamps(r,o),await pf.move(o,s,{overwrite:!0})},{dir:i.configuration.projectCachePath});return s}function yLe(e,t,r,i){let s=`ensurePackageInProjectCache-${e}@${t}@${i.configuration.projectCache}`;return Ite.inFlightPromise(s,()=>gLe(e,t,r,i))}async function vLe(e,t,r){let i={inProgress:!1},s;if(r.projectCachePath&&(s=await Nte(e,t,r)),s)i.projectCachePath=s;else{let n=kte.find(e,t,r.registries);n&&(n.error?i.error=n.error:i.inProgress=!0)}return i}async function _Le(e,t){let{projectCachePath:r}=t;if(!r||!await pf.exists(r))return;let i;try{i=await pf.readdir(r)}catch(s){s.code!=="ENOENT"&&vc.warn(`Error while pruning unused packages: ${s}`);return}await Promise.all(i.map(s=>t0.join(r,s)).filter(s=>!e.includes(s)).map(async s=>{await df.renameAndDelete(s).catch(n=>vc.warn(`Error while attempting to delete '${s}': ${n}`))}))}async function wLe(e,t){let r=ql.getMetadataCachePath(e,t);try{return await df.readJsonFile(r)}catch(i){return i instanceof Pte.NotFound||vc.error(`Failed to read ${r}: ${i.message}`),null}}async function bLe(e,t,r){let i=ql.getManifestCachePath(e,t,r);try{return await df.readJsonFile(i)}catch(s){return s instanceof Pte.NotFound||vc.error(`Failed to read package metadata from npm cache:
  ${s}`),null}}async function xLe(e,t,r){let i=ql.getMetadataCachePath(t,r);try{await df.writeJsonFile(i,e)}catch(s){vc.error(`Failed to write metadata cache file [${i}]:
  ${s}`)}}async function ELe(e,t){await ql.cacheAddTarball(e,t)}function SLe(e,t,r){return ql.getTarballCachePath(e,t,r)}function RLe(e,t,r){return ql.getManifestCachePath(e,t,r)}async function ALe(e){return ql.findCachedPackageFilePaths(e)}function TLe(e,t,r){return ql.isPackageInNpmCache(e,t,r)}Ote.exports={cacheMetadata:xLe,cacheAddTarball:ELe,findCachedPackageFilePaths:ALe,getManifestCachePath:RLe,getTarballCachePath:SLe,getMetadataFromCache:wLe,getPackageCacheInfo:vLe,getPackageMetadataFromTarballCache:bLe,findPackageInProjectCache:Nte,findPackageInGlobalCache:qte,getPackageProjectCachePath:A4,ensurePackageInGlobalCache:mLe,ensurePackageInProjectCache:yLe,isPackageInCache:TLe,pruneUnusedPackages:_Le}}),k_=O((qtt,Mte)=>{var CLe=require("assert"),OLe=require("path"),kLe=require("querystring"),Lte=yt(),PLe=/^git@[-\w.]+:[-\w.]+([/-\w.])*$/,ILe=/\.git\/?$/;function Dte(e){if(!e)return!1;let t;try{t=new URL(e)}catch(r){return PLe.test(e)}switch(t.protocol){case"git:":case"git+http:":case"git+https:":case"git+ssh:":case"git+file:":return!0;case"http:":case"https:":case"ssh:":case"file:":return Boolean(ILe.test(t.pathname));default:return!1}}function qLe(e){let t;if(e){let r=kLe.parse(e);r.path&&(t=OLe.posix.normalize(`/${r.path}`).substring(1))}return{relativePath:t}}function NLe(e){CLe(Dte(e),`Expected a Git package URL: ${e}`);let t=e.match(/^(?:git\+|file:(?!\/\/))?(?<repositoryUrl>[^#?]*)[?]?(?<queryString>[^#]+)?#?(?<revision>.+)?$/),{relativePath:r}=qLe(t.groups.queryString);if(/\\/.test(r))throw new Lte.InvalidParameter(`Git package URL [${e}] is invalid: [path] parameter must use forward slashes as path separators`);if(/[?&]path=/.test(t.groups.revision))throw new Lte.InvalidParameter(`Git package URL [${e}] is invalid: [path] parameter must appear before the [revision] marker '#'`);return{repositoryUrl:t.groups.repositoryUrl,revision:t.groups.revision||"HEAD",relativePath:r}}Mte.exports={isGitUrl:Dte,splitGitPackageUrl:NLe}}),Hi=O((Ntt,$te)=>{var jte=require("path"),T4=Bi(),MLe=Ar(),vy=yt(),LLe=k_(),DLe=/([a-z0-9][a-z0-9-._]{0,213})/,Fte=new RegExp(`${MLe.LOCAL_PATH_PACKAGE}(?!//)(.*)`),$Le=new RegExp(`^${DLe.source}$`);function C4(e){let[,t,r]=(e||"").match(/(@?[^@]*)@?(.*)?/);return[t===""?void 0:t,r]}function O4(e){if(!e||e.match($Le)===null)throw new vy.InvalidParameter(`Package name '${e}' is invalid.`)}function Bte(e){if(!T4.valid(e))throw new vy.InvalidParameter(`Version '${e}' is invalid. Expected a 'SemVer' compatible value.`)}function Ute(e){try{Bte(e);return}catch(t){}if(LLe.isGitUrl(e))return;if(new RegExp(`^${Fte.source}$`).test(e))return;throw new vy.InvalidParameter(`Version '${e}' is invalid. Expected one of: a 'SemVer' compatible value; a value starting with 'file:'; a Git URL starting with 'git:' or 'git+', or ending with '.git'.`)}function Hte(e){try{let[t,r]=C4(e);if(!t||!r)throw new Error("Expected a pattern like 'name@version'.");O4(t),Ute(r)}catch(t){throw new vy.InvalidParameter(`Id '${e}' is invalid: ${t.message}`)}}function jLe(e){return Hte(e),C4(e)}function FLe(e){try{return Hte(e),!0}catch(t){return!1}}function BLe(e){let t=new RegExp(`^${Fte.source}$`).exec(e);return t&&t[1]}function ULe(e,t){let r=BLe(e);if(!r)return null;if(!t&&!jte.isAbsolute(r))throw new vy.InvalidParameter(`Cannot resolve relative dependency path [${r}] when no project path is configured`);return jte.resolve(t,r)}function HLe(e){let t=e.split("@")[0],r=e.substring(t.length+1).trim()||void 0;if(O4(t),r&&T4.validRange(r)===null)throw new vy.InvalidParameter(`Version range '${r}' is invalid.`);return[t,r]}function GLe(e,t){return!t||T4.satisfies(e,t,!0)}$te.exports={getAbsolutePathFromVersion:ULe,isPackageId:FLe,matchesVersionRange:GLe,splitPackageId:jLe,splitPackageIdSafe:C4,splitPackageSearchQuery:HLe,validatePackageName:O4,validatePackageVersion:Ute,validateSemverPackageVersion:Bte}}),Kte=O((Mtt,Gte)=>{var zLe=require("path"),VLe=Tt(),WLe=$n(),KLe=rr(),zte=r0(),Vte=yt(),Wte=Hi(),XLe=oa();function YLe(e){let t=/(.*?)-(\d+.\d+.\d+.*)\.tgz$/.exec(e);if(!t)return null;let r=`${t[1]}@${t[2]}`;return Wte.isPackageId(r)?r:null}async function JLe(e,t){let r=(await WLe.readdir(e)).filter(s=>s.endsWith(".tgz")),i=(await Promise.all(VLe.map(r,async s=>{let n=YLe(s);if(!n)throw new Vte.UpmError(`Error while provisioning cache. Invalid tarball filename found in editor folder ${e}: ${s}`);let[a,o]=Wte.splitPackageId(n),u=XLe.getRegistryByScope(a,t.registries);if(!u.isMain)return null;let d=zte.isPackageInCache(a,o,t.registries.main);if(!d){let m=zLe.join(e,s);KLe.verbose(`Provisioning cache with bundled package from path: '${m}'`);try{await zte.cacheAddTarball(m,t.registries.main)}catch(f){throw new Vte.UpmError(`Failed to add editor bundled package [${m}] to the package cache`,f)}}return n}))).filter(s=>s);return i}Gte.exports={provisionEditorBundledPackages:JLe}}),GS=O((Ltt,Xte)=>{var k4=require("path"),P_=Tt(),I_=rr(),ZLe=yt(),Yte=os(),Jte=1,Zte=k4.join("..","Library","PackageManager"),Qte="install.db";function QLe(e,t){let r=P_.get(t,["installDatabase","packages",e],{});if(!r.updated){Object.defineProperty(r,"updated",{enumerable:!1,writable:!0,value:new Set}),r.isUpdated=s=>r.updated.has(s);let i={set:(s,n,a)=>(s.updated.add(n),s[n]=a,!0)};r=new Proxy(r,i)}return P_.set(t,["installDatabase","packages",e],r),r}async function e5e(e){if(!e)return I_.verbose("Could not read package install database. Project path is not configured."),{};let t=k4.join(e,Zte,Qte),r=null;try{r=await Yte.readJsonFile(t)}catch(i){return i instanceof ZLe.NotFound?I_.verbose("Initializing new package install database"):I_.error(`Error reading install database: ${i}`),{}}return r.schemaVersion!==Jte?(I_.verbose("Schema mismatch in existing package installation database; re-initializing database."),{}):r}async function t5e(e,t){if(!t.projectPath){I_.verbose("Could not save package install database. Project path is not configured");return}if(!P_.get(t,["installDatabase","packages"]))return;let r=Object.keys(e);if(t.installDatabase.packages=P_.pick(t.installDatabase.packages,r),P_.isEqual(t.originalInstallDatabase,t.installDatabase))return;await Yte.writeJsonFile(k4.join(t.projectPath,Zte,Qte),{schemaVersion:Jte,...t.installDatabase})}Xte.exports={getInstallDatabaseEntry:QLe,readInstallDatabase:e5e,saveInstallDatabase:t5e}}),tp=O((Dtt,ere)=>{var tre=require("path"),q_=bn(),rre=Ar(),N_=yt(),nre=os(),ire=Hi(),r5e=q_.object({upmConfig:q_.object({discoverability:q_.object({excludeNonDiscoverable:q_.boolean(),includeRemoteList:q_.boolean()})})});function n5e(e){let t=e.match(/^\d{4}\.[1-9]$/);if(!t)throw new N_.InvalidParameter(`'${e}' is not a valid \`unity\` property value. Expected '<year>.<version>'.`)}function i5e(e,t){if(!t)throw new N_.InvalidParameter(`\`unityRelease\` property is set to \`${e}\` but \`unity\` property is not set.`);let r=e.match(/^\d+[abpf]\d+$/);if(!r)throw new N_.InvalidParameter(`'${e}' is not a valid \`unityRelease\` property value. Expected '<patch><a, b, p or f><iteration>'.`)}async function s5e(e){let t={disallowDuplicateKeys:!0};return nre.readJsonFile(e,t)}async function a5e(e){if(!e)return{};let t=tre.join(e,rre.MANIFEST_FILENAME),r=await s5e(t),i=r5e.validate(r,{abortEarly:!1,allowUnknown:!0,stripUnknown:!0});if(i.error)throw new N_.InvalidManifest(`Editor manifest [${t}] is invalid`,i.error);return r}async function o5e(e){let t=tre.join(e,rre.PACKAGE_MANIFEST_FILENAME),r=await nre.readJsonFile(t);try{ire.validatePackageName(r.name),ire.validateSemverPackageVersion(r.version),r.unity&&n5e(r.unity),r.unityRelease&&i5e(r.unityRelease,r.unity)}catch(i){throw new N_.InvalidManifest(`Manifest [${t}] is invalid`,i)}return r}ere.exports={readEditorManifest:a5e,readPackageManifest:o5e}}),P4=O(($tt,sre)=>{var are=require("assert"),c5e=require("path"),ore=Tt(),l5e=$n(),cre=r0(),lre=Ar(),u5e=Hi(),f5e=rf();function h5e(e,t,r){let i=ore.get(r,["unity","builtInPackages",e,"manifest"]);return i&&u5e.matchesVersionRange(i.version,t)?i:null}async function p5e(e,t,r){are(r.configuration.projectCachePath,"Built-in packages can only be used when `cachingLevel` is set to `project`");let i=ore.find(r.unity.builtInPackages,{manifest:{name:e,version:t}});return are(i,`Built-in package [${e}@${t}] cannot be found`),f5e.setStateInstalling(e,r),cre.ensurePackageInProjectCache(e,t,i.path,r)}async function d5e(e,t,r){let i=null;if(r.configuration.projectCachePath){let s=cre.getPackageProjectCachePath(e,t,r.configuration);await l5e.exists(c5e.join(s,lre.PACKAGE_MANIFEST_FILENAME))&&(i=s)}return{name:e,version:t,packageId:`${e}@${t}`,source:lre.PACKAGE_SOURCE.BuiltIn,resolvedPath:i}}function m5e(e,t,r){let i=r.unity.builtInPackages[e];return Boolean(i&&i.manifest.version===t)}sre.exports={getManifest:h5e,getResolutionInfo:d5e,install:p5e,isBuiltInPackage:m5e}}),gre=O((jtt,ure)=>{var g5e=require("assert"),y5e=require("path"),v5e=$n(),fre=rr(),I4=Ar(),hre=yt(),pre=os(),dre=tp(),mre=Hi();function _5e(e){let t=new Set;return pre.getDirectories(e).then(r=>Promise.all(r.sort().map(i=>dre.readPackageManifest(i).catch(s=>s instanceof hre.NotFound?(fre.warn(`Package folder [${i}] missing package manifest.`),null):s))).then(i=>i.reduce((s,n,a)=>(n instanceof Error?s.errors.push(n):n&&(n.name in s.manifests?(fre.warn(`Duplicated embedded package [${n.name}] found in [${r[a]}], using the one found on [${s.manifests[n.name].path}]`),t.has(n.name)||(t.add(n.name),s.errors.push(new hre.UpmError(`Multiple embedded packages found with name [${n.name}], using [${s.manifests[n.name].path}]`)))):s.manifests[n.name]={manifest:n,path:r[a]}),s),{manifests:{},errors:[]})))}function q4(e,t,r){let i=mre.getAbsolutePathFromVersion(t,r.projectPath);return g5e(i,`Invalid version [${t}]. Expected a local package prefix (file:).`),i}async function w5e(e,t,r){let i=q4(e,t,r);return dre.readPackageManifest(i)}function b5e(e,t,r){return q4(e,t,r)}async function x5e(e,t,r){let i=q4(e,t,r),s=I4.PACKAGE_SOURCE.Local;return y5e.dirname(i)===r.projectPath&&(s=I4.PACKAGE_SOURCE.Embedded),{name:e,version:t,packageId:`${e||""}${e?"@":""}${I4.LOCAL_PATH_PACKAGE}${i}`,resolvedPath:await v5e.exists(i)?i:null,source:s}}async function E5e(e,t,r){let i=mre.getAbsolutePathFromVersion(t,r.projectPath);if(!i)return!1;let s=await pre.safeStats(i);return!(s&&s.isFile())}ure.exports={getEmbeddedPackageManifests:_5e,getManifest:w5e,getResolutionInfo:x5e,install:b5e,isFolderBasedPackage:E5e}}),L4=O((Ftt,yre)=>{var{join:vre,basename:_re}=require("path"),A5e=e=>e.bin?typeof e.bin=="string"?S5e(e):Array.isArray(e.bin)?R5e(e):typeof e.bin=="object"?M4(e):N4(e):N4(e),S5e=e=>e.name?(e.bin={[e.name]:e.bin},M4(e)):N4(e),R5e=e=>(e.bin=e.bin.reduce((t,r)=>(t[_re(r)]=r,t),{}),M4(e)),N4=e=>(delete e.bin,e),M4=e=>{let t=e.bin,r={},i=!1;return Object.keys(t).forEach(s=>{let n=vre("/",_re(s.replace(/\\|:/g,"/"))).substr(1);if(typeof t[s]!="string"||!n)return;let a=vre("/",t[s]).replace(/\\/g,"/").substr(1);if(!a)return;r[n]=a,i=!0}),i?e.bin=r:delete e.bin,e};yre.exports=A5e}),bre=O((Btt,wre)=>{"use strict";var _y=require("fs"),M_=require("path"),T5e=require("events").EventEmitter,C5e=L4(),wy=class extends T5e{constructor(t){if(t=t||{},super(t),this.path=M_.resolve(t.path||process.cwd()),this.parent=t.parent||null,this.parent){if(this.result=this.parent.result,!this.parent.parent){let r=M_.basename(this.path),i=M_.basename(M_.dirname(this.path));this.result.add(/^@/.test(i)?i+"/"+r:r)}this.root=this.parent.root,this.packageJsonCache=this.parent.packageJsonCache}else this.result=new Set,this.root=this.path,this.packageJsonCache=t.packageJsonCache||new Map;this.seen=new Set,this.didDone=!1,this.children=0,this.node_modules=[],this.package=null,this.bundle=null}addListener(t,r){return this.on(t,r)}on(t,r){let i=super.on(t,r);return t==="done"&&this.didDone&&this.emit("done",this.result),i}done(){if(!this.didDone)if(this.didDone=!0,this.parent)this.emit("done");else{let t=Array.from(this.result);this.result=t,this.emit("done",t)}}start(){let t=M_.resolve(this.path,"package.json");return this.packageJsonCache.has(t)?this.onPackage(this.packageJsonCache.get(t)):this.readPackageJson(t),this}readPackageJson(t){_y.readFile(t,(r,i)=>r?this.done():this.onPackageJson(t,i))}onPackageJson(t,r){try{this.package=C5e(JSON.parse(r+""))}catch(i){return this.done()}this.packageJsonCache.set(t,this.package),this.onPackage(this.package)}allDepsBundled(t){return Object.keys(t.dependencies||{}).concat(Object.keys(t.optionalDependencies||{}))}onPackage(t){let r=this.parent?this.allDepsBundled(t):t.bundleDependencies||t.bundledDependencies||[],i=Array.from(new Set(Array.isArray(r)?r:r===!0?this.allDepsBundled(t):Object.keys(r)));if(!i.length)return this.done();this.bundle=i;let s=this.path+"/node_modules";this.readModules()}readModules(){O5e(this.path+"/node_modules",(t,r)=>t?this.onReaddir([]):this.onReaddir(r))}onReaddir(t){this.node_modules=t,this.bundle.forEach(r=>this.childDep(r)),this.children===0&&this.done()}childDep(t){this.node_modules.indexOf(t)!==-1?this.seen.has(t)||(this.seen.add(t),this.child(t)):this.parent&&this.parent.childDep(t)}child(t){let r=this.path+"/node_modules/"+t;this.children+=1;let i=new wy({path:r,parent:this});i.on("done",s=>{--this.children===0&&this.done()}),i.start()}},L_=class extends wy{constructor(t){super(t)}start(){return super.start(),this.done(),this}readPackageJson(t){try{this.onPackageJson(t,_y.readFileSync(t))}catch(r){}return this}readModules(){try{this.onReaddir(k5e(this.path+"/node_modules"))}catch(t){this.onReaddir([])}}child(t){new L_({path:this.path+"/node_modules/"+t,parent:this}).start()}},O5e=(e,t)=>{_y.readdir(e,(r,i)=>{if(r)t(r);else{let s=i.filter(n=>/^@/.test(n));if(!s.length)t(null,i);else{let n=i.filter(o=>!/^@/.test(o)),a=s.length;s.forEach(o=>{_y.readdir(e+"/"+o,(u,d)=>{u||!d.length?n.push(o):n.push.apply(n,d.map(m=>o+"/"+m)),--a===0&&t(null,n)})})}}})},k5e=e=>{let t=_y.readdirSync(e),r=t.filter(s=>!/^@/.test(s)),i=t.filter(s=>/^@/.test(s)).map(s=>{try{let n=_y.readdirSync(e+"/"+s);return n.length?n.map(a=>s+"/"+a):[s]}catch(n){return[s]}}).reduce((s,n)=>s.concat(n),[]);return r.concat(i)},zS=(e,t)=>{let r=new Promise((i,s)=>{new wy(e).on("done",i).on("error",s).start()});return t?r.then(i=>t(null,i),t):r},P5e=e=>new L_(e).start().result;wre.exports=zS;zS.sync=P5e;zS.BundleWalker=wy;zS.BundleWalkerSync=L_}),Ere=O((Utt,xre)=>{"use strict";var by=require("fs"),D4=require("path"),I5e=require("events").EventEmitter,q5e=O1().Minimatch,xy=class extends I5e{constructor(t){t=t||{},super(t),this.path=t.path||process.cwd(),this.basename=D4.basename(this.path),this.ignoreFiles=t.ignoreFiles||[".ignore"],this.ignoreRules={},this.parent=t.parent||null,this.includeEmpty=!!t.includeEmpty,this.root=this.parent?this.parent.root:this.path,this.follow=!!t.follow,this.result=this.parent?this.parent.result:new Set,this.entries=null,this.sawError=!1}sort(t,r){return t.localeCompare(r,"en")}emit(t,r){let i=!1;return this.sawError&&t==="error"||(t==="error"?this.sawError=!0:t==="done"&&!this.parent&&(r=Array.from(r).map(s=>/^@/.test(s)?`./${s}`:s).sort(this.sort),this.result=r),t==="error"&&this.parent?i=this.parent.emit("error",r):i=super.emit(t,r)),i}start(){return by.readdir(this.path,(t,r)=>t?this.emit("error",t):this.onReaddir(r)),this}isIgnoreFile(t){return t!=="."&&t!==".."&&this.ignoreFiles.indexOf(t)!==-1}onReaddir(t){if(this.entries=t,t.length===0)this.includeEmpty&&this.result.add(this.path.substr(this.root.length+1)),this.emit("done",this.result);else{let r=this.entries.some(i=>this.isIgnoreFile(i));r?this.addIgnoreFiles():this.filterEntries()}}addIgnoreFiles(){let t=this.entries.filter(s=>this.isIgnoreFile(s)),r=t.length,i=s=>{--r===0&&this.filterEntries()};t.forEach(s=>this.addIgnoreFile(s,i))}addIgnoreFile(t,r){let i=D4.resolve(this.path,t);by.readFile(i,"utf8",(s,n)=>s?this.emit("error",s):this.onReadIgnoreFile(t,n,r))}onReadIgnoreFile(t,r,i){let s={matchBase:!0,dot:!0,flipNegate:!0,nocase:!0},n=r.split(/\r?\n/).filter(a=>!/^#|^$/.test(a.trim())).map(a=>new q5e(a,s));this.ignoreRules[t]=n,i()}filterEntries(){let t=this.entries.map(i=>{let s=this.filterEntry(i),n=this.filterEntry(i,!0);return s||n?[i,s,n]:!1}).filter(i=>i),r=t.length;if(r===0)this.emit("done",this.result);else{let i=s=>{--r===0&&this.emit("done",this.result)};t.forEach(s=>{let n=s[0],a=s[1],o=s[2];this.stat(n,a,o,i)})}}onstat(t,r,i,s,n){let a=this.path+"/"+r;t.isDirectory()?s?this.walker(r,n):n():(i&&this.result.add(a.substr(this.root.length+1)),n())}stat(t,r,i,s){let n=this.path+"/"+t;by[this.follow?"stat":"lstat"](n,(a,o)=>{a?this.emit("error",a):this.onstat(o,t,r,i,s)})}walkerOpt(t){return{path:this.path+"/"+t,parent:this,ignoreFiles:this.ignoreFiles,follow:this.follow,includeEmpty:this.includeEmpty}}walker(t,r){new xy(this.walkerOpt(t)).on("done",r).start()}filterEntry(t,r){let i=!0;if(this.parent&&this.parent.filterEntry){var s=this.basename+"/"+t;i=this.parent.filterEntry(s,r)}return this.ignoreFiles.forEach(n=>{this.ignoreRules[n]&&this.ignoreRules[n].forEach(a=>{if(a.negate!==i){let o=a.match("/"+t)||a.match(t)||!!r&&(a.match("/"+t+"/")||a.match(t+"/"))||!!r&&a.negate&&(a.match("/"+t,!0)||a.match(t,!0));o&&(i=a.negate)}})}),i}},D_=class extends xy{constructor(t){super(t)}start(){return this.onReaddir(by.readdirSync(this.path)),this}addIgnoreFile(t,r){let i=D4.resolve(this.path,t);this.onReadIgnoreFile(t,by.readFileSync(i,"utf8"),r)}stat(t,r,i,s){let n=this.path+"/"+t,a=by[this.follow?"statSync":"lstatSync"](n);this.onstat(a,t,r,i,s)}walker(t,r){new D_(this.walkerOpt(t)).start(),r()}},VS=(e,t)=>{let r=new Promise((i,s)=>{new xy(e).on("done",i).on("error",s).start()});return t?r.then(i=>t(null,i),t):r},N5e=e=>new D_(e).start().result;xre.exports=VS;VS.sync=N5e;VS.Walker=xy;VS.WalkerSync=D_}),$4=O((Gtt,Sre)=>{"use strict";var Rre=bre(),M5e=Rre.BundleWalker,L5e=Rre.BundleWalkerSync,Are=Ere(),D5e=Are.Walker,$5e=Are.WalkerSync,Tre=Symbol("root-builtin-rules"),Cre=Symbol("package-necessary-rules"),rp=require("path"),j5e=L4(),Ore="readme|copying|license|licence",F5e=`@(${Ore}){,.*[^~$]}`,B5e=new RegExp(`^(${Ore})(\\..*[^~$])?$`,"i"),kre=require("fs"),Pre=P1(),U5e=[".npmignore",".gitignore","**/.git","**/.svn","**/.hg","**/CVS","**/.git/**","**/.svn/**","**/.hg/**","**/CVS/**","/.lock-wscript","/.wafpickle-*","/build/config.gypi","npm-debug.log","**/.npmrc",".*.swp",".DS_Store","**/.DS_Store/**","._*","**/._*/**","*.orig","/package-lock.json","/yarn.lock","/archived-packages/**"],H5e=e=>/\*/.test(e),Ire=e=>class extends e{constructor(r){r=r||{},r.ignoreFiles=[Tre,"package.json",".npmignore",".gitignore",Cre],r.includeEmpty=!1,r.path=r.path||process.cwd();let i=/^(?:\/node_modules\/(?:@[^/]+\/[^/]+|[^/]+)\/)*\/node_modules(?:\/@[^/]+)?$/,s=r.parent?r.parent.root:r.path,n=r.path.replace(/\\/g,"/").substr(s.length);if(r.follow=i.test(n),super(r),this.parent)this.bundled=[],this.bundledScopes=[],this.packageJsonCache=this.parent.packageJsonCache;else{this.bundled=r.bundled||[],this.bundledScopes=Array.from(new Set(this.bundled.filter(o=>/^@/.test(o)).map(o=>o.split("/")[0])));let a=U5e.join(`
`)+`
`;this.packageJsonCache=r.packageJsonCache||new Map,super.onReadIgnoreFile(Tre,a,o=>o)}}onReaddir(r){if(this.parent||(r=r.filter(s=>s!==".git"&&!(s==="node_modules"&&this.bundled.length===0))),this.parent||!r.includes("package.json"))return super.onReaddir(r);let i=rp.resolve(this.path,"package.json");if(this.packageJsonCache.has(i)){let s=this.packageJsonCache.get(i);return!s||typeof s!="object"?this.readPackageJson(r):this.getPackageFiles(r,JSON.stringify(s))}this.readPackageJson(r)}onReadPackageJson(r,i,s){i?this.emit("error",i):this.getPackageFiles(r,s)}mustHaveFilesFromPackage(r){let i=[];if(r.browser&&i.push("/"+r.browser),r.main&&i.push("/"+r.main),r.bin)for(let s in r.bin)i.push("/"+r.bin[s]);return i.push("/package.json","/npm-shrinkwrap.json","!/package-lock.json",F5e),i}getPackageFiles(r,i){try{i=j5e(JSON.parse(i.toString()))}catch(x){return super.onReaddir(r)}let s=rp.resolve(this.path,"package.json");if(this.packageJsonCache.set(s,i),!Array.isArray(i.files))return super.onReaddir(r);i.files.push(...this.mustHaveFilesFromPackage(i)),(i.bundleDependencies||i.bundledDependencies)&&r.includes("node_modules")&&i.files.push("node_modules");let n=Array.from(new Set(i.files)).reduce((x,T)=>{let q=T.match(/^!+/);q&&(T=T.substr(q[0].length)),T=T.replace(/^\/+/,"");let F=q&&q[0].length%2===1;return x.push({pattern:T,negate:F}),x},[]),a=n.length,o=new Set,u=new Set,d=[],m=(x,T,q,F,$)=>{if(q)return this.emit("error",q);d[$]={negate:T,fileList:F},--a===0&&f(d)},f=x=>{for(let{negate:F,fileList:$}of x)F?$.forEach(H=>{H=H.replace(/\/+$/,""),o.delete(H),u.add(H)}):$.forEach(H=>{H=H.replace(/\/+$/,""),o.add(H),u.delete(H)});let T=Array.from(o);i.files=T.concat(Array.from(u).map(F=>"!"+F));let q=Array.from(new Set(T.map(F=>F.replace(/^\/+/,""))));super.onReaddir(q)};n.forEach(({pattern:x,negate:T},q)=>this.globFiles(x,(F,$)=>m(x,T,F,$,q)))}filterEntry(r,i){let s=this.path.substr(this.root.length+1),n=/^node_modules\/(@[^/]+\/?[^/]+|[^/]+)(\/.*)?$/,a=!this.parent,o=a&&n.test(r)?r.replace(n,"$1"):null,u=a&&r==="node_modules",d=a&&r==="package.json";return/^node_modules($|\/)/i.test(s)?this.parent.filterEntry(this.basename+"/"+r,i):o?this.bundled.indexOf(o)!==-1||this.bundledScopes.indexOf(o)!==-1:u?!!this.bundled.length:d||(B5e.test(r)||a&&(r==="npm-shrinkwrap.json"||r==="package.json"))?!0:a&&r==="package-lock.json"?!1:super.filterEntry(r,i)}filterEntries(){this.ignoreRules[".npmignore"]&&(this.ignoreRules[".gitignore"]=null),this.filterEntries=super.filterEntries,super.filterEntries()}addIgnoreFile(r,i){let s=rp.resolve(this.path,r);r==="package.json"&&this.parent?i():this.packageJsonCache.has(s)?this.onPackageJson(s,this.packageJsonCache.get(s),i):super.addIgnoreFile(r,i)}onPackageJson(r,i,s){if(this.packageJsonCache.set(r,i),Array.isArray(i.files))super.onReadIgnoreFile("package.json",i.files.map(n=>"!"+n).join(`
`)+`
`,s);else{let n=this.mustHaveFilesFromPackage(i).map(o=>`!${o}`),a=n.join(`
`)+`
`;super.onReadIgnoreFile(Cre,a,s)}}stat(r,i,s,n){H5e(r)?n():super.stat(r,i,s,n)}onstat(r,i,s,n,a){r.isSymbolicLink()?a():super.onstat(r,i,s,n,a)}onReadIgnoreFile(r,i,s){if(r==="package.json")try{let n=rp.resolve(this.path,r);this.onPackageJson(n,JSON.parse(i),s)}catch(n){s()}else super.onReadIgnoreFile(r,i,s)}sort(r,i){return G5e(r,i)}},$_=class extends Ire(D5e){globFiles(t,r){Pre(t,{dot:!0,cwd:this.path,nocase:!0},r)}readPackageJson(t){kre.readFile(this.path+"/package.json",(r,i)=>this.onReadPackageJson(t,r,i))}walker(t,r){new $_(this.walkerOpt(t)).on("done",r).start()}},j_=class extends Ire($5e){globFiles(t,r){r(null,Pre.sync(t,{dot:!0,cwd:this.path,nocase:!0}))}readPackageJson(t){let r=this.path+"/package.json";try{this.onReadPackageJson(t,null,kre.readFileSync(r))}catch(i){this.onReadPackageJson(t,i)}}walker(t,r){new j_(this.walkerOpt(t)).start(),r()}},WS=(e,t)=>{e=e||{};let r=new Promise((i,s)=>{let n=new M5e(e);n.on("done",a=>{e.bundled=a,e.packageJsonCache=n.packageJsonCache,new $_(e).on("done",i).on("error",s).start()}),n.start()});return t?r.then(i=>t(null,i),t):r},z5e=e=>{e=e||{};let t=new L5e(e).start();e.bundled=t.result,e.packageJsonCache=t.packageJsonCache;let r=new j_(e);return r.start(),r.result},G5e=(e,t)=>{let r=rp.extname(e).toLowerCase(),i=rp.extname(t).toLowerCase(),s=rp.basename(e).toLowerCase(),n=rp.basename(t).toLowerCase();return r.localeCompare(i,"en")||s.localeCompare(n,"en")||e.localeCompare(t,"en")};Sre.exports=WS;WS.sync=z5e;WS.Walker=$_;WS.WalkerSync=j_}),j4=O((ztt,qre)=>{var KS=require("assert"),V5e=Tt(),W5e=Ar();function K5e(e,t){e.locked=V5e.pickBy(t.dependencies,r=>r.source===W5e.PACKAGE_SOURCE.Git)}function X5e(e,t){return t.resolved&&t.resolved[e]||{}}function Y5e(e,t){KS(e.packageName,"packageName must have a value"),KS(e.hash,"hash must have a value "),KS(e.packagePath,"packagePath must have a value"),t.resolved||(t.resolved={});let{packageName:r}=e;KS(!t.resolved[r],`the package with the name ${r} has already been set`),t.resolved[r]=e}function J5e(e,t){return t.locked&&t.locked[e]||{}}qre.exports={getGitPackageLockedContext:J5e,getResolvedGitPackage:X5e,setGitLock:K5e,setResolvedGitPackage:Y5e}}),XS=O((Vtt,Nre)=>{Nre.exports=function(){var e=process.versions.node,t=e.split(".");return{original:"v"+e,short:t[0]+"."+t[1],long:e,major:t[0],minor:t[1],build:t[2]}}()}),$re=O((Wtt,Mre)=>{var Lre=Object.prototype.hasOwnProperty;Mre.exports=Fa;function Fa(e){if(!(this instanceof Fa))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof Fa||typeof Map=="function"&&e instanceof Map)e.forEach(function(t,r){this.set(r,t)},this);else if(Array.isArray(e))e.forEach(function(t){this.set(t[0],t[1])},this);else throw new TypeError("invalid argument")}Fa.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(r){r!=="size"&&e.call(t,this._data[r].value,this._data[r].key)},this)};Fa.prototype.has=function(e){return!!F4(this._data,e)};Fa.prototype.get=function(e){var t=F4(this._data,e);return t&&t.value};Fa.prototype.set=function(e,t){Z5e(this._data,e,t)};Fa.prototype.delete=function(e){var t=F4(this._data,e);t&&(delete this._data[t._index],this._data.size--)};Fa.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(Fa.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0});Fa.prototype.values=Fa.prototype.keys=Fa.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function Dre(e,t){return e===t||e!==e&&t!==t}function Q5e(e,t,r){this.key=e,this.value=t,this._index=r}function F4(e,t){for(var r=0,i="_"+t,s=i;Lre.call(e,s);s=i+r++)if(Dre(e[s].key,t))return e[s]}function Z5e(e,t,r){for(var i=0,s="_"+t,n=s;Lre.call(e,n);n=s+i++)if(Dre(e[n].key,t)){e[n].value=r;return}e.size++,e[n]=new Q5e(t,r,n)}}),jre=O((Ktt,B4)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?B4.exports=Map:B4.exports=$re()}),Bre=O((Xtt,Fre)=>{Fre.exports=Cr;Cr.Node=F_;Cr.create=Cr;function Cr(e){var t=this;if(t instanceof Cr||(t=new Cr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}Cr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null};Cr.prototype.unshiftNode=function(e){if(e===this.head)return;e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++};Cr.prototype.pushNode=function(e){if(e===this.tail)return;e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++};Cr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)e6e(this,arguments[e]);return this.length};Cr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)t6e(this,arguments[e]);return this.length};Cr.prototype.pop=function(){if(!this.tail)return;var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e};Cr.prototype.shift=function(){if(!this.head)return;var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e};Cr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++)e.call(t,r.value,i,this),r=r.next};Cr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--)e.call(t,r.value,i,this),r=r.prev};Cr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Cr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Cr.prototype.map=function(e,t){t=t||this;for(var r=new Cr,i=this.head;i!==null;)r.push(e.call(t,i.value,this)),i=i.next;return r};Cr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Cr,i=this.tail;i!==null;)r.push(e.call(t,i.value,this)),i=i.prev;return r};Cr.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)r=e(r,i.value,s),i=i.next;return r};Cr.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)r=e(r,i.value,s),i=i.prev;return r};Cr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Cr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Cr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Cr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;s!==null&&i<e;i++)s=s.next;for(;s!==null&&i<t;i++,s=s.next)r.push(s.value);return r};Cr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Cr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;s!==null&&i>t;i--)s=s.prev;for(;s!==null&&i>e;i--,s=s.prev)r.push(s.value);return r};Cr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};function e6e(e,t){e.tail=new F_(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function t6e(e,t){e.head=new F_(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function F_(e,t,r,i){if(!(this instanceof F_))return new F_(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}}),H4=O((Ytt,Ure)=>{"use strict";Ure.exports=nn;var r6e=jre(),B_=require("util"),n6e=Bre(),i6e=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",_c;i6e?_c=function(e){return Symbol(e)}:_c=function(e){return"_"+e};var mf=_c("max"),Nl=_c("length"),n0=_c("lengthCalculator"),Ey=_c("allowStale"),np=_c("maxAge"),gf=_c("dispose"),Hre=_c("noDisposeOnSet"),ui=_c("lruList"),wc=_c("cache");function U_(){return 1}function nn(e){if(!(this instanceof nn))return new nn(e);typeof e=="number"&&(e={max:e}),e||(e={});var t=this[mf]=e.max;(!t||!(typeof t=="number")||t<=0)&&(this[mf]=Infinity);var r=e.length||U_;typeof r!="function"&&(r=U_),this[n0]=r,this[Ey]=e.stale||!1,this[np]=e.maxAge||0,this[gf]=e.dispose,this[Hre]=e.noDisposeOnSet||!1,this.reset()}Object.defineProperty(nn.prototype,"max",{set:function(e){(!e||!(typeof e=="number")||e<=0)&&(e=Infinity),this[mf]=e,H_(this)},get:function(){return this[mf]},enumerable:!0});Object.defineProperty(nn.prototype,"allowStale",{set:function(e){this[Ey]=!!e},get:function(){return this[Ey]},enumerable:!0});Object.defineProperty(nn.prototype,"maxAge",{set:function(e){(!e||!(typeof e=="number")||e<0)&&(e=0),this[np]=e,H_(this)},get:function(){return this[np]},enumerable:!0});Object.defineProperty(nn.prototype,"lengthCalculator",{set:function(e){typeof e!="function"&&(e=U_),e!==this[n0]&&(this[n0]=e,this[Nl]=0,this[ui].forEach(function(t){t.length=this[n0](t.value,t.key),this[Nl]+=t.length},this)),H_(this)},get:function(){return this[n0]},enumerable:!0});Object.defineProperty(nn.prototype,"length",{get:function(){return this[Nl]},enumerable:!0});Object.defineProperty(nn.prototype,"itemCount",{get:function(){return this[ui].length},enumerable:!0});nn.prototype.rforEach=function(e,t){t=t||this;for(var r=this[ui].tail;r!==null;){var i=r.prev;Gre(this,e,r,t),r=i}};function Gre(e,t,r,i){var s=r.value;G_(e,s)&&(Sy(e,r),e[Ey]||(s=void 0)),s&&t.call(i,s.value,s.key,e)}nn.prototype.forEach=function(e,t){t=t||this;for(var r=this[ui].head;r!==null;){var i=r.next;Gre(this,e,r,t),r=i}};nn.prototype.keys=function(){return this[ui].toArray().map(function(e){return e.key},this)};nn.prototype.values=function(){return this[ui].toArray().map(function(e){return e.value},this)};nn.prototype.reset=function(){this[gf]&&this[ui]&&this[ui].length&&this[ui].forEach(function(e){this[gf](e.key,e.value)},this),this[wc]=new r6e,this[ui]=new n6e,this[Nl]=0};nn.prototype.dump=function(){return this[ui].map(function(e){if(!G_(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})};nn.prototype.dumpLru=function(){return this[ui]};nn.prototype.inspect=function(e,t){var r="LRUCache {",i=!1,s=this[Ey];s&&(r+=`
  allowStale: true`,i=!0);var n=this[mf];n&&n!==Infinity&&(i&&(r+=","),r+=`
  max: `+B_.inspect(n,t),i=!0);var a=this[np];a&&(i&&(r+=","),r+=`
  maxAge: `+B_.inspect(a,t),i=!0);var o=this[n0];o&&o!==U_&&(i&&(r+=","),r+=`
  length: `+B_.inspect(this[Nl],t),i=!0);var u=!1;return this[ui].forEach(function(d){u?r+=`,
  `:(i&&(r+=`,
`),u=!0,r+=`
  `);var m=B_.inspect(d.key).split(`
`).join(`
  `),f={value:d.value};d.maxAge!==a&&(f.maxAge=d.maxAge),o!==U_&&(f.length=d.length),G_(this,d)&&(f.stale=!0),f=B_.inspect(f,t).split(`
`).join(`
  `),r+=m+" => "+f}),(u||i)&&(r+=`
`),r+="}",r};nn.prototype.set=function(e,t,r){r=r||this[np];var i=r?Date.now():0,s=this[n0](t,e);if(this[wc].has(e)){if(s>this[mf])return Sy(this,this[wc].get(e)),!1;var n=this[wc].get(e),a=n.value;return this[gf]&&(this[Hre]||this[gf](e,a.value)),a.now=i,a.maxAge=r,a.value=t,this[Nl]+=s-a.length,a.length=s,this.get(e),H_(this),!0}var o=new s6e(e,t,s,i,r);return o.length>this[mf]?(this[gf]&&this[gf](e,t),!1):(this[Nl]+=o.length,this[ui].unshift(o),this[wc].set(e,this[ui].head),H_(this),!0)};nn.prototype.has=function(e){if(!this[wc].has(e))return!1;var t=this[wc].get(e).value;return!G_(this,t)};nn.prototype.get=function(e){return U4(this,e,!0)};nn.prototype.peek=function(e){return U4(this,e,!1)};nn.prototype.pop=function(){var e=this[ui].tail;return e?(Sy(this,e),e.value):null};nn.prototype.del=function(e){Sy(this,this[wc].get(e))};nn.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var i=e[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{var n=s-t;n>0&&this.set(i.k,i.v,n)}}};nn.prototype.prune=function(){var e=this;this[wc].forEach(function(t,r){U4(e,r,!1)})};function U4(e,t,r){var i=e[wc].get(t);if(i){var s=i.value;G_(e,s)?(Sy(e,i),e[Ey]||(s=void 0)):r&&e[ui].unshiftNode(i),s&&(s=s.value)}return s}function G_(e,t){if(!t||!t.maxAge&&!e[np])return!1;var r=!1,i=Date.now()-t.now;return t.maxAge?r=i>t.maxAge:r=e[np]&&i>e[np],r}function H_(e){if(e[Nl]>e[mf])for(var t=e[ui].tail;e[Nl]>e[mf]&&t!==null;){var r=t.prev;Sy(e,t),t=r}}function Sy(e,t){if(t){var r=t.value;e[gf]&&e[gf](r.key,r.value),e[Nl]-=r.length,e[wc].delete(r.key),e[ui].removeNode(t)}}function s6e(e,t,r,i,s){this.key=e,this.value=t,this.length=r,this.now=i,this.maxAge=s||0}}),Xre=O((Jtt,zre)=>{zre.exports=Vre;Vre.sync=a6e;var Wre=require("fs");function o6e(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(r=r.split(";"),r.indexOf("")!==-1)return!0;for(var i=0;i<r.length;i++){var s=r[i].toLowerCase();if(s&&e.substr(-s.length).toLowerCase()===s)return!0}return!1}function Kre(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:o6e(t,r)}function Vre(e,t,r){Wre.stat(e,function(i,s){r(i,i?!1:Kre(s,e,t))})}function a6e(e,t){return Kre(Wre.statSync(e),e,t)}}),ene=O((Ztt,Yre)=>{Yre.exports=Jre;Jre.sync=c6e;var Zre=require("fs");function Jre(e,t,r){Zre.stat(e,function(i,s){r(i,i?!1:Qre(s,t))})}function c6e(e,t){return Qre(Zre.statSync(e),t)}function Qre(e,t){return e.isFile()&&l6e(e,t)}function l6e(e,t){var r=e.mode,i=e.uid,s=e.gid,n=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),o=parseInt("100",8),u=parseInt("010",8),d=parseInt("001",8),m=o|u,f=r&d||r&u&&s===a||r&o&&i===n||r&m&&n===0;return f}}),z4=O((ert,tne)=>{var Qtt=require("fs"),YS;process.platform==="win32"||global.TESTING_WINDOWS?YS=Xre():YS=ene();tne.exports=G4;G4.sync=u6e;function G4(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){G4(e,t||{},function(n,a){n?s(n):i(a)})})}YS(e,t||{},function(i,s){i&&((i.code==="EACCES"||t&&t.ignoreErrors)&&(i=null,s=!1)),r(i,s)})}function u6e(e,t){try{return YS.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}}),cne=O((trt,rne)=>{rne.exports=nne;nne.sync=f6e;var V4=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ine=require("path"),h6e=V4?";":":",sne=z4();function ane(e){var t=new Error("not found: "+e);return t.code="ENOENT",t}function one(e,t){var r=t.colon||h6e,i=t.path||process.env.PATH||"",s=[""];i=i.split(r);var n="";return V4&&(i.unshift(process.cwd()),n=t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",s=n.split(r),e.indexOf(".")!==-1&&s[0]!==""&&s.unshift("")),(e.match(/\//)||V4&&e.match(/\\/))&&(i=[""]),{env:i,ext:s,extExe:n}}function nne(e,t,r){typeof t=="function"&&(r=t,t={});var i=one(e,t),s=i.env,n=i.ext,a=i.extExe,o=[];(function u(d,m){if(d===m)return t.all&&o.length?r(null,o):r(ane(e));var f=s[d];f.charAt(0)==='"'&&f.slice(-1)==='"'&&(f=f.slice(1,-1));var x=ine.join(f,e);!f&&/^\.[\\\/]/.test(e)&&(x=e.slice(0,2)+x),function T(q,F){if(q===F)return u(d+1,m);var $=n[q];sne(x+$,{pathExt:a},function(H,oe){if(!H&&oe)if(t.all)o.push(x+$);else return r(null,x+$);return T(q+1,F)})}(0,n.length)})(0,s.length)}function f6e(e,t){t=t||{};for(var r=one(e,t),i=r.env,s=r.ext,n=r.extExe,a=[],o=0,u=i.length;o<u;o++){var d=i[o];d.charAt(0)==='"'&&d.slice(-1)==='"'&&(d=d.slice(1,-1));var m=ine.join(d,e);!d&&/^\.[\\\/]/.test(e)&&(m=e.slice(0,2)+m);for(var f=0,x=s.length;f<x;f++){var T=m+s[f],q;try{if(q=sne.sync(T,{pathExt:n}),q)if(t.all)a.push(T);else return T}catch(F){}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw ane(e)}}),W4=O((rrt,lne)=>{"use strict";var p6e=require("path"),une=cne(),d6e=H4(),JS=new d6e({max:50,maxAge:30*1e3});function m6e(e,t){var r;if(t=!!t,r=JS.get(e+"!"+t),JS.has(e))return JS.get(e);try{r=t?une.sync(e,{pathExt:p6e.delimiter+(process.env.PATHEXT||"")}):une.sync(e)}catch(i){}return JS.set(e+"!"+t,r),r}lne.exports=m6e}),hne=O((nrt,fne)=>{"use strict";fne.exports=function(){if(process.platform!=="win32")return!1;var e=process.version.substr(1).split(".").map(function(t){return parseInt(t,10)});return e[0]===0&&e[1]<12}()}),gne=O((irt,pne)=>{"use strict";var K4=require("fs"),g6e=H4(),ZS=W4(),y6e=hne(),v6e=process.platform==="win32",X4=new g6e({max:50,maxAge:30*1e3});function _6e(e){var t,r,i,s;if(X4.has(e))return X4.get(e);t=new Buffer(150);try{r=K4.openSync(e,"r"),K4.readSync(r,t,0,150,0),K4.closeSync(r)}catch(n){}return i=t.toString().trim().match(/#!(.+)/i),i&&(s=i[1].replace(/\/usr\/bin\/env\s+/i,"")),X4.set(e,s),s}function dne(e,t){return e=""+e,t?(e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e='"'+e+'"'):e=e.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),e}function w6e(e){return/^[a-z0-9_-]+$/i.test(e)?e:dne(e,!0)}function mne(e){return!/\.(?:com|exe)$/i.test(e)}function b6e(e,t,r){var i,s,n,a,o;return t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=r||{},a=e,v6e&&(n=ZS(e),n=n||ZS(e,!0),i=n&&_6e(n),o=r.shell||y6e,i?(t.unshift(n),e=i,o=o||mne(ZS(i)||ZS(i,!0))):o=o||mne(n),o&&(s=e!=="echo",e=w6e(e),t=t.map(function(u){return dne(u,s)}),t=["/s","/c",'"'+e+(t.length?" "+t.join(" "):"")+'"'],e=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0)),{command:e,args:t,options:r,file:n,original:a}}pne.exports=b6e}),vne=O((srt,z_)=>{"use strict";var QS=process.platform==="win32",x6e=W4(),E6e=process.version.indexOf("v0.10.")===0;function eR(e,t){var r;return r=new Error(t+" "+e+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=t+" "+e,r}function S6e(e,t){var r;if(!QS)return;r=e.emit,e.emit=function(i,s){var n;return i==="exit"&&(n=yne(s,t,"spawn"),n)?r.call(e,"error",n):r.apply(e,arguments)}}function yne(e,t){return QS&&e===1&&!t.file?eR(t.original,"spawn"):null}function R6e(e,t){return QS&&e===1&&!t.file||E6e&&e===-1&&(t.file=QS?t.file:x6e(t.original),!t.file)?eR(t.original,"spawnSync"):null}z_.exports.hookChildProcess=S6e;z_.exports.verifyENOENT=yne;z_.exports.verifyENOENTSync=R6e;z_.exports.notFoundError=eR}),Q4=O((art,Ry)=>{"use strict";var _ne=require("child_process"),Y4=gne(),J4=vne(),Z4=_ne.spawnSync;function wne(e,t,r){var i,s;return i=Y4(e,t,r),s=_ne.spawn(i.command,i.args,i.options),J4.hookChildProcess(s,i),s}function A6e(e,t,r){var i,s;if(!Z4)try{Z4=require("spawn-sync")}catch(n){throw new Error(`In order to use spawnSync on node 0.10 or older, you must install spawn-sync:

  npm install spawn-sync --save`)}return i=Y4(e,t,r),s=Z4(i.command,i.args,i.options),s.error=s.error||J4.verifyENOENTSync(s.status,i),s}Ry.exports=wne;Ry.exports.spawn=wne;Ry.exports.sync=A6e;Ry.exports._parse=Y4;Ry.exports._enoent=J4}),eN=O((bne,tR)=>{(function(e){var t=setTimeout;function r(){}function i(f,x){return function(){f.apply(x,arguments)}}function s(f){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(f,this)}function n(f,x){for(;f._state===3;)f=f._value;if(f._state===0){f._deferreds.push(x);return}f._handled=!0,s._immediateFn(function(){var T=f._state===1?x.onFulfilled:x.onRejected;if(T===null){(f._state===1?a:o)(x.promise,f._value);return}var q;try{q=T(f._value)}catch(F){o(x.promise,F);return}a(x.promise,q)})}function a(f,x){try{if(x===f)throw new TypeError("A promise cannot be resolved with itself.");if(x&&(typeof x=="object"||typeof x=="function")){var T=x.then;if(x instanceof s){f._state=3,f._value=x,u(f);return}else if(typeof T=="function"){m(i(T,x),f);return}}f._state=1,f._value=x,u(f)}catch(q){o(f,q)}}function o(f,x){f._state=2,f._value=x,u(f)}function u(f){f._state===2&&f._deferreds.length===0&&s._immediateFn(function(){f._handled||s._unhandledRejectionFn(f._value)});for(var x=0,T=f._deferreds.length;x<T;x++)n(f,f._deferreds[x]);f._deferreds=null}function d(f,x,T){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof x=="function"?x:null,this.promise=T}function m(f,x){var T=!1;try{f(function(q){if(T)return;T=!0,a(x,q)},function(q){if(T)return;T=!0,o(x,q)})}catch(q){if(T)return;T=!0,o(x,q)}}s.prototype.catch=function(f){return this.then(null,f)},s.prototype.then=function(f,x){var T=new this.constructor(r);return n(this,new d(f,x,T)),T},s.all=function(f){return new s(function(x,T){if(!f||typeof f.length=="undefined")throw new TypeError("Promise.all accepts an array");var q=Array.prototype.slice.call(f);if(q.length===0)return x([]);var F=q.length;function $(oe,Q){try{if(Q&&(typeof Q=="object"||typeof Q=="function")){var pe=Q.then;if(typeof pe=="function"){pe.call(Q,function(ve){$(oe,ve)},T);return}}q[oe]=Q,--F===0&&x(q)}catch(ve){T(ve)}}for(var H=0;H<q.length;H++)$(H,q[H])})},s.resolve=function(f){return f&&typeof f=="object"&&f.constructor===s?f:new s(function(x){x(f)})},s.reject=function(f){return new s(function(x,T){T(f)})},s.race=function(f){return new s(function(x,T){for(var q=0,F=f.length;q<F;q++)f[q].then(x,T)})},s._immediateFn=typeof setImmediate=="function"&&function(f){setImmediate(f)}||function(f){t(f,0)},s._unhandledRejectionFn=function(x){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",x)},s._setImmediateFn=function(x){s._immediateFn=x},s._setUnhandledRejectionFn=function(x){s._unhandledRejectionFn=x},typeof tR!="undefined"&&tR.exports?tR.exports=s:e.Promise||(e.Promise=s)})(bne)}),Ene=O((ort,xne)=>{"use strict";var tN;XS().major>=4?tN=global.Promise:tN=eN();var rR=class extends tN{constructor(t){var r,i;super((s,n)=>{r=s,i=n,t&&t(r,i)});this._cpResolve=r,this._cpReject=i,this.childProcess=void 0}progress(t){return process.nextTick(()=>{t(this.childProcess)}),this}then(t,r){var i=super.then(t,r);return i.childProcess=this.childProcess,i}catch(t){var r=super.catch(t);return r.childProcess=this.childProcess,r}done(){this.catch(t=>{process.nextTick(()=>{throw t})})}};rR.prototype.fail=rR.prototype.catch;xne.exports=rR}),Ane=O((crt,Sne)=>{"use strict";var Rne=class extends Error{constructor(t,r,i,s,n){super(t);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.childProcess=i,this.stdout=s,this.stderr=n}};Sne.exports=Rne}),Pne=O(V_=>{"use strict";var nR=require("child_process"),T6e=Q4(),Tne=Ene(),Cne=Ane(),C6e=Array.prototype.slice;function One(e,t){var r,i=new Tne,s=i._cpReject,n=i._cpResolve,a=C6e.call(t,0);a.push(o),r=nR[e].apply(nR,a);function o(u,d,m){if(u){var f=t[0]+(Array.isArray(t[1])?" "+t[1].join(" "):"");u.message+=" `"+f+"` (exited with error code "+u.code+")",u.stdout=d,u.stderr=m;var x=new Cne(u.message,u.code,nR,d,m);s(x)}else n({childProcess:r,stdout:d,stderr:m})}return i.childProcess=r,i}function O6e(){return One("exec",arguments)}function k6e(){return One("execFile",arguments)}function kne(e,t,r,i){var s={},n,a=new Tne,o=a._cpReject,u=a._cpResolve,d=i&&i.successfulExitCodes||[0];n=e(t,r,i);var m=!1,f=!1,x=i&&i.capture;if(x)for(var T=0,q=x.length;T<q;T++){var F=x[T];F==="stdout"?m=!0:F==="stderr"&&(f=!0)}return s.childProcess=n,m&&(s.stdout="",n.stdout.on("data",function($){s.stdout+=$})),f&&(s.stderr="",n.stderr.on("data",function($){s.stderr+=$})),n.on("error",o),n.on("close",function($){if(d.indexOf($)===-1){var H=t+(r.length?" "+r.join(" "):""),oe="`"+H+"` failed with code "+$,Q=new Cne(oe,$,n);f&&(Q.stderr=s.stderr.toString()),m&&(Q.stdout=s.stdout.toString()),o(Q)}else s.code=$,u(s)}),a.childProcess=n,a}function P6e(e,t,r){return kne(T6e,e,t,r)}function I6e(e,t,r){return kne(nR.fork,e,t,r)}V_.exec=O6e;V_.execFile=k6e;V_.spawn=P6e;V_.fork=I6e}),Nne=O((urt,Ine)=>{"use strict";var q6e=function(){function e(t,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),qne=function e(t,r,i){t===null&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(s===void 0){var n=Object.getPrototypeOf(t);return n===null?void 0:e(n,r,i)}else{if("value"in s)return s.value;var a=s.get;return a===void 0?void 0:a.call(i)}};function N6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function L6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rN;XS().major>=4?rN=global.Promise:rN=eN();var nN=function(e){L6e(t,e);function t(r){N6e(this,t);var i,s,n=M6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(a,o){i=a,s=o,r&&r(i,s)}));return n._cpResolve=i,n._cpReject=s,n.childProcess=void 0,n}return q6e(t,[{key:"progress",value:function(i){var s=this;return process.nextTick(function(){i(s.childProcess)}),this}},{key:"then",value:function(i,s){var n=qne(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"then",this).call(this,i,s);return n.childProcess=this.childProcess,n}},{key:"catch",value:function(i){var s=qne(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"catch",this).call(this,i);return s.childProcess=this.childProcess,s}},{key:"done",value:function(){this.catch(function(i){process.nextTick(function(){throw i})})}}]),t}(rN);nN.prototype.fail=nN.prototype.catch;Ine.exports=nN}),Lne=O((frt,Mne)=>{"use strict";function D6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function j6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F6e=function(e){j6e(t,e);function t(r,i,s,n,a){D6e(this,t);var o=$6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return Error.captureStackTrace(o,o.constructor),o.name=o.constructor.name,o.code=i,o.childProcess=s,o.stdout=n,o.stderr=a,o}return t}(Error);Mne.exports=F6e}),Bne=O(W_=>{"use strict";var iR=require("child_process"),B6e=Q4(),Dne=Nne(),$ne=Lne(),U6e=Array.prototype.slice;function jne(e,t){var r,i=new Dne,s=i._cpReject,n=i._cpResolve,a=U6e.call(t,0);a.push(o),r=iR[e].apply(iR,a);function o(u,d,m){if(u){var f=t[0]+(Array.isArray(t[1])?" "+t[1].join(" "):"");u.message+=" `"+f+"` (exited with error code "+u.code+")",u.stdout=d,u.stderr=m;var x=new $ne(u.message,u.code,iR,d,m);s(x)}else n({childProcess:r,stdout:d,stderr:m})}return i.childProcess=r,i}function H6e(){return jne("exec",arguments)}function G6e(){return jne("execFile",arguments)}function Fne(e,t,r,i){var s={},n,a=new Dne,o=a._cpReject,u=a._cpResolve,d=i&&i.successfulExitCodes||[0];n=e(t,r,i);var m=!1,f=!1,x=i&&i.capture;if(x)for(var T=0,q=x.length;T<q;T++){var F=x[T];F==="stdout"?m=!0:F==="stderr"&&(f=!0)}return s.childProcess=n,m&&(s.stdout="",n.stdout.on("data",function($){s.stdout+=$})),f&&(s.stderr="",n.stderr.on("data",function($){s.stderr+=$})),n.on("error",o),n.on("close",function($){if(d.indexOf($)===-1){var H=t+(r.length?" "+r.join(" "):""),oe="`"+H+"` failed with code "+$,Q=new $ne(oe,$,n);f&&(Q.stderr=s.stderr.toString()),m&&(Q.stdout=s.stdout.toString()),o(Q)}else s.code=$,u(s)}),a.childProcess=n,a}function z6e(e,t,r){return Fne(B6e,e,t,r)}function V6e(e,t,r){return Fne(iR.fork,e,t,r)}W_.exec=H6e;W_.execFile=G6e;W_.spawn=z6e;W_.fork=V6e}),Une=O((prt,iN)=>{"use strict";XS().major>=4?iN.exports=Pne():iN.exports=Bne()}),Xne=O((drt,Hne)=>{var Ay=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Gne=require("path"),W6e=Ay?";":":",zne=z4(),Vne=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Wne=(e,t)=>{let r=t.colon||W6e,i=e.match(/\//)||Ay&&e.match(/\\/)?[""]:[...Ay?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],s=Ay?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",n=Ay?s.split(r):[""];return Ay&&(e.indexOf(".")!==-1&&n[0]!==""&&n.unshift("")),{pathEnv:i,pathExt:n,pathExtExe:s}},Kne=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:i,pathExt:s,pathExtExe:n}=Wne(e,t),a=[],o=d=>new Promise((m,f)=>{if(d===i.length)return t.all&&a.length?m(a):f(Vne(e));let x=i[d],T=/^".*"$/.test(x)?x.slice(1,-1):x,q=Gne.join(T,e),F=!T&&/^\.[\\\/]/.test(e)?e.slice(0,2)+q:q;m(u(F,d,0))}),u=(d,m,f)=>new Promise((x,T)=>{if(f===s.length)return x(o(m+1));let q=s[f];zne(d+q,{pathExt:n},(F,$)=>{if(!F&&$)if(t.all)a.push(d+q);else return x(d+q);return x(u(d,m,f+1))})});return r?o(0).then(d=>r(null,d),r):o(0)},K6e=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:i,pathExtExe:s}=Wne(e,t),n=[];for(let a=0;a<r.length;a++){let o=r[a],u=/^".*"$/.test(o)?o.slice(1,-1):o,d=Gne.join(u,e),m=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let f=0;f<i.length;f++){let x=m+i[f];try{let T=zne.sync(x,{pathExt:s});if(T)if(t.all)n.push(x);else return x}catch(T){}}}if(t.all&&n.length)return n;if(t.nothrow)return null;throw Vne(e)};Hne.exports=Kne;Kne.sync=K6e}),sN=O((mrt,Yne)=>{var X6e=require("assert"),Y6e=require("path"),J6e=Tt(),Z6e=Une(),Q6e=$n(),eDe=Bi(),tDe=Xne(),K_=rr(),Jne=yt();function rDe(){if(process.platform!=="darwin"&&process.platform!=="linux")return{};let e=process.env.PATH?process.env.PATH.split(":"):[],t=["/usr/local/bin","/usr/local/sbin","/opt/local/bin","/opt/local/sbin","/opt/homebrew/bin","/opt/homebrew/sbin"].filter(r=>!e.includes(r));return{PATH:[...e,...t].join(":")}}function nDe(){try{return tDe.sync("git")}catch(e){return null}}var sR=nDe();function iDe(){if(!sR){let e="No 'git' executable was found. Please install Git on your system then restart Unity and Unity Hub";throw K_.error(e),new Jne.NotFound(e)}K_.debug(`Git executable: '${sR}'`)}async function da(e,t={}){X6e(sR,"git is required");let r={...J6e.pick(t,"cwd"),env:{...process.env,...rDe(),GIT_TERMINAL_PROMPT:0},detached:!0,capture:["stdout","stderr"]},i=`git ${e.map(s=>s.includes(" ")?`"${s}"`:s).join(" ")}`;try{let s=await Z6e.spawn(sR,e,r);return K_.debug(["Git command executed:",i,`- stdout: ${s.stdout}`].join(`
  `)),s.stdout}catch(s){let{logError:n=!0}=t;n&&K_.error(["Error when executing Git command:",i,s.message&&`- message: ${s.message}`,s.stdout&&`- stdout: ${s.stdout}`,s.stderr&&`- stderr: ${s.stderr}`].map(u=>u).join(`
  `));let a=s.stderr||s.message||"",o="";throw a.includes("Permission denied (publickey)")?o="\nYou may need to set up an SSH authentation agent\nlike `ssh-add` or `Pageant` if your private key is\npassphrase-protected.":a.includes("terminal prompts disabled")&&(o=`
You may need to set up a Git credentials helper
to access a private repository.`),new Jne.UpmError(`Error when executing git command. ${a}${o}`)}}async function sDe(){let e=["--version"],t=await da(e);return t.replace(/.*\s(\d+\.\d+\.\d+).*/,"$1")}async function aDe(e){let t=["config","--get","remote.origin.url"],r=await da(t,{cwd:e});return r.trim()}async function oDe(e,t="HEAD"){let r=["rev-list","-n","1",t];try{let i=await da(r,{cwd:e,logError:!1});return i.trim()}catch(i){return null}}async function cDe(e,t={}){let{commitish:r="HEAD",targetPath:i}=t,s=["checkout",r],n=[];i&&(n.push("--"),n.push(i)),await da([...s,...n],{cwd:e});let a=!0;if(i)try{await da([...s,"--",".gitmodules"],{cwd:e})}catch{a=!1}else a=await Q6e.exists(Y6e.join(e,".gitmodules"));if(a){let o=[];eDe.gte(await sDe(),"2.29.0")&&o.push("--depth","1"),await da(["submodule","update","--init","--recursive",...o],{cwd:e})}}async function lDe(e,t){let r=["lfs","pull"];t&&(r.push("--include"),r.push(t)),await da(r,{cwd:e})}async function uDe(e,t){let r=["config","--local","--get",t],i={cwd:e};try{return(await da(r,i)).trim()}catch(s){return K_.debug(`Configuration [${t}] does not exist.`,s),null}}async function Zne(e,t,r){let i=["config",t,r];await da(i,{cwd:e})}async function fDe(e,t,r="origin"){let i=["remote","add",r,t];await da(i,{cwd:e})}async function hDe(e,...t){let r=["ls-remote","origin",...t],i=await da(r,{cwd:e});return i.trim()}async function pDe(e,t){let r=["update-ref","HEAD",t];await da(r,{cwd:e})}async function dDe(e,t={}){let{revision:r,shallow:i=!1,remoteName:s}=t,n=["fetch","-q"];i&&n.push("--depth=1"),s&&(n.push(s),r&&n.push(r)),await da(n,{cwd:e})}async function mDe(e){let t=["init","-q",e];await da(t),process.platform==="win32"&&await Zne(e,"core.longpaths","true")}Yne.exports={addRemote:fDe,checkout:cDe,fetch:dDe,getLocalConfiguration:uDe,getRemoteOriginUrl:aDe,getRevisionHash:oDe,init:mDe,lfsPull:lDe,lookupRemoteReferences:hDe,setConfiguration:Zne,setRepositoryHead:pDe,verifyGitAvailability:iDe}}),rie=O((grt,Qne)=>{var gDe=require("assert"),Ml=require("path"),{promisify:yDe}=require("util"),X_=Tt(),Ty=$n(),vDe=$4(),_De=NP(),aR=rr(),aN=Ar(),Y_=yt(),oN=os(),J_=j4(),bc=sN(),cN=k_(),wDe=tp(),bDe=rf(),xDe=Nh(),EDe=$x(),SDe=yDe(_De.dir),RDe="";function ADe(e,t){return Ml.join(t,EDe.convertUrlToRelativePath(e))}function lN(e,t,r){return Ml.join(e,`${t}@${r.substring(0,10)}`)}function eie(e,t,r){let i=J_.getGitPackageLockedContext(e,r);return i.version===t?i.hash:null}async function TDe(e,t){let r=await vDe({path:e});await Promise.all(r.map(i=>Ty.move(Ml.join(e,i),Ml.join(t,i))))}async function CDe(e){let t=Ml.join(e,aN.PACKAGE_MANIFEST_FILENAME),r;try{let i=await oN.readJsonFile(t);r=X_.isString(i.name)&&i.name}catch(i){}return r||""}function ODe(e){if(!e)return{};let t={Branch:1,LightweightTag:2,AnnotatedTag:3,Head:4},r=new RegExp(`^refs/((?<branch>heads)|tags)/(?<name>[^^]+)(?<annotated>${X_.escapeRegExp("^{}")})?$`),i=e.split(`
`).reduce((s,n)=>{let[a,o]=n.split("	"),u,d;if(o==="HEAD")u="HEAD",d=t.Head;else{let m=o.match(r);m&&(u=m.groups.name,m.groups.branch?d=t.Branch:m.groups.annotated?d=t.AnnotatedTag:d=t.LightweightTag)}return u&&(!s[u]||s[u].type<d)&&(s[u]={hash:a,type:d}),s},{});return X_.mapValues(i,"hash")}async function kDe(e,t="HEAD"){if(t!=="HEAD"){let s=await bc.getRevisionHash(e,t);if(s)return s}let r=await bc.lookupRemoteReferences(e,t,`${t}^{}`),i=ODe(r);return i[t]||null}async function PDe(e,t,r=void 0,i=void 0,s=void 0){bc.verifyGitAvailability(),aR.info(["Cloning git package:",`Repository: '${e}'`,`Package location in repository: '${i||"root"}'`,`Commit-ish: '${r}'`,`Destination: '${t}'`].join(`
  `));let n={dir:t};return oN.withTempFolder(async a=>{let o=Ml.join(a,"clone"),u=Ml.join(a,"move");await Promise.all([Ty.mkdir(o),Ty.mkdir(u)]),await bc.init(o),await bc.addRemote(o,e);let d=!1;try{await bc.fetch(o,{shallow:!0,remoteName:"origin",revision:r})}catch(q){if(q.message&&q.message.match(/not our ref|[C|c]ouldn't find remote ref/))d=!0;else if(q.message&&q.message.match(/unadvertised object/))aR.verbose("cloneGitPackage: Git client does not support fetching unadvertised objects. Resorting to fetching the whole repository."),await bc.fetch(o,{shallow:!1,remoteName:"origin"});else throw q}let m=!d&&await kDe(o,r);if(!m)throw new Y_.UpmError(`Could not clone [${e}]. Make sure [${r}] is a valid branch name, tag or full commit hash on the remote registry.`);if(await bc.setRepositoryHead(o,m),s){let q=ADe(e,s);await bc.setConfiguration(o,"lfs.storage",q)}try{await bc.checkout(o,{commitish:m,targetPath:i})}catch(q){let F=`Cannot checkout repository [${e}]`;throw i&&(F=`${F} on target path [${i}]`),new Y_.UpmError(F,q)}if(i)try{await bc.lfsPull(o,i)}catch(q){aR.debug(`git-lfs pull failed: ${q.message}`)}let f=i?Ml.join(o,i):o,x=await CDe(f),T=lN(t,x,m);await TDe(f,u),await Ty.ensureDir(Ml.dirname(T));try{await oN.moveDirectorySafe(u,T)}catch(q){throw new Y_.UpmError(`Failed to rename [${u}] to [${T}] while cloning ${e}, error code [${q.code}].`)}return{packageName:x,packagePath:T,hash:m}},n)}async function IDe(e,t,r=void 0,i=void 0,s=void 0){let n=["cloneGitPackage",t,e,r,i].filter(a=>a).join("-");return xDe.inFlightPromise(n,async()=>PDe(e,t,r,i,s))}async function qDe(e,t,r,i,s=void 0,n=void 0){let a=["cloned",e,s||RDe,t],o=X_.get(i,a);return o||(o=await IDe(e,r,t,s,n),X_.set(i,a,o)),o}async function tie(e,t,r,i=void 0,s=void 0){let{repositoryUrl:n,revision:a,relativePath:o}=cN.splitGitPackageUrl(e),u,d;if(i){let m=J_.getResolvedGitPackage(i,r);if(m.packagePath)return m.packagePath;if(d=eie(i,e,r),d){let f=lN(t,i,d);if(f&&await Ty.pathExists(Ml.join(f,aN.PACKAGE_MANIFEST_FILENAME)))return u={packageName:i,packagePath:f,hash:d},J_.setResolvedGitPackage(u,r),u.packagePath}}return u=await qDe(n,d||a,t,r,o,s),u.packageName&&(!i||u.packageName===i)&&J_.setResolvedGitPackage(u,r),u.packagePath}async function NDe(e,t,r){let{projectCachePath:i}=r.configuration,s=i||await SDe({prefix:".tmp"}),n=i?r.git:{},a=r.configuration.globalCachePaths.gitLfs,o=await tie(t,s,n,e,a);try{return await wDe.readPackageManifest(o)}catch(u){throw u instanceof Y_.NotFound?new Y_.NotFound(`[${t}] does not point to a valid package. No package manifest was found.`):u}finally{i||await Ty.remove(s)}}async function MDe(e,t,r){return r.configuration.projectCachePath?(bDe.setStateInstalling(e,r),tie(t,r.configuration.projectCachePath,r.git,e,r.configuration.globalCachePaths.gitLfs)):(aR.verbose(`Package [${e}@${t}] will not be installed because 'cachingLevel' is set to 'global'`),null)}async function LDe(e,t,r){gDe(r.git,"context.git must be defined");let i=J_.getResolvedGitPackage(e,r.git),{resolvedPath:s=null,hash:n=null}=i;r.configuration.projectCachePath&&(n||(n=eie(e,t,r.git)),!s&&n&&(s=await lN(r.configuration.projectCachePath,e,n)));let{revision:a}=cN.splitGitPackageUrl(t);return{name:e,version:t,packageId:`${e||""}${e?"@":""}${t}`,resolvedPath:s,source:aN.PACKAGE_SOURCE.Git,git:{hash:n,revision:a}}}function DDe(e){return cN.isGitUrl(e)}Qne.exports={getManifest:NDe,getResolutionInfo:LDe,install:MDe,isGitPackage:DDe}}),cR=O((yrt,nie)=>{var i0=Tt(),$De=Bi(),Z_=rr(),jDe=ux(),Q_=r0(),Cy=Ar(),oR=yt(),FDe=VE(),BDe=Qd(),UDe=Hi(),HDe=Nh(),uN=oa(),GDe=HE(),iie="-/all",zDe={[Cy.PACKAGE_PROVIDERS.AssetStore]:Cy.ENTITLEMENT_LICENSE_TYPES.AssetStore,[Cy.PACKAGE_PROVIDERS.Enterprise]:Cy.ENTITLEMENT_LICENSE_TYPES.Enterprise,[Cy.PACKAGE_PROVIDERS.Upm]:Cy.ENTITLEMENT_LICENSE_TYPES.Public},fN={};function VDe(e,t){let r=jDe.getMetadataRefreshInterval();r>0&&(fN[e]=t,setTimeout(()=>{delete fN[e]},r))}async function hN(e,t,r,i={}){let s=`${t.url}/${e}`,n=i0.get(fN,s);if(n)return n;let a=`fetch-metadata@${s}`,o,u={};return i.metadata&&i.metadata.etag&&(u["If-None-Match"]=i.metadata.etag),i.request=uN.isGenesisRegistryUrl(t.url)?await FDe.injectAuthorizationHeader(u,r):await BDe.injectAuthorizationHeader(u,t.url,t.url,r.configuration),HDe.inFlightPromise(a,async()=>{try{Z_.silly(`Fetching metadata for '${e}' at '${s}'`),o=await GDe.getJson(s,r.configuration,{gzip:!0,headers:u}),o&&await Q_.cacheMetadata(o,e,t)}catch(d){if(!(d instanceof oR.NotFound)){if(d instanceof oR.UnexpectedContentType)throw Z_.error(d.toString()),new oR.UpmError(`Registry [${t.url}] does not appear to be a valid registry`,d);if(d instanceof oR.NotModified)o=i.metadata;else throw Z_.error(d.toString()),d}}return VDe(s,o||{}),o||{}})}function sie(e,t){let r=zDe[t.provider];return i0.omitBy({_time:t.time&&t.time[e],entitlementsInfo:r&&{licenseType:r}},i0.isUndefined)}function WDe(e,t){return i0.pickBy(e,(r,i)=>UDe.matchesVersionRange(i,t))}async function KDe(e,t,r){let i=uN.getRegistryByScope(e.name,t.configuration.registries),s=await Q_.getMetadataFromCache(e.name,i);if(!r.offlineMode){r.metadata=s;try{s=await hN(e.name,i,t,r)}catch(a){if(s)Z_.verbose(`Failed to fetch metadata for package [${e.name}], cached metadata will be used`);else throw a}}if(!(s&&s.versions))return{};let n=i0.mapValues(s.versions,(a,o)=>({...a,...sie(o,s)}));return WDe(n,e.target)}async function XDe(e,t,r,i={}){let s=uN.getRegistryByScope(e,r.configuration.registries),n=await Q_.getMetadataFromCache(e,s),a=i0.get(n,["versions",t]);return a||(a=await Q_.getPackageMetadataFromTarballCache(e,t,s),n={versions:{[t]:a}}),!i.offlineMode&&!a&&(Z_.verbose(`Could not find cached metadata for package [${e}@${t}]`),n=await hN(e,s,r,i),a=i0.get(n,["versions",t])),a?{[t]:{...a,...sie(t,n)}}:{}}async function YDe(e,t,r={}){let i=$De.valid(e.target);return i?XDe(e.name,i,t,r):KDe(e,t,r)}async function JDe(e,t,r={}){let i,s=await Q_.getMetadataFromCache(iie,e);return r.offlineMode||(r.metadata=s,i=await hN(iie,e,t,r)),i||s||{}}async function ZDe(e,t,r={}){return Object.keys(await JDe(e,t,r))}nie.exports={getPackageMetadata:YDe,getAllPackageNames:ZDe}}),dN=O((vrt,aie)=>{var s0=Tt(),QDe=rr(),lR=r0(),e$e=Ar(),pN=yt(),t$e=os(),uR=cR(),oie=Qd(),r$e=rf(),n$e=Nh(),cie=oa();async function i$e(e,t){let{configuration:r,offlineMode:i}=t,s=cie.getRegistryByScope(e.name,r.registries),n=lR.getTarballCachePath(e.name,e.version,s),a={url:e.dist&&e.dist.tarball},o=await t$e.safeStats(n);if(o)a.localPath=n,a.size=o.size;else if(a.url&&!i)try{a.size=await oie.getRemoteTarballSize(a.url,s.url,t)}catch(d){QDe.verbose(`Failed to fetch package ${e.name} size: ${d}`)}let u=s0.pickBy(a);return!s0.isEmpty(u)&&u}async function s$e(e,t,r,i){let s=`downloadTarball@${e}@${t}`;await n$e.inFlightPromise(s,async()=>{let n=await uR.getPackageMetadata({name:e,target:t},i);if(s0.isEmpty(n[t]))throw new pN.NotFound(`Package [${e}@${t}] cannot be found`);await oie.downloadTarball(n[t],r,i)})}async function a$e(e,t,r){let i=await uR.getPackageMetadata({name:e,target:t},r,{offlineMode:!0}),s=i[t];if(s0.isEmpty(s)&&!r.offlineMode&&(i=await uR.getPackageMetadata({name:e,target:t},r),s=i[t]),s0.isEmpty(s))throw new pN.NotFound(`Package [${e}@${t}] cannot be found`);return s0.omit(s,["_id","_time","dist"])}async function o$e(e,t,r){let i=await uR.getPackageMetadata({name:e,target:t},r);if(s0.isEmpty(i))throw new pN.NotFound(`Package [${e}@${t}] cannot be found`);let s=await lR.ensurePackageInGlobalCache(i[t],r);return r.configuration.projectCachePath?(r$e.setStateInstalling(e,r),lR.ensurePackageInProjectCache(i[t].name,i[t].version,s,r)):null}async function c$e(e,t,r){let i=await lR.getPackageCacheInfo(e,t,r.configuration),s=cie.getRegistryByScope(e,r.configuration.registries),n={name:e,version:t,packageId:`${e}@${t}`,source:e$e.PACKAGE_SOURCE.Registry,resolvedPath:i.projectCachePath||null,inProgress:i.inProgress,registry:s};return i.error&&(n.error=i.error),n}aie.exports={downloadTarball:s$e,getTarballInfo:i$e,getManifest:a$e,getResolutionInfo:c$e,install:o$e}}),Oy=O((_rt,lie)=>{var uie=require("assert"),mN=Tt(),fie=Ar();function l$e(e){let{dependencies:t,resolutionInfo:r,depth:i,version:s}=e,{source:n,git:a,registry:o}=r,u={version:s,depth:i,source:n,dependencies:t||{}};return n===fie.PACKAGE_SOURCE.Git?(uie(a&&a.hash,"Expected `git.hash` to have a value"),u.hash=a.hash):n===fie.PACKAGE_SOURCE.Registry&&(uie(o&&o.url,"Expected `registry.url` to have a value"),u.url=o.url),u}function u$e(e,t){let r=mN(t).mapValues((i,s)=>i.error?e.dependencies[s]:l$e(i)).pickBy().value();return{dependencies:r}}function f$e(e,t){return{...e,dependencies:mN.omit(e.dependencies,t)}}function h$e(e,t){return e&&mN.get(e,`dependencies["${t}"]`)||null}lie.exports={refreshLock:u$e,removeDependencies:f$e,getDependency:h$e}}),yN=O((wrt,hie)=>{var fR=require("assert"),p$e=require("crypto"),e2=require("path"),t2=$n(),d$e=rr(),a0=Ar(),gN=yt(),r2=os(),m$e=GS(),g$e=Oy(),pie=tp(),n2=Hi(),y$e=rf(),v$e=O_(),die=FS();function _$e(e,t,r){let i=g$e.getDependency(r.originalLock,e);return!!(i&&i.source===a0.PACKAGE_SOURCE.LocalTarball&&i.version===t)}async function w$e(e){return new Promise(t=>{let r=p$e.createHash("md5"),i=t2.createReadStream(e);i.on("readable",()=>{let s=i.read();s?r.update(s):t(r.digest("hex").substr(0,12))})})}async function hR(e,t,r){let i=m$e.getInstallDatabaseEntry(e,r);if(i.isUpdated("tarball"))return i.tarball;let s=await r2.safeStats(t);if(s){if(!s.isFile())throw new gN.InvalidParameter(`Tarball package [${e}] at ${t} is not a file.`);let n=i.tarball||{},{hash:a}=n;(!a||n.mtime!==s.mtime.getTime()||n.size!==s.size)&&(a=await w$e(t)),i.tarball={hash:a,mtime:s.mtime.getTime(),size:s.size,localPath:t}}if(i.tarball)return i.tarball;throw new gN.NotFound(`Tarball package [${e}] cannot be found at path ${t}.`)}async function mie(e,t,r){return e2.join(r.configuration.projectCachePath,`${e}@${t}`)}async function gie(e,t,r){let i=await mie(e,t.hash,r),s=await t2.exists(i);return s?i:null}async function b$e(e,t,r){let i=n2.getAbsolutePathFromVersion(t,r.projectPath);fR(i,`Package ${e}@${t} is not a tarball package`);try{return await hR(e,i,r)}catch(s){return{}}}async function x$e(e,t,r){let i=n2.getAbsolutePathFromVersion(t,r.projectPath);if(fR(i,`Package ${e}@${t} is not a tarball package`),e){let n=await hR(e,i,r),a=await gie(e,n,r);if(a&&await t2.exists(e2.join(a,a0.PACKAGE_MANIFEST_FILENAME)))return pie.readPackageManifest(a)}let s=await r2.withTempFolder(async n=>(await die.extractPackageManifest(i,n),pie.readPackageManifest(n)));if(e&&s.name!==e)throw new gN.InvalidParameter(`The name found in the [${a0.PACKAGE_MANIFEST_FILENAME}] file of [${i}] does not match the expected name [${e}]`);return s}async function E$e(e,t,r){if(!r.configuration.projectCachePath)return d$e.verbose(`Skipping tarball extraction of [${e}@${t}] because \`cachingLevel\` is set to \`global\``),null;let i=n2.getAbsolutePathFromVersion(t,r.projectPath);fR(i,`Package ${e}@${t} is not a tarball package`);let s=await hR(e,i,r),n=await mie(e,s.hash,r);return await t2.exists(e2.join(n,a0.PACKAGE_MANIFEST_FILENAME))?n:(y$e.setStateInstalling(e,r),r2.withTempFolder(async a=>{let o=e2.join(a,"extract");return await die.extractAllFiles(i,o),await v$e.saveSignatureStatus(e,t,a0.PACKAGE_SOURCE.LocalTarball,o,r),await t2.ensureDir(e2.dirname(n)),await r2.moveDirectorySafe(o,n),n},{dir:r.configuration.projectCachePath}))}async function S$e(e,t,r){let i=n2.getAbsolutePathFromVersion(t,r.projectPath);fR(i,`Package ${e}@${t} is not a tarball package`);let s=null,n=await hR(e,i,r);return r.configuration.projectCachePath&&(s=await gie(e,n,r)),{name:e,version:t,packageId:`${e}@${a0.LOCAL_PATH_PACKAGE}${i}`,source:a0.PACKAGE_SOURCE.LocalTarball,resolvedPath:s,tarball:n}}async function R$e(e,t,r){let i=n2.getAbsolutePathFromVersion(t,r.projectPath);if(!i)return!1;let s=await r2.safeStats(i);return s?s.isFile():_$e(e,t,r)}hie.exports={getManifest:x$e,getResolutionInfo:S$e,getTarballInfo:b$e,install:E$e,isTarballPackage:R$e}}),yf=O((brt,yie)=>{var vN=require("assert"),A$e=Tt(),T$e=Bi(),pR=P4(),Lo=Ar(),C$e=yt(),ky=gre(),i2=rie(),vie=rf(),dR=dN(),mR=yN(),O$e={[Lo.PACKAGE_SOURCE.Registry]:dR,[Lo.PACKAGE_SOURCE.LocalTarball]:mR,[Lo.PACKAGE_SOURCE.BuiltIn]:pR,[Lo.PACKAGE_SOURCE.Local]:ky,[Lo.PACKAGE_SOURCE.Embedded]:ky,[Lo.PACKAGE_SOURCE.Git]:i2};async function k$e(e,t,r){return pR.isBuiltInPackage(e,t,r)?pR.getResolutionInfo(e,t,r):await mR.isTarballPackage(e,t,r)?mR.getResolutionInfo(e,t,r):await ky.isFolderBasedPackage(e,t,r)?ky.getResolutionInfo(e,t,r):i2.isGitPackage(t)?i2.getResolutionInfo(e,t,r):dR.getResolutionInfo(e,t,r)}async function P$e(e,t){let{name:r,version:i,source:s}=e,n;if(s===Lo.PACKAGE_SOURCE.Registry?n=await dR.getManifest(r,i,t):s===Lo.PACKAGE_SOURCE.Git?(n=await i2.getManifest(r,i,t),e=await i2.getResolutionInfo(r,i,t)):s===Lo.PACKAGE_SOURCE.LocalTarball?n=await mR.getManifest(r,i,t):s===Lo.PACKAGE_SOURCE.BuiltIn?n=pR.getManifest(r,i,t):s===Lo.PACKAGE_SOURCE.Embedded||s===Lo.PACKAGE_SOURCE.Local?n=await ky.getManifest(r,i,t):vN(!1,`Package identifier [${r}@${i}] cannot be resolved.`),n)return{...e,manifest:n};throw new C$e.NotFound(`Package [${r}@${i}] cannot be found`)}async function I$e(e,t){let{name:r,version:i,source:s}=e,n=O$e[s];vN(n,`no matching implementation found for package source ${s}`);try{let a=await n.install(r,i,t);return vie.setStateReady(r,t),a}catch(a){throw vie.setStateError(r,t),a}}async function q$e(e,t){let r={};return await Promise.all(A$e.map(e,async i=>{let{name:s}=i;try{let n=await I$e(i,t);r[s]={resolvedPath:n}}catch(n){r[s]={error:n}}})),r}async function N$e(e,t,r,i){return vN(T$e.valid(t),`Invalid SemVer package version [${t}].`),dR.downloadTarball(e,t,r,i)}yie.exports={downloadTarball:N$e,getEmbeddedPackageManifests:ky.getEmbeddedPackageManifests,getPackageResolutionInfo:k$e,installPackages:q$e,resolvePackageManifest:P$e}}),sp=O((xrt,_ie)=>{var gR=require("path"),Ll=Tt(),M$e=rr(),ip=Ar(),s2=yt(),_N=os(),wie=k_();function L$e(e){if(!e.dependencies)return e;let[t,r]=Ll.partition(Object.keys(e.dependencies).sort(),s=>s.startsWith("com.unity.modules.")),i=[...r,...t].reduce((s,n)=>(s[n]=e.dependencies[n],s),new Map);return{...e,dependencies:i}}function D$e(e){let t=e.dependencies||{},r=Ll.mapValues(e.lock,(i,s)=>{let n=t[s];if(!wie.isGitUrl(n))return null;let{repositoryUrl:a,revision:o}=wie.splitGitPackageUrl(n);return o!==i.revision&&(n=`${a}#${i.revision}`),{version:n,depth:0,source:ip.PACKAGE_SOURCE.Git,hash:i.hash,dependencies:{}}});return{dependencies:Ll.pickBy(r)}}async function bie(e,t,r){if(Ll.isEqual(t,r))return;await _N.writeJsonFile(e,L$e(r))}function $$e(e){if(e.disableProjectUpdate!==void 0&&!Ll.isBoolean(e.disableProjectUpdate))throw new s2.InvalidManifest(`\`disableProjectUpdate\` property type must be 'boolean', got '${typeof e.disableProjectUpdate}' instead`);if(e.enableLockFile!==void 0&&!Ll.isBoolean(e.enableLockFile))throw new s2.InvalidManifest(`\`enableLockFile\` property type must be 'boolean', got '${typeof e.enableLockFile}' instead`);if(e.resolutionStrategy!==void 0){let t=Ll.values(ip.RESOLUTION_STRATEGY);if(!t.includes(e.resolutionStrategy))throw new s2.InvalidManifest(`\`resolutionStrategy\` property is invalid.  Expected one of [${t.join(", ")}] but got '${e.resolutionStrategy}'`)}if(e.resolutionStrategy!==ip.RESOLUTION_STRATEGY.Lowest&&e.enableLockFile===!1&&M$e.warn(`\`resolutionStrategy\` property with value \`${e.resolutionStrategy}\` and without a lock file could cause packages being resolved in a non deterministic way. We would recommend using \`${ip.RESOLUTION_STRATEGY.Lowest}\` value instead.`),e.useSatSolver!==void 0&&!Ll.isBoolean(e.useSatSolver))throw new s2.InvalidManifest(`\`useSatSolver\` property type must be 'boolean', got '${typeof e.useSatSolver}' instead`)}async function j$e(e){let t={disallowDuplicateKeys:!0},r=await _N.readJsonFile(gR.join(e,ip.MANIFEST_FILENAME),t);return $$e(r),r}async function F$e(e){try{let t={disallowDuplicateKeys:!0},r=await _N.readJsonFile(gR.join(e,ip.LOCK_FILENAME),t);if(Ll.has(r,"dependencies"))return r}catch(t){if(!(t instanceof s2.NotFound))throw t}return null}async function B$e(e){let t=e?await j$e(e):{},r=e&&t.enableLockFile!==!1&&await F$e(e),i=r||D$e(t);return{manifest:t,lock:i}}async function U$e(e,t,r){let{projectPath:i,originalProjectManifest:s,originalLock:n}=e;await bie(gR.join(i,ip.MANIFEST_FILENAME),s,Ll.omit(t,"lock")),t.enableLockFile!==!1&&await bie(gR.join(i,ip.LOCK_FILENAME),s.lock||n,r)}_ie.exports={readProjectFiles:B$e,saveProjectFiles:U$e}}),a2=O((Ert,xie)=>{var H$e=yt();function G$e(e){let t=e.match(/^(\d{1,4}\.[1-9])(\.(\d|[1-9]\d*)(([abfp])([1-9]\d*)(-.*)?)?)?$/);if(!t)throw new H$e.InvalidParameter(`'${e}' is not a valid Unity version`);let r=t[4]?`${t[5]}.${t[6]}`:"a.1";return`${t[1]}.${t[3]||"0"}-${r}`}xie.exports={parseUnityVersion:G$e}}),Rie=O((Srt,Eie)=>{var z$e=require("path"),Sie=bn(),V$e=Sie.extend({type:"path",base:Sie.string(),messages:{"path.absolute":"{{#label}} must be an absolute file path"},rules:{absolute:{method(){return this.$_addRule("absolute")},validate(e,t){return z$e.isAbsolute(e)?e:t.error("path.absolute")}}}});Eie.exports=V$e}),_R=O((Rrt,Aie)=>{var W$e=require("os"),o0=require("path"),Py=Tt(),K$e=$n(),X$e=rr(),o2=yt(),yR=os(),Dl=Rie(),Tie=$x(),Y$e="upm-config.json",J$e="upmconfig.toml",Z$e=".upmconfig.toml",Q$e=K$e.readFileSync(o0.join(__dirname,"cacerts.pem"),"utf-8"),Cie=Dl.object({token:Dl.string(),email:Dl.string().email(),_auth:Dl.string().base64(),alwaysAuth:Dl.boolean().default(!1)}).xor("token","_auth").rename("_authToken","token",{ignoreUndefined:!0}).rename("always-auth","alwaysAuth",{ignoreUndefined:!0}),Oie=Dl.path().absolute(),eje=Dl.object({caFile:Dl.path().absolute()}),tje=Dl.object({npmAuth:Dl.object().pattern(/.*/,Cie),cacheRoot:Oie});async function kie(e){try{return e.endsWith(".json")?await yR.readJsonFile(e):await yR.readTomlFile(e)}catch(t){if(t instanceof o2.NotFound)return{};throw t}}function rje(){if(/^win/.test(process.platform))return o0.join(process.env.ALLUSERSPROFILE,"Unity/config");if(process.platform==="linux"||process.platform==="darwin")return"/etc";throw new Error(`Unable to resolve config folder for platform: ${process.platform}`)}function nje(){if(/^win/.test(process.platform))return o0.join(process.env.ALLUSERSPROFILE,"Unity/config");if(process.platform==="darwin")return"/Library/Application Support/Unity/config";if(process.platform==="linux")return"/usr/share/unity3d/config";throw new Error(`Unable to resolve config folder for platform: ${process.platform}`)}function ije(){return process.env.UPM_GLOBAL_CONFIG_FILE||o0.join(rje(),J$e)}function sje(){return process.env.UPM_CONFIG_FILE||o0.join(nje(),Y$e)}function aje(e,t=!0){let r=eje.validate(e,{abortEarly:!1,allowUnknown:t,stripUnknown:t});if(r.error)throw new o2.InvalidParameter("Upm configuration is invalid",r.error);return r.value}async function oje(e){let{caFile:t}=e;if(t)try{let r=await yR.readTextFile(e.caFile);return{ca:`${Q$e}
${r}`}}catch(r){X$e.error(`Failed to read CA file [${e.caFile}]: ${r}`)}return{}}async function Pie(e={}){let{configFilePath:t,acceptUnknown:r=!0}=e,i=await kie(t||ije()),s=aje(i,r);return Py.omitBy({ssl:await oje(s)},Py.isUndefined)}async function cje(){return Pie({configFilePath:sje(),acceptUnknown:!1})}function lje(){let e=W$e.homedir();return/^win/.test(process.platform)&&e.toLowerCase().startsWith(process.env.SYSTEMROOT.toLowerCase())?o0.join(process.env.ALLUSERSPROFILE,"Unity","config","ServiceAccounts"):e}function Iie(){return process.env.UPM_USER_CONFIG_FILE||o0.join(lje(),Z$e)}function uje(e){let t=tje.validate(e,{abortEarly:!1,allowUnknown:!0,stripUnknown:!0}),r=Object.keys(e.npmAuth||{}).filter(i=>{try{Tie.validateRegistryUrl(i)}catch(s){return!0}return!1}).map(i=>`[${i}] is not a valid URL. Expecting a URL like http://<hostname>/<path> or https://<hostname>/<path>`);if(t.error||r.length>0)throw new o2.InvalidParameter("Upm configuration is invalid",...r,t.error);return t.value}async function qie(){return kie(Iie())}async function fje(e){await yR.writeTomlFile(Iie(),e)}function hje(e){if(Py.isUndefined(e.npmAuth))return e;let t={};return Object.keys(e.npmAuth).forEach(r=>{t[r.replace(/\/*$/,"")]=e.npmAuth[r]}),{...e,npmAuth:t}}async function Nie(){let e=await qie(),t=hje(e);return uje(t)}async function vR(e){let t=await qie(),r=Py.cloneDeep(t);e(t),Py.isEqual(t,r)||await fje(t)}async function pje(e,t,r,i){let s={token:t,email:r,...i},n=[],a=Cie.validate(s,{abortEarly:!1,allowUnknown:!1});a.error&&n.push(a.error.message);try{Tie.validateRegistryUrl(e)}catch(o){n.push(o.message)}if(n.length>0)throw new o2.InvalidParameter("Cannot save registry authentication configuration",n);return vR(o=>{o.npmAuth||(o.npmAuth={}),o.npmAuth[e]=s})}async function dje(e){return vR(t=>{t.npmAuth&&delete t.npmAuth[e]})}async function mje(e){let t=Oie.validate(e);if(t.error)throw new o2.InvalidParameter("Cannot save cache root configuration",t.error.message);return vR(r=>{r.cacheRoot=e})}async function gje(){return vR(e=>{delete e.cacheRoot})}async function yje(){return Py.merge(...await Promise.all([cje(),Pie(),Nie()]))}Aie.exports={saveNpmAuthConfiguration:pje,clearNpmAuthConfiguration:dje,saveCacheRootConfiguration:mje,clearCacheRootConfiguration:gje,getUserConfig:Nie,getUpmConfig:yje}}),js=O((Art,Mie)=>{var vje=require("crypto"),wR=require("path"),fi=Tt(),_je=ux(),wN=Ar(),wje=Kte(),bje=GS(),xje=tp(),Eje=yf(),Sje=sp(),Rje=oa(),Aje=a2(),Tje=_R();async function Cje(e){if(!e)return{};let{manifests:t}=await Eje.getEmbeddedPackageManifests(e);return t}function Oje(e){return e?wR.normalize(wR.resolve(e)):null}function kje(e){let t=["projectPath","editorPath","builtInPackagesPath"];return fi.mapValues(fi.pick(e,t),Oje)}function Pje(e){return fi.pick(e,["registry","scopedRegistries","resolutionStrategy","useSatSolver"])}function Ije(e){let{metadataPackageName:t,packages:r,upmConfig:i}=e,s={...e.recommended,...fi.mapValues(fi.pickBy(r,u=>u.version),u=>u.version)},n=fi.mapValues(fi.pickBy(r,u=>u.nextVersion),u=>u.nextVersion),a=fi.keys(fi.pickBy(r,u=>u.isDiscoverable)),o=fi.pick(fi.get(i,"discoverability")||{},["excludeNonDiscoverable","includeRemoteList"]);return{metadataPackageName:t,packageMetadata:r,verifiedPackages:s,preReleasePackages:n,discoverablePackages:a,discoverability:o}}function Lie(e={}){let t=_je.createGlobalCachePaths(e),r=Rje.createRegistries(t,e),i={projectPath:e.projectPath,unity:{version:e.unityVersion,bundledPackageIds:e.bundledPackageIds||[],verifiedPackages:e.verifiedPackages||{},preReleasePackages:e.preReleasePackages||{},discoverablePackages:e.discoverablePackages||[],builtInPackages:e.builtInPackages||{},packageMetadata:e.packageMetadata||{},dotNetRuntimePath:e.dotNetRuntimePath||null},offlineMode:Boolean(e.offlineMode),git:e.gitContext||{},configuration:{globalCachePaths:t,discoverability:{excludeNonDiscoverable:fi.get(e,"discoverability.excludeNonDiscoverable",!1),includeRemoteList:fi.get(e,"discoverability.includeRemoteList",!0)},npmAuth:e.npmAuth,registries:r,resolutionStrategy:fi.get(e,"resolutionStrategy",wN.RESOLUTION_STRATEGY.Lowest),ssl:e.ssl,useSatSolver:fi.get(e,"useSatSolver",!0)},originalProjectManifest:Object.freeze(fi.cloneDeep(e.projectManifest)),originalLock:Object.freeze(fi.cloneDeep(e.lock)),genesis:e.genesis||{},id:vje.randomBytes(16).toString("hex"),installDatabase:e.installDatabase,originalInstallDatabase:Object.freeze(fi.cloneDeep(e.installDatabase))},s=fi.get(e,"cachingLevel",wN.CACHING_LEVEL.Project);return i.projectPath&&s===wN.CACHING_LEVEL.Project&&(i.configuration.projectCachePath=wR.resolve(wR.join(i.projectPath,"..","Library","PackageCache"))),i.unity.version&&Aje.parseUnityVersion(i.unity.version),e.emitter&&(i.events={emitter:e.emitter}),i}async function qje(...e){let t=Object.assign({},...e);Object.assign(t,kje(t));let[r,i,s,n,a]=await Promise.all([bje.readInstallDatabase(t.projectPath),Sje.readProjectFiles(t.projectPath),xje.readEditorManifest(t.editorPath),Cje(t.builtInPackagesPath),Tje.getUpmConfig()]);Object.assign(t,Pje(i.manifest),Ije(s),a);let o=[];if(t.editorPath){let{configuration:u}=Lie(t);o.push(...await wje.provisionEditorBundledPackages(t.editorPath,u))}return Object.assign(t,{installDatabase:r,bundledPackageIds:o,builtInPackages:n,projectManifest:i.manifest,lock:i.lock}),Lie(t)}Mie.exports={initContext:qje}}),bN=O((Trt,Die)=>{var Do=Tt(),c2=yt(),l2=oa();function u2(e){let{id:t,url:r,name:i,scopes:s,isMain:n=!1}=e,a=l2.isGenesisRegistryUrl(e.url);return{id:t,url:r,...Do.omitBy({name:i,scopes:s},Do.isUndefined),isMain:n,isDefault:n,capabilities:{pagination:a,classification:a,ordering:a}}}function Nje(e){return[u2(e.main),...e.scoped.map(t=>u2(t))]}function Mje(e,t,r,i){let s=l2.validateScopedRegistryConfig(e,t,r,i.originalProjectManifest.scopedRegistries);if(s.length>0)throw new c2.InvalidParameter("Scoped registry is invalid",...s);let n={...i.originalProjectManifest,scopedRegistries:[...i.originalProjectManifest.scopedRegistries||[],{name:e,url:t,scopes:r}]};return{manifest:n,registry:u2(l2.createScopedRegistry(t,e,r,i.configuration.globalCachePaths))}}function Lje(e,t){let r=Do.filter(t.configuration.registries.scoped,s=>s.name!==e);if(r.length===t.configuration.registries.scoped.length)throw new c2.NotFound(`No scoped registry named "${e}"`);let i={...t.originalProjectManifest,scopedRegistries:r.map(s=>Do.pick(s,["name","url","scopes"]))};return{manifest:i}}function Dje(e,t,r){let i=["newName","newUrl","newScopes"],s=Do.pickBy(t,(m,f)=>i.includes(f)&&!Do.isNil(m));if(Do.isEmpty(s))throw new c2.InvalidParameter(`No properties to update provided. Expected at least one of [${i.join(", ")}].`);let n=r.configuration.registries.scoped.map(m=>Do.pick(m,["name","url","scopes"])),a=Do.findIndex(n,{name:e});if(a===-1)throw new c2.NotFound(`No scoped registry named "${e}"`);let o={...n[a],...Do.omitBy({name:t.newName,url:t.newUrl,scopes:t.newScopes},Do.isNil)},u=l2.validateScopedRegistryConfig(o.name,o.url,o.scopes,Do.filter(n,m=>m.name!==e));if(u.length>0)throw new c2.InvalidParameter("Updated scoped registry is invalid",...u);n[a]=o;let d={...r.originalProjectManifest,scopedRegistries:n};return{manifest:d,registry:u2(l2.createScopedRegistry(o.url,o.name,o.scopes,r.configuration.globalCachePaths))}}Die.exports={addScopedRegistry:Mje,removeScopedRegistry:Lje,updateScopedRegistry:Dje,getRegistryInfo:u2,getAllRegistryInfo:Nje}}),jie=O((Crt,$ie)=>{var xN=ju(),Ba=yt(),bR=js(),EN=sp(),xR=bN();async function $je(e){if(!e)throw new Ba.InvalidParameter("`projectPath` parameter is required.");let t=await bR.initContext({projectPath:e}),r=xR.getAllRegistryInfo(t.configuration.registries);return{registries:r}}async function jje(e,t,r,i){if(!e)throw new Ba.InvalidParameter("`name` parameter is required.");if(!t)throw new Ba.InvalidParameter("`url` parameter is required.");if(!r)throw new Ba.InvalidParameter("`scopes` parameter is required.");if(!i)throw new Ba.InvalidParameter("`projectPath` parameter is required.");try{return await xN.runBlockingOperation(i,async()=>{let s=await bR.initContext({projectPath:i}),n=await xR.addScopedRegistry(e,t,r,s);return await EN.saveProjectFiles(s,n.manifest,s.originalLock),n.registry})}catch(s){throw s instanceof Ba.UpmError&&s.prependErrorMessage(`Unable to add scoped registry [${e}]`),s}}async function Fje(e,t){if(!e)throw new Ba.InvalidParameter("`name` parameter is required.");if(!t)throw new Ba.InvalidParameter("`projectPath` parameter is required.");try{return await xN.runBlockingOperation(t,async()=>{let r=await bR.initContext({projectPath:t}),i=xR.removeScopedRegistry(e,r);await EN.saveProjectFiles(r,i.manifest,r.originalLock)})}catch(r){throw r instanceof Ba.UpmError&&r.prependErrorMessage(`Unable to remove scoped registry named "${e}"`),r}}async function Bje(e,t,r){if(!e)throw new Ba.InvalidParameter("`name` parameter is required.");if(!t)throw new Ba.InvalidParameter("`properties` parameter is required.");if(!r)throw new Ba.InvalidParameter("`projectPath` parameter is required.");try{return await xN.runBlockingOperation(r,async()=>{let i=await bR.initContext({projectPath:r}),s=xR.updateScopedRegistry(e,t,i);return await EN.saveProjectFiles(i,s.manifest,i.originalLock),s.registry})}catch(i){throw i instanceof Ba.UpmError&&i.prependErrorMessage(`Unable to update scoped registry named "${e}"`),i}}$ie.exports={addScopedRegistry:jje,removeScopedRegistry:Fje,updateScopedRegistry:Bje,getRegistries:$je}}),Gie=O((Ort,Fie)=>{var Uje=require("assert"),Bie=Tt(),Uie=Bi(),Hje=yt(),Hie=Hi(),Gje=a2(),SN=class{constructor(t){let{version:r,minimumVersion:i,isDeprecated:s,introduced:n}=t;if(s&&n)throw new Hje.InvalidParameter("A package cannot be marked as both `deprecated` and `introduced`");if(this.isDeprecation=s,s)return;this.version=i||r,Hie.validateSemverPackageVersion(this.version),this.introduced=n?Gje.parseUnityVersion(n):null}};function zje(e){if(!e)return!0;try{return Hie.validateSemverPackageVersion(e),!0}catch(t){return!1}}function Vje(e,t,r=void 0){if(Uje(e instanceof SN,"`rule` must be an instance of `UpdateRule`"),!zje(t))return t;if(e.isDeprecation)return null;let i=!1;return t?i=e.version==="0.0.0-builtin"||Uie.gt(e.version,t):e.introduced&&(i=!r||Uie.gt(e.introduced,r)),i?e.version:t}function Wje(e,t,r=void 0){let i=Bie.mapValues(e,(n,a)=>{let o=t?t[a]:null;return Vje(n,o,r)}),s=[null,void 0];return Bie.pickBy({...t,...i},n=>!s.includes(n))}Fie.exports={UpdateRule:SN,updateDependencies:Wje}}),Wie=O((krt,zie)=>{var Fs=Tt(),Kje=ju(),$l=yt(),Xje=os(),Yje=js(),RN=Hi(),Jje=sp(),AN=Gie(),Zje=a2();function Qje(e,t={}){let r=s=>s||null,i=Object.keys({...e,...t});return i.reduce((s,n)=>{let a=r(e[n]),o=r(t[n]);return a!==o&&(s[n]=Fs.pickBy({newVersion:a,previousVersion:o},u=>u)),s},{})}function eFe(e){let t={...e,schemaVersion:3,packages:Fs.mapValues(e.packages,r=>{let i={...r},s=i.isDefault||i.isVerified,n=i.version==="deprecated",a=i.version&&!i.introduced&&!s||n;return n?i.isDeprecated=!0:a&&(i.nextVersion=i.version),delete i.isVerified,a&&delete i.version,i})};return t}function tFe(e){let t=Fs.omit(e,["recommended","defaultDependencies"]);return t.packages=Fs.merge(Fs.mapValues(e.recommended,r=>({isVerified:!0,version:r})),Fs.mapValues(e.defaultDependencies,r=>({isDefault:!0,version:r})),e.packages),t.schemaVersion=2,t}function rFe(e){let t=e.recommended||e.defaultDependencies,r=e.schemaVersion||(t?1:2);return r<2&&(e=tFe(e)),r<3&&(e=eFe(e)),e.packages}async function TN(e,t,r){let i=await Xje.readJsonFile(t),s=await Kje.runBlockingOperation(e,async()=>{let n=await Yje.initContext({projectPath:e}),{projectManifest:a,lock:o}=r(rFe(i),n.originalProjectManifest,n.originalLock);return await Jje.saveProjectFiles(n,a,o),{context:n,projectManifest:a}});return Qje(s.projectManifest.dependencies,s.context.originalProjectManifest.dependencies)}function Vie(e){let t=Fs.mapValues(Fs.pickBy(e,i=>i.minimumVersion||i.version||i.isDeprecated),(i,s)=>{try{return RN.validatePackageName(s),new AN.UpdateRule(i)}catch(n){return n}}),r=Fs.pickBy(t,i=>i instanceof Error);if(!Fs.isEmpty(r))throw new $l.DependenciesError("Invalid package metadata was found",r);return t}async function nFe(e,t){if(!e)throw new $l.InvalidParameter("`projectPath` parameter is required.");if(!t)throw new $l.InvalidParameter("`updateFilePath` parameter is required.");let r=(i,s,n)=>{let a="2018.1",o=Fs(i).pickBy((d,m)=>d.isDefault||d.version&&Fs.get(s.dependencies,m)).mapValues(d=>({introduced:a,isDeprecated:d.isDeprecated,version:d.version})).value(),u=Vie(o);return{projectManifest:{...s,dependencies:AN.updateDependencies(u,s.dependencies)},lock:n}};return TN(e,t,r)}async function iFe(e,t,r){if(!e)throw new $l.InvalidParameter("`projectPath` parameter is required.");if(!r)throw new $l.InvalidParameter("`updateFilePath` parameter is required.");let i=null;if(t)try{i=Zje.parseUnityVersion(t)}catch(n){throw new $l.InvalidParameter("`projectVersion` parameter is invalid",n)}let s=(n,a,o)=>{if(a.disableProjectUpdate)throw new $l.Forbidden("Project updates are disallowed when `disableProjectUpdate` is specified.");return{projectManifest:{...a,dependencies:AN.updateDependencies(Vie(n),a.dependencies,i)},lock:o}};return TN(e,r,s)}async function sFe(e,t){if(!e)throw new $l.InvalidParameter("`projectPath` parameter is required.");if(!t)throw new $l.InvalidParameter("`updateFilePath` parameter is required.");return TN(e,t,(r,i)=>{let s=Fs(r).pickBy(a=>a.isDefault).mapValues((a,o)=>{try{return RN.validatePackageName(o),RN.validatePackageVersion(a.version),a.version}catch(u){return u}}).value(),n=Fs.pickBy(s,a=>a instanceof Error);if(!Fs.isEmpty(n))throw new $l.DependenciesError("Invalid package metadata was found",n);return{projectManifest:{...i,dependencies:s},lock:{}}})}zie.exports={mergeDefaultDependencies:nFe,resetToDefaultDependencies:sFe,updateDependencies:iFe}}),CN=O((Prt,Kie)=>{var aFe=Oy(),oFe=oa();function Xie(e,t,r){let i=aFe.getDependency(r,e);if(!i)return null;let s=t&&t.url||null,n=i.url||null;return s===n?i:null}function cFe(e,t,r){let i=oFe.getRegistryByScope(e,r.configuration.registries),{depth:s,version:n}=Xie(e,i,t)||{};return s>0?n:null}function lFe(e,t){let{name:r,version:i,registry:s}=e,n=Xie(r,s,t),a=n&&i===n.version&&n.dependencies;return a||{}}Kie.exports={getLockedVersion:cFe,getLockedDependencies:lFe}}),Yie=O((exports,module)=>{var C_MINISAT;C_MINISAT=function(){var module={},require=function(){},process={argv:["node","minisat"],on:function(){},stdout:{write:function(e){console.log("MINISAT-out:",e.replace(/\n$/,""))}},stderr:{write:function(e){console.log("MINISAT-err:",e.replace(/\n$/,""))}}},window=0,Module;Module||(Module=(typeof Module!="undefined"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof require=="function",ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(t){process.stdout.write(t+`
`)}),Module.printErr||(Module.printErr=function(t){process.stderr.write(t+`
`)});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(t,r){t=nodePath.normalize(t);var i=nodeFS.readFileSync(t);return!i&&t!=nodePath.resolve(t)&&(t=path.join(__dirname,"..","src",t),i=nodeFS.readFileSync(t)),i&&!r&&(i=i.toString()),i},Module.readBinary=function(t){return Module.read(t,!0)},Module.load=function(t){globalEval(read(t))},process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program",Module.arguments=process.argv.slice(2),typeof module!="undefined"&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e})}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr!="undefined"&&(Module.printErr=printErr),typeof read!="undefined"?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(t){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(t));var r=read(t,"binary");return assert(typeof r=="object"),r},typeof scriptArgs!="undefined"?Module.arguments=scriptArgs:typeof arguments!="undefined"&&(Module.arguments=arguments),this.Module=Module;else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(t){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(null),r.responseText},typeof arguments!="undefined"&&(Module.arguments=arguments),typeof console!="undefined")Module.print||(Module.print=function(t){console.log(t)}),Module.printErr||(Module.printErr=function(t){console.log(t)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump!="undefined"?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WEB?window.Module=Module:Module.load=importScripts}else throw"Unknown runtime environment. Where are we?";function globalEval(e){eval.call(null,e)}!Module.load&&Module.read&&(Module.load=function(t){globalEval(Module.read(t))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(e[e.length-1]==="*")return Runtime.QUANTUM_SIZE;if(e[0]==="i"){var t=parseInt(e.substr(1));return assert(t%8===0),t/8}else return 0}}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,getAlignSize:function(e,t,r){return!r&&(e=="i64"||e=="double")?8:e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8)},dynCall:function(e,t,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,t),Module["dynCall_"+e].apply(null,r)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},getAsmConst:function(code,numArgs){Runtime.asmConstCache||(Runtime.asmConstCache={});var func=Runtime.asmConstCache[code];if(func)return func;for(var args=[],i=0;i<numArgs;i++)args.push(String.fromCharCode(36)+i);var source=Pointer_stringify(code);source[0]==='"'&&(source.indexOf('"',1)===source.length-1?source=source.substr(1,source.length-2):abort("invalid EM_ASM input |"+source+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var evalled=eval("(function(Module, FS) { return function("+args.join(",")+"){ "+source+" } })")(Module,typeof FS!="undefined"?FS:null)}catch(e){throw Module.printErr("error in executing inline EM_ASM code: "+e+` on: 

`+source+`

with args |`+args+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),e}return Runtime.asmConstCache[code]=evalled},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var r=Runtime.funcWrappers[t];return r[e]||(r[e]=function(){return Runtime.dynCall(t,e,arguments)}),r[e]},UTF8Processor:function(){var e=[],t=0;this.processCChar=function(r){if(r=r&255,e.length==0)return(r&128)==0?String.fromCharCode(r):(e.push(r),(r&224)==192?t=1:(r&240)==224?t=2:t=3,"");if(t&&(e.push(r),t--,t>0))return"";var i=e[0],s=e[1],n=e[2],a=e[3],o;if(e.length==2)o=String.fromCharCode((i&31)<<6|s&63);else if(e.length==3)o=String.fromCharCode((i&15)<<12|(s&63)<<6|n&63);else{var u=(i&7)<<18|(s&63)<<12|(n&63)<<6|a&63;o=String.fromCharCode(((u-65536)/1024|0)+55296,(u-65536)%1024+56320)}return e.length=0,o},this.processJSString=function(i){i=unescape(encodeURIComponent(i));for(var s=[],n=0;n<i.length;n++)s.push(i.charCodeAt(n));return s}},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;return DYNAMICTOP=DYNAMICTOP+e|0,DYNAMICTOP=DYNAMICTOP+15&-16,DYNAMICTOP>=TOTAL_MEMORY&&enlargeMemory(),t},alignMemory:function(e,t){var r=e=Math.ceil(e/(t||16))*(t||16);return r},makeBigInt:function(e,t,r){var i=r?+(e>>>0)+ +(t>>>0)*4294967296:+(e>>>0)+ +(t|0)*4294967296;return i},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: "+t)}var globalScope=this;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return e!=null&&e!==0&&(t=Runtime.stackAlloc((e.length<<2)+1),writeStringToMemory(e,t)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(t,r,i,s){var n=getCFunc(t),a=[],o=0;if(s)for(var u=0;u<s.length;u++){var d=toC[i[u]];d?(o===0&&(o=Runtime.stackSave()),a[u]=d(s[u])):a[u]=s[u]}var m=n.apply(null,a);return r==="string"&&(m=Pointer_stringify(m)),o!==0&&Runtime.stackRestore(o),m};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return e==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type==="number")continue;var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.cwrap=cwrap,Module.ccall=ccall;function setValue(e,t,r,i){r=r||"i8",r.charAt(r.length-1)==="*"&&(r="i32");switch(r){case"i1":HEAP8[e>>0]=t;break;case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+r)}}Module.setValue=setValue;function getValue(e,t,r){t=t||"i8",t.charAt(t.length-1)==="*"&&(t="i32");switch(t){case"i1":return HEAP8[e>>0];case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(e,t,r,i){var s,n;typeof e=="number"?(s=!0,n=e):(s=!1,n=e.length);var a=typeof t=="string"?t:null,o;if(r==ALLOC_NONE?o=i:o=[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][r===void 0?ALLOC_STATIC:r](Math.max(n,a?1:t.length)),s){var i=o,u;for(assert((o&3)==0),u=o+(n&~3);i<u;i+=4)HEAP32[i>>2]=0;for(u=o+n;i<u;)HEAP8[i++>>0]=0;return o}if(a==="i8")return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var d=0,m,f,x;d<n;){var T=e[d];if(typeof T=="function"&&(T=Runtime.getFunctionIndex(T)),m=a||t[d],m===0){d++;continue}m=="i64"&&(m="i32"),setValue(o+d,T,m),x!==m&&(f=Runtime.getNativeTypeSize(m),x=m),d+=f}return o}Module.allocate=allocate;function Pointer_stringify(e,t){if(t===0||!e)return"";for(var r=!1,i,s=0;;){if(i=HEAPU8[e+s>>0],i>=128)r=!0;else if(i==0&&!t)break;if(s++,t&&s==t)break}t||(t=s);var n="";if(!r){for(var a=1024,o;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,a))),n=n?n+o:o,e+=a,t-=a;return n}var u=new Runtime.UTF8Processor;for(s=0;s<t;s++)i=HEAPU8[e+s>>0],n+=u.processCChar(i);return n}Module.Pointer_stringify=Pointer_stringify;function UTF16ToString(e){for(var t=0,r="";;){var i=HEAP16[e+t*2>>1];if(i==0)return r;++t,r+=String.fromCharCode(i)}}Module.UTF16ToString=UTF16ToString;function stringToUTF16(e,t){for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);HEAP16[t+r*2>>1]=i}HEAP16[t+e.length*2>>1]=0}Module.stringToUTF16=stringToUTF16;function UTF32ToString(e){for(var t=0,r="";;){var i=HEAP32[e+t*4>>2];if(i==0)return r;if(++t,i>=65536){var s=i-65536;r+=String.fromCharCode(55296|s>>10,56320|s&1023)}else r+=String.fromCharCode(i)}}Module.UTF32ToString=UTF32ToString;function stringToUTF32(e,t){for(var r=0,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343){var n=e.charCodeAt(++i);s=65536+((s&1023)<<10)|n&1023}HEAP32[t+r*4>>2]=s,++r}HEAP32[t+r*4>>2]=0}Module.stringToUTF32=stringToUTF32;function demangle(e){var t=!!Module.___cxa_demangle;if(t)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var i=_malloc(4),s=Module.___cxa_demangle(r,0,0,i);if(getValue(i,"i32")===0&&s)return Pointer_stringify(s)}catch(T){}finally{r&&_free(r),i&&_free(i),s&&_free(s)}var n=3,a={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},o=[],u=!0;function d(T){T&&Module.print(T),Module.print(e);for(var q="",F=0;F<n;F++)q+=" ";Module.print(q+"^")}function m(){n++,e[n]==="K"&&n++;for(var T=[];e[n]!=="E";){if(e[n]==="S"){n++;var q=e.indexOf("_",n),F=e.substring(n,q)||0;T.push(o[F]||"?"),n=q+1;continue}if(e[n]==="C"){T.push(T[T.length-1]),n+=2;continue}var $=parseInt(e.substr(n)),H=$.toString().length;if(!$||!H){n--;break}var oe=e.substr(n+H,$);T.push(oe),o.push(oe),n+=H+$}return n++,T}function f(T,q,F){q=q||Infinity;var $="",H=[];function oe(){return"("+H.join(", ")+")"}var Q;if(e[n]==="N"){if(Q=m().join("::"),q--,q===0)return T?[Q]:Q}else{(e[n]==="K"||u&&e[n]==="L")&&n++;var pe=parseInt(e.substr(n));if(pe){var ve=pe.toString().length;Q=e.substr(n+ve,pe),n+=ve+pe}}if(u=!1,e[n]==="I"){n++;var Ce=f(!0),fe=f(!0,1,!0);$+=fe[0]+" "+Q+"<"+Ce.join(", ")+">"}else $=Q;e:for(;n<e.length&&q-- >0;){var Pe=e[n++];if(Pe in a)H.push(a[Pe]);else switch(Pe){case"P":H.push(f(!0,1,!0)[0]+"*");break;case"R":H.push(f(!0,1,!0)[0]+"&");break;case"L":{n++;var Ve=e.indexOf("E",n),pe=Ve-n;H.push(e.substr(n,pe)),n+=pe+2;break}case"A":{var pe=parseInt(e.substr(n));if(n+=pe.toString().length,e[n]!=="_")throw"?";n++,H.push(f(!0,1,!0)[0]+" ["+pe+"]");break}case"E":break e;default:$+="?"+Pe;break e}}return!F&&H.length===1&&H[0]==="void"&&(H=[]),T?($&&H.push($+"?"),H):$+oe()}var x=e;try{if(e=="Object._main"||e=="_main")return"main()";if(typeof e=="number"&&(e=Pointer_stringify(e)),e[0]!=="_")return e;if(e[1]!=="_")return e;if(e[2]!=="Z")return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}x=f()}catch(T){x+="?"}return x.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),x}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(t){var r=demangle(t);return t===r?t:t+" ["+r+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.stackTrace=stackTrace;var PAGE_SIZE=4096;function alignMemoryPage(e){return e+4095&-4096}var HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function enlargeMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+TOTAL_MEMORY+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.")}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||67108864,FAST_MEMORY=Module.FAST_MEMORY||2097152,totalMemory=64*1024;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16*1024*1024?totalMemory*=2:totalMemory+=16*1024*1024;totalMemory!==TOTAL_MEMORY&&(Module.printErr("increasing TOTAL_MEMORY to "+totalMemory+" to be compliant with the asm.js spec"),TOTAL_MEMORY=totalMemory),assert(typeof Int32Array!="undefined"&&typeof Float64Array!="undefined"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer=new ArrayBuffer(TOTAL_MEMORY);HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(HEAPU8[0]===255&&HEAPU8[3]===0,"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if(typeof t=="function"){t();continue}var r=t.func;typeof r=="number"?t.arg===void 0?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[t.arg]):r(t.arg===void 0?null:t.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}Module.addOnPreRun=Module.addOnPreRun=addOnPreRun;function addOnInit(e){__ATINIT__.unshift(e)}Module.addOnInit=Module.addOnInit=addOnInit;function addOnPreMain(e){__ATMAIN__.unshift(e)}Module.addOnPreMain=Module.addOnPreMain=addOnPreMain;function addOnExit(e){__ATEXIT__.unshift(e)}Module.addOnExit=Module.addOnExit=addOnExit;function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}Module.addOnPostRun=Module.addOnPostRun=addOnPostRun;function intArrayFromString(e,t,r){var i=new Runtime.UTF8Processor().processJSString(e);return r&&(i.length=r),t||i.push(0),i}Module.intArrayFromString=intArrayFromString;function intArrayToString(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i>255&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(e,t,r){for(var i=intArrayFromString(e,r),s=0;s<i.length;){var n=i[s];HEAP8[t+s>>0]=n,s=s+1}}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(e,t){for(var r=0;r<e.length;r++)HEAP8[t+r>>0]=e[r]}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(e,t,r){for(var i=0;i<e.length;i++)HEAP8[t+i>>0]=e.charCodeAt(i);r||(HEAP8[t+e.length>>0]=0)}Module.writeAsciiToMemory=writeAsciiToMemory;function unSign(e,t,r){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,r){if(e<=0)return e;var i=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=i&&(t<=32||e>i)&&(e=-2*i+e),e}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(t,r){var i=t>>>16,s=t&65535,n=r>>>16,a=r&65535;return s*a+(i*a+s*n<<16)|0}),Math.imul=Math.imul;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null;STATIC_BASE=8,STATICTOP=STATIC_BASE+5664,__ATINIT__.push({func:function(){__GLOBAL__I_a()}},{func:function(){__GLOBAL__I_a127()}}),allocate([78,55,77,105,110,105,115,97,116,50,48,79,117,116,79,102,77,101,109,111,114,121,69,120,99,101,112,116,105,111,110,69,0,0,0,0,0,0,0,0,88,18,0,0,8,0,0,0,78,55,77,105,110,105,115,97,116,54,79,112,116,105,111,110,69,0,0,0,0,0,0,0,88,18,0,0,56,0,0,0,10,32,32,32,32,32,32,32,32,37,115,10,0,0,0,0,0,0,0,0,80,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,1,0,0,0,78,55,77,105,110,105,115,97,116,49,48,66,111,111,108,79,112,116,105,111,110,69,0,0,128,18,0,0,176,0,0,0,80,0,0,0,0,0,0,0,32,32,45,37,115,44,32,45,110,111,45,37,115,0,0,0,40,100,101,102,97,117,108,116,58,32,37,115,41,10,0,0,111,110,0,0,0,0,0,0,111,102,102,0,0,0,0,0,110,111,45,0,0,0,0,0,0,0,0,0,64,1,0,0,1,0,0,0,4,0,0,0,2,0,0,0,2,0,0,0,78,55,77,105,110,105,115,97,116,57,73,110,116,79,112,116,105,111,110,69,0,0,0,0,128,18,0,0,40,1,0,0,80,0,0,0,0,0,0,0,32,32,45,37,45,49,50,115,32,61,32,37,45,56,115,32,91,0,0,0,0,0,0,0,105,109,105,110,0,0,0,0,37,52,100,0,0,0,0,0,32,46,46,32,0,0,0,0,105,109,97,120,0,0,0,0,93,32,40,100,101,102,97,117,108,116,58,32,37,100,41,10,0,0,0,0,0,0,0,0,69,82,82,79,82,33,32,118,97,108,117,101,32,60,37,115,62,32,105,115,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,111,112,116,105,111,110,32,34,37,115,34,46,10,0,0,0,0,0,0,0,0,69,82,82,79,82,33,32,118,97,108,117,101,32,60,37,115,62,32,105,115,32,116,111,111,32,115,109,97,108,108,32,102,111,114,32,111,112,116,105,111,110,32,34,37,115,34,46,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,97,114,45,100,101,99,97,121,0,0,0,0,0,0,0,84,104,101,32,118,97,114,105,97,98,108,101,32,97,99,116,105,118,105,116,121,32,100,101,99,97,121,32,102,97,99,116,111,114,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,99,108,97,45,100,101,99,97,121,0,0,0,0,0,0,0,84,104,101,32,99,108,97,117,115,101,32,97,99,116,105,118,105,116,121,32,100,101,99,97,121,32,102,97,99,116,111,114,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,110,100,45,102,114,101,113,0,0,0,0,0,0,0,0,84,104,101,32,102,114,101,113,117,101,110,99,121,32,119,105,116,104,32,119,104,105,99,104,32,116,104,101,32,100,101,99,105,115,105,111,110,32,104,101,117,114,105,115,116,105,99,32,116,114,105,101,115,32,116,111,32,99,104,111,111,115,101,32,97,32,114,97,110,100,111,109,32,118,97,114,105,97,98,108,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,110,100,45,115,101,101,100,0,0,0,0,0,0,0,0,85,115,101,100,32,98,121,32,116,104,101,32,114,97,110,100,111,109,32,118,97,114,105,97,98,108,101,32,115,101,108,101,99,116,105,111,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,99,99,109,105,110,45,109,111,100,101,0,0,0,0,0,0,67,111,110,116,114,111,108,115,32,99,111,110,102,108,105,99,116,32,99,108,97,117,115,101,32,109,105,110,105,109,105,122,97,116,105,111,110,32,40,48,61,110,111,110,101,44,32,49,61,98,97,115,105,99,44,32,50,61,100,101,101,112,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,104,97,115,101,45,115,97,118,105,110,103,0,0,0,0,67,111,110,116,114,111,108,115,32,116,104,101,32,108,101,118,101,108,32,111,102,32,112,104,97,115,101,32,115,97,118,105,110,103,32,40,48,61,110,111,110,101,44,32,49,61,108,105,109,105,116,101,100,44,32,50,61,102,117,108,108,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,110,100,45,105,110,105,116,0,0,0,0,0,0,0,0,82,97,110,100,111,109,105,122,101,32,116,104,101,32,105,110,105,116,105,97,108,32,97,99,116,105,118,105,116,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,108,117,98,121,0,0,0,0,85,115,101,32,116,104,101,32,76,117,98,121,32,114,101,115,116,97,114,116,32,115,101,113,117,101,110,99,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,102,105,114,115,116,0,0,84,104,101,32,98,97,115,101,32,114,101,115,116,97,114,116,32,105,110,116,101,114,118,97,108,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,105,110,99,0,0,0,0,82,101,115,116,97,114,116,32,105,110,116,101,114,118,97,108,32,105,110,99,114,101,97,115,101,32,102,97,99,116,111,114,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,103,99,45,102,114,97,99,0,84,104,101,32,102,114,97,99,116,105,111,110,32,111,102,32,119,97,115,116,101,100,32,109,101,109,111,114,121,32,97,108,108,111,119,101,100,32,98,101,102,111,114,101,32,97,32,103,97,114,98,97,103,101,32,99,111,108,108,101,99,116,105,111,110,32,105,115,32,116,114,105,103,103,101,114,101,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,109,105,110,45,108,101,97,114,110,116,115,0,0,0,0,0,77,105,110,105,109,117,109,32,108,101,97,114,110,116,32,99,108,97,117,115,101,32,108,105,109,105,116,0,0,0,0,0,0,0,0,0,192,7,0,0,5,0,0,0,6,0,0,0,7,0,0,0,0,0,0,0,124,32,37,57,100,32,124,32,37,55,100,32,37,56,100,32,37,56,100,32,124,32,37,56,100,32,37,56,100,32,37,54,46,48,102,32,124,32,37,54,46,51,102,32,37,37,32,124,10,0,0,0,0,0,0,0,124,32,32,71,97,114,98,97,103,101,32,99,111,108,108,101,99,116,105,111,110,58,32,32,32,37,49,50,100,32,98,121,116,101,115,32,61,62,32,37,49,50,100,32,98,121,116,101,115,32,32,32,32,32,32,32,32,32,32,32,32,32,124,10,0,0,0,0,0,0,0,0,78,55,77,105,110,105,115,97,116,54,83,111,108,118,101,114,69,0,0,0,0,0,0,0,88,18,0,0,168,7,0,0,60,98,111,111,108,62,0,0,10,32,32,32,32,32,32,32,32,37,115,10,0,0,0,0,60,105,110,116,51,50,62,0,69,82,82,79,82,33,32,118,97,108,117,101,32,60,37,115,62,32,105,115,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,111,112,116,105,111,110,32,34,37,115,34,46,10,0,0,0,0,0,0,0,0,69,82,82,79,82,33,32,118,97,108,117,101,32,60,37,115,62,32,105,115,32,116,111,111,32,115,109,97,108,108,32,102,111,114,32,111,112,116,105,111,110,32,34,37,115,34,46,10,0,0,0,0,0,0,0,0,67,79,82,69,0,0,0,0,60,100,111,117,98,108,101,62,0,0,0,0,0,0,0,0,0,0,0,0,168,8,0,0,1,0,0,0,8,0,0,0,3,0,0,0,3,0,0,0,78,55,77,105,110,105,115,97,116,49,50,68,111,117,98,108,101,79,112,116,105,111,110,69,0,0,0,0,0,0,0,0,128,18,0,0,136,8,0,0,80,0,0,0,0,0,0,0,32,32,45,37,45,49,50,115,32,61,32,37,45,56,115,32,37,99,37,52,46,50,103,32,46,46,32,37,52,46,50,103,37,99,32,40,100,101,102,97,117,108,116,58,32,37,103,41,10,0,0,0,0,0,0,0,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,91,32,83,101,97,114,99,104,32,83,116,97,116,105,115,116,105,99,115,32,93,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,0,124,32,67,111,110,102,108,105,99,116,115,32,124,32,32,32,32,32,32,32,32,32,32,79,82,73,71,73,78,65,76,32,32,32,32,32,32,32,32,32,124,32,32,32,32,32,32,32,32,32,32,76,69,65,82,78,84,32,32,32,32,32,32,32,32,32,32,124,32,80,114,111,103,114,101,115,115,32,124,0,124,32,32,32,32,32,32,32,32,32,32,32,124,32,32,32,32,86,97,114,115,32,32,67,108,97,117,115,101,115,32,76,105,116,101,114,97,108,115,32,124,32,32,32,32,76,105,109,105,116,32,32,67,108,97,117,115,101,115,32,76,105,116,47,67,108,32,124,32,32,32,32,32,32,32,32,32,32,124,0,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,97,115,121,109,109,0,0,0,83,104,114,105,110,107,32,99,108,97,117,115,101,115,32,98,121,32,97,115,121,109,109,101,116,114,105,99,32,98,114,97,110,99,104,105,110,103,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,99,104,101,99,107,0,0,67,104,101,99,107,32,105,102,32,97,32,99,108,97,117,115,101,32,105,115,32,97,108,114,101,97,100,121,32,105,109,112,108,105,101,100,46,32,40,99,111,115,116,108,121,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,101,108,105,109,0,0,0,0,80,101,114,102,111,114,109,32,118,97,114,105,97,98,108,101,32,101,108,105,109,105,110,97,116,105,111,110,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,103,114,111,119,0,0,0,0,65,108,108,111,119,32,97,32,118,97,114,105,97,98,108,101,32,101,108,105,109,105,110,97,116,105,111,110,32,115,116,101,112,32,116,111,32,103,114,111,119,32,98,121,32,97,32,110,117,109,98,101,114,32,111,102,32,99,108,97,117,115,101,115,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,99,108,45,108,105,109,0,0,86,97,114,105,97,98,108,101,115,32,97,114,101,32,110,111,116,32,101,108,105,109,105,110,97,116,101,100,32,105,102,32,105,116,32,112,114,111,100,117,99,101,115,32,97,32,114,101,115,111,108,118,101,110,116,32,119,105,116,104,32,97,32,108,101,110,103,116,104,32,97,98,111,118,101,32,116,104,105,115,32,108,105,109,105,116,46,32,45,49,32,109,101,97,110,115,32,110,111,32,108,105,109,105,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,115,117,98,45,108,105,109,0,68,111,32,110,111,116,32,99,104,101,99,107,32,105,102,32,115,117,98,115,117,109,112,116,105,111,110,32,97,103,97,105,110,115,116,32,97,32,99,108,97,117,115,101,32,108,97,114,103,101,114,32,116,104,97,110,32,116,104,105,115,46,32,45,49,32,109,101,97,110,115,32,110,111,32,108,105,109,105,116,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,115,105,109,112,45,103,99,45,102,114,97,99,0,0,0,0,84,104,101,32,102,114,97,99,116,105,111,110,32,111,102,32,119,97,115,116,101,100,32,109,101,109,111,114,121,32,97,108,108,111,119,101,100,32,98,101,102,111,114,101,32,97,32,103,97,114,98,97,103,101,32,99,111,108,108,101,99,116,105,111,110,32,105,115,32,116,114,105,103,103,101,114,101,100,32,100,117,114,105,110,103,32,115,105,109,112,108,105,102,105,99,97,116,105,111,110,46,0,0,0,0,0,0,0,120,14,0,0,9,0,0,0,10,0,0,0,11,0,0,0,0,0,0,0,115,117,98,115,117,109,112,116,105,111,110,32,108,101,102,116,58,32,37,49,48,100,32,40,37,49,48,100,32,115,117,98,115,117,109,101,100,44,32,37,49,48,100,32,100,101,108,101,116,101,100,32,108,105,116,101,114,97,108,115,41,13,0,0,101,108,105,109,105,110,97,116,105,111,110,32,108,101,102,116,58,32,37,49,48,100,13,0,124,32,32,69,108,105,109,105,110,97,116,101,100,32,99,108,97,117,115,101,115,58,32,32,32,32,32,37,49,48,46,50,102,32,77,98,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,124,10,0,0,0,0,124,32,32,71,97,114,98,97,103,101,32,99,111,108,108,101,99,116,105,111,110,58,32,32,32,37,49,50,100,32,98,121,116,101,115,32,61,62,32,37,49,50,100,32,98,121,116,101,115,32,32,32,32,32,32,32,32,32,32,32,32,32,124,10,0,0,0,0,0,0,0,0,78,55,77,105,110,105,115,97,116,49,48,83,105,109,112,83,111,108,118,101,114,69,0,0,128,18,0,0,96,14,0,0,192,7,0,0,0,0,0,0,60,100,111,117,98,108,101,62,0,0,0,0,0,0,0,0,60,105,110,116,51,50,62,0,83,73,77,80,0,0,0,0,60,98,111,111,108,62,0,0,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,89,79,33,0,0,0,0,0,2,0,0,0,0,0,0,0,48,15,0,0,0,0,0,0,117,110,99,97,117,103,104,116,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,0,0,0,0,0,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,0,0,116,101,114,109,105,110,97,116,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,0,0,0,0,0,0,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,0,0,0,0,0,0,0,200,16,0,0,12,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,128,18,0,0,184,16,0,0,80,17,0,0,0,0,0,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,116,104,114,101,119,32,97,110,32,101,120,99,101,112,116,105,111,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,101,120,99,101,112,116,105,111,110,0,0,0,0,88,18,0,0,64,17,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,88,18,0,0,88,17,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,128,18,0,0,112,17,0,0,104,17,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,128,18,0,0,168,17,0,0,152,17,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,128,18,0,0,8,18,0,0,152,17,0,0,0,0,0,0,128,18,0,0,224,17,0,0,48,18,0,0,0,0,0,0,0,0,0,0,208,17,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,200,18,0,0,14,0,0,0,18,0,0,0,16,0,0,0,17,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,128,18,0,0,160,18,0,0,208,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,1,2,4,7,3,6,5,0,0,0,0,0,0,0,0,105,110,102,105,110,105,116,121,0,0,0,0,0,0,0,0,110,97,110,0,0,0,0,0,95,112,137,0,255,9,47,15,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}Module._i64Subtract=_i64Subtract;var ___errno_state=0;function ___setErrNo(e){return HEAP32[___errno_state>>2]=e,e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return typeof navigator=="object"&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){var r=EXCEPTIONS.infos[t];if(r.adjusted===e)return t}return e},addRef:function(e){if(!e)return;var t=EXCEPTIONS.infos[e];t.refcount++},decRef:function(e){if(!e)return;var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,t.refcount===0&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))},clearRef:function(e){if(!e)return;var t=EXCEPTIONS.infos[e];t.refcount=0}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return(asm.setTempRet0(0),0)|0;var t=EXCEPTIONS.infos[e],r=t.type;if(!r)return(asm.setTempRet0(0),e)|0;var i=Array.prototype.slice.call(arguments),s=Module.___cxa_is_pointer_type(r);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var n=0;n<i.length;n++)if(i[n]&&Module.___cxa_can_catch(i[n],r,e))return e=HEAP32[e>>2],t.adjusted=e,(asm.setTempRet0(i[n]),e)|0;return e=HEAP32[e>>2],(asm.setTempRet0(r),e)|0}function ___cxa_throw(e,t,r){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:r,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}Module._memset=_memset,Module._bitshift64Shl=_bitshift64Shl;function _abort(){Module.abort()}var FS=void 0,SOCKFS=void 0;function _send(e,t,r,i){var s=SOCKFS.getSocket(e);return s?_write(e,t,r):(___setErrNo(ERRNO_CODES.EBADF),-1)}function _pwrite(e,t,r,i){var s=FS.getStream(e);if(!s)return ___setErrNo(ERRNO_CODES.EBADF),-1;try{var n=HEAP8;return FS.write(s,n,t,r,i)}catch(a){return FS.handleFSError(a),-1}}function _write(e,t,r){var i=FS.getStream(e);if(!i)return ___setErrNo(ERRNO_CODES.EBADF),-1;try{var s=HEAP8;return FS.write(i,s,t,r)}catch(n){return FS.handleFSError(n),-1}}function _fileno(e){return e=FS.getStreamFromPtr(e),e?e.fd:-1}function _fwrite(e,t,r,i){var s=r*t;if(s==0)return 0;var n=_fileno(i),a=_write(n,e,s);if(a==-1){var o=FS.getStreamFromPtr(i);return o&&(o.error=!0),0}else return a/t|0}Module._strlen=_strlen;function __reallyNegative(e){return e<0||e===0&&1/e===-Infinity}function __formatString(e,t){var r=e,i=0;function s(fn){var pi;return fn==="double"?pi=(HEAP32[tempDoublePtr>>2]=HEAP32[t+i>>2],HEAP32[tempDoublePtr+4>>2]=HEAP32[t+(i+4)>>2],+HEAPF64[tempDoublePtr>>3]):fn=="i64"?pi=[HEAP32[t+i>>2],HEAP32[t+(i+4)>>2]]:(fn="i32",pi=HEAP32[t+i>>2]),i+=Runtime.getNativeFieldSize(fn),pi}for(var n=[],a,o,u;;){var d=r;if(a=HEAP8[r>>0],a===0)break;if(o=HEAP8[r+1>>0],a==37){var m=!1,f=!1,x=!1,T=!1,q=!1;e:for(;;){switch(o){case 43:m=!0;break;case 45:f=!0;break;case 35:x=!0;break;case 48:if(T)break e;T=!0;break;case 32:q=!0;break;default:break e}r++,o=HEAP8[r+1>>0]}var F=0;if(o==42)F=s("i32"),r++,o=HEAP8[r+1>>0];else for(;o>=48&&o<=57;)F=F*10+(o-48),r++,o=HEAP8[r+1>>0];var $=!1,H=-1;if(o==46){if(H=0,$=!0,r++,o=HEAP8[r+1>>0],o==42)H=s("i32"),r++;else for(;;){var oe=HEAP8[r+1>>0];if(oe<48||oe>57)break;H=H*10+(oe-48),r++}o=HEAP8[r+1>>0]}H<0&&(H=6,$=!1);var Q;switch(String.fromCharCode(o)){case"h":var pe=HEAP8[r+2>>0];pe==104?(r++,Q=1):Q=2;break;case"l":var pe=HEAP8[r+2>>0];pe==108?(r++,Q=8):Q=4;break;case"L":case"q":case"j":Q=8;break;case"z":case"t":case"I":Q=4;break;default:Q=null}Q&&r++,o=HEAP8[r+1>>0];switch(String.fromCharCode(o)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":{var ve=o==100||o==105;Q=Q||4;var u=s("i"+Q*8),Ce=u,fe;if(Q==8&&(u=Runtime.makeBigInt(u[0],u[1],o==117)),Q<=4){var Pe=Math.pow(256,Q)-1;u=(ve?reSign:unSign)(u&Pe,Q*8)}var Ve=Math.abs(u),Ie="";if(o==100||o==105)Q==8&&i64Math?fe=i64Math.stringify(Ce[0],Ce[1],null):fe=reSign(u,8*Q,1).toString(10);else if(o==117)Q==8&&i64Math?fe=i64Math.stringify(Ce[0],Ce[1],!0):fe=unSign(u,8*Q,1).toString(10),u=Math.abs(u);else if(o==111)fe=(x?"0":"")+Ve.toString(8);else if(o==120||o==88){if(Ie=x&&u!=0?"0x":"",Q==8&&i64Math)if(Ce[1]){fe=(Ce[1]>>>0).toString(16);for(var Ot=(Ce[0]>>>0).toString(16);Ot.length<8;)Ot="0"+Ot;fe+=Ot}else fe=(Ce[0]>>>0).toString(16);else if(u<0){u=-u,fe=(Ve-1).toString(16);for(var lt=[],Ye=0;Ye<fe.length;Ye++)lt.push((15-parseInt(fe[Ye],16)).toString(16));for(fe=lt.join("");fe.length<Q*2;)fe="f"+fe}else fe=Ve.toString(16);o==88&&(Ie=Ie.toUpperCase(),fe=fe.toUpperCase())}else o==112&&(Ve===0?fe="(nil)":(Ie="0x",fe=Ve.toString(16)));if($)for(;fe.length<H;)fe="0"+fe;for(u>=0&&(m?Ie="+"+Ie:q&&(Ie=" "+Ie)),fe.charAt(0)=="-"&&(Ie="-"+Ie,fe=fe.substr(1));Ie.length+fe.length<F;)f?fe+=" ":T?fe="0"+fe:Ie=" "+Ie;fe=Ie+fe,fe.split("").forEach(function(pi){n.push(pi.charCodeAt(0))});break}case"f":case"F":case"e":case"E":case"g":case"G":{var u=s("double"),fe;if(isNaN(u))fe="nan",T=!1;else if(!isFinite(u))fe=(u<0?"-":"")+"inf",T=!1;else{var At=!1,gt=Math.min(H,20);if(o==103||o==71){At=!0,H=H||1;var ut=parseInt(u.toExponential(gt).split("e")[1],10);H>ut&&ut>=-4?(o=(o==103?"f":"F").charCodeAt(0),H-=ut+1):(o=(o==103?"e":"E").charCodeAt(0),H--),gt=Math.min(H,20)}o==101||o==69?(fe=u.toExponential(gt),/[eE][-+]\d$/.test(fe)&&(fe=fe.slice(0,-1)+"0"+fe.slice(-1))):(o==102||o==70)&&(fe=u.toFixed(gt),u===0&&__reallyNegative(u)&&(fe="-"+fe));var $t=fe.split("e");if(At&&!x)for(;$t[0].length>1&&$t[0].indexOf(".")!=-1&&($t[0].slice(-1)=="0"||$t[0].slice(-1)==".");)$t[0]=$t[0].slice(0,-1);else for(x&&fe.indexOf(".")==-1&&($t[0]+=".");H>gt++;)$t[0]+="0";fe=$t[0]+($t.length>1?"e"+$t[1]:""),o==69&&(fe=fe.toUpperCase()),u>=0&&(m?fe="+"+fe:q&&(fe=" "+fe))}for(;fe.length<F;)f?fe+=" ":T&&(fe[0]=="-"||fe[0]=="+")?fe=fe[0]+"0"+fe.slice(1):fe=(T?"0":" ")+fe;o<97&&(fe=fe.toUpperCase()),fe.split("").forEach(function(gs){n.push(gs.charCodeAt(0))});break}case"s":{var de=s("i8*"),cr=de?_strlen(de):"(null)".length;if($&&(cr=Math.min(cr,H)),!f)for(;cr<F--;)n.push(32);if(de)for(var Ye=0;Ye<cr;Ye++)n.push(HEAPU8[de++>>0]);else n=n.concat(intArrayFromString("(null)".substr(0,cr),!0));if(f)for(;cr<F--;)n.push(32);break}case"c":{for(f&&n.push(s("i8"));--F>0;)n.push(32);f||n.push(s("i8"));break}case"n":{var tr=s("i32*");HEAP32[tr>>2]=n.length;break}case"%":{n.push(a);break}default:for(var Ye=d;Ye<r+2;Ye++)n.push(HEAP8[Ye>>0])}r+=2}else n.push(a),r+=1}return n}function _fprintf(e,t,r){var i=__formatString(t,r),s=Runtime.stackSave(),n=_fwrite(allocate(i,"i8",ALLOC_STACK),1,i.length,e);return Runtime.stackRestore(s),n}function _printf(e,t){var r=__formatString(e,t),i=intArrayToString(r);return i[i.length-1]===`
`&&(i=i.substr(0,i.length-1)),Module.print(i),r.length}function _pthread_once(e,t){if(_pthread_once.seen||(_pthread_once.seen={}),e in _pthread_once.seen)return;Runtime.dynCall("v",t),_pthread_once.seen[e]=1}function _fputc(e,t){var r=unSign(e&255);HEAP8[_fputc.ret>>0]=r;var i=_fileno(t),s=_write(i,_fputc.ret,1);if(s==-1){var n=FS.getStreamFromPtr(t);return n&&(n.error=!0),-1}else return r}var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}Module._i64Add=_i64Add;function _fputs(e,t){var r=_fileno(t);return _write(r,e,_strlen(e))}var _stdout=allocate(1,"i32*",ALLOC_STATIC);function _puts(e){var t=Pointer_stringify(e),r=t.substr(0);return r[r.length-1]===`
`&&(r=r.substr(0,r.length-1)),Module.print(r),t.length}function _pthread_setspecific(e,t){return e in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[e]=t,0):ERRNO_CODES.EINVAL}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}var _UItoD=!0;function _malloc(e){var t=Runtime.dynamicAlloc(e+8);return t+8&4294967288}Module._malloc=_malloc;function ___cxa_allocate_exception(e){return _malloc(e)}function _fmod(e,t){return e%t}function _fmodl(){return _fmod.apply(null,arguments)}Module._bitshift64Lshr=_bitshift64Lshr;function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}var PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,t){return e==0?ERRNO_CODES.EINVAL:(HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}function ___cxa_guard_acquire(e){return HEAP8[e>>0]?0:(HEAP8[e>>0]=1,1)}function ___cxa_guard_release(){}function _vfprintf(e,t,r){return _fprintf(e,t,HEAP32[r>>2])}function ___cxa_begin_catch(e){return __ZSt18uncaught_exceptionv.uncaught_exception--,EXCEPTIONS.caught.push(e),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e)),e}function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}Module._memcpy=_memcpy;var _llvm_pow_f64=Math_pow;function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;return e!=0&&t.alloc(e),r}var _fabs=Math_abs;function ___errno_location(){return ___errno_state}var _BItoD=!0;function _copysign(e,t){return __reallyNegative(e)===__reallyNegative(t)?e:-e}function _copysignl(){return _copysign.apply(null,arguments)}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC);___errno_state=Runtime.staticAlloc(4),HEAP32[___errno_state>>2]=0,_fputc.ret=allocate([0],"i8",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var ctlz_i8=allocate([8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_DYNAMIC),cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function invoke_iiii(e,t,r,i){try{return Module.dynCall_iiii(e,t,r,i)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;asm.setThrew(1,0)}}function invoke_viiiii(e,t,r,i,s,n){try{Module.dynCall_viiiii(e,t,r,i,s,n)}catch(a){if(typeof a!="number"&&a!=="longjmp")throw a;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(r){if(typeof r!="number"&&r!=="longjmp")throw r;asm.setThrew(1,0)}}function invoke_vii(e,t,r){try{Module.dynCall_vii(e,t,r)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(r){if(typeof r!="number"&&r!=="longjmp")throw r;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(t){if(typeof t!="number"&&t!=="longjmp")throw t;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,r,i,s,n,a){try{Module.dynCall_viiiiii(e,t,r,i,s,n,a)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;asm.setThrew(1,0)}}function invoke_iii(e,t,r){try{return Module.dynCall_iii(e,t,r)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;asm.setThrew(1,0)}}function invoke_viiii(e,t,r,i,s){try{Module.dynCall_viiii(e,t,r,i,s)}catch(n){if(typeof n!="number"&&n!=="longjmp")throw n;asm.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array},Module.asmLibraryArg={abort,assert,min:Math_min,invoke_iiii,invoke_viiiii,invoke_vi,invoke_vii,invoke_ii,invoke_v,invoke_viiiiii,invoke_iii,invoke_viiii,_fabs,_llvm_pow_f64,_send,_fmod,___cxa_guard_acquire,___setErrNo,_vfprintf,___cxa_allocate_exception,___cxa_find_matching_catch,___cxa_guard_release,_pwrite,__reallyNegative,_sbrk,___cxa_begin_catch,_emscripten_memcpy_big,_fileno,___resumeException,__ZSt18uncaught_exceptionv,_sysconf,_pthread_getspecific,_atexit,_pthread_once,_puts,_printf,_pthread_key_create,_write,___errno_location,_pthread_setspecific,___cxa_atexit,_copysign,_fputc,___cxa_throw,__exit,_copysignl,_abort,_fwrite,_time,_fprintf,__formatString,_fputs,_exit,___cxa_pure_virtual,_fmodl,STACKTOP,STACK_MAX,tempDoublePtr,ABORT,cttz_i8,ctlz_i8,NaN:NaN,Infinity:Infinity,___dso_handle,_stderr};var asm=function(e,t,r){var i=new e.Int8Array(r),s=new e.Int16Array(r),n=new e.Int32Array(r),a=new e.Uint8Array(r),o=new e.Uint16Array(r),u=new e.Uint32Array(r),d=new e.Float32Array(r),m=new e.Float64Array(r),f=t.STACKTOP|0,x=t.STACK_MAX|0,T=t.tempDoublePtr|0,q=t.ABORT|0,F=t.cttz_i8|0,$=t.ctlz_i8|0,H=t.___dso_handle|0,oe=t._stderr|0,Q=0,pe=0,ve=0,Ce=0,fe=+t.NaN,Pe=+t.Infinity,Ve=0,Ie=0,Ot=0,lt=0,Ye=0,At=0,gt=0,ut=0,$t=0,de=0,cr=0,tr=0,fn=0,pi=0,gs=0,Yl=0,x0=0,ma=0,Gi=0,di=e.Math.floor,za=e.Math.abs,$o=e.Math.sqrt,jo=e.Math.pow,Oi=e.Math.cos,Fo=e.Math.sin,mp=e.Math.tan,ys=e.Math.acos,kc=e.Math.asin,E0=e.Math.atan,Pc=e.Math.atan2,zi=e.Math.exp,Bo=e.Math.log,xn=e.Math.ceil,Vi=e.Math.imul,Bn=t.abort,hn=t.assert,pn=t.min,U=t.invoke_iiii,V=t.invoke_viiiii,te=t.invoke_vi,xe=t.invoke_vii,$e=t.invoke_ii,qe=t.invoke_v,We=t.invoke_viiiiii,ot=t.invoke_iii,bt=t.invoke_viiii,_t=t._fabs,Qt=t._llvm_pow_f64,sn=t._send,ki=t._fmod,bf=t.___cxa_guard_acquire,xf=t.___setErrNo,Va=t._vfprintf,et=t.___cxa_allocate_exception,ga=t.___cxa_find_matching_catch,Jl=t.___cxa_guard_release,By=t._pwrite,Ic=t.__reallyNegative,Uo=t._sbrk,S0=t.___cxa_begin_catch,Zl=t._emscripten_memcpy_big,R0=t._fileno,gp=t.___resumeException,yp=t.__ZSt18uncaught_exceptionv,A0=t._sysconf,Uy=t._pthread_getspecific,Hy=t._atexit,Gy=t._pthread_once,Wa=t._puts,qc=t._printf,T0=t._pthread_key_create,Ql=t._write,vt=t.___errno_location,C0=t._pthread_setspecific,zy=t.___cxa_atexit,O0=t._copysign,ya=t._fputc,nt=t.___cxa_throw,Ho=t.__exit,vp=t._copysignl,be=t._abort,Un=t._fwrite,Vy=t._time,ri=t._fprintf,Wy=t.__formatString,Ky=t._fputs,Go=t._exit,eu=t.___cxa_pure_virtual,_p=t._fmodl,Xy=0;function Yy(c){c=c|0;var p=0;return p=f,f=f+c|0,f=f+15&-16,p|0}function k0(){return f|0}function P0(c){c=c|0,f=c}function I0(c,p){c=c|0,p=p|0,Q||(Q=c,pe=p)}function Ef(c){c=c|0,i[T>>0]=i[c>>0],i[T+1>>0]=i[c+1>>0],i[T+2>>0]=i[c+2>>0],i[T+3>>0]=i[c+3>>0]}function O2(c){c=c|0,i[T>>0]=i[c>>0],i[T+1>>0]=i[c+1>>0],i[T+2>>0]=i[c+2>>0],i[T+3>>0]=i[c+3>>0],i[T+4>>0]=i[c+4>>0],i[T+5>>0]=i[c+5>>0],i[T+6>>0]=i[c+6>>0],i[T+7>>0]=i[c+7>>0]}function q0(c){c=c|0,de=c}function Sf(){return de|0}function Jy(c){c=c|0,S0(c|0)|0,QR()}function Zy(c){c=c|0}function an(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0;if(w=f,n[c>>2]=112,n[c+4>>2]=p,n[c+8>>2]=y,n[c+12>>2]=g,n[c+16>>2]=_,((i[144]|0)==0?(bf(144)|0)!=0:0)&&(n[32]=0,n[33]=0,n[34]=0,zy(19,128,H|0)|0,Jl(144)),_=n[33]|0,(_|0)==(n[34]|0)&&(g=(_>>1)+2&-2,g=(g|0)<2?2:g,(g|0)>(2147483647-_|0)&&(p=et(1)|0,nt(p|0,48,0)),y=n[32]|0,p=g+_|0,n[34]=p,p=ur(y,p<<2)|0,n[32]=p,((p|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(p=et(1)|0,nt(p|0,48,0)),_=n[33]|0),n[33]=_+1,_=(n[32]|0)+(_<<2)|0,!_){f=w;return}n[_>>2]=c,f=w}function N0(c){c=c|0;var p=0;p=f,Wo(c),f=p}function wp(c){c=c|0;var p=0,y=0;if(p=f,y=n[c>>2]|0,!y){f=p;return}n[c+4>>2]=0,Qe(y),n[c>>2]=0,n[c+8>>2]=0,f=p}function Qy(c){c=c|0;var p=0;p=f,Wo(c),f=p}function bp(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(y=f,(i[p>>0]|0)!=45)return S=0,f=y,S|0;for(g=p+1|0,_=110,v=g,S=0;;){if(w=S+1|0,(i[v>>0]|0)!=_<<24>>24){_=1;break}if(v=p+(S+2)|0,(w|0)==3){_=0,g=v;break}else _=i[264+w>>0]|0,S=w}return uu(g,n[c+4>>2]|0)|0?(S=0,f=y,S|0):(i[c+20>>0]=_,S=1,f=y,S|0)}function Ka(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;for(w=f,f=f+16|0,y=w,g=n[oe>>2]|0,_=c+4|0,v=n[_>>2]|0,n[y>>2]=v,n[y+4>>2]=v,ri(g|0,216,y|0)|0,v=0;S=v>>>0<(32-((U2(n[_>>2]|0)|0)<<1)|0)>>>0,ya(32,g|0)|0,S;)v=v+1|0;if(n[y>>2]=(i[c+20>>0]|0)!=0?248:256,ri(g|0,232,y|0)|0,!p){f=w;return}n[y>>2]=n[c+8>>2],ri(g|0,88,y|0)|0,ya(10,g|0)|0,f=w}function Rf(c){c=c|0;var p=0;p=f,Wo(c),f=p}function dn(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(y=f,f=f+16|0,w=y,_=y+8|0,(i[p>>0]|0)!=45)return R=0,f=y,R|0;A=p+1|0,g=c+4|0,v=n[g>>2]|0,S=i[v>>0]|0;e:do if(S<<24>>24){for(E=0;;){if(R=E,E=E+1|0,(i[A>>0]|0)!=S<<24>>24){c=0;break}if(S=i[v+E>>0]|0,A=p+(R+2)|0,!(S<<24>>24))break e}return f=y,c|0}while(0);return(i[A>>0]|0)!=61?(R=0,f=y,R|0):(p=A+1|0,v=Cp(p,_,10)|0,n[_>>2]|0?((v|0)>(n[c+24>>2]|0)&&(R=n[oe>>2]|0,E=n[g>>2]|0,n[w>>2]=p,n[w+4>>2]=E,ri(R|0,416,w|0)|0,Go(1)),(v|0)<(n[c+20>>2]|0)&&(R=n[oe>>2]|0,E=n[g>>2]|0,n[w>>2]=p,n[w+4>>2]=E,ri(R|0,472,w|0)|0,Go(1)),n[c+28>>2]=v,R=1,f=y,R|0):(R=0,f=y,R|0))}function Xa(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0;if(y=f,f=f+16|0,g=y,_=n[oe>>2]|0,w=n[c+16>>2]|0,n[g>>2]=n[c+4>>2],n[g+4>>2]=w,ri(_|0,336,g|0)|0,w=n[c+20>>2]|0,(w|0)==-2147483648?Un(360,4,1,_|0)|0:(n[g>>2]=w,ri(_|0,368,g|0)|0),Un(376,4,1,_|0)|0,w=n[c+24>>2]|0,(w|0)==2147483647?Un(384,4,1,_|0)|0:(n[g>>2]=w,ri(_|0,368,g|0)|0),n[g>>2]=n[c+28>>2],ri(_|0,392,g|0)|0,!p){f=y;return}n[g>>2]=n[c+8>>2],ri(_|0,88,g|0)|0,ya(10,_|0)|0,f=y}function M0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0;_=f,n[c>>2]=1816,g=c+4|0,y=c+32|0,w=c+48|0,n[g+0>>2]=0,n[g+4>>2]=0,n[g+8>>2]=0,n[g+12>>2]=0,n[g+16>>2]=0,n[g+20>>2]=0,n[y+0>>2]=0,n[y+4>>2]=0,n[y+8>>2]=0,n[y+12>>2]=0,m[w>>3]=+m[75],m[c+56>>3]=+m[89],m[c+64>>3]=+m[103],m[c+72>>3]=+m[123],i[c+80>>0]=i[1364]|0,n[c+84>>2]=n[269],n[c+88>>2]=n[297],i[c+92>>0]=0,i[c+93>>0]=i[1292]|0,m[c+96>>3]=+m[204],n[c+104>>2]=n[439],n[c+108>>2]=n[359],m[c+112>>3]=+m[191],m[c+120>>3]=.3333333333333333,m[c+128>>3]=1.1,n[c+136>>2]=100,m[c+144>>3]=1.5,w=c+316|0,n[c+332>>2]=0,n[c+336>>2]=0,n[c+340>>2]=0,n[c+348>>2]=0,n[c+352>>2]=0,n[c+356>>2]=0,n[c+364>>2]=0,n[c+368>>2]=0,n[c+372>>2]=0,n[c+380>>2]=0,n[c+384>>2]=0,n[c+388>>2]=0,n[c+396>>2]=0,n[c+400>>2]=0,n[c+404>>2]=0,y=c+544|0,n[c+412>>2]=0,n[c+416>>2]=0,n[c+420>>2]=0,n[c+428>>2]=0,n[c+432>>2]=0,n[c+436>>2]=0,n[c+444>>2]=0,n[c+448>>2]=0,n[c+452>>2]=0,fu(c+152|0,0,176)|0,n[c+456>>2]=y,g=c+460|0,n[g+0>>2]=0,n[g+4>>2]=0,n[g+8>>2]=0,n[g+12>>2]=0,n[g+16>>2]=0,n[g+20>>2]=0,n[c+488>>2]=w,i[c+492>>0]=1,m[c+496>>3]=1,m[c+504>>3]=1,n[c+512>>2]=0,n[c+516>>2]=-1,w=c+520|0,g=c+536|0,n[w+0>>2]=0,n[w+4>>2]=0,n[w+8>>2]=0,n[w+12>>2]=0,i[g>>0]=1,g=c+540|0,n[g+0>>2]=0,n[g+4>>2]=0,n[g+8>>2]=0,n[g+12>>2]=0,n[g+16>>2]=0,jc(y,1048576),i[c+560>>0]=0,y=c+604|0,g=c+664|0,w=c+564|0,p=w+36|0;do n[w>>2]=0,w=w+4|0;while((w|0)<(p|0));w=y+0|0,p=w+36|0;do n[w>>2]=0,w=w+4|0;while((w|0)<(p|0));w=c+680|0,n[g+0>>2]=-1,n[g+4>>2]=-1,n[g+8>>2]=-1,n[g+12>>2]=-1,i[w>>0]=0,f=_}function ev(c){c=c|0;var p=0;p=f,Nc(c),Wo(c),f=p}function Nc(c){c=c|0;var p=0,y=0,g=0;if(p=f,n[c>>2]=1816,y=c+628|0,g=n[y>>2]|0,g&&(n[c+632>>2]=0,Qe(g),n[y>>2]=0,n[c+636>>2]=0),y=c+616|0,g=n[y>>2]|0,g&&(n[c+620>>2]=0,Qe(g),n[y>>2]=0,n[c+624>>2]=0),y=c+604|0,g=n[y>>2]|0,g&&(n[c+608>>2]=0,Qe(g),n[y>>2]=0,n[c+612>>2]=0),y=c+588|0,g=n[y>>2]|0,g&&(n[c+592>>2]=0,Qe(g),n[y>>2]=0,n[c+596>>2]=0),y=c+576|0,g=n[y>>2]|0,g&&(n[c+580>>2]=0,Qe(g),n[y>>2]=0,n[c+584>>2]=0),y=c+564|0,g=n[y>>2]|0,g&&(n[c+568>>2]=0,Qe(g),n[y>>2]=0,n[c+572>>2]=0),y=n[c+544>>2]|0,y&&Qe(y),y=c+472|0,g=n[y>>2]|0,g&&(n[c+476>>2]=0,Qe(g),n[y>>2]=0,n[c+480>>2]=0),y=c+460|0,g=n[y>>2]|0,g&&(n[c+464>>2]=0,Qe(g),n[y>>2]=0,n[c+468>>2]=0),W0(c+412|0),y=c+396|0,g=n[y>>2]|0,g&&(n[c+400>>2]=0,Qe(g),n[y>>2]=0,n[c+404>>2]=0),y=c+380|0,g=n[y>>2]|0,g&&(n[c+384>>2]=0,Qe(g),n[y>>2]=0,n[c+388>>2]=0),g=c+364|0,y=n[g>>2]|0,y&&(n[c+368>>2]=0,Qe(y),n[g>>2]=0,n[c+372>>2]=0),y=c+348|0,g=n[y>>2]|0,g&&(n[c+352>>2]=0,Qe(g),n[y>>2]=0,n[c+356>>2]=0),y=c+332|0,g=n[y>>2]|0,g&&(n[c+336>>2]=0,Qe(g),n[y>>2]=0,n[c+340>>2]=0),y=c+316|0,g=n[y>>2]|0,g&&(n[c+320>>2]=0,Qe(g),n[y>>2]=0,n[c+324>>2]=0),y=c+304|0,g=n[y>>2]|0,g&&(n[c+308>>2]=0,Qe(g),n[y>>2]=0,n[c+312>>2]=0),y=c+292|0,g=n[y>>2]|0,g&&(n[c+296>>2]=0,Qe(g),n[y>>2]=0,n[c+300>>2]=0),y=c+280|0,g=n[y>>2]|0,g&&(n[c+284>>2]=0,Qe(g),n[y>>2]=0,n[c+288>>2]=0),y=c+268|0,g=n[y>>2]|0,g&&(n[c+272>>2]=0,Qe(g),n[y>>2]=0,n[c+276>>2]=0),y=c+256|0,g=n[y>>2]|0,g&&(n[c+260>>2]=0,Qe(g),n[y>>2]=0,n[c+264>>2]=0),y=c+32|0,g=n[y>>2]|0,g&&(n[c+36>>2]=0,Qe(g),n[y>>2]=0,n[c+40>>2]=0),y=c+16|0,g=n[y>>2]|0,g&&(n[c+20>>2]=0,Qe(g),n[y>>2]=0,n[c+24>>2]=0),g=c+4|0,y=n[g>>2]|0,!y){f=p;return}n[c+8>>2]=0,Qe(y),n[g>>2]=0,n[c+12>>2]=0,f=p}function L0(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0;if(g=f,f=f+16|0,v=g+4|0,w=g,_=c+580|0,A=n[_>>2]|0,(A|0)>0?(R=A+-1|0,k=n[(n[c+576>>2]|0)+(R<<2)>>2]|0,n[_>>2]=R,_=k):(k=c+540|0,_=n[k>>2]|0,n[k>>2]=_+1),A=c+412|0,k=_<<1,n[v>>2]=k,on(A,v),n[w>>2]=k|1,on(A,w),v=c+332|0,A=i[544]|0,w=_+1|0,Pi(v,w),i[(n[v>>2]|0)+_>>0]=A,v=c+396|0,A=c+400|0,(n[A>>2]|0)<(w|0)){if(R=c+404|0,k=n[R>>2]|0,(k|0)<(w|0)&&(I=_+2-k&-2,E=(k>>1)+2&-2,E=(I|0)>(E|0)?I:E,(E|0)>(2147483647-k|0)&&(I=et(1)|0,nt(I|0,48,0)),C=n[v>>2]|0,I=E+k|0,n[R>>2]=I,I=ur(C,I<<3)|0,n[v>>2]=I,((I|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(C=et(1)|0,nt(C|0,48,0))),R=n[A>>2]|0,(R|0)<(w|0))do E=(n[v>>2]|0)+(R<<3)|0,E&&(C=E,n[C>>2]=0,n[C+4>>2]=0),R=R+1|0;while((R|0)!=(w|0));n[A>>2]=w}if(A=(n[v>>2]|0)+(_<<3)|0,n[A>>2]=-1,n[A+4>>2]=0,A=c+316|0,i[c+93>>0]|0?(C=c+72|0,S=+m[C>>3]*1389796,S=S-+(~~(S/2147483647)|0)*2147483647,m[C>>3]=S,S=S/2147483647*1e-5):S=0,v=c+320|0,(n[v>>2]|0)<(w|0)){if(E=c+324|0,R=n[E>>2]|0,(R|0)<(w|0)&&(C=_+2-R&-2,k=(R>>1)+2&-2,k=(C|0)>(k|0)?C:k,(k|0)>(2147483647-R|0)&&(C=et(1)|0,nt(C|0,48,0)),I=n[A>>2]|0,C=k+R|0,n[E>>2]=C,C=ur(I,C<<3)|0,n[A>>2]=C,((C|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(C=et(1)|0,nt(C|0,48,0))),k=n[v>>2]|0,(k|0)<(w|0)){E=n[A>>2]|0;do R=E+(k<<3)|0,R&&(m[R>>3]=0),k=k+1|0;while((k|0)!=(w|0))}n[v>>2]=w}if(m[(n[A>>2]|0)+(_<<3)>>3]=S,vs(c+588|0,_,0),vs(c+348|0,_,1),v=c+364|0,p=i[p>>0]|0,Pi(v,w),i[(n[v>>2]|0)+_>>0]=p,v=c+380|0,p=c+384|0,(n[p>>2]|0)<(w|0)){if(A=c+388|0,R=n[A>>2]|0,(R|0)<(w|0)&&(C=_+2-R&-2,E=(R>>1)+2&-2,E=(C|0)>(E|0)?C:E,(E|0)>(2147483647-R|0)&&(C=et(1)|0,nt(C|0,48,0)),I=n[v>>2]|0,C=E+R|0,n[A>>2]=C,C=ur(I,C)|0,n[v>>2]=C,((C|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(C=et(1)|0,nt(C|0,48,0))),A=n[p>>2]|0,(A|0)<(w|0))do E=(n[v>>2]|0)+A|0,E&&(i[E>>0]=0),A=A+1|0;while((A|0)!=(w|0));n[p>>2]=w}return p=c+288|0,v=n[p>>2]|0,(v|0)<(w|0)&&(C=_+2-v&-2,w=(v>>1)+2&-2,w=(C|0)>(w|0)?C:w,(w|0)>(2147483647-v|0)&&(C=et(1)|0,nt(C|0,48,0)),I=c+280|0,k=n[I>>2]|0,C=w+v|0,n[p>>2]=C,C=ur(k,C<<2)|0,n[I>>2]=C,((C|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(C=et(1)|0,nt(C|0,48,0))),w=c+380|0,p=(n[w>>2]|0)+_|0,v=(i[p>>0]|0)==0,y?v&&(C=c+200|0,I=C,I=Bt(n[I>>2]|0,n[I+4>>2]|0,1,0)|0,n[C>>2]=I,n[C+4>>2]=de):v||(C=c+200|0,I=C,I=Bt(n[I>>2]|0,n[I+4>>2]|0,-1,-1)|0,n[C>>2]=I,n[C+4>>2]=de),i[p>>0]=y&1,y=c+460|0,((n[c+476>>2]|0)>(_|0)?(n[(n[c+472>>2]|0)+(_<<2)>>2]|0)>-1:0)?(f=g,_|0):i[(n[w>>2]|0)+_>>0]|0?(Fc(y,_),f=g,_|0):(f=g,_|0)}function D0(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0;if(y=f,f=f+16|0,v=y+1|0,w=y,g=c+492|0,!(i[g>>0]|0))return L=0,f=y,L|0;L=n[p>>2]|0,_=p+4|0,S=n[_>>2]|0,i[v+0>>0]=i[w+0>>0]|0,Tf(L,S,v),S=n[_>>2]|0;e:do if((S|0)>0){for(v=c+332|0,w=i[528]|0,A=0,E=0,k=-2;;){if(L=n[p>>2]|0,R=n[L+(A<<2)>>2]|0,C=a[(n[v>>2]|0)+(R>>1)>>0]|0,N=C^R&1,I=N&255,B=w&255,(R|0)==(k^1|0)?1:(I<<24>>24==w<<24>>24&(B>>>1^1)|B&2&N|0)!=0){c=1;break}if(N=i[536]|0,B=N&255,((R|0)!=(k|0)?((B>>>1^1)&I<<24>>24==N<<24>>24|C&2&B|0)==0:0)?(n[L+(E<<2)>>2]=R,S=n[_>>2]|0,E=E+1|0):R=k,A=A+1|0,(A|0)<(S|0))k=R;else break e}return f=y,c|0}else A=0,E=0;while(0);if(w=A-E|0,(w|0)>0&&(S=S-w|0,n[_>>2]=S),S)return(S|0)==1?(N=n[n[p>>2]>>2]|0,L=N>>1,i[(n[c+332>>2]|0)+L>>0]=(N&1^1)&255^1,B=n[c+296>>2]|0,L=(n[c+396>>2]|0)+(L<<3)|0,n[L>>2]=-1,n[L+4>>2]=B,L=c+284|0,B=n[L>>2]|0,n[L>>2]=B+1,n[(n[c+280>>2]|0)+(B<<2)>>2]=N,B=(Mc(c)|0)==-1,i[g>>0]=B&1,f=y,B|0):(p=nu(c+544|0,p,0)|0,_=c+256|0,g=c+260|0,v=n[g>>2]|0,w=c+264|0,(v|0)==(n[w>>2]|0)&&(S=(v>>1)+2&-2,S=(S|0)<2?2:S,(S|0)>(2147483647-v|0)&&(B=et(1)|0,nt(B|0,48,0)),N=n[_>>2]|0,B=S+v|0,n[w>>2]=B,B=ur(N,B<<2)|0,n[_>>2]=B,((B|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(B=et(1)|0,nt(B|0,48,0)),v=n[g>>2]|0),n[g>>2]=v+1,g=(n[_>>2]|0)+(v<<2)|0,g&&(n[g>>2]=p),tu(c,p),B=1,f=y,B|0);return i[g>>0]=0,B=0,f=y,B|0;return 0}function Af(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0;g=n[p>>2]|0,p=g>>1,i[(n[c+332>>2]|0)+p>>0]=(g&1^1)&255^1,_=n[c+296>>2]|0,p=(n[c+396>>2]|0)+(p<<3)|0,n[p>>2]=y,n[p+4>>2]=_,y=c+284|0,p=n[y>>2]|0,n[y>>2]=p+1,n[(n[c+280>>2]|0)+(p<<2)>>2]=g}function Mc(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0,ne=0,Be=0,it=0,tt=0,Je=0,mt=0;if(v=f,f=f+16|0,C=v,_=c+512|0,N=n[_>>2]|0,I=c+284|0,(N|0)>=(n[I>>2]|0))return it=0,ne=0,Je=-1,tt=c+184|0,Ee=tt,Be=Ee,Be=n[Be>>2]|0,Ee=Ee+4|0,Ee=n[Ee>>2]|0,Ee=Bt(Be|0,Ee|0,it|0,ne|0)|0,Be=de,_e=tt,n[_e>>2]=Ee,tt=tt+4|0,n[tt>>2]=Be,tt=c+520|0,Be=tt,_e=Be,_e=n[_e>>2]|0,Be=Be+4|0,Be=n[Be>>2]|0,ne=In(_e|0,Be|0,it|0,ne|0)|0,it=de,Be=tt,n[Be>>2]=ne,tt=tt+4|0,n[tt>>2]=it,f=v,Je|0;R=c+280|0,w=c+428|0,g=c+412|0,S=c+332|0,A=c+544|0,E=C+4|0,p=c+396|0,k=c+296|0,y=c+456|0,He=-1,L=0;do{if(n[_>>2]=N+1,J=n[(n[R>>2]|0)+(N<<2)>>2]|0,i[(n[w>>2]|0)+J>>0]|0){if(B=n[g>>2]|0,N=B+(J*12|0)+4|0,me=n[N>>2]|0,(me|0)>0){B=B+(J*12|0)|0,W=0,re=0;do ie=n[B>>2]|0,Fe=ie+(W<<3)|0,(n[(n[n[y>>2]>>2]|0)+(n[Fe>>2]<<2)>>2]&3|0)!=1&&(tt=Fe,Je=n[tt+4>>2]|0,me=ie+(re<<3)|0,n[me>>2]=n[tt>>2],n[me+4>>2]=Je,me=n[N>>2]|0,re=re+1|0),W=W+1|0;while((W|0)<(me|0))}else W=0,re=0;B=W-re|0,(B|0)>0&&(n[N>>2]=me-B),i[(n[w>>2]|0)+J>>0]=0}N=n[g>>2]|0,L=L+1|0,B=n[N+(J*12|0)>>2]|0,N=N+(J*12|0)+4|0,re=n[N>>2]|0,W=B+(re<<3)|0;e:do if(!re)W=B,me=B;else for(J=J^1,re=(re<<3)+-1|0,ie=B,me=B;;){for(;;){t:for(;;){if(ye=n[ie+4>>2]|0,Je=a[(n[S>>2]|0)+(ye>>1)>>0]^ye&1,_e=i[528]|0,Ee=_e&255,ne=Ee&2,Ee=Ee>>>1^1,(Je&255)<<24>>24==_e<<24>>24&Ee|ne&Je){Se=19;break}if(Fe=n[ie>>2]|0,Se=n[A>>2]|0,Le=Se+(Fe<<2)|0,Te=Se+(Fe+1<<2)|0,Ne=n[Te>>2]|0,(Ne|0)==(J|0)&&(Je=Se+(Fe+2<<2)|0,Ne=n[Je>>2]|0,n[Te>>2]=Ne,n[Je>>2]=J),Te=ie+8|0,n[C>>2]=Fe,n[E>>2]=Ne,(Ne|0)!=(ye|0)?(Je=a[(n[S>>2]|0)+(Ne>>1)>>0]^Ne&1,((Je&255)<<24>>24==_e<<24>>24&Ee|ne&Je|0)!=0):0){Se=27;break}if(ne=n[Le>>2]|0,ne>>>0<=95){Se=31;break}for(Ee=n[S>>2]|0,_e=i[536]|0,ye=_e&255,Je=ye&2,ye=ye>>>1^1,tt=2;!(Be=Le+(tt<<2)+4|0,it=n[Be>>2]|0,mt=a[Ee+(it>>1)>>0]^it&1,tt=tt+1|0,!((mt&255)<<24>>24==_e<<24>>24&ye|Je&mt));)if((tt|0)>=(ne>>>5|0)){Se=32;break t}if(mt=Se+(Fe+2<<2)|0,n[mt>>2]=it,n[Be>>2]=J,Cf((n[g>>2]|0)+((n[mt>>2]^1)*12|0)|0,C),(Te|0)==(W|0))break e;ie=Te}if((Se|0)==19?(Se=0,tt=ie,Je=n[tt+4>>2]|0,mt=me,n[mt>>2]=n[tt>>2],n[mt+4>>2]=Je,ie=ie+8|0,me=me+8|0):(Se|0)==27?(Se=0,Je=C,mt=n[Je+4>>2]|0,ie=me,n[ie>>2]=n[Je>>2],n[ie+4>>2]=mt,ie=Te,me=me+8|0):(Se|0)==31&&(_e=i[536]|0,Se=32),(Se|0)==32){if(Se=me+8|0,Le=C,Ee=n[Le+4>>2]|0,ye=me,n[ye>>2]=n[Le>>2],n[ye+4>>2]=Ee,ye=Ne>>1,Ee=Ne&1,Le=(n[S>>2]|0)+ye|0,mt=a[Le>>0]^Ee,Je=_e&255,(mt&255)<<24>>24==_e<<24>>24&(Je>>>1^1)|Je&2&mt)break;i[Le>>0]=(Ee^1)&255^1,me=n[k>>2]|0,ie=(n[p>>2]|0)+(ye<<3)|0,n[ie>>2]=Fe,n[ie+4>>2]=me,ie=n[I>>2]|0,n[I>>2]=ie+1,n[(n[R>>2]|0)+(ie<<2)>>2]=Ne,ie=Te,me=Se}if((ie|0)==(W|0))break e}if(n[_>>2]=n[I>>2],Te>>>0<W>>>0){for(He=(B+(re-Te)|0)>>>3;!(tt=Te,Te=Te+8|0,Je=n[tt+4>>2]|0,mt=Se,n[mt>>2]=n[tt>>2],n[mt+4>>2]=Je,Te>>>0>=W>>>0);)Se=Se+8|0;ie=ie+(He+2<<3)|0,me=me+(He+2<<3)|0}else ie=Te,me=Se;if((ie|0)==(W|0)){He=Fe;break}else He=Fe}while(0);B=W-me|0,(B|0)>0&&(n[N>>2]=(n[N>>2]|0)-(B>>3)),N=n[_>>2]|0}while((N|0)<(n[I>>2]|0));return tt=L,Be=((L|0)<0)<<31>>31,mt=He,Je=c+184|0,_e=Je,it=_e,it=n[it>>2]|0,_e=_e+4|0,_e=n[_e>>2]|0,_e=Bt(it|0,_e|0,tt|0,Be|0)|0,it=de,ne=Je,n[ne>>2]=_e,Je=Je+4|0,n[Je>>2]=it,Je=c+520|0,it=Je,ne=it,ne=n[ne>>2]|0,it=it+4|0,it=n[it>>2]|0,Be=In(ne|0,it|0,tt|0,Be|0)|0,tt=de,it=Je,n[it>>2]=Be,Je=Je+4|0,n[Je>>2]=tt,f=v,mt|0}function tu(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(y=f,f=f+16|0,A=y+8|0,_=y,w=n[c+544>>2]|0,g=w+(p<<2)|0,v=w+(p+1<<2)|0,S=c+412|0,E=(n[S>>2]|0)+((n[v>>2]^1)*12|0)|0,w=w+(p+2<<2)|0,R=n[w>>2]|0,n[A>>2]=p,n[A+4>>2]=R,Cf(E,A),w=(n[S>>2]|0)+((n[w>>2]^1)*12|0)|0,v=n[v>>2]|0,n[_>>2]=p,n[_+4>>2]=v,Cf(w,_),n[g>>2]&4){R=c+216|0,E=R,E=Bt(n[E>>2]|0,n[E+4>>2]|0,1,0)|0,n[R>>2]=E,n[R+4>>2]=de,R=c+232|0,E=R,E=Bt((n[g>>2]|0)>>>5|0,0,n[E>>2]|0,n[E+4>>2]|0)|0,n[R>>2]=E,n[R+4>>2]=de,f=y;return}else{R=c+208|0,E=R,E=Bt(n[E>>2]|0,n[E+4>>2]|0,1,0)|0,n[R>>2]=E,n[R+4>>2]=de,R=c+224|0,E=R,E=Bt((n[g>>2]|0)>>>5|0,0,n[E>>2]|0,n[E+4>>2]|0)|0,n[R>>2]=E,n[R+4>>2]=de,f=y;return}}function $0(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0;if(_=f,f=f+16|0,A=_+4|0,v=_,w=n[c+544>>2]|0,g=w+(p<<2)|0,S=n[w+(p+1<<2)>>2]^1,!y)n[A>>2]=S,y=c+428|0,E=n[y>>2]|0,S=E+S|0,i[S>>0]|0||(i[S>>0]=1,mi(c+444|0,A),E=n[y>>2]|0),p=n[w+(p+2<<2)>>2]^1,n[v>>2]=p,p=E+p|0,i[p>>0]|0||(i[p>>0]=1,mi(c+444|0,v));else{v=c+412|0,y=n[v>>2]|0,A=y+(S*12|0)|0,w=w+(p+2<<2)|0,S=y+(S*12|0)+4|0,E=n[S>>2]|0;e:do if((E|0)>0)for(I=n[A>>2]|0,k=0;;){if(R=k+1|0,(n[I+(k<<3)>>2]|0)==(p|0)){R=k;break e}if((R|0)<(E|0))k=R;else break}else R=0;while(0);if(E=E+-1|0,(R|0)<(E|0)){do y=n[A>>2]|0,E=R,R=R+1|0,k=y+(R<<3)|0,I=n[k+4>>2]|0,E=y+(E<<3)|0,n[E>>2]=n[k>>2],n[E+4>>2]=I,E=(n[S>>2]|0)+-1|0;while((R|0)<(E|0));y=n[v>>2]|0}n[S>>2]=E,v=n[w>>2]^1,w=y+(v*12|0)|0,v=y+(v*12|0)+4|0,S=n[v>>2]|0;e:do if((S|0)>0)for(y=n[w>>2]|0,E=0;;){if(A=E+1|0,(n[y+(E<<3)>>2]|0)==(p|0)){A=E;break e}if((A|0)<(S|0))E=A;else break}else A=0;while(0);if(p=S+-1|0,(A|0)<(p|0))do R=n[w>>2]|0,p=A,A=A+1|0,k=R+(A<<3)|0,I=n[k+4>>2]|0,p=R+(p<<3)|0,n[p>>2]=n[k>>2],n[p+4>>2]=I,p=(n[v>>2]|0)+-1|0;while((A|0)<(p|0));n[v>>2]=p}if(n[g>>2]&4){I=c+216|0,k=I,k=Bt(n[k>>2]|0,n[k+4>>2]|0,-1,-1)|0,n[I>>2]=k,n[I+4>>2]=de,I=c+232|0,k=I,k=In(n[k>>2]|0,n[k+4>>2]|0,(n[g>>2]|0)>>>5|0,0)|0,n[I>>2]=k,n[I+4>>2]=de,f=_;return}else{I=c+208|0,k=I,k=Bt(n[k>>2]|0,n[k+4>>2]|0,-1,-1)|0,n[I>>2]=k,n[I+4>>2]=de,I=c+224|0,k=I,k=In(n[k>>2]|0,n[k+4>>2]|0,(n[g>>2]|0)>>>5|0,0)|0,n[I>>2]=k,n[I+4>>2]=de,f=_;return}}function Lc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;_=f,g=c+544|0,A=n[g>>2]|0,y=A+(p<<2)|0,$0(c,p,0),A=n[A+(p+1<<2)>>2]|0,w=A>>1,A=(a[(n[c+332>>2]|0)+w>>0]|0)^A&1,R=i[528]|0,E=R&255,((((A&255)<<24>>24==R<<24>>24&(E>>>1^1)|E&2&A|0)!=0?(v=(n[c+396>>2]|0)+(w<<3)|0,S=n[v>>2]|0,(S|0)!=-1):0)?((n[g>>2]|0)+(S<<2)|0)==(y|0):0)&&(n[v>>2]=-1),n[y>>2]=n[y>>2]&-4|1,E=n[(n[g>>2]|0)+(p<<2)>>2]|0,R=c+556|0,n[R>>2]=((((E>>>3&1)+(E>>>5)<<2)+4|0)>>>2)+(n[R>>2]|0),f=_}function j0(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0;if(y=f,g=n[p>>2]|0,g>>>0<=31)return S=0,f=y,S|0;for(_=n[c+332>>2]|0,w=i[528]|0,v=w&255,S=v&2,v=v>>>1^1,c=0;;){if(A=n[p+(c<<2)+4>>2]|0,A=(a[_+(A>>1)>>0]|0)^A&1,c=c+1|0,(A&255)<<24>>24==w<<24>>24&v|S&A){g=1,p=5;break}if((c|0)>=(g>>>5|0)){g=0,p=5;break}}return(p|0)==5?(f=y,g|0):0}function Dc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0;if(_=f,y=c+296|0,(n[y>>2]|0)<=(p|0)){f=_;return}if(g=c+284|0,N=n[g>>2]|0,v=c+292|0,B=n[v>>2]|0,W=n[B+(p<<2)>>2]|0,(N|0)>(W|0)){L=c+280|0,E=c+332|0,A=c+88|0,S=c+348|0,R=c+460|0,I=c+476|0,C=c+472|0,k=c+380|0;do N=N+-1|0,W=n[(n[L>>2]|0)+(N<<2)>>2]>>1,i[(n[E>>2]|0)+W>>0]=i[544]|0,B=n[A>>2]|0,(B|0)<=1?((B|0)==1?(N|0)>(n[(n[v>>2]|0)+((n[y>>2]|0)+-1<<2)>>2]|0):0)&&(w=7):w=7,(w|0)==7&&(w=0,i[(n[S>>2]|0)+W>>0]=n[(n[L>>2]|0)+(N<<2)>>2]&1),((n[I>>2]|0)>(W|0)?(n[(n[C>>2]|0)+(W<<2)>>2]|0)>-1:0)||(w=11),((w|0)==11?(w=0,(i[(n[k>>2]|0)+W>>0]|0)!=0):0)&&Fc(R,W),B=n[v>>2]|0,W=n[B+(p<<2)>>2]|0;while((N|0)>(W|0));N=n[g>>2]|0}if(n[c+512>>2]=W,c=n[B+(p<<2)>>2]|0,(N-c|0)>0&&(n[g>>2]=c),((n[y>>2]|0)-p|0)<=0){f=_;return}n[y>>2]=p,f=_}function F0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0;for(p=f,g=c+72|0,I=+m[g>>3]*1389796,I=I-+(~~(I/2147483647)|0)*2147483647,m[g>>3]=I,S=c+464|0,(I/2147483647<+m[c+64>>3]?(A=n[S>>2]|0,(A|0)!=0):0)?(I=I*1389796,I=I-+(~~(I/2147483647)|0)*2147483647,m[g>>3]=I,A=n[(n[c+460>>2]|0)+(~~(+(A|0)*(I/2147483647))<<2)>>2]|0,R=i[(n[c+332>>2]|0)+A>>0]|0,E=i[544]|0,k=E&255,(((k>>>1^1)&R<<24>>24==E<<24>>24|R&2&k|0)!=0?(i[(n[c+380>>2]|0)+A>>0]|0)!=0:0)&&(k=c+176|0,R=k,R=Bt(n[R>>2]|0,n[R+4>>2]|0,1,0)|0,n[k>>2]=R,n[k+4>>2]=de)):A=-1,E=c+460|0,k=c+332|0,R=c+380|0;!(((A|0)!=-1?(C=i[(n[k>>2]|0)+A>>0]|0,w=i[544]|0,y=w&255,_=y>>>1^1,(_&C<<24>>24==w<<24>>24|C&2&y|0)!=0):0)?(i[(n[R>>2]|0)+A>>0]|0)!=0:0);){if(!(n[S>>2]|0)){y=-2,v=17;break}A=K0(E)|0}if((v|0)==17)return f=p,y|0;if(S=i[(n[c+364>>2]|0)+A>>0]|0,v=S&255,!(_&S<<24>>24==w<<24>>24|y&2&v))return k=i[528]|0,C=k&255,C=((C>>>1^1)&S<<24>>24==k<<24>>24|v&2&C|0)!=0|A<<1,f=p,C|0;if(i[c+92>>0]|0)return I=+m[g>>3]*1389796,I=I-+(~~(I/2147483647)|0)*2147483647,m[g>>3]=I,C=I/2147483647<.5|A<<1,f=p,C|0;return C=(i[(n[c+348>>2]|0)+A>>0]|0)!=0|A<<1,f=p,C|0;return 0}function B0(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0,ne=0,Be=0,it=0,tt=0,Je=0,mt=0,Wt=0,Ke=0,gi=0,jt=0;_=f,f=f+16|0,R=_+8|0,L=_+4|0,A=_,S=y+4|0,w=n[S>>2]|0,v=y+8|0,(w|0)==(n[v>>2]|0)&&(k=(w>>1)+2&-2,k=(k|0)<2?2:k,(k|0)>(2147483647-w|0)&&(Ke=et(1)|0,nt(Ke|0,48,0)),Wt=n[y>>2]|0,Ke=k+w|0,n[v>>2]=Ke,Ke=ur(Wt,Ke<<2)|0,n[y>>2]=Ke,((Ke|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(Ke=et(1)|0,nt(Ke|0,48,0)),w=n[S>>2]|0),v=(n[y>>2]|0)+(w<<2)|0,v&&(n[v>>2]=0,w=n[S>>2]|0),n[S>>2]=w+1,k=c+544|0,Le=c+280|0,w=c+588|0,v=c+396|0,ie=c+504|0,Ne=c+316|0,Te=c+540|0,Fe=c+476|0,He=c+472|0,me=c+460|0,re=c+488|0,J=c+296|0,B=c+496|0,W=c+272|0,Se=c+268|0,Ee=-2,ye=(n[c+284>>2]|0)+-1|0,_e=0;do{if(ne=n[k>>2]|0,p=ne+(p<<2)|0,Be=n[p>>2]|0,(Be&4|0)!=0?(I=+m[B>>3],Ke=p+(Be>>>5<<2)+4|0,gi=I+ +d[Ke>>2],d[Ke>>2]=gi,gi>1e20):0){if(tt=n[W>>2]|0,(tt|0)>0){it=n[Se>>2]|0,Be=0;do Ke=ne+(n[it+(Be<<2)>>2]<<2)|0,Ke=Ke+((n[Ke>>2]|0)>>>5<<2)+4|0,d[Ke>>2]=+d[Ke>>2]*1e-20,Be=Be+1|0;while((Be|0)!=(tt|0))}m[B>>3]=I*1e-20}if(Ee=(Ee|0)!=-2&1,Ee>>>0<(n[p>>2]|0)>>>5>>>0)do{Be=n[p+(Ee<<2)+4>>2]|0,n[L>>2]=Be,Be=Be>>1,ne=(n[w>>2]|0)+Be|0;do if((i[ne>>0]|0)==0?(n[(n[v>>2]|0)+(Be<<3)+4>>2]|0)>0:0){if(tt=n[Ne>>2]|0,Ke=tt+(Be<<3)|0,gi=+m[ie>>3]+ +m[Ke>>3],m[Ke>>3]=gi,gi>1e100){if(Je=n[Te>>2]|0,(Je|0)>0){it=0;do Ke=tt+(it<<3)|0,m[Ke>>3]=+m[Ke>>3]*1e-100,it=it+1|0;while((it|0)!=(Je|0))}m[ie>>3]=+m[ie>>3]*1e-100}if((n[Fe>>2]|0)>(Be|0)?(N=n[He>>2]|0,C=n[N+(Be<<2)>>2]|0,(C|0)>-1):0){it=n[me>>2]|0,tt=n[it+(C<<2)>>2]|0;e:do if(!C)Wt=0;else for(Ke=C;;){if(Wt=Ke,Ke=Ke+-1>>1,mt=it+(Ke<<2)|0,Je=n[mt>>2]|0,jt=n[n[re>>2]>>2]|0,!(+m[jt+(tt<<3)>>3]>+m[jt+(Je<<3)>>3]))break e;if(n[it+(Wt<<2)>>2]=Je,n[N+(n[mt>>2]<<2)>>2]=Wt,!Ke){Wt=0;break}}while(0);n[it+(Wt<<2)>>2]=tt,n[N+(tt<<2)>>2]=Wt}if(i[ne>>0]=1,(n[(n[v>>2]|0)+(Be<<3)+4>>2]|0)<(n[J>>2]|0)){mi(y,L);break}else{_e=_e+1|0;break}}while(0);Ee=Ee+1|0}while((Ee|0)<((n[p>>2]|0)>>>5|0));p=n[Le>>2]|0,ne=n[w>>2]|0;do Ee=ye,ye=ye+-1|0,Ee=n[p+(Ee<<2)>>2]|0,it=Ee>>1,Be=ne+it|0;while((i[Be>>0]|0)==0);p=n[(n[v>>2]|0)+(it<<3)>>2]|0,i[Be>>0]=0,_e=_e+-1|0}while((_e|0)>0);if(n[n[y>>2]>>2]=Ee^1,L=c+616|0,B=n[L>>2]|0,C=c+620|0,B?(n[C>>2]=0,W=0):W=n[C>>2]|0,N=n[S>>2]|0,(W|0)<(N|0)){re=c+624|0,J=n[re>>2]|0,(J|0)<(N|0)&&(jt=N+1-J&-2,W=(J>>1)+2&-2,W=(jt|0)>(W|0)?jt:W,(W|0)>(2147483647-J|0)&&(jt=et(1)|0,nt(jt|0,48,0)),jt=W+J|0,n[re>>2]=jt,B=ur(B,jt<<2)|0,n[L>>2]=B,((B|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(jt=et(1)|0,nt(jt|0,48,0))),W=n[C>>2]|0;e:do if((W|0)<(N|0))for(;;){if(B=B+(W<<2)|0,B&&(n[B>>2]=0),W=W+1|0,(W|0)==(N|0))break e;B=n[L>>2]|0}while(0);n[C>>2]=N,N=n[S>>2]|0}if((N|0)>0){W=n[L>>2]|0,B=n[y>>2]|0,J=0;do n[W+(J<<2)>>2]=n[B+(J<<2)>>2],J=J+1|0,N=n[S>>2]|0;while((J|0)<(N|0))}if(B=n[c+84>>2]|0,(B|0)==1)if((N|0)>1)for(A=n[y>>2]|0,E=1,B=1;;){N=n[A+(E<<2)>>2]|0,R=n[v>>2]|0,W=n[R+(N>>1<<3)>>2]|0;e:do if((W|0)!=-1){if(J=(n[k>>2]|0)+(W<<2)|0,re=n[J>>2]|0,re>>>0>63){for(W=n[w>>2]|0,me=1;!(jt=n[J+(me<<2)+4>>2]>>1,(i[W+jt>>0]|0)==0?(n[R+(jt<<3)+4>>2]|0)>0:0);)if(me=me+1|0,(me|0)>=(re>>>5|0))break e;n[A+(B<<2)>>2]=N,B=B+1|0}}else n[A+(B<<2)>>2]=N,B=B+1|0;while(0);if(E=E+1|0,R=n[S>>2]|0,(E|0)>=(R|0)){A=R;break}}else A=N,E=1,B=1;else if((B|0)==2)if((N|0)>1){k=1,B=1;do W=n[y>>2]|0,N=n[W+(k<<2)>>2]|0,(n[(n[v>>2]|0)+(N>>1<<3)>>2]|0)!=-1?(n[A>>2]=N,n[R+0>>2]=n[A+0>>2],ru(c,R)|0||(N=n[y>>2]|0,W=N,N=n[N+(k<<2)>>2]|0,E=62)):E=62,(E|0)==62&&(E=0,n[W+(B<<2)>>2]=N,B=B+1|0),k=k+1|0,N=n[S>>2]|0;while((k|0)<(N|0));A=N,E=k}else A=N,E=1,B=1;else A=N,E=N,B=N;if(jt=c+240|0,Ke=jt,Ke=Bt(n[Ke>>2]|0,n[Ke+4>>2]|0,A|0,((A|0)<0)<<31>>31|0)|0,n[jt>>2]=Ke,n[jt+4>>2]=de,E=E-B|0,(E|0)>0&&(A=A-E|0,n[S>>2]=A),jt=c+248|0,Ke=jt,Ke=Bt(n[Ke>>2]|0,n[Ke+4>>2]|0,A|0,((A|0)<0)<<31>>31|0)|0,n[jt>>2]=Ke,n[jt+4>>2]=de,(A|0)==1)y=0;else{if(y=n[y>>2]|0,(A|0)>2){c=n[v>>2]|0,S=2,E=1;do E=(n[c+(n[y+(S<<2)>>2]>>1<<3)+4>>2]|0)>(n[c+(n[y+(E<<2)>>2]>>1<<3)+4>>2]|0)?S:E,S=S+1|0;while((S|0)<(A|0))}else E=1;Ke=y+(E<<2)|0,jt=n[Ke>>2]|0,y=y+4|0,n[Ke>>2]=n[y>>2],n[y>>2]=jt,y=n[(n[v>>2]|0)+(jt>>1<<3)+4>>2]|0}if(n[g>>2]=y,(n[C>>2]|0)>0)g=0;else{f=_;return}do i[(n[w>>2]|0)+(n[(n[L>>2]|0)+(g<<2)>>2]>>1)>>0]=0,g=g+1|0;while((g|0)<(n[C>>2]|0));f=_}function ru(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0;for(y=f,R=n[p>>2]|0,A=c+396|0,C=n[A>>2]|0,S=c+544|0,N=(n[S>>2]|0)+(n[C+(R>>1<<3)>>2]<<2)|0,w=c+604|0,g=c+608|0,n[w>>2]|0&&(n[g>>2]=0),_=c+588|0,v=c+612|0,c=c+616|0,k=1;;){if(k>>>0<(n[N>>2]|0)>>>5>>>0){if(L=n[N+(k<<2)+4>>2]|0,I=L>>1,(n[C+(I<<3)+4>>2]|0)!=0?(E=i[(n[_>>2]|0)+I>>0]|0,(E+-1<<24>>24&255)>=2):0){if(N=n[g>>2]|0,B=(N|0)==(n[v>>2]|0),E<<24>>24==3?1:(n[C+(I<<3)>>2]|0)==-1){S=8;break}if(B){if(C=(N>>1)+2&-2,C=(C|0)<2?2:C,(C|0)>(2147483647-N|0)){S=24;break}if(W=n[w>>2]|0,B=C+N|0,n[v>>2]=B,B=ur(W,B<<3)|0,n[w>>2]=B,(B|0)==0?(n[(vt()|0)>>2]|0)==12:0){S=24;break}N=n[g>>2]|0}n[g>>2]=N+1,C=(n[w>>2]|0)+(N<<3)|0,C&&(W=C,n[W>>2]=k,n[W+4>>2]=R),n[p>>2]=L,N=n[A>>2]|0,R=L,C=N,N=(n[S>>2]|0)+(n[N+(I<<3)>>2]<<2)|0,k=0}}else{if(R=(n[_>>2]|0)+(R>>1)|0,i[R>>0]|0||(i[R>>0]=2,mi(c,p)),R=n[g>>2]|0,!R){g=1,S=34;break}W=R+-1|0,R=n[w>>2]|0,k=n[R+(W<<3)>>2]|0,R=n[R+(W<<3)+4>>2]|0,n[p>>2]=R,C=n[A>>2]|0,N=(n[S>>2]|0)+(n[C+(R>>1<<3)>>2]<<2)|0,n[g>>2]=W}k=k+1|0}if((S|0)==8){if(B&&(S=(N>>1)+2&-2,S=(S|0)<2?2:S,(S|0)>(2147483647-N|0)&&(W=et(1)|0,nt(W|0,48,0)),B=n[w>>2]|0,W=S+N|0,n[v>>2]=W,W=ur(B,W<<3)|0,n[w>>2]=W,((W|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(W=et(1)|0,nt(W|0,48,0)),N=n[g>>2]|0),v=N+1|0,n[g>>2]=v,S=(n[w>>2]|0)+(N<<3)|0,S&&(v=S,n[v>>2]=0,n[v+4>>2]=R,v=n[g>>2]|0),(v|0)>0)S=0;else return W=0,f=y,W|0;do A=(n[_>>2]|0)+(n[(n[w>>2]|0)+(S<<3)+4>>2]>>1)|0,i[A>>0]|0||(i[A>>0]=3,mi(c,(n[w>>2]|0)+(S<<3)+4|0),v=n[g>>2]|0),S=S+1|0;while((S|0)<(v|0));return g=0,f=y,g|0}else if((S|0)==24)nt(et(1)|0,48,0);else if((S|0)==34)return f=y,g|0;return 0}function U0(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0;if(v=f,f=f+32|0,w=v+16|0,_=v+12|0,S=v+8|0,g=v,R=y+20|0,A=y+16|0,(n[R>>2]|0)>0){E=0;do i[(n[y>>2]|0)+(n[(n[A>>2]|0)+(E<<2)>>2]|0)>>0]=0,E=E+1|0;while((E|0)<(n[R>>2]|0))}if(n[A>>2]|0&&(n[R>>2]=0),E=n[p>>2]|0,n[S>>2]=E,n[_>>2]=E,n[w+0>>2]=n[_+0>>2],Ya(y,w,0),A=(n[y>>2]|0)+E|0,i[A>>0]|0||(i[A>>0]=1,mi(y+16|0,S)),!(n[c+296>>2]|0)){f=v;return}if(p=E>>1,k=c+588|0,i[(n[k>>2]|0)+p>>0]=1,I=n[c+284>>2]|0,R=c+292|0,N=n[n[R>>2]>>2]|0,(I|0)>(N|0)){S=c+280|0,A=c+396|0,E=y+16|0,c=c+544|0;do if(I=I+-1|0,L=n[(n[S>>2]|0)+(I<<2)>>2]|0,C=L>>1,i[(n[k>>2]|0)+C>>0]|0){N=n[A>>2]|0,B=n[N+(C<<3)>>2]|0;e:do if((B|0)==-1)L=L^1,n[g>>2]=L,n[_>>2]=L,n[w+0>>2]=n[_+0>>2],Ya(y,w,0),L=(n[y>>2]|0)+L|0,i[L>>0]|0||(i[L>>0]=1,mi(E,g));else if(L=(n[c>>2]|0)+(B<<2)|0,B=n[L>>2]|0,B>>>0>63)for(W=1;;){if(J=n[L+(W<<2)+4>>2]>>1,(n[N+(J<<3)+4>>2]|0)>0&&(i[(n[k>>2]|0)+J>>0]=1,B=n[L>>2]|0),W=W+1|0,(W|0)>=(B>>>5|0))break e;N=n[A>>2]|0}while(0);i[(n[k>>2]|0)+C>>0]=0,N=n[n[R>>2]>>2]|0}while((I|0)>(N|0))}i[(n[k>>2]|0)+p>>0]=0,f=v}function H0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0;if(y=f,f=f+16|0,E=y+4|0,L=y,p=c+272|0,B=n[p>>2]|0,S=+m[c+496>>3]/+(B|0),_=c+544|0,w=c+268|0,N=n[w>>2]|0,n[L>>2]=_,n[E+0>>2]=n[L+0>>2],Of(N,B,E),E=n[p>>2]|0,(E|0)>0){v=c+332|0,A=c+396|0,R=0,N=0;do{C=n[w>>2]|0,L=n[C+(R<<2)>>2]|0,B=n[_>>2]|0,k=B+(L<<2)|0,I=n[k>>2]|0;do if(I>>>0>95){if(W=n[B+(L+1<<2)>>2]|0,B=W>>1,W=(a[(n[v>>2]|0)+B>>0]|0)^W&1,re=i[528]|0,J=re&255,((W&255)<<24>>24==re<<24>>24&(J>>>1^1)|J&2&W|0)!=0?(re=n[(n[A>>2]|0)+(B<<3)>>2]|0,(re|0)!=-1&(re|0)==(L|0)):0){g=9;break}if((R|0)>=((E|0)/2|0|0)?!(+d[k+(I>>>5<<2)+4>>2]<S):0){g=9;break}Lc(c,L)}else g=9;while(0);(g|0)==9&&(g=0,n[C+(N<<2)>>2]=L,N=N+1|0),R=R+1|0,E=n[p>>2]|0}while((R|0)<(E|0))}else R=0,N=0;if(g=R-N|0,(g|0)>0&&(n[p>>2]=E-g),!(+((n[c+556>>2]|0)>>>0)>+m[c+96>>3]*+((n[c+548>>2]|0)>>>0))){f=y;return}pu[n[(n[c>>2]|0)+8>>2]&31](c),f=y}function xp(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0;if(y=f,g=p+4|0,A=n[g>>2]|0,(A|0)>0){w=c+544|0,_=c+332|0,v=0,S=0;do{B=n[p>>2]|0,k=n[B+(v<<2)>>2]|0,A=(n[w>>2]|0)+(k<<2)|0,R=n[A>>2]|0;do if(R>>>0>31){W=n[_>>2]|0,C=i[528]|0,I=C&255,J=I&2,I=I>>>1^1,L=R>>>5,N=0;do if(re=n[A+(N<<2)+4>>2]|0,re=(a[W+(re>>1)>>0]|0)^re&1,N=N+1|0,(re&255)<<24>>24==C<<24>>24&I|J&re){E=7;break}while((N|0)<(L|0));if((E|0)==7){E=0,Lc(c,k);break}if(R>>>0>95){E=i[536]|0,I=R>>>5,k=2;do C=A+(k<<2)+4|0,re=n[C>>2]|0,re=(a[(n[_>>2]|0)+(re>>1)>>0]|0)^re&1,J=E&255,(re&255)<<24>>24==E<<24>>24&(J>>>1^1)|J&2&re&&(n[C>>2]=n[A+(I+-1<<2)+4>>2],R=n[A>>2]|0,R&8&&(R=R>>>5,n[A+(R+-1<<2)+4>>2]=n[A+(R<<2)+4>>2],R=n[A>>2]|0),R=R+-32|0,n[A>>2]=R,k=k+-1|0),k=k+1|0,I=R>>>5;while((k|0)<(I|0));k=n[p>>2]|0,B=k,k=n[k+(v<<2)>>2]|0,E=16}else E=16}else E=16;while(0);(E|0)==16&&(E=0,n[B+(S<<2)>>2]=k,S=S+1|0),v=v+1|0,A=n[g>>2]|0}while((v|0)<(A|0))}else v=0,S=0;if(p=v-S|0,(p|0)<=0){f=y;return}n[g>>2]=A-p,f=y}function Ep(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0;if(_=f,f=f+16|0,y=_+4|0,w=_,n[y>>2]=0,p=y+4|0,n[p>>2]=0,g=y+8|0,n[g>>2]=0,n[w>>2]=0,v=c+540|0,R=n[v>>2]|0,(R|0)>0){A=c+380|0,S=c+332|0,E=0;do((i[(n[A>>2]|0)+E>>0]|0)!=0?(I=i[(n[S>>2]|0)+E>>0]|0,C=i[544]|0,k=C&255,((k>>>1^1)&I<<24>>24==C<<24>>24|I&2&k|0)!=0):0)&&(Hr(y,w),R=n[v>>2]|0),E=E+1|0,n[w>>2]=E;while((E|0)<(R|0))}if(Ii(c+460|0,y),c=n[y>>2]|0,!c){f=_;return}n[p>>2]=0,Qe(c),n[y>>2]=0,n[g>>2]=0,f=_}function G0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0;if(p=f,g=c+492|0,(i[g>>0]|0)!=0?(Mc(c)|0)==-1:0){if(g=c+284|0,_=c+516|0,(n[g>>2]|0)==(n[_>>2]|0))return L=1,f=p,L|0;if(w=c+520|0,L=w,C=n[L+4>>2]|0,(C|0)>0|(C|0)==0&(n[L>>2]|0)>>>0>0)return L=1,f=p,L|0;if(xp(c,c+268|0),i[c+536>>0]|0){if(xp(c,c+256|0),S=c+564|0,v=c+568|0,(n[v>>2]|0)>0){E=c+588|0,A=0;do i[(n[E>>2]|0)+(n[(n[S>>2]|0)+(A<<2)>>2]|0)>>0]=1,A=A+1|0;while((A|0)<(n[v>>2]|0))}if(k=n[g>>2]|0,(k|0)>0){A=n[c+280>>2]|0,E=n[c+588>>2]|0,I=0,R=0;do C=n[A+(I<<2)>>2]|0,i[E+(C>>1)>>0]|0||(n[A+(R<<2)>>2]=C,k=n[g>>2]|0,R=R+1|0),I=I+1|0;while((I|0)<(k|0))}else I=0,R=0;A=I-R|0,(A|0)>0&&(k=k-A|0,n[g>>2]=k),n[c+512>>2]=k;e:do if((n[v>>2]|0)>0){R=c+588|0,A=0;do i[(n[R>>2]|0)+(n[(n[S>>2]|0)+(A<<2)>>2]|0)>>0]=0,A=A+1|0,E=n[v>>2]|0;while((A|0)<(E|0));if((E|0)>0){for(E=c+580|0,R=c+584|0,A=c+576|0,k=0;;){if(C=n[E>>2]|0,(C|0)==(n[R>>2]|0)){if(I=(C>>1)+2&-2,I=(I|0)<2?2:I,(I|0)>(2147483647-C|0)){y=28;break}if(L=n[A>>2]|0,I=I+C|0,n[R>>2]=I,I=ur(L,I<<2)|0,n[A>>2]=I,(I|0)==0?(n[(vt()|0)>>2]|0)==12:0){y=28;break}C=n[E>>2]|0}else I=n[A>>2]|0;if(L=I+(C<<2)|0,L&&(n[L>>2]=0,C=n[E>>2]|0),n[E>>2]=C+1,L=n[S>>2]|0,n[I+(C<<2)>>2]=n[L+(k<<2)>>2],k=k+1|0,(k|0)>=(n[v>>2]|0))break e}(y|0)==28&&nt(et(1)|0,48,0)}else y=21}else y=21;while(0);(y|0)==21&&(L=n[S>>2]|0),L&&(n[v>>2]=0)}return+((n[c+556>>2]|0)>>>0)>+m[c+96>>3]*+((n[c+548>>2]|0)>>>0)&&pu[n[(n[c>>2]|0)+8>>2]&31](c),Ep(c),n[_>>2]=n[g>>2],C=c+224|0,L=c+232|0,C=Bt(n[L>>2]|0,n[L+4>>2]|0,n[C>>2]|0,n[C+4>>2]|0)|0,L=w,n[L>>2]=C,n[L+4>>2]=de,L=1,f=p,L|0}return i[g>>0]=0,L=0,f=p,L|0}function vr(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0,ne=0,Be=0,it=0,tt=0,Je=0,mt=0,Wt=0,Ke=0,gi=0,jt=0,jf=0,qi=0,Kt=0,Ja=0,yi=0,kr=0,It=0,du=0,Ni=0,Es=0,rt=0,Pr=0,Xc=0,Ip=0,Xr=0,qp=0,K2=0,Ff=0,Bf=0,vi=0,mu=0,Xt=0,ze=0,Yc=0;v=f,f=f+64|0,Kt=v,Te=v+60|0,me=v+56|0,g=v+44|0,Ja=v+40|0,n[g>>2]=0,w=g+4|0,n[w>>2]=0,_=g+8|0,n[_>>2]=0,ne=p+160|0,_e=ne,_e=Bt(n[_e>>2]|0,n[_e+4>>2]|0,1,0)|0,n[ne>>2]=_e,n[ne+4>>2]=de,ne=(y|0)<0,_e=p+680|0,Ee=p+664|0,ye=p+672|0,E=p+296|0,N=p+272|0,S=p+284|0,Se=p+640|0,ie=p+308|0,Fe=p+304|0,R=p+332|0,Ne=p+292|0,kr=p+168|0,I=p+396|0,L=p+280|0,Le=p+184|0,He=p+192|0,C=p+48|0,Wt=p+504|0,jf=p+56|0,yi=p+496|0,It=p+656|0,Be=p+144|0,it=p+648|0,tt=p+128|0,Je=p+44|0,mt=p+200|0,Ke=p+208|0,gi=p+224|0,jt=p+216|0,k=p+232|0,qi=p+540|0,A=p+292|0,B=p+544|0,J=p+276|0,W=p+268|0,re=p+268|0,du=0;e:for(;;){for(Ni=ne|(du|0)<(y|0);!(rt=Mc(p)|0,(rt|0)!=-1);){if(!Ni){rt=41;break e}if(i[_e>>0]|0){rt=41;break e}if(rt=Ee,Pr=n[rt+4>>2]|0,(Pr|0)>=0?(ze=He,Xt=n[ze+4>>2]|0,!(Xt>>>0<Pr>>>0|((Xt|0)==(Pr|0)?(n[ze>>2]|0)>>>0<(n[rt>>2]|0)>>>0:0))):0){rt=41;break e}if(rt=ye,Pr=n[rt+4>>2]|0,(Pr|0)>=0?(ze=Le,Xt=n[ze+4>>2]|0,!(Xt>>>0<Pr>>>0|((Xt|0)==(Pr|0)?(n[ze>>2]|0)>>>0<(n[rt>>2]|0)>>>0:0))):0){rt=41;break e}if((n[E>>2]|0)==0?!(G0(p)|0):0){rt=50;break e}for(+((n[N>>2]|0)-(n[S>>2]|0)|0)>=+m[Se>>3]&&H0(p);;){if(rt=n[E>>2]|0,(rt|0)>=(n[ie>>2]|0)){rt=59;break}if(Xr=n[(n[Fe>>2]|0)+(rt<<2)>>2]|0,Pr=a[(n[R>>2]|0)+(Xr>>1)>>0]|0,ze=Pr^Xr&1,Xc=ze&255,vi=i[528]|0,Xt=vi&255,!(Xc<<24>>24==vi<<24>>24&(Xt>>>1^1)|Xt&2&ze)){rt=56;break}n[Te>>2]=n[S>>2],Hr(Ne,Te)}if((rt|0)==56){if(rt=0,Xt=i[536]|0,ze=Xt&255,(ze>>>1^1)&Xc<<24>>24==Xt<<24>>24|Pr&2&ze){rt=57;break e}(Xr|0)==-2&&(rt=59)}if((rt|0)==59&&(ze=kr,ze=Bt(n[ze>>2]|0,n[ze+4>>2]|0,1,0)|0,Xr=kr,n[Xr>>2]=ze,n[Xr+4>>2]=de,Xr=F0(p)|0,(Xr|0)==-2)){rt=60;break e}n[Kt>>2]=n[S>>2],Hr(Ne,Kt),ze=Xr>>1,i[(n[R>>2]|0)+ze>>0]=(Xr&1^1)&255^1,Xt=n[E>>2]|0,ze=(n[I>>2]|0)+(ze<<3)|0,n[ze>>2]=-1,n[ze+4>>2]=Xt,ze=n[S>>2]|0,n[S>>2]=ze+1,n[(n[L>>2]|0)+(ze<<2)>>2]=Xr}if(Xt=He,Xt=Bt(n[Xt>>2]|0,n[Xt+4>>2]|0,1,0)|0,ze=He,n[ze>>2]=Xt,n[ze+4>>2]=de,du=du+1|0,!(n[E>>2]|0)){rt=5;break}if(n[g>>2]|0&&(n[w>>2]=0),B0(p,rt,g,me),Dc(p,n[me>>2]|0),(n[w>>2]|0)==1)Xt=n[n[g>>2]>>2]|0,ze=Xt>>1,i[(n[R>>2]|0)+ze>>0]=(Xt&1^1)&255^1,vi=n[E>>2]|0,ze=(n[I>>2]|0)+(ze<<3)|0,n[ze>>2]=-1,n[ze+4>>2]=vi,ze=n[S>>2]|0,n[S>>2]=ze+1,n[(n[L>>2]|0)+(ze<<2)>>2]=Xt;else{if(Ni=nu(B,g,1)|0,rt=n[N>>2]|0,(rt|0)==(n[J>>2]|0)){if(Pr=(rt>>1)+2&-2,Pr=(Pr|0)<2?2:Pr,(Pr|0)>(2147483647-rt|0)){rt=14;break}if(Xt=n[W>>2]|0,ze=Pr+rt|0,n[J>>2]=ze,ze=ur(Xt,ze<<2)|0,n[W>>2]=ze,(ze|0)==0?(n[(vt()|0)>>2]|0)==12:0){rt=14;break}rt=n[N>>2]|0}if(n[N>>2]=rt+1,rt=(n[W>>2]|0)+(rt<<2)|0,rt&&(n[rt>>2]=Ni),tu(p,Ni),Xc=n[B>>2]|0,ze=Xc+(Ni<<2)|0,Es=+m[yi>>3],ze=ze+((n[ze>>2]|0)>>>5<<2)+4|0,Yc=Es+ +d[ze>>2],d[ze>>2]=Yc,Yc>1e20){if(Pr=n[N>>2]|0,(Pr|0)>0){rt=n[re>>2]|0,Xr=0;do ze=Xc+(n[rt+(Xr<<2)>>2]<<2)|0,ze=ze+((n[ze>>2]|0)>>>5<<2)+4|0,d[ze>>2]=+d[ze>>2]*1e-20,Xr=Xr+1|0;while((Xr|0)!=(Pr|0))}m[yi>>3]=Es*1e-20}Xt=n[n[g>>2]>>2]|0,ze=Xt>>1,i[(n[R>>2]|0)+ze>>0]=(Xt&1^1)&255^1,vi=n[E>>2]|0,ze=(n[I>>2]|0)+(ze<<3)|0,n[ze>>2]=Ni,n[ze+4>>2]=vi,ze=n[S>>2]|0,n[S>>2]=ze+1,n[(n[L>>2]|0)+(ze<<2)>>2]=Xt}if(m[Wt>>3]=1/+m[C>>3]*+m[Wt>>3],m[yi>>3]=1/+m[jf>>3]*+m[yi>>3],ze=(n[It>>2]|0)+-1|0,n[It>>2]=ze,ze)continue;if(Es=+m[Be>>3]*+m[it>>3],m[it>>3]=Es,n[It>>2]=~~Es,Es=+m[tt>>3]*+m[Se>>3],m[Se>>3]=Es,(n[Je>>2]|0)<=0)continue;if(rt=n[He>>2]|0,Ni=n[mt>>2]|0,Bf=n[E>>2]|0,Bf?Pr=n[A>>2]|0:Pr=S,Pr=n[Pr>>2]|0,Ff=n[Ke>>2]|0,K2=n[gi>>2]|0,qp=n[jt>>2]|0,Xr=k,Xc=n[Xr>>2]|0,Xr=n[Xr+4>>2]|0,Ip=+(n[qi>>2]|0),mu=1/Ip,(Bf|0)<0)Yc=0;else for(vi=0,Yc=0;!(vi?Xt=n[(n[A>>2]|0)+(vi+-1<<2)>>2]|0:Xt=0,(vi|0)==(Bf|0)?ze=S:ze=(n[A>>2]|0)+(vi<<2)|0,Yc=Yc+ +jo(+mu,+ +(vi|0))*+((n[ze>>2]|0)-Xt|0),(vi|0)==(Bf|0));)vi=vi+1|0;n[Kt>>2]=rt,n[Kt+4>>2]=Ni-Pr,n[Kt+8>>2]=Ff,n[Kt+12>>2]=K2,n[Kt+16>>2]=~~Es,n[Kt+20>>2]=qp,ze=Kt+24|0,m[T>>3]=(+(Xc>>>0)+4294967296*+(Xr>>>0))/+(qp|0),n[ze>>2]=n[T>>2],n[ze+4>>2]=n[T+4>>2],ze=Kt+32|0,m[T>>3]=Yc/Ip*100,n[ze>>2]=n[T>>2],n[ze+4>>2]=n[T+4>>2],qc(1832,Kt|0)|0}if((rt|0)==5)i[c>>0]=i[536]|0;else if((rt|0)==14)nt(et(1)|0,48,0);else if((rt|0)==41){if(Es=+(n[qi>>2]|0),Ip=1/Es,R=n[E>>2]|0,(R|0)<0)mu=0;else for(E=0,mu=0;!(E?k=n[(n[A>>2]|0)+(E+-1<<2)>>2]|0:k=0,(E|0)==(R|0)?I=S:I=(n[A>>2]|0)+(E<<2)|0,mu=mu+ +jo(+Ip,+ +(E|0))*+((n[I>>2]|0)-k|0),(E|0)==(R|0));)E=E+1|0;m[p+528>>3]=mu/Es,Dc(p,0),i[c>>0]=i[544]|0}else(rt|0)==50?i[c>>0]=i[536]|0:(rt|0)==57?(n[Ja>>2]=Xr^1,ze=p+16|0,n[Kt+0>>2]=n[Ja+0>>2],U0(p,Kt,ze),i[c>>0]=i[536]|0):(rt|0)==60&&(i[c>>0]=i[528]|0);if(c=n[g>>2]|0,!c){f=v;return}n[w>>2]=0,Qe(c),n[g>>2]=0,n[_>>2]=0,f=v}function xr(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0;if(g=f,f=f+16|0,w=g,y=p+4|0,n[y>>2]|0&&(n[p+8>>2]=0),_=p+36|0,v=p+32|0,(n[_>>2]|0)>0){S=p+16|0,A=0;do i[(n[S>>2]|0)+(n[(n[v>>2]|0)+(A<<2)>>2]|0)>>0]=0,A=A+1|0;while((A|0)<(n[_>>2]|0))}if(n[v>>2]|0&&(n[_>>2]=0),v=p+492|0,!(i[v>>0]|0)){i[c>>0]=i[536]|0,f=g;return}S=p+152|0,me=S,me=Bt(n[me>>2]|0,n[me+4>>2]|0,1,0)|0,n[S>>2]=me,n[S+4>>2]=de,He=+m[p+120>>3]*+(n[p+208>>2]|0),S=p+640|0,m[S>>3]=He,W=+(n[p+104>>2]|0),He<W&&(m[S>>3]=W),J=n[p+136>>2]|0,m[p+648>>3]=+(J|0),n[p+656>>2]=J,J=i[544]|0,S=p+44|0,(n[S>>2]|0)>0?(Wa(2288)|0,Wa(2368)|0,Wa(2448)|0,Wa(2528)|0,R=i[544]|0):R=J,E=p+192|0,A=p+184|0,me=R&255;e:do if((me>>>1^1)&J<<24>>24==R<<24>>24|J&2&me)for(I=p+80|0,N=p+112|0,k=p+108|0,R=p+680|0,C=p+664|0,L=p+672|0,B=0;;){if(W=+m[N>>3],!(i[I>>0]|0))W=+jo(+W,+ +(B|0));else{if(me=B+1|0,(B|0)>0){re=0,J=1;do re=re+1|0,J=J<<1|1;while((J|0)<(me|0));me=J+-1|0}else re=0,me=0;if((me|0)!=(B|0)){J=B;do Fe=me>>1,re=re+-1|0,J=(J|0)%(Fe|0)|0,me=Fe+-1|0;while((me|0)!=(J|0))}W=+jo(+W,+ +(re|0))}if(vr(w,p,~~(W*+(n[k>>2]|0))),J=i[w>>0]|0,i[R>>0]|0)break e;if(me=C,re=n[me+4>>2]|0,(re|0)>=0?(Fe=E,ie=n[Fe+4>>2]|0,!(ie>>>0<re>>>0|((ie|0)==(re|0)?(n[Fe>>2]|0)>>>0<(n[me>>2]|0)>>>0:0))):0)break e;if(me=L,re=n[me+4>>2]|0,(re|0)>=0?(ie=A,Fe=n[ie+4>>2]|0,!(Fe>>>0<re>>>0|((Fe|0)==(re|0)?(n[ie>>2]|0)>>>0<(n[me>>2]|0)>>>0:0))):0)break e;if(Fe=i[544]|0,ie=Fe&255,(ie>>>1^1)&J<<24>>24==Fe<<24>>24|J&2&ie)B=B+1|0;else break}while(0);if((n[S>>2]|0)>0&&Wa(2528)|0,Fe=i[528]|0,ie=Fe&255,w=J&2,!((ie>>>1^1)&J<<24>>24==Fe<<24>>24|w&ie))Fe=i[536]|0,ie=Fe&255,(((ie>>>1^1)&J<<24>>24==Fe<<24>>24|w&ie|0)!=0?(n[_>>2]|0)==0:0)&&(i[v>>0]=0);else if(_=p+540|0,Pi(y,n[_>>2]|0),(n[_>>2]|0)>0){w=p+332|0,v=0;do i[(n[y>>2]|0)+v>>0]=i[(n[w>>2]|0)+v>>0]|0,v=v+1|0;while((v|0)<(n[_>>2]|0))}Dc(p,0),i[c>>0]=J,f=g}function Hs(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0;if(y=f,_=c+412|0,tv(_),v=c+540|0,(n[v>>2]|0)>0){w=c+544|0,g=0;do{if(S=g<<1,E=n[_>>2]|0,A=E+(S*12|0)+4|0,(n[A>>2]|0)>0){k=E+(S*12|0)|0,R=0;do L=(n[k>>2]|0)+(R<<3)|0,E=n[L>>2]|0,I=n[w>>2]|0,C=I+(E<<2)|0,n[C>>2]&16?n[L>>2]=n[I+(E+1<<2)>>2]:(N=mn(p,C)|0,n[L>>2]=N,n[C>>2]=n[C>>2]|16,n[I+(E+1<<2)>>2]=N),R=R+1|0;while((R|0)<(n[A>>2]|0));A=n[_>>2]|0}else A=E;if(E=S|1,S=A+(E*12|0)+4|0,(n[S>>2]|0)>0){C=A+(E*12|0)|0,I=0;do A=(n[C>>2]|0)+(I<<3)|0,k=n[A>>2]|0,R=n[w>>2]|0,E=R+(k<<2)|0,n[E>>2]&16?n[A>>2]=n[R+(k+1<<2)>>2]:(N=mn(p,E)|0,n[A>>2]=N,n[E>>2]=n[E>>2]|16,n[R+(k+1<<2)>>2]=N),I=I+1|0;while((I|0)<(n[S>>2]|0))}g=g+1|0}while((g|0)<(n[v>>2]|0))}if(g=c+284|0,(n[g>>2]|0)>0){S=c+280|0,v=c+396|0,w=c+544|0,_=c+332|0,A=0;do{C=n[v>>2]|0,k=C+(n[(n[S>>2]|0)+(A<<2)>>2]>>1<<3)|0,I=n[k>>2]|0;do if((I|0)!=-1){if(N=n[w>>2]|0,L=N+(I<<2)|0,R=(n[L>>2]&16|0)==0,R){if(B=n[N+(I+1<<2)>>2]|0,E=B>>1,B=(a[(n[_>>2]|0)+E>>0]|0)^B&1,J=i[528]|0,W=J&255,!((B&255)<<24>>24==J<<24>>24&(W>>>1^1)|W&2&B))break;if(J=n[C+(E<<3)>>2]|0,!((J|0)!=-1&(J|0)==(I|0)))break;if(R){J=mn(p,L)|0,n[k>>2]=J,n[L>>2]=n[L>>2]|16,n[N+(I+1<<2)>>2]=J;break}}n[k>>2]=n[N+(I+1<<2)>>2]}while(0);A=A+1|0}while((A|0)<(n[g>>2]|0))}if(g=c+272|0,E=n[g>>2]|0,(E|0)>0){w=c+268|0,_=c+544|0,A=n[w>>2]|0,v=0,S=0;do k=A+(v<<2)|0,R=n[k>>2]|0,C=n[_>>2]|0,I=C+(R<<2)|0,L=n[I>>2]|0,(L&3|0)!=1&&(L&16?(E=n[C+(R+1<<2)>>2]|0,n[k>>2]=E):(E=mn(p,I)|0,n[k>>2]=E,n[I>>2]=n[I>>2]|16,n[C+(R+1<<2)>>2]=E,E=n[w>>2]|0,A=E,E=n[E+(v<<2)>>2]|0),n[A+(S<<2)>>2]=E,E=n[g>>2]|0,S=S+1|0),v=v+1|0;while((v|0)<(E|0))}else v=0,S=0;if(_=v-S|0,(_|0)>0&&(n[g>>2]=E-_),g=c+260|0,A=n[g>>2]|0,(A|0)>0){_=c+256|0,c=c+544|0,S=n[_>>2]|0,w=0,v=0;do E=S+(w<<2)|0,k=n[E>>2]|0,R=n[c>>2]|0,C=R+(k<<2)|0,I=n[C>>2]|0,(I&3|0)!=1&&(I&16?(A=n[R+(k+1<<2)>>2]|0,n[E>>2]=A):(A=mn(p,C)|0,n[E>>2]=A,n[C>>2]=n[C>>2]|16,n[R+(k+1<<2)>>2]=A,A=n[_>>2]|0,S=A,A=n[A+(w<<2)>>2]|0),n[S+(v<<2)>>2]=A,A=n[g>>2]|0,v=v+1|0),w=w+1|0;while((w|0)<(A|0))}else w=0,v=0;if(p=w-v|0,(p|0)<=0){f=y;return}n[g>>2]=A-p,f=y}function zo(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0;_=f,f=f+32|0,v=_,p=_+8|0,y=c+548|0,g=c+556|0,w=(n[y>>2]|0)-(n[g>>2]|0)|0,n[p+0>>2]=0,n[p+4>>2]=0,n[p+8>>2]=0,n[p+12>>2]=0,jc(p,w),w=p+16|0,i[w>>0]=0,Hs(c,p),(n[c+44>>2]|0)>1&&(S=n[p+4>>2]<<2,n[v>>2]=n[y>>2]<<2,n[v+4>>2]=S,qc(1888,v|0)|0),i[c+560>>0]=i[w>>0]|0,w=c+544|0,v=n[w>>2]|0,v&&Qe(v),n[w>>2]=n[p>>2],n[y>>2]=n[p+4>>2],n[c+552>>2]=n[p+8>>2],n[g>>2]=n[p+12>>2],f=_}function z0(){var c=0,p=0,y=0;c=f,f=f+16|0,p=c,i[528]=0,i[536]=1,i[544]=2,an(552,608,624,2136,2144),n[138]=2168,m[72]=0,m[73]=1,i[592]=0,i[593]=0,s[297]=s[p+0>>1]|0,s[298]=s[p+2>>1]|0,s[299]=s[p+4>>1]|0,m[75]=.95,an(664,720,736,2136,2144),n[166]=2168,m[86]=0,m[87]=1,i[704]=0,i[705]=0,s[353]=s[p+0>>1]|0,s[354]=s[p+2>>1]|0,s[355]=s[p+4>>1]|0,m[89]=.999,an(776,832,848,2136,2144),n[194]=2168,m[100]=0,m[101]=1,i[816]=1,i[817]=1,s[409]=s[p+0>>1]|0,s[410]=s[p+2>>1]|0,s[411]=s[p+4>>1]|0,m[103]=0,an(936,992,1008,2136,2144),n[234]=2168,m[120]=0,m[121]=Pe,i[976]=0,i[977]=0,s[489]=s[p+0>>1]|0,s[490]=s[p+2>>1]|0,s[491]=s[p+4>>1]|0,m[123]=91648253,an(1048,1080,1096,2136,2016),n[262]=280,y=1068|0,n[y>>2]=0,n[y+4>>2]=2,n[269]=2,an(1160,1192,1208,2136,2016),n[290]=280,y=1180|0,n[y>>2]=0,n[y+4>>2]=2,n[297]=2,an(1272,1296,1312,2136,1992),n[318]=160,i[1292]=0,an(1344,1368,1376,2136,1992),n[336]=160,i[1364]=1,an(1408,1440,1448,2136,2016),n[352]=280,y=1428|0,n[y>>2]=1,n[y+4>>2]=2147483647,n[359]=100,an(1480,1536,1544,2136,2144),n[370]=2168,m[188]=1,m[189]=Pe,i[1520]=0,i[1521]=0,s[761]=s[p+0>>1]|0,s[762]=s[p+2>>1]|0,s[763]=s[p+4>>1]|0,m[191]=2,an(1584,1640,1648,2136,2144),n[396]=2168,m[201]=0,m[202]=Pe,i[1624]=0,i[1625]=0,s[813]=s[p+0>>1]|0,s[814]=s[p+2>>1]|0,s[815]=s[p+4>>1]|0,m[204]=.2,an(1728,1760,1776,2136,2016),n[432]=280,p=1748|0,n[p>>2]=0,n[p+4>>2]=2147483647,n[439]=0,f=c}function Sp(c){c=c|0;var p=0;p=f,Wo(c),f=p}function V0(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0;if(y=f,f=f+16|0,w=y,_=y+8|0,(i[p>>0]|0)!=45)return R=0,f=y,R|0;A=p+1|0,g=c+4|0,v=n[g>>2]|0,S=i[v>>0]|0;e:do if(S<<24>>24){for(E=0;;){if(R=E,E=E+1|0,(i[A>>0]|0)!=S<<24>>24){c=0;break}if(S=i[v+E>>0]|0,A=p+(R+2)|0,!(S<<24>>24))break e}return f=y,c|0}while(0);return(i[A>>0]|0)!=61?(R=0,f=y,R|0):(v=A+1|0,k=+j2(v,_),n[_>>2]|0?(I=+m[c+32>>3],(k>=I?(i[c+41>>0]|0)==0|k!=I:0)&&(R=n[oe>>2]|0,E=n[g>>2]|0,n[w>>2]=v,n[w+4>>2]=E,ri(R|0,2024,w|0)|0,Go(1)),I=+m[c+24>>3],(k<=I?(i[c+40>>0]|0)==0|k!=I:0)&&(R=n[oe>>2]|0,E=n[g>>2]|0,n[w>>2]=v,n[w+4>>2]=E,ri(R|0,2080,w|0)|0,Go(1)),m[c+48>>3]=k,R=1,f=y,R|0):(R=0,f=y,R|0))}function $c(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(y=f,f=f+48|0,g=y,_=n[oe>>2]|0,R=n[c+16>>2]|0,S=(i[c+40>>0]|0)!=0?91:40,E=+m[c+24>>3],A=+m[c+32>>3],w=(i[c+41>>0]|0)!=0?93:41,v=+m[c+48>>3],n[g>>2]=n[c+4>>2],n[g+4>>2]=R,n[g+8>>2]=S,S=g+12|0,m[T>>3]=E,n[S>>2]=n[T>>2],n[S+4>>2]=n[T+4>>2],S=g+20|0,m[T>>3]=A,n[S>>2]=n[T>>2],n[S+4>>2]=n[T+4>>2],n[g+28>>2]=w,w=g+32|0,m[T>>3]=v,n[w>>2]=n[T>>2],n[w+4>>2]=n[T+4>>2],ri(_|0,2232,g|0)|0,!p){f=y;return}n[g>>2]=n[c+8>>2],ri(_|0,2e3,g|0)|0,ya(10,_|0)|0,f=y}function jc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0;if(y=f,g=c+8|0,_=n[g>>2]|0,_>>>0<p>>>0)v=_;else{f=y;return}for(;!(v>>>0>=p>>>0);)if(v=((v>>>3)+2+(v>>>1)&-2)+v|0,n[g>>2]=v,v>>>0<=_>>>0){w=4;break}(w|0)==4&&nt(et(1)|0,48,0),g=ur(n[c>>2]|0,v<<2)|0,((g|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&nt(et(1)|0,48,0),n[c>>2]=g,f=y}function W0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0;if(p=f,g=c+32|0,y=n[g>>2]|0,y&&(n[c+36>>2]=0,Qe(y),n[g>>2]=0,n[c+40>>2]=0),g=c+16|0,y=n[g>>2]|0,y&&(n[c+20>>2]=0,Qe(y),n[g>>2]=0,n[c+24>>2]=0),g=n[c>>2]|0,!g){f=p;return}if(y=c+4|0,w=n[y>>2]|0,(w|0)>0){_=0;do S=g+(_*12|0)|0,v=n[S>>2]|0,v&&(n[g+(_*12|0)+4>>2]=0,Qe(v),n[S>>2]=0,n[g+(_*12|0)+8>>2]=0,g=n[c>>2]|0,w=n[y>>2]|0),_=_+1|0;while((_|0)<(w|0))}n[y>>2]=0,Qe(g),n[c>>2]=0,n[c+8>>2]=0,f=p}function on(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0;if(_=f,f=f+16|0,g=_+4|0,y=_,E=n[p>>2]|0,v=E+1|0,w=c+4|0,(n[w>>2]|0)<(v|0)){if(A=c+8|0,S=n[A>>2]|0,(S|0)<(v|0)&&(R=E+2-S&-2,E=(S>>1)+2&-2,E=(R|0)>(E|0)?R:E,(E|0)>(2147483647-S|0)&&(R=et(1)|0,nt(R|0,48,0)),k=n[c>>2]|0,R=E+S|0,n[A>>2]=R,R=ur(k,R*12|0)|0,n[c>>2]=R,((R|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(k=et(1)|0,nt(k|0,48,0))),A=n[w>>2]|0,(A|0)<(v|0)){S=n[c>>2]|0;do E=S+(A*12|0)|0,E&&(n[E>>2]=0,n[S+(A*12|0)+4>>2]=0,n[S+(A*12|0)+8>>2]=0),A=A+1|0;while((A|0)!=(v|0))}n[w>>2]=v,E=n[p>>2]|0}if(w=n[c>>2]|0,!(n[w+(E*12|0)>>2]|0)){R=E,k=c+16|0,n[y>>2]=R,n[g+0>>2]=n[y+0>>2],Ya(k,g,0),f=_;return}n[w+(E*12|0)+4>>2]=0,R=n[p>>2]|0,k=c+16|0,n[y>>2]=R,n[g+0>>2]=n[y+0>>2],Ya(k,g,0),f=_}function Pi(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0;if(g=f,y=c+4|0,(n[y>>2]|0)>=(p|0)){f=g;return}if(w=c+8|0,_=n[w>>2]|0,(_|0)<(p|0)&&(S=p+1-_&-2,v=(_>>1)+2&-2,v=(S|0)>(v|0)?S:v,(v|0)>(2147483647-_|0)&&(S=et(1)|0,nt(S|0,48,0)),A=n[c>>2]|0,S=v+_|0,n[w>>2]=S,S=ur(A,S)|0,n[c>>2]=S,((S|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(A=et(1)|0,nt(A|0,48,0))),_=n[y>>2]|0,(_|0)<(p|0)){c=n[c>>2]|0;do w=c+_|0,w&&(i[w>>0]=0),_=_+1|0;while((_|0)!=(p|0))}n[y>>2]=p,f=g}function vs(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(w=f,_=p+1|0,g=c+4|0,(n[g>>2]|0)>=(_|0)){A=n[c>>2]|0,A=A+p|0,i[A>>0]=y,f=w;return}if(S=c+8|0,v=n[S>>2]|0,(v|0)<(_|0)&&(E=p+2-v&-2,A=(v>>1)+2&-2,A=(E|0)>(A|0)?E:A,(A|0)>(2147483647-v|0)&&(E=et(1)|0,nt(E|0,48,0)),R=n[c>>2]|0,E=A+v|0,n[S>>2]=E,E=ur(R,E)|0,n[c>>2]=E,((E|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(R=et(1)|0,nt(R|0,48,0))),v=n[g>>2]|0,(v|0)<(_|0))do S=(n[c>>2]|0)+v|0,S&&(i[S>>0]=0),v=v+1|0;while((v|0)!=(_|0));n[g>>2]=_,R=n[c>>2]|0,R=R+p|0,i[R>>0]=y,f=w}function Fc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0;if(y=f,f=f+16|0,w=y,n[w>>2]=p,v=c+12|0,_=p+1|0,g=c+16|0,(n[g>>2]|0)<(_|0)&&(A=c+20|0,S=n[A>>2]|0,(S|0)<(_|0)&&(R=p+2-S&-2,E=(S>>1)+2&-2,E=(R|0)>(E|0)?R:E,(E|0)>(2147483647-S|0)&&(R=et(1)|0,nt(R|0,48,0)),k=n[v>>2]|0,R=E+S|0,n[A>>2]=R,R=ur(k,R<<2)|0,n[v>>2]=R,((R|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(k=et(1)|0,nt(k|0,48,0))),S=n[g>>2]|0,(_|0)>(S|0)&&fu((n[v>>2]|0)+(S<<2)|0,-1,_-S<<2|0)|0,n[g>>2]=_),n[(n[v>>2]|0)+(p<<2)>>2]=n[c+4>>2],Hr(c,w),g=n[v>>2]|0,w=n[g+(p<<2)>>2]|0,p=n[c>>2]|0,_=n[p+(w<<2)>>2]|0,!w){R=0,k=p+(R<<2)|0,n[k>>2]=_,k=g+(_<<2)|0,n[k>>2]=R,f=y;return}for(c=c+28|0;;){if(v=w,w=w+-1>>1,S=p+(w<<2)|0,A=n[S>>2]|0,k=n[n[c>>2]>>2]|0,!(+m[k+(_<<3)>>3]>+m[k+(A<<3)>>3])){c=14;break}if(n[p+(v<<2)>>2]=A,n[g+(n[S>>2]<<2)>>2]=v,!w){v=0,c=14;break}}if((c|0)==14){k=p+(v<<2)|0,n[k>>2]=_,k=g+(_<<2)|0,n[k>>2]=v,f=y;return}}function mi(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(y=f,g=c+4|0,_=n[g>>2]|0,w=c+8|0,v=n[w>>2]|0,(_|0)==(v|0)&(v|0)<(_+1|0)?(v=(_>>1)+2&-2,v=(v|0)<2?2:v,(v|0)>(2147483647-_|0)&&(v=et(1)|0,nt(v|0,48,0)),S=n[c>>2]|0,_=v+_|0,n[w>>2]=_,_=ur(S,_<<2)|0,n[c>>2]=_,((_|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(S=et(1)|0,nt(S|0,48,0))):_=n[c>>2]|0,S=n[g>>2]|0,n[g>>2]=S+1,g=_+(S<<2)|0,!g){f=y;return}n[g>>2]=n[p>>2],f=y}function Hr(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(y=f,g=c+4|0,_=n[g>>2]|0,w=c+8|0,v=n[w>>2]|0,(_|0)==(v|0)&(v|0)<(_+1|0)?(v=(_>>1)+2&-2,v=(v|0)<2?2:v,(v|0)>(2147483647-_|0)&&(v=et(1)|0,nt(v|0,48,0)),S=n[c>>2]|0,_=v+_|0,n[w>>2]=_,_=ur(S,_<<2)|0,n[c>>2]=_,((_|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(S=et(1)|0,nt(S|0,48,0))):_=n[c>>2]|0,S=n[g>>2]|0,n[g>>2]=S+1,g=_+(S<<2)|0,!g){f=y;return}n[g>>2]=n[p>>2],f=y}function Tf(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0;if(y=f,f=f+16|0,g=y+2|0,w=y+1|0,_=y,(p|0)<16){if(_=p+-1|0,(_|0)>0)w=0;else{f=y;return}do{if(g=w,w=w+1|0,(w|0)<(p|0)){S=g,v=w;do S=(n[c+(v<<2)>>2]|0)<(n[c+(S<<2)>>2]|0)?v:S,v=v+1|0;while((v|0)!=(p|0))}else S=g;R=c+(g<<2)|0,k=n[R>>2]|0,I=c+(S<<2)|0,n[R>>2]=n[I>>2],n[I>>2]=k}while((w|0)!=(_|0));f=y;return}for(v=n[c+(((p|0)/2|0)<<2)>>2]|0,E=-1,R=p;;){do E=E+1|0,A=c+(E<<2)|0,S=n[A>>2]|0;while((S|0)<(v|0));do R=R+-1|0,k=c+(R<<2)|0,I=n[k>>2]|0;while((v|0)<(I|0));if((E|0)>=(R|0))break;n[A>>2]=I,n[k>>2]=S}i[g+0>>0]=i[w+0>>0]|0,Tf(c,E,g),I=p-E|0,i[g+0>>0]=i[_+0>>0]|0,Tf(A,I,g),f=y}function nu(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0;if(g=f,v=y&1,w=a[c+16>>0]|0|v,_=p+4|0,S=((w+(n[_>>2]|0)<<2)+4|0)>>>2,A=c+4|0,jc(c,S+(n[A>>2]|0)|0),y=n[A>>2]|0,S=S+y|0,n[A>>2]=S,S>>>0<y>>>0&&nt(et(1)|0,48,0),c=(n[c>>2]|0)+(y<<2)|0,!c)return f=g,y|0;if(w=w<<3|v<<2,n[c>>2]=n[c>>2]&-32|w,w=n[_>>2]<<5|w,n[c>>2]=w,(n[_>>2]|0)>0){w=n[p>>2]|0,p=0;do n[c+(p<<2)+4>>2]=n[w+(p<<2)>>2],p=p+1|0;while((p|0)<(n[_>>2]|0));w=n[c>>2]|0}if(!(w&8))return f=g,y|0;if(_=w>>>5,w&4)return d[c+(_<<2)+4>>2]=0,f=g,y|0;if(!_)_=0,w=0;else{w=0,p=0;do w=1<<((n[c+(p<<2)+4>>2]|0)>>>1&31)|w,p=p+1|0;while((p|0)<(_|0))}return n[c+(_<<2)+4>>2]=w,f=g,y|0}function Cf(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(y=f,g=c+4|0,_=n[g>>2]|0,w=c+8|0,v=n[w>>2]|0,(_|0)==(v|0)&(v|0)<(_+1|0)?(v=(_>>1)+2&-2,v=(v|0)<2?2:v,(v|0)>(2147483647-_|0)&&(v=et(1)|0,nt(v|0,48,0)),S=n[c>>2]|0,_=v+_|0,n[w>>2]=_,_=ur(S,_<<3)|0,n[c>>2]=_,((_|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(S=et(1)|0,nt(S|0,48,0))):_=n[c>>2]|0,S=n[g>>2]|0,n[g>>2]=S+1,g=_+(S<<3)|0,!g){f=y;return}w=p,v=n[w+4>>2]|0,S=g,n[S>>2]=n[w>>2],n[S+4>>2]=v,f=y}function K0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(p=f,y=n[c>>2]|0,_=n[y>>2]|0,S=c+4|0,k=n[y+((n[S>>2]|0)+-1<<2)>>2]|0,n[y>>2]=k,g=n[c+12>>2]|0,n[g+(k<<2)>>2]=0,n[g+(_<<2)>>2]=-1,k=(n[S>>2]|0)+-1|0,n[S>>2]=k,(k|0)<=1)return f=p,_|0;for(w=n[y>>2]|0,A=c+28|0,c=0,E=1;!(R=(c<<1)+2|0,(R|0)<(k|0)?(I=n[y+(R<<2)>>2]|0,N=n[y+(E<<2)>>2]|0,k=n[n[A>>2]>>2]|0,C=+m[k+(I<<3)>>3],L=+m[k+(N<<3)>>3],C>L||(I=N,C=L,v=6)):(k=n[n[A>>2]>>2]|0,v=n[y+(E<<2)>>2]|0,I=v,C=+m[k+(v<<3)>>3],v=6),(v|0)==6&&(v=0,R=E),!(C>+m[k+(w<<3)>>3]));)if(n[y+(c<<2)>>2]=I,n[g+(I<<2)>>2]=c,E=R<<1|1,k=n[S>>2]|0,(E|0)>=(k|0)){c=R;break}else c=R;return n[y+(c<<2)>>2]=w,n[g+(w<<2)>>2]=c,f=p,_|0}function Ya(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0;if(g=f,S=n[p>>2]|0,p=S+1|0,_=c+4|0,(n[_>>2]|0)>=(p|0)){f=g;return}if(v=c+8|0,w=n[v>>2]|0,(w|0)<(p|0)&&(A=S+2-w&-2,S=(w>>1)+2&-2,S=(A|0)>(S|0)?A:S,(S|0)>(2147483647-w|0)&&(A=et(1)|0,nt(A|0,48,0)),E=n[c>>2]|0,A=S+w|0,n[v>>2]=A,A=ur(E,A)|0,n[c>>2]=A,((A|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(E=et(1)|0,nt(E|0,48,0))),w=n[_>>2]|0,(w|0)<(p|0))do i[(n[c>>2]|0)+w>>0]=y,w=w+1|0;while((w|0)!=(p|0));n[_>>2]=p,f=g}function Of(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0;if(g=f,f=f+16|0,w=g+8|0,_=g+4|0,v=g,(p|0)<16){if(_=p+-1|0,(_|0)<=0){f=g;return}w=n[y>>2]|0,y=0;do{if(v=y,y=y+1|0,(y|0)<(p|0)){S=n[w>>2]|0,E=v,A=y;do R=S+(n[c+(A<<2)>>2]<<2)|0,W=n[R>>2]|0,C=W>>>5,W>>>0>95&&(k=S+(n[c+(E<<2)>>2]<<2)|0,I=(n[k>>2]|0)>>>5,(I|0)==2?E=A:E=+d[R+(C<<2)+4>>2]<+d[k+(I<<2)+4>>2]?A:E),A=A+1|0;while((A|0)!=(p|0))}else E=v;N=c+(v<<2)|0,B=n[N>>2]|0,W=c+(E<<2)|0,n[N>>2]=n[W>>2],n[W>>2]=B}while((y|0)!=(_|0));f=g;return}for(S=n[c+(((p|0)/2|0)<<2)>>2]|0,C=-1,k=p;;){B=C+1|0,I=c+(B<<2)|0,W=n[I>>2]|0,A=n[y>>2]|0,E=n[A>>2]|0,N=E+(W<<2)|0,L=n[N>>2]|0,C=E+(S<<2)|0,R=n[C>>2]|0;e:do if(L>>>0>95)for(;;){if(J=R>>>5,(J|0)!=2?!(+d[N+(L>>>5<<2)+4>>2]<+d[C+(J<<2)+4>>2]):0){C=B;break e}if(B=B+1|0,I=c+(B<<2)|0,W=n[I>>2]|0,N=E+(W<<2)|0,L=n[N>>2]|0,L>>>0<=95){C=B;break}}else C=B;while(0);k=k+-1|0,N=c+(k<<2)|0,L=E+(S<<2)|0;e:do if(R>>>0>95)for(;;){if(B=E+(n[N>>2]<<2)|0,J=(n[B>>2]|0)>>>5,(J|0)!=2?!(+d[L+(R>>>5<<2)+4>>2]<+d[B+(J<<2)+4>>2]):0)break e;J=k+-1|0,N=c+(J<<2)|0,k=J}while(0);if((C|0)>=(k|0))break;n[I>>2]=n[N>>2],n[N>>2]=W}n[_>>2]=A,n[w+0>>2]=n[_+0>>2],Of(c,C,w),J=p-C|0,n[v>>2]=A,n[w+0>>2]=n[v+0>>2],Of(I,J,w),f=g}function Ii(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(g=f,_=c+4|0,v=n[_>>2]|0,w=n[c>>2]|0,(v|0)>0){A=n[c+12>>2]|0,S=0;do n[A+(n[w+(S<<2)>>2]<<2)>>2]=-1,S=S+1|0,v=n[_>>2]|0;while((S|0)<(v|0))}if(w&&(n[_>>2]=0,v=0),w=p+4|0,(n[w>>2]|0)>0){S=c+12|0,v=0;do N=(n[p>>2]|0)+(v<<2)|0,n[(n[S>>2]|0)+(n[N>>2]<<2)>>2]=v,Hr(c,N),v=v+1|0;while((v|0)<(n[w>>2]|0));v=n[_>>2]|0}if((v|0)<=1){f=g;return}for(w=n[c>>2]|0,p=c+28|0,c=c+12|0,k=v,S=(v|0)/2|0;;){S=S+-1|0,v=n[w+(S<<2)>>2]|0,E=S<<1|1;e:do if((E|0)<(k|0))for(A=S;;){if(R=(A<<1)+2|0,(R|0)<(k|0)?(I=n[w+(R<<2)>>2]|0,N=n[w+(E<<2)>>2]|0,k=n[n[p>>2]>>2]|0,C=+m[k+(I<<3)>>3],L=+m[k+(N<<3)>>3],C>L||(I=N,C=L,y=16)):(k=n[n[p>>2]>>2]|0,y=n[w+(E<<2)>>2]|0,I=y,C=+m[k+(y<<3)>>3],y=16),(y|0)==16&&(y=0,R=E),!(C>+m[k+(v<<3)>>3]))break e;if(n[w+(A<<2)>>2]=I,n[(n[c>>2]|0)+(I<<2)>>2]=A,E=R<<1|1,k=n[_>>2]|0,(E|0)>=(k|0)){A=R;break}else A=R}else A=S;while(0);if(n[w+(A<<2)>>2]=v,n[(n[c>>2]|0)+(v<<2)>>2]=A,(S|0)<=0)break;k=n[_>>2]|0}f=g}function tv(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(y=f,p=c+36|0,A=n[p>>2]|0,g=c+32|0,R=n[g>>2]|0,(A|0)>0){w=c+16|0,_=c+44|0,v=0;do{if(S=R+(v<<2)|0,E=n[S>>2]|0,i[(n[w>>2]|0)+E>>0]|0){if(R=n[c>>2]|0,A=R+(E*12|0)+4|0,I=n[A>>2]|0,(I|0)>0){E=R+(E*12|0)|0,R=0,k=0;do C=n[E>>2]|0,L=C+(R<<3)|0,(n[(n[n[_>>2]>>2]|0)+(n[L>>2]<<2)>>2]&3|0)!=1&&(N=L,L=n[N+4>>2]|0,I=C+(k<<3)|0,n[I>>2]=n[N>>2],n[I+4>>2]=L,I=n[A>>2]|0,k=k+1|0),R=R+1|0;while((R|0)<(I|0))}else R=0,k=0;E=R-k|0,(E|0)>0&&(n[A>>2]=I-E),i[(n[w>>2]|0)+(n[S>>2]|0)>>0]=0,A=n[p>>2]|0,R=n[g>>2]|0}v=v+1|0}while((v|0)<(A|0))}if(!R){f=y;return}n[p>>2]=0,f=y}function mn(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0;if(g=f,w=n[p>>2]|0,_=w>>>2&1|(a[c+16>>0]|0),w=((_+(w>>>5)<<2)+4|0)>>>2,v=c+4|0,jc(c,w+(n[v>>2]|0)|0),y=n[v>>2]|0,w=w+y|0,n[v>>2]=w,w>>>0<y>>>0&&nt(et(1)|0,48,0),c=(n[c>>2]|0)+(y<<2)|0,!c)return f=g,y|0;if(_=n[p>>2]&-9|_<<3,n[c>>2]=_,(n[p>>2]|0)>>>0>31){_=0;do n[c+(_<<2)+4>>2]=n[p+(_<<2)+4>>2],_=_+1|0;while((_|0)<((n[p>>2]|0)>>>5|0));_=n[c>>2]|0}if(!(_&8))return f=g,y|0;if(w=_>>>5,p=p+(w<<2)+4|0,_&4)return d[c+(w<<2)+4>>2]=+d[p>>2],f=g,y|0;return n[c+(w<<2)+4>>2]=n[p>>2],f=g,y|0;return 0}function X0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0;if(p=f,f=f+16|0,_=p,M0(c),n[c>>2]=3424,n[c+684>>2]=n[719],n[c+688>>2]=n[747],n[c+692>>2]=n[785],m[c+696>>3]=+m[411],i[c+704>>0]=i[2652]|0,i[c+705>>0]=i[2724]|0,i[c+706>>0]=i[2804]|0,i[c+707>>0]=1,n[c+708>>2]=0,n[c+712>>2]=0,n[c+716>>2]=0,n[c+720>>2]=1,i[c+724>>0]=1,y=c+732|0,v=c+544|0,n[c+760>>2]=0,n[c+764>>2]=0,n[c+768>>2]=0,n[c+776>>2]=0,n[c+780>>2]=0,n[c+784>>2]=0,n[c+792>>2]=0,n[c+796>>2]=0,n[c+800>>2]=0,w=c+804|0,n[y+0>>2]=0,n[y+4>>2]=0,n[y+8>>2]=0,n[y+12>>2]=0,n[y+16>>2]=0,n[y+20>>2]=0,n[w>>2]=v,w=c+808|0,n[w>>2]=0,n[c+812>>2]=0,n[c+816>>2]=0,y=c+824|0,n[y+0>>2]=0,n[y+4>>2]=0,n[y+8>>2]=0,n[y+12>>2]=0,n[y+16>>2]=0,n[y+20>>2]=0,n[c+852>>2]=w,qf(c+856|0,1),w=c+868|0,y=c+892|0,n[c+920>>2]=0,n[c+924>>2]=0,n[w+0>>2]=0,n[w+4>>2]=0,n[w+8>>2]=0,n[w+12>>2]=0,n[w+16>>2]=0,n[y+0>>2]=0,n[y+4>>2]=0,n[y+8>>2]=0,n[y+12>>2]=0,n[y+16>>2]=0,n[y+20>>2]=0,y=_+4|0,n[y>>2]=0,w=_+8|0,n[w>>2]=2,g=ur(0,8)|0,n[_>>2]=g,((g|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&nt(et(1)|0,48,0),n[g>>2]=-2,n[y>>2]=1,i[c+560>>0]=1,n[c+928>>2]=nu(v,_,0)|0,i[c+536>>0]=0,!g){f=p;return}n[y>>2]=0,Qe(g),n[_>>2]=0,n[w>>2]=0,f=p}function Y0(c){c=c|0;var p=0;p=f,va(c),Wo(c),f=p}function va(c){c=c|0;var p=0,y=0,g=0;if(p=f,n[c>>2]=3424,y=c+904|0,g=n[y>>2]|0,g&&(n[c+908>>2]=0,Qe(g),n[y>>2]=0,n[c+912>>2]=0),y=c+892|0,g=n[y>>2]|0,g&&(n[c+896>>2]=0,Qe(g),n[y>>2]=0,n[c+900>>2]=0),y=c+876|0,g=n[y>>2]|0,g&&(n[c+880>>2]=0,Qe(g),n[y>>2]=0,n[c+884>>2]=0),y=c+856|0,g=n[y>>2]|0,g&&(n[c+860>>2]=0,Qe(g),n[y>>2]=0,n[c+864>>2]=0),g=c+836|0,y=n[g>>2]|0,y&&(n[c+840>>2]=0,Qe(y),n[g>>2]=0,n[c+844>>2]=0),y=c+824|0,g=n[y>>2]|0,g&&(n[c+828>>2]=0,Qe(g),n[y>>2]=0,n[c+832>>2]=0),y=c+808|0,g=n[y>>2]|0,g&&(n[c+812>>2]=0,Qe(g),n[y>>2]=0,n[c+816>>2]=0),Rp(c+760|0),y=c+744|0,g=n[y>>2]|0,g&&(n[c+748>>2]=0,Qe(g),n[y>>2]=0,n[c+752>>2]=0),y=c+732|0,g=n[y>>2]|0,!g){Nc(c),f=p;return}n[c+736>>2]=0,Qe(g),n[y>>2]=0,n[c+740>>2]=0,Nc(c),f=p}function Bc(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0;return g=f,f=f+32|0,w=g+12|0,S=g+8|0,A=g+16|0,_=g+4|0,v=g,i[A>>0]=i[p>>0]|0,i[w+0>>0]=i[A+0>>0]|0,y=L0(c,w,y)|0,n[S>>2]=y,vs(c+876|0,y,0),vs(c+904|0,y,0),i[c+724>>0]|0?(A=c+808|0,p=y<<1,n[_>>2]=p,n[w+0>>2]=n[_+0>>2],Ap(A,w,0),n[v>>2]=p|1,n[w+0>>2]=n[v+0>>2],Ap(A,w,0),Tp(c+760|0,S),vs(c+744|0,y,0),au(c+824|0,y),f=g,y|0):(f=g,y|0)}function iu(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0;if(v=f,f=f+32|0,_=v+4|0,C=v,k=v+16|0,n[_>>2]=0,w=_+4|0,n[w>>2]=0,S=_+8|0,n[S>>2]=0,L=i[2608]|0,i[c>>0]=L,A=p+724|0,y=(a[A>>0]&(y&1)|0)!=0,y){if(B=p+308|0,re=n[B>>2]|0,(re|0)>0){N=p+304|0,L=p+876|0,W=0;do J=n[(n[N>>2]|0)+(W<<2)>>2]>>1,n[C>>2]=J,J=(n[L>>2]|0)+J|0,i[J>>0]|0||(i[J>>0]=1,Hr(_,C),re=n[B>>2]|0),W=W+1|0;while((W|0)<(re|0))}C=(Or(p,g)|0)&1^1,i[c>>0]=C,g=i[2608]|0}else g=L,C=L;if(re=g&255,(re>>>1^1)&C<<24>>24==g<<24>>24|re&2&(C&255)?(xr(k,p),C=i[k>>0]|0,i[c>>0]=C):(n[p+44>>2]|0)>0&&Wa(3760)|0,J=i[2608]|0,re=J&255,(((re>>>1^1)&C<<24>>24==J<<24>>24|re&2&(C&255)|0)!=0?(i[p+707>>0]|0)!=0:0)?(I=(n[p+736>>2]|0)+-1|0,(I|0)>0):0){c=p+732|0,k=p+4|0;do{g=n[c>>2]|0,B=n[g+(I<<2)>>2]|0,W=I+-1|0,J=n[g+(W<<2)>>2]|0,I=n[k>>2]|0;e:do if((B|0)>1)for(L=i[2616]|0,C=L&255,N=C&2,C=C>>>1^1,re=W;;){if(J=a[I+(J>>1)>>0]^J&1,W=B+-1|0,!((J&255)<<24>>24==L<<24>>24&C|N&J))break e;if(B=re+-1|0,J=n[g+(B<<2)>>2]|0,(W|0)>1)re=B,B=W;else{re=B,B=W,R=20;break}}else re=W,R=20;while(0);(R|0)==20&&(R=0,i[I+(J>>1)>>0]=(J&1^1)&255^1),I=re-B|0}while((I|0)>0)}if(y?(E=n[w>>2]|0,(E|0)>0):0){R=n[_>>2]|0,y=p+876|0,k=0;do c=n[R+(k<<2)>>2]|0,i[(n[y>>2]|0)+c>>0]=0,i[A>>0]|0&&ou(p,c),k=k+1|0;while((k|0)<(E|0))}if(p=n[_>>2]|0,!p){f=v;return}n[w>>2]=0,Qe(p),n[_>>2]=0,n[S>>2]=0,f=v}function Or(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0;if(S=f,f=f+16|0,w=S,!(G0(c)|0))return ye=0,f=S,ye|0;if(v=c+724|0,!(i[v>>0]|0))return ye=1,f=S,ye|0;J=c+924|0,B=c+872|0,W=c+868|0,N=c+860|0,I=c+680|0,re=c+824|0,_=c+828|0,E=c+836|0,me=c+904|0,He=c+332|0,y=c+44|0,Fe=c+704|0,Te=c+706|0,Ne=c+696|0,R=c+556|0,k=c+548|0,ie=c+876|0,C=c+920|0,L=c+284|0;e:for(;!(((n[J>>2]|0)<=0?(n[C>>2]|0)>=(n[L>>2]|0):0)?(n[_>>2]|0)<=0:0);){if(nv(c),Le=n[B>>2]|0,ye=n[W>>2]|0,Se=Le-ye|0,(Le|0)<(ye|0)&&(Se=(n[N>>2]|0)+Se|0),((Se|0)<=0?(n[C>>2]|0)>=(n[L>>2]|0):0)||(A=11),(A|0)==11?(A=0,!(Pf(c,1)|0)):0){A=12;break}if(ye=n[_>>2]|0,i[I>>0]|0){A=15;break}if(ye)Se=0;else continue;for(;;){if(_e=n[re>>2]|0,Le=n[_e>>2]|0,Ee=n[_e+(ye+-1<<2)>>2]|0,n[_e>>2]=Ee,ye=n[E>>2]|0,n[ye+(Ee<<2)>>2]=0,n[ye+(Le<<2)>>2]=-1,ye=(n[_>>2]|0)+-1|0,n[_>>2]=ye,(ye|0)>1&&cu(re,0),i[I>>0]|0)continue e;if((i[(n[me>>2]|0)+Le>>0]|0)==0?(Ee=i[(n[He>>2]|0)+Le>>0]|0,ye=i[2624]|0,_e=ye&255,((_e>>>1^1)&Ee<<24>>24==ye<<24>>24|Ee&2&_e|0)!=0):0){if((n[y>>2]|0)>1&((Se|0)%100|0|0)==0&&(n[w>>2]=n[_>>2],qc(3504,w|0)|0),i[Fe>>0]|0){if(_e=(n[ie>>2]|0)+Le|0,ye=i[_e>>0]|0,i[_e>>0]=1,!(Hc(c,Le)|0)){A=29;break e}i[(n[ie>>2]|0)+Le>>0]=ye<<24>>24!=0&1}if((((i[Te>>0]|0)!=0?(Ee=i[(n[He>>2]|0)+Le>>0]|0,ye=i[2624]|0,_e=ye&255,((_e>>>1^1)&Ee<<24>>24==ye<<24>>24|Ee&2&_e|0)!=0):0)?(i[(n[ie>>2]|0)+Le>>0]|0)==0:0)?!(Gc(c,Le)|0):0){A=35;break e}+((n[R>>2]|0)>>>0)>+m[Ne>>3]*+((n[k>>2]|0)>>>0)&&pu[n[(n[c>>2]|0)+8>>2]&31](c)}if(ye=n[_>>2]|0,ye)Se=Se+1|0;else continue e}}do if((A|0)==12)i[c+492>>0]=0;else if((A|0)==15){if(I=n[c+824>>2]|0,(ye|0)<=0){if(!I)break}else{L=n[E>>2]|0,C=0;do n[L+(n[I+(C<<2)>>2]<<2)>>2]=-1,C=C+1|0;while((C|0)<(n[_>>2]|0))}n[_>>2]=0}else((A|0)==29||(A|0)==35)&&(i[c+492>>0]=0);while(0);if(!p)+((n[R>>2]|0)>>>0)>+m[c+96>>3]*+((n[k>>2]|0)>>>0)&&pu[n[(n[c>>2]|0)+8>>2]&31](c);else{if(p=c+744|0,R=n[p>>2]|0,R&&(n[c+748>>2]=0,Qe(R),n[p>>2]=0,n[c+752>>2]=0),M(c+760|0,1),p=c+808|0,R=n[p>>2]|0,R&&(n[c+812>>2]=0,Qe(R),n[p>>2]=0,n[c+816>>2]=0),R=c+824|0,p=n[R>>2]|0,(n[_>>2]|0)<=0)p&&(A=48);else{A=n[E>>2]|0,E=0;do n[A+(n[p+(E<<2)>>2]<<2)>>2]=-1,E=E+1|0;while((E|0)<(n[_>>2]|0));A=48}(A|0)==48&&(n[_>>2]=0,Qe(p),n[R>>2]=0,n[c+832>>2]=0),j(c+856|0,1),i[v>>0]=0,i[c+536>>0]=1,i[c+560>>0]=0,n[c+728>>2]=n[c+540>>2],Ep(c),pu[n[(n[c>>2]|0)+8>>2]&31](c)}return((n[y>>2]|0)>0?(g=n[c+736>>2]|0,(g|0)>0):0)&&(m[T>>3]=+(g<<2>>>0)*95367431640625e-20,n[w>>2]=n[T>>2],n[w+4>>2]=n[T+4>>2],qc(3528,w|0)|0),_e=(i[c+492>>0]|0)!=0,f=S,_e|0}function _s(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0;if(y=f,f=f+16|0,_=y,v=c+256|0,S=c+260|0,w=n[S>>2]|0,(i[c+705>>0]|0)!=0?su(c,p)|0:0)return I=1,f=y,I|0;if(!(D0(c,p)|0))return I=0,f=y,I|0;if(!(i[c+724>>0]|0))return I=1,f=y,I|0;if(p=n[S>>2]|0,(p|0)!=(w+1|0))return I=1,f=y,I|0;if(I=n[(n[v>>2]|0)+(p+-1<<2)>>2]|0,n[_>>2]=I,E=(n[c+544>>2]|0)+(I<<2)|0,Y(c+856|0,I),(n[E>>2]|0)>>>0<=31)return I=1,f=y,I|0;A=c+760|0,S=c+808|0,v=c+744|0,w=c+924|0,p=c+824|0,R=c+840|0,c=c+836|0,k=0;do I=E+(k<<2)+4|0,Z((n[A>>2]|0)+((n[I>>2]>>1)*12|0)|0,_),C=(n[S>>2]|0)+(n[I>>2]<<2)|0,n[C>>2]=(n[C>>2]|0)+1,i[(n[v>>2]|0)+(n[I>>2]>>1)>>0]=1,n[w>>2]=(n[w>>2]|0)+1,I=n[I>>2]>>1,((n[R>>2]|0)>(I|0)?(g=n[(n[c>>2]|0)+(I<<2)>>2]|0,(g|0)>-1):0)&&cu(p,g),k=k+1|0;while((k|0)<((n[E>>2]|0)>>>5|0));return g=1,f=y,g|0}function su(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0;v=f,f=f+16|0,_=v+8|0,w=v+4|0,g=v,n[w>>2]=n[c+284>>2],Hr(c+292|0,w),w=p+4|0,A=n[w>>2]|0;e:do if((A|0)>0){for(y=c+332|0,S=0;!(E=n[(n[p>>2]|0)+(S<<2)>>2]|0,k=a[(n[y>>2]|0)+(E>>1)>>0]|0,I=k^E&1,R=I&255,L=i[2608]|0,C=L&255,R<<24>>24==L<<24>>24&(C>>>1^1)|C&2&I);)if(C=i[2616]|0,L=C&255,(L>>>1^1)&R<<24>>24==C<<24>>24|k&2&L||(n[g>>2]=E^1,n[_+0>>2]=n[g+0>>2],Af(c,_,-1),A=n[w>>2]|0),S=S+1|0,(S|0)>=(A|0))break e;return Dc(c,0),L=1,f=v,L|0}while(0);return L=(Mc(c)|0)!=-1,Dc(c,0),f=v,L|0}function Uc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(y=f,f=f+16|0,_=y,g=(n[c+544>>2]|0)+(p<<2)|0,!(i[c+724>>0]|0)){Lc(c,p),f=y;return}if((n[g>>2]|0)>>>0<=31){Lc(c,p),f=y;return}v=c+808|0,S=c+776|0,w=c+792|0,A=0;do E=g+(A<<2)+4|0,R=(n[v>>2]|0)+(n[E>>2]<<2)|0,n[R>>2]=(n[R>>2]|0)+-1,ou(c,n[E>>2]>>1),E=n[E>>2]>>1,n[_>>2]=E,E=(n[S>>2]|0)+E|0,i[E>>0]|0||(i[E>>0]=1,Hr(w,_)),A=A+1|0;while((A|0)<((n[g>>2]|0)>>>5|0));Lc(c,p),f=y}function kf(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0;if(g=f,f=f+16|0,w=g+4|0,_=g,S=n[c+544>>2]|0,v=S+(p<<2)|0,Y(c+856|0,p),(n[v>>2]&-32|0)==64){Uc(c,p),k=n[y>>2]|0,y=n[v>>2]|0;e:do if(y>>>0>31)for(A=y>>>5,E=0;;){if(R=E+1|0,(n[v+(E<<2)+4>>2]|0)==(k|0)){R=E;break e}if((R|0)<(A|0))E=R;else break}else A=0,R=0;while(0);if(E=A+-1|0,(R|0)<(E|0))do y=R,R=R+1|0,n[v+(y<<2)+4>>2]=n[v+(R<<2)+4>>2],y=n[v>>2]|0,A=y>>>5,E=A+-1|0;while((R|0)<(E|0));if(y&8&&(n[v+(E<<2)+4>>2]=n[v+(A<<2)+4>>2],y=n[v>>2]|0),A=y+-32|0,n[v>>2]=A,A=A>>>5,!A)A=0,y=0;else{y=0,E=0;do y=1<<((n[v+(E<<2)+4>>2]|0)>>>1&31)|y,E=E+1|0;while((E|0)<(A|0))}n[v+(A<<2)+4>>2]=y}else{$0(c,p,1),y=n[y>>2]|0,E=n[v>>2]|0;e:do if(E>>>0>31)for(A=E>>>5,R=0;;){if(k=R+1|0,(n[v+(R<<2)+4>>2]|0)==(y|0)){k=R;break e}if((k|0)<(A|0))R=k;else break}else A=0,k=0;while(0);if(R=A+-1|0,(k|0)<(R|0))do E=k,k=k+1|0,n[v+(E<<2)+4>>2]=n[v+(k<<2)+4>>2],E=n[v>>2]|0,A=E>>>5,R=A+-1|0;while((k|0)<(R|0));if(E&8&&(n[v+(R<<2)+4>>2]=n[v+(A<<2)+4>>2],E=n[v>>2]|0),R=E+-32|0,n[v>>2]=R,R=R>>>5,!R)R=0,A=0;else{A=0,E=0;do A=1<<((n[v+(E<<2)+4>>2]|0)>>>1&31)|A,E=E+1|0;while((E|0)<(R|0))}n[v+(R<<2)+4>>2]=A,tu(c,p),A=y>>1,E=n[c+760>>2]|0,R=E+(A*12|0)|0,E=E+(A*12|0)+4|0,k=n[E>>2]|0;e:do if((k|0)>0)for(L=n[R>>2]|0,I=0;;){if(C=I+1|0,(n[L+(I<<2)>>2]|0)==(p|0))break e;if((C|0)<(k|0))I=C;else{I=C;break}}else I=0;while(0);if(k=k+-1|0,(I|0)<(k|0)){R=n[R>>2]|0;do k=I,I=I+1|0,n[R+(k<<2)>>2]=n[R+(I<<2)>>2],k=(n[E>>2]|0)+-1|0;while((I|0)<(k|0))}n[E>>2]=k,L=(n[c+808>>2]|0)+(y<<2)|0,n[L>>2]=(n[L>>2]|0)+-1,ou(c,A)}if((n[v>>2]&-32|0)!=32)return L=1,f=g,L|0;if(S=n[S+(p+1<<2)>>2]|0,v=a[(n[c+332>>2]|0)+(S>>1)>>0]|0,L=v^S&1,p=L&255,I=i[2624]|0,C=I&255,p<<24>>24==I<<24>>24&(C>>>1^1)|C&2&L)n[_>>2]=S,n[w+0>>2]=n[_+0>>2],Af(c,w,-1);else if(C=i[2616]|0,L=C&255,(L>>>1^1)&p<<24>>24==C<<24>>24|v&2&L)return L=0,f=g,L|0;return L=(Mc(c)|0)==-1,f=g,L|0}function rv(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0;w=f,f=f+16|0,S=w+4|0,v=w,I=c+708|0,n[I>>2]=(n[I>>2]|0)+1,n[_>>2]|0&&(n[_+4>>2]=0),A=(n[p>>2]|0)>>>5>>>0<(n[y>>2]|0)>>>5>>>0,c=A?y:p,p=A?p:y,A=n[p>>2]|0;e:do if(A>>>0>31){y=0;t:for(;;){E=n[p+(y<<2)+4>>2]|0;r:do if((E>>1|0)!=(g|0)){R=n[c>>2]|0;n:do if(R>>>0>31){for(k=0;!(I=n[c+(k<<2)+4>>2]|0,k=k+1|0,(E^I)>>>0<2);)if((k|0)>=(R>>>5|0))break n;if((I|0)==(E^1|0)){_=0;break t}else break r}while(0);n[S>>2]=E,mi(_,S),A=n[p>>2]|0}while(0);if(y=y+1|0,(y|0)>=(A>>>5|0))break e}return f=w,_|0}while(0);if(y=n[c>>2]|0,y>>>0<=31)return I=1,f=w,I|0;S=0;do p=n[c+(S<<2)+4>>2]|0,(p>>1|0)!=(g|0)&&(n[v>>2]=p,mi(_,v),y=n[c>>2]|0),S=S+1|0;while((S|0)<(y>>>5|0));return _=1,f=w,_|0}function nv(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0;if(p=f,S=c+924|0,!(n[S>>2]|0)){f=p;return}for(w=c+856|0,y=c+872|0,g=c+868|0,v=c+860|0,_=c+544|0,A=0;!(re=n[y>>2]|0,E=n[g>>2]|0,R=re-E|0,(re|0)<(E|0)&&(R=(n[v>>2]|0)+R|0),(A|0)>=(R|0));)R=(n[_>>2]|0)+(n[(n[w>>2]|0)+(((E+A|0)%(n[v>>2]|0)|0)<<2)>>2]<<2)|0,E=n[R>>2]|0,E&3||(n[R>>2]=E&-4|2),A=A+1|0;if(A=c+540|0,C=n[A>>2]|0,(C|0)>0){R=c+744|0,k=c+776|0,E=c+760|0,c=c+804|0,I=0;do{if(i[(n[R>>2]|0)+I>>0]|0){if(L=(n[k>>2]|0)+I|0,i[L>>0]|0){if(N=n[E>>2]|0,C=N+(I*12|0)+4|0,W=n[C>>2]|0,(W|0)>0){N=n[N+(I*12|0)>>2]|0,J=0,B=0;do re=n[N+(J<<2)>>2]|0,(n[(n[n[c>>2]>>2]|0)+(re<<2)>>2]&3|0)!=1&&(n[N+(B<<2)>>2]=re,W=n[C>>2]|0,B=B+1|0),J=J+1|0;while((J|0)<(W|0))}else J=0,B=0;N=J-B|0,(N|0)>0&&(n[C>>2]=W-N),i[L>>0]=0}if(L=n[E>>2]|0,C=L+(I*12|0)+4|0,B=n[C>>2]|0,(B|0)>0){L=L+(I*12|0)|0,N=0;do W=n[(n[L>>2]|0)+(N<<2)>>2]|0,n[(n[_>>2]|0)+(W<<2)>>2]&3||(Y(w,W),B=(n[_>>2]|0)+(n[(n[L>>2]|0)+(N<<2)>>2]<<2)|0,n[B>>2]=n[B>>2]&-4|2,B=n[C>>2]|0),N=N+1|0;while((N|0)<(B|0))}i[(n[R>>2]|0)+I>>0]=0,C=n[A>>2]|0}I=I+1|0}while((I|0)<(C|0));A=0}else A=0;for(;!(re=n[y>>2]|0,E=n[g>>2]|0,R=re-E|0,(re|0)<(E|0)&&(R=(n[v>>2]|0)+R|0),(A|0)>=(R|0));)E=(n[_>>2]|0)+(n[(n[w>>2]|0)+(((E+A|0)%(n[v>>2]|0)|0)<<2)>>2]<<2)|0,R=n[E>>2]|0,(R&3|0)==2&&(n[E>>2]=R&-4),A=A+1|0;n[S>>2]=0,f=p}function Pf(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0,ne=0,Be=0,it=0,tt=0,Je=0,mt=0,Wt=0,Ke=0;y=f,f=f+16|0,E=y,me=y+12|0,_=c+856|0,A=c+872|0,C=c+868|0,v=c+860|0,W=c+680|0,g=c+920|0,w=c+284|0,B=c+280|0,L=c+544|0,N=c+928|0,k=c+44|0,R=c+776|0,J=c+692|0,I=c+804|0,S=c+760|0,Ne=0,ye=0,Se=0;e:for(;;){Le=n[C>>2]|0;do{if(ie=n[A>>2]|0,Te=(ie|0)<(Le|0),ie=ie-Le|0,Te?Ee=(n[v>>2]|0)+ie|0:Ee=ie,(Ee|0)<=0?(n[g>>2]|0)>=(n[w>>2]|0):0){g=1,v=53;break e}if(i[W>>0]|0){v=8;break e}if(Te&&(ie=(n[v>>2]|0)+ie|0),(ie|0)==0?(Fe=n[g>>2]|0,(Fe|0)<(n[w>>2]|0)):0){if(n[g>>2]=Fe+1,n[(n[L>>2]|0)+((n[N>>2]|0)+1<<2)>>2]=n[(n[B>>2]|0)+(Fe<<2)>>2],ie=(n[L>>2]|0)+(n[N>>2]<<2)|0,Te=(n[ie>>2]|0)>>>5,!Te)Te=0,Ee=0;else{Ee=0,Le=0;do Ee=1<<((n[ie+(Le<<2)+4>>2]|0)>>>1&31)|Ee,Le=Le+1|0;while((Le|0)<(Te|0))}n[ie+(Te<<2)+4>>2]=Ee,Y(_,n[N>>2]|0),Le=n[C>>2]|0}ie=n[(n[_>>2]|0)+(Le<<2)>>2]|0,Le=Le+1|0,Be=n[v>>2]|0,Le=(Le|0)==(Be|0)?0:Le,n[C>>2]=Le,Ee=n[L>>2]|0,Te=Ee+(ie<<2)|0,ne=n[Te>>2]|0}while((ne&3|0)!=0);if((p?(n[k>>2]|0)>1:0)&&(_e=Ne+1|0,(Ne|0)%1e3|0||(ne=n[A>>2]|0,n[E>>2]=ne-Le+((ne|0)<(Le|0)?Be:0),n[E+4>>2]=Se,n[E+8>>2]=ye,qc(3440,E|0)|0,ne=n[Te>>2]|0),Ne=_e),Le=Ee+(ie+1<<2)|0,Ee=n[Le>>2]>>1,ne>>>0>63){_e=n[S>>2]|0,ne=ne>>>5,Be=1;do Ke=n[Te+(Be<<2)+4>>2]>>1,Ee=(n[_e+(Ke*12|0)+4>>2]|0)<(n[_e+(Ee*12|0)+4>>2]|0)?Ke:Ee,Be=Be+1|0;while((Be|0)<(ne|0))}if(ne=(n[R>>2]|0)+Ee|0,i[ne>>0]|0){if(Be=n[S>>2]|0,_e=Be+(Ee*12|0)+4|0,Je=n[_e>>2]|0,(Je|0)>0){Be=n[Be+(Ee*12|0)>>2]|0,tt=0,it=0;do mt=n[Be+(tt<<2)>>2]|0,(n[(n[n[I>>2]>>2]|0)+(mt<<2)>>2]&3|0)!=1&&(n[Be+(it<<2)>>2]=mt,Je=n[_e>>2]|0,it=it+1|0),tt=tt+1|0;while((tt|0)<(Je|0))}else tt=0,it=0;Be=tt-it|0,(Be|0)>0&&(n[_e>>2]=Je-Be),i[ne>>0]=0}if(ne=n[S>>2]|0,_e=n[ne+(Ee*12|0)>>2]|0,ne=ne+(Ee*12|0)+4|0,(n[ne>>2]|0)>0)Be=0;else continue;for(;;){if(mt=n[Te>>2]|0,mt&3)continue e;it=n[_e+(Be<<2)>>2]|0,tt=n[L>>2]|0,Wt=tt+(it<<2)|0,Je=n[Wt>>2]|0;t:do if((((Je&3|0)!=0|(it|0)==(ie|0)?0:(Ke=n[J>>2]|0,He=Je>>>5,(Ke|0)==-1|(He|0)<(Ke|0)))?(re=mt>>>5,He>>>0>=re>>>0):0)?(n[Te+(re<<2)+4>>2]&~n[Wt+(He<<2)+4>>2]|0)==0:0){tt=tt+(it+1<<2)|0;do if(mt>>>0>31){if(Je>>>0>31)Wt=-2,Je=0;else break t;for(;;){mt=n[Le+(Je<<2)>>2]|0;r:do if((Wt|0)==-2)for(Ke=0;;){if(Wt=n[tt+(Ke<<2)>>2]|0,(mt|0)==(Wt|0)){mt=-2;break r}if(Ke=Ke+1|0,(mt|0)==(Wt^1|0))break r;if(Ke>>>0>=He>>>0)break t}else for(Ke=0;;){if((mt|0)==(n[tt+(Ke<<2)>>2]|0)){mt=Wt;break r}if(Ke=Ke+1|0,Ke>>>0>=He>>>0)break t}while(0);if(Je=Je+1|0,Je>>>0>=re>>>0)break;Wt=mt}if((mt|0)==-2)break;if((mt|0)==-1)break t;if(n[me>>2]=mt^1,n[E+0>>2]=n[me+0>>2],!(kf(c,it,E)|0)){g=0,v=53;break e}ye=ye+1|0,Be=(((mt>>1|0)==(Ee|0))<<31>>31)+Be|0;break t}while(0);Uc(c,it),Se=Se+1|0}while(0);if(Be=Be+1|0,(Be|0)>=(n[ne>>2]|0))continue e}}return(v|0)==8?(j(_,0),n[g>>2]=n[w>>2],Ke=1,f=y,Ke|0):(v|0)==53?(f=y,g|0):0}function J0(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(_=f,f=f+16|0,g=_+12|0,A=_+8|0,v=_+4|0,w=_,S=(n[c+544>>2]|0)+(y<<2)|0,n[S>>2]&3)return C=1,f=_,C|0;if(j0(c,S)|0)return C=1,f=_,C|0;if(n[A>>2]=n[c+284>>2],Hr(c+292|0,A),k=n[S>>2]|0,k>>>0>31){A=c+332|0,E=0,R=-2;do I=n[S+(E<<2)+4>>2]|0,C=I>>1,((C|0)!=(p|0)?(C=(a[(n[A>>2]|0)+C>>0]|0)^I&1,N=i[2616]|0,L=N&255,((C&255)<<24>>24==N<<24>>24&(L>>>1^1)|L&2&C|0)==0):0)?(n[v>>2]=I^1,n[g+0>>2]=n[v+0>>2],Af(c,g,-1),k=n[S>>2]|0):R=I,E=E+1|0;while((E|0)<(k>>>5|0))}else R=-2;return N=(Mc(c)|0)==-1,Dc(c,0),!N&&(N=c+712|0,n[N>>2]=(n[N>>2]|0)+1,n[w>>2]=R,n[g+0>>2]=n[w+0>>2],!(kf(c,y,g)|0))?(N=0,f=_,N|0):(N=1,f=_,N|0)}function Hc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0;if(y=f,w=(n[c+776>>2]|0)+p|0,g=c+760|0,i[w>>0]|0){if(S=n[g>>2]|0,_=S+(p*12|0)+4|0,R=n[_>>2]|0,(R|0)>0){v=c+804|0,S=n[S+(p*12|0)>>2]|0,E=0,A=0;do k=n[S+(E<<2)>>2]|0,(n[(n[n[v>>2]>>2]|0)+(k<<2)>>2]&3|0)!=1&&(n[S+(A<<2)>>2]=k,R=n[_>>2]|0,A=A+1|0),E=E+1|0;while((E|0)<(R|0))}else E=0,A=0;v=E-A|0,(v|0)>0&&(n[_>>2]=R-v),i[w>>0]=0}if(_=n[g>>2]|0,R=i[(n[c+332>>2]|0)+p>>0]|0,E=i[2624]|0,k=E&255,!((k>>>1^1)&R<<24>>24==E<<24>>24|R&2&k))return k=1,f=y,k|0;if(g=_+(p*12|0)+4|0,w=n[g>>2]|0,!w)return k=1,f=y,k|0;e:do if((w|0)>0){for(_=_+(p*12|0)|0,w=0;;){if(!(J0(c,p,n[(n[_>>2]|0)+(w<<2)>>2]|0)|0)){c=0;break}if(w=w+1|0,(w|0)>=(n[g>>2]|0))break e}return f=y,c|0}while(0);return k=Pf(c,0)|0,f=y,k|0}function Gc(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0,ne=0,Be=0,it=0,tt=0,Je=0,mt=0,Wt=0,Ke=0,gi=0,jt=0,jf=0,qi=0,Kt=0,Ja=0,yi=0,kr=0,It=0;if(y=f,f=f+48|0,N=y+36|0,L=y+32|0,B=y+28|0,W=y+24|0,g=y+12|0,_=y,R=(n[c+776>>2]|0)+p|0,E=c+760|0,i[R>>0]|0){if(C=n[E>>2]|0,k=C+(p*12|0)+4|0,He=n[k>>2]|0,(He|0)>0){I=c+804|0,C=n[C+(p*12|0)>>2]|0,re=0,J=0;do Fe=n[C+(re<<2)>>2]|0,(n[(n[n[I>>2]>>2]|0)+(Fe<<2)>>2]&3|0)!=1&&(n[C+(J<<2)>>2]=Fe,He=n[k>>2]|0,J=J+1|0),re=re+1|0;while((re|0)<(He|0))}else re=0,J=0;I=re-J|0,(I|0)>0&&(n[k>>2]=He-I),i[R>>0]=0}J=n[E>>2]|0,re=J+(p*12|0)|0,n[g>>2]=0,R=g+4|0,n[R>>2]=0,k=g+8|0,n[k>>2]=0,n[_>>2]=0,C=_+4|0,n[C>>2]=0,I=_+8|0,n[I>>2]=0,J=J+(p*12|0)+4|0;e:do if((n[J>>2]|0)>0){He=c+544|0,Te=p<<1,ie=0;do{Ne=(n[re>>2]|0)+(ie<<2)|0,Le=(n[He>>2]|0)+(n[Ne>>2]<<2)|0,It=n[Le>>2]|0,Fe=It>>>5;t:do if(It>>>0>31)for(ye=0;;){if(Se=ye+1|0,(n[Le+(ye<<2)+4>>2]|0)==(Te|0)){Se=ye;break t}if((Se|0)<(Fe|0))ye=Se;else break}else Se=0;while(0);Z((Se|0)<(Fe|0)?g:_,Ne),ie=ie+1|0,Fe=n[J>>2]|0}while((ie|0)<(Fe|0));if(He=n[R>>2]|0,Te=(He|0)>0,Te)for(Ne=n[C>>2]|0,Be=(Ne|0)>0,ne=c+544|0,Se=n[g>>2]|0,ie=n[_>>2]|0,Le=c+708|0,_e=c+684|0,Ee=c+688|0,Wt=0,ye=0;;){if(Be){tt=Se+(ye<<2)|0,it=n[ne>>2]|0,Je=n[Le>>2]|0,mt=0;do{jt=it+(n[tt>>2]<<2)|0,qi=it+(n[ie+(mt<<2)>>2]<<2)|0,Je=Je+1|0,n[Le>>2]=Je,Ke=(n[jt>>2]|0)>>>5>>>0<(n[qi>>2]|0)>>>5>>>0,gi=Ke?qi:jt,qi=Ke?jt:qi,jt=gi+4|0,Ke=qi+4|0,gi=n[gi>>2]|0,jf=gi>>>5,Ja=jf+-1|0,qi=n[qi>>2]|0;t:do if(qi>>>0>31)for(Kt=0;;){It=n[Ke+(Kt<<2)>>2]|0;r:do if((It>>1|0)!=(p|0)){n:do if(gi>>>0>31){for(kr=0;!(yi=n[jt+(kr<<2)>>2]|0,kr=kr+1|0,(yi^It)>>>0<2);)if((kr|0)>=(jf|0))break n;if((yi|0)==(It^1|0))break t;break r}while(0);Ja=Ja+1|0}while(0);if(Kt=Kt+1|0,(Kt|0)>=(qi>>>5|0)){me=28;break}}else me=28;while(0);if((me|0)==28){if(me=0,(Wt|0)>=((n[_e>>2]|0)+Fe|0)){c=1;break e}if(It=n[Ee>>2]|0,(It|0)!=-1&(Ja|0)>(It|0)){c=1;break e}else Wt=Wt+1|0}mt=mt+1|0}while((mt|0)<(Ne|0))}if(ye=ye+1|0,(ye|0)>=(He|0)){me=32;break}}else Te=0,me=32}else He=0,Te=0,me=32;while(0);e:do if((me|0)==32){if(i[(n[c+904>>2]|0)+p>>0]=1,Fe=c+380|0,ie=(n[Fe>>2]|0)+p|0,i[ie>>0]|0&&(It=c+200|0,kr=It,kr=Bt(n[kr>>2]|0,n[kr+4>>2]|0,-1,-1)|0,n[It>>2]=kr,n[It+4>>2]=de),i[ie>>0]=0,ie=c+460|0,((n[c+476>>2]|0)>(p|0)?(n[(n[c+472>>2]|0)+(p<<2)>>2]|0)>-1:0)||(me=36),((me|0)==36?(i[(n[Fe>>2]|0)+p>>0]|0)!=0:0)&&Fc(ie,p),me=c+716|0,n[me>>2]=(n[me>>2]|0)+1,me=n[C>>2]|0,(He|0)>(me|0)){if(ie=c+732|0,(me|0)>0){W=c+544|0,B=n[_>>2]|0,Le=c+736|0,Se=0;do{if(Ne=(n[W>>2]|0)+(n[B+(Se<<2)>>2]<<2)|0,Fe=n[Le>>2]|0,(n[Ne>>2]|0)>>>0>31){ye=0,Ee=-1;do It=Ne+(ye<<2)+4|0,n[N>>2]=n[It>>2],Z(ie,N),Ee=(n[It>>2]>>1|0)==(p|0)?ye+Fe|0:Ee,ye=ye+1|0;while((ye|0)<((n[Ne>>2]|0)>>>5|0))}else Ee=-1;It=n[ie>>2]|0,yi=It+(Ee<<2)|0,kr=n[yi>>2]|0,It=It+(Fe<<2)|0,n[yi>>2]=n[It>>2],n[It>>2]=kr,n[L>>2]=(n[Ne>>2]|0)>>>5,Z(ie,L),Se=Se+1|0}while((Se|0)<(me|0))}n[N>>2]=p<<1,Z(ie,N),n[L>>2]=1,Z(ie,L)}else{if(Se=c+732|0,Te){ye=c+544|0,Le=n[g>>2]|0,Fe=c+736|0,Ee=0;do{if(Ne=(n[ye>>2]|0)+(n[Le+(Ee<<2)>>2]<<2)|0,ie=n[Fe>>2]|0,(n[Ne>>2]|0)>>>0>31){_e=0,ne=-1;do It=Ne+(_e<<2)+4|0,n[N>>2]=n[It>>2],Z(Se,N),ne=(n[It>>2]>>1|0)==(p|0)?_e+ie|0:ne,_e=_e+1|0;while((_e|0)<((n[Ne>>2]|0)>>>5|0))}else ne=-1;It=n[Se>>2]|0,yi=It+(ne<<2)|0,kr=n[yi>>2]|0,It=It+(ie<<2)|0,n[yi>>2]=n[It>>2],n[It>>2]=kr,n[L>>2]=(n[Ne>>2]|0)>>>5,Z(Se,L),Ee=Ee+1|0}while((Ee|0)<(He|0))}n[B>>2]=p<<1|1,Z(Se,B),n[W>>2]=1,Z(Se,W)}if((n[J>>2]|0)>0){L=0;do Uc(c,n[(n[re>>2]|0)+(L<<2)>>2]|0),L=L+1|0;while((L|0)<(n[J>>2]|0))}L=c+628|0;t:do if(Te){if(N=c+544|0,re=n[g>>2]|0,ie=n[_>>2]|0,(me|0)>0)J=0;else for(L=0;;)if(L=L+1|0,(L|0)>=(He|0))break t;do{W=re+(J<<2)|0,B=0;do{if(It=n[N>>2]|0,rv(c,It+(n[W>>2]<<2)|0,It+(n[ie+(B<<2)>>2]<<2)|0,p,L)|0?!(_s(c,L)|0):0){c=0;break e}B=B+1|0}while((B|0)<(me|0));J=J+1|0}while((J|0)<(He|0))}while(0);L=n[E>>2]|0,E=L+(p*12|0)|0,N=n[E>>2]|0,N&&(n[L+(p*12|0)+4>>2]=0,Qe(N),n[E>>2]=0,n[L+(p*12|0)+8>>2]=0),E=c+412|0,p=p<<1,N=n[E>>2]|0,L=N+(p*12|0)+4|0,((n[L>>2]|0)==0?(A=N+(p*12|0)|0,S=n[A>>2]|0,(S|0)!=0):0)&&(n[L>>2]=0,Qe(S),n[A>>2]=0,n[N+(p*12|0)+8>>2]=0,N=n[E>>2]|0),S=p|1,A=N+(S*12|0)+4|0,((n[A>>2]|0)==0?(v=N+(S*12|0)|0,w=n[v>>2]|0,(w|0)!=0):0)&&(n[A>>2]=0,Qe(w),n[v>>2]=0,n[N+(S*12|0)+8>>2]=0),c=Pf(c,0)|0,ie=n[_>>2]|0}while(0);return ie&&(n[C>>2]=0,Qe(ie),n[_>>2]=0,n[I>>2]=0),_=n[g>>2]|0,_?(n[R>>2]=0,Qe(_),n[g>>2]=0,n[k>>2]=0,f=y,c|0):(f=y,c|0)}function iv(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0;if(y=f,!(i[c+724>>0]|0)){f=y;return}if(A=c+540|0,(n[A>>2]|0)>0){v=c+760|0,g=c+804|0,_=c+776|0,S=c+544|0,w=0;do{if(R=n[v>>2]|0,E=R+(w*12|0)+4|0,I=n[E>>2]|0,(I|0)>0){R=n[R+(w*12|0)>>2]|0,C=0,k=0;do L=n[R+(C<<2)>>2]|0,(n[(n[n[g>>2]>>2]|0)+(L<<2)>>2]&3|0)!=1&&(n[R+(k<<2)>>2]=L,I=n[E>>2]|0,k=k+1|0),C=C+1|0;while((C|0)<(I|0))}else C=0,k=0;if(R=C-k|0,(R|0)>0&&(n[E>>2]=I-R),i[(n[_>>2]|0)+w>>0]=0,R=n[v>>2]|0,E=R+(w*12|0)+4|0,(n[E>>2]|0)>0){L=R+(w*12|0)|0,I=0;do R=(n[L>>2]|0)+(I<<2)|0,k=n[R>>2]|0,C=n[S>>2]|0,N=C+(k<<2)|0,n[N>>2]&16?n[R>>2]=n[C+(k+1<<2)>>2]:(B=mn(p,N)|0,n[R>>2]=B,n[N>>2]=n[N>>2]|16,n[C+(k+1<<2)>>2]=B),I=I+1|0;while((I|0)<(n[E>>2]|0))}w=w+1|0}while((w|0)<(n[A>>2]|0))}g=c+856|0,B=n[c+872>>2]|0,_=c+868|0,E=n[_>>2]|0,S=B-E|0,(B|0)<(E|0)&&(S=(n[c+860>>2]|0)+S|0);e:do if((S|0)>0)for(w=c+860|0,v=c+544|0;;){if(A=n[(n[g>>2]|0)+(E<<2)>>2]|0,R=E+1|0,n[_>>2]=(R|0)==(n[w>>2]|0)?0:R,R=n[v>>2]|0,k=R+(A<<2)|0,E=n[k>>2]|0,E&3||(E&16?A=n[R+(A+1<<2)>>2]|0:(B=mn(p,k)|0,n[k>>2]=n[k>>2]|16,n[R+(A+1<<2)>>2]=B,A=B),Y(g,A)),S=S+-1|0,(S|0)<=0)break e;E=n[_>>2]|0}else v=c+544|0;while(0);if(c=c+928|0,g=n[c>>2]|0,w=n[v>>2]|0,_=w+(g<<2)|0,n[_>>2]&16){n[c>>2]=n[w+(g+1<<2)>>2],f=y;return}else{B=mn(p,_)|0,n[c>>2]=B,n[_>>2]=n[_>>2]|16,n[w+(g+1<<2)>>2]=B,f=y;return}}function If(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0;w=f,f=f+32|0,A=w,p=w+8|0,y=c+544|0,g=c+548|0,_=c+556|0,v=(n[g>>2]|0)-(n[_>>2]|0)|0,n[p+0>>2]=0,n[p+4>>2]=0,n[p+8>>2]=0,n[p+12>>2]=0,jc(p,v),v=p+16|0,S=c+560|0,i[v>>0]=i[S>>0]|0,iv(c,p),Hs(c,p),(n[c+44>>2]|0)>1&&(E=n[p+4>>2]<<2,n[A>>2]=n[g>>2]<<2,n[A+4>>2]=E,qc(3608,A|0)|0),i[S>>0]=i[v>>0]|0,v=n[y>>2]|0,v&&Qe(v),n[y>>2]=n[p>>2],n[g>>2]=n[p+4>>2],n[c+552>>2]=n[p+8>>2],n[_>>2]=n[p+12>>2],f=w}function Z0(){var c=0,p=0,y=0;c=f,f=f+16|0,p=c,i[2608]=0,i[2616]=1,i[2624]=2,an(2632,2656,2664,3744,3752),n[658]=160,i[2652]=0,an(2704,2728,2736,3744,3752),n[676]=160,i[2724]=0,an(2784,2808,2816,3744,3752),n[696]=160,i[2804]=1,an(2848,2880,2888,3744,3736),n[712]=280,y=2868|0,n[y>>2]=-2147483648,n[y+4>>2]=2147483647,n[719]=0,an(2960,2992,3e3,3744,3736),n[740]=280,y=2980|0,n[y>>2]=-1,n[y+4>>2]=2147483647,n[747]=20,an(3112,3144,3152,3744,3736),n[778]=280,y=3132|0,n[y>>2]=-1,n[y+4>>2]=2147483647,n[785]=1e3,an(3240,3296,3312,3744,3720),n[810]=2168,m[408]=0,m[409]=Pe,i[3280]=0,i[3281]=0,s[1641]=s[p+0>>1]|0,s[1642]=s[p+2>>1]|0,s[1643]=s[p+4>>1]|0,m[411]=.5,f=c}function qf(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0;if(y=f,n[c>>2]=0,g=c+4|0,n[g>>2]=0,_=c+8|0,n[_>>2]=0,(p|0)<=0){f=y;return}if(w=p+1&-2,w=(w|0)>2?w:2,n[_>>2]=w,_=ur(0,w<<2)|0,n[c>>2]=_,((_|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&nt(et(1)|0,48,0),c=n[g>>2]|0,(c|0)<(p|0))do w=_+(c<<2)|0,w&&(n[w>>2]=0),c=c+1|0;while((c|0)!=(p|0));n[g>>2]=p,f=y}function Rp(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0;if(p=f,g=c+32|0,y=n[g>>2]|0,y&&(n[c+36>>2]=0,Qe(y),n[g>>2]=0,n[c+40>>2]=0),g=c+16|0,y=n[g>>2]|0,y&&(n[c+20>>2]=0,Qe(y),n[g>>2]=0,n[c+24>>2]=0),g=n[c>>2]|0,!g){f=p;return}if(y=c+4|0,w=n[y>>2]|0,(w|0)>0){_=0;do S=g+(_*12|0)|0,v=n[S>>2]|0,v&&(n[g+(_*12|0)+4>>2]=0,Qe(v),n[S>>2]=0,n[g+(_*12|0)+8>>2]=0,g=n[c>>2]|0,w=n[y>>2]|0),_=_+1|0;while((_|0)<(w|0))}n[y>>2]=0,Qe(g),n[c>>2]=0,n[c+8>>2]=0,f=p}function Ap(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(g=f,p=n[p>>2]|0,w=p+1|0,_=c+4|0,(n[_>>2]|0)>=(w|0)){A=n[c>>2]|0,A=A+(p<<2)|0,n[A>>2]=y,f=g;return}if(v=c+8|0,A=n[v>>2]|0,(A|0)<(w|0)&&(E=p+2-A&-2,S=(A>>1)+2&-2,S=(E|0)>(S|0)?E:S,(S|0)>(2147483647-A|0)&&(E=et(1)|0,nt(E|0,48,0)),R=n[c>>2]|0,E=S+A|0,n[v>>2]=E,E=ur(R,E<<2)|0,n[c>>2]=E,((E|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(R=et(1)|0,nt(R|0,48,0))),A=n[_>>2]|0,(A|0)<(w|0)){v=n[c>>2]|0;do S=v+(A<<2)|0,S&&(n[S>>2]=0),A=A+1|0;while((A|0)!=(w|0))}n[_>>2]=w,R=n[c>>2]|0,R=R+(p<<2)|0,n[R>>2]=y,f=g}function Tp(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0;if(y=f,S=n[p>>2]|0,_=S+1|0,g=c+4|0,(n[g>>2]|0)<(_|0)){if(v=c+8|0,w=n[v>>2]|0,(w|0)<(_|0)&&(A=S+2-w&-2,S=(w>>1)+2&-2,S=(A|0)>(S|0)?A:S,(S|0)>(2147483647-w|0)&&(A=et(1)|0,nt(A|0,48,0)),E=n[c>>2]|0,A=S+w|0,n[v>>2]=A,A=ur(E,A*12|0)|0,n[c>>2]=A,((A|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(E=et(1)|0,nt(E|0,48,0))),v=n[g>>2]|0,(v|0)<(_|0)){w=n[c>>2]|0;do S=w+(v*12|0)|0,S&&(n[S>>2]=0,n[w+(v*12|0)+4>>2]=0,n[w+(v*12|0)+8>>2]=0),v=v+1|0;while((v|0)!=(_|0))}n[g>>2]=_,w=n[p>>2]|0}else w=S;if(g=n[c>>2]|0,n[g+(w*12|0)>>2]|0&&(n[g+(w*12|0)+4>>2]=0,w=n[p>>2]|0),p=c+16|0,g=w+1|0,_=c+20|0,(n[_>>2]|0)>=(g|0)){f=y;return}if(v=c+24|0,c=n[v>>2]|0,(c|0)<(g|0)&&(E=w+2-c&-2,w=(c>>1)+2&-2,w=(E|0)>(w|0)?E:w,(w|0)>(2147483647-c|0)&&(E=et(1)|0,nt(E|0,48,0)),A=n[p>>2]|0,E=w+c|0,n[v>>2]=E,E=ur(A,E)|0,n[p>>2]=E,((E|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(E=et(1)|0,nt(E|0,48,0))),c=n[_>>2]|0,(c|0)<(g|0))do i[(n[p>>2]|0)+c>>0]=0,c=c+1|0;while((c|0)!=(g|0));n[_>>2]=g,f=y}function au(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(y=f,f=f+16|0,w=y,n[w>>2]=p,_=c+12|0,g=p+1|0,v=c+16|0,(n[v>>2]|0)<(g|0)&&(A=c+20|0,S=n[A>>2]|0,(S|0)<(g|0)&&(R=p+2-S&-2,E=(S>>1)+2&-2,E=(R|0)>(E|0)?R:E,(E|0)>(2147483647-S|0)&&(R=et(1)|0,nt(R|0,48,0)),k=n[_>>2]|0,R=E+S|0,n[A>>2]=R,R=ur(k,R<<2)|0,n[_>>2]=R,((R|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(k=et(1)|0,nt(k|0,48,0))),S=n[v>>2]|0,(g|0)>(S|0)&&fu((n[_>>2]|0)+(S<<2)|0,-1,g-S<<2|0)|0,n[v>>2]=g),n[(n[_>>2]|0)+(p<<2)>>2]=n[c+4>>2],Hr(c,w),g=n[_>>2]|0,S=n[g+(p<<2)>>2]|0,p=n[c>>2]|0,_=n[p+(S<<2)>>2]|0,!S){R=0,k=p+(R<<2)|0,n[k>>2]=_,k=g+(_<<2)|0,n[k>>2]=R,f=y;return}for(c=c+28|0,w=_<<1,v=w|1;;){if(R=S,S=S+-1>>1,E=p+(S<<2)|0,A=n[E>>2]|0,N=n[n[c>>2]>>2]|0,I=n[N+(w<<2)>>2]|0,L=n[N+(v<<2)>>2]|0,I=bs(L|0,((L|0)<0)<<31>>31|0,I|0,((I|0)<0)<<31>>31|0)|0,L=de,C=A<<1,k=n[N+(C<<2)>>2]|0,C=n[N+((C|1)<<2)>>2]|0,k=bs(C|0,((C|0)<0)<<31>>31|0,k|0,((k|0)<0)<<31>>31|0)|0,C=de,!(L>>>0<C>>>0|(L|0)==(C|0)&I>>>0<k>>>0)){c=14;break}if(n[p+(R<<2)>>2]=A,n[g+(n[E>>2]<<2)>>2]=R,!S){R=0,c=14;break}}if((c|0)==14){N=p+(R<<2)|0,n[N>>2]=_,N=g+(_<<2)|0,n[N>>2]=R,f=y;return}}function ou(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0;y=f,w=c+824|0,A=(n[c+840>>2]|0)>(p|0),(A?(n[(n[c+836>>2]|0)+(p<<2)>>2]|0)>-1:0)?v=7:v=3;do if((v|0)==3){if(i[(n[c+876>>2]|0)+p>>0]|0){f=y;return}if(i[(n[c+904>>2]|0)+p>>0]|0){f=y;return}if(k=i[(n[c+332>>2]|0)+p>>0]|0,R=i[2624]|0,I=R&255,(I>>>1^1)&k<<24>>24==R<<24>>24|k&2&I)if(A){v=7;break}else break;else{f=y;return}}while(0);if((v|0)==7?(g=n[c+836>>2]|0,_=g+(p<<2)|0,S=n[_>>2]|0,(S|0)>-1):0){p=n[w>>2]|0,v=n[p+(S<<2)>>2]|0;e:do if(!S)k=0;else for(A=c+852|0,E=v<<1,c=E|1;;){if(k=S,S=S+-1>>1,I=p+(S<<2)|0,R=n[I>>2]|0,W=n[n[A>>2]>>2]|0,L=n[W+(E<<2)>>2]|0,B=n[W+(c<<2)>>2]|0,L=bs(B|0,((B|0)<0)<<31>>31|0,L|0,((L|0)<0)<<31>>31|0)|0,B=de,N=R<<1,C=n[W+(N<<2)>>2]|0,N=n[W+((N|1)<<2)>>2]|0,C=bs(N|0,((N|0)<0)<<31>>31|0,C|0,((C|0)<0)<<31>>31|0)|0,N=de,!(B>>>0<N>>>0|(B|0)==(N|0)&L>>>0<C>>>0))break e;if(n[p+(k<<2)>>2]=R,n[g+(n[I>>2]<<2)>>2]=k,!S){k=0;break}}while(0);n[p+(k<<2)>>2]=v,n[g+(v<<2)>>2]=k,cu(w,n[_>>2]|0),f=y;return}au(w,p),f=y}function cu(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0;if(y=f,g=n[c>>2]|0,_=n[g+(p<<2)>>2]|0,R=p<<1|1,E=c+4|0,I=n[E>>2]|0,(R|0)>=(I|0)){C=p,L=c+12|0,I=g+(C<<2)|0,n[I>>2]=_,L=n[L>>2]|0,L=L+(_<<2)|0,n[L>>2]=C,f=y;return}for(v=c+28|0,A=_<<1,S=A|1,c=c+12|0;;){if(k=(p<<1)+2|0,(k|0)<(I|0)?(C=n[g+(k<<2)>>2]|0,L=n[g+(R<<2)>>2]|0,J=C<<1,I=n[n[v>>2]>>2]|0,B=n[I+(J<<2)>>2]|0,J=n[I+((J|1)<<2)>>2]|0,B=bs(J|0,((J|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0,J=de,W=L<<1,N=n[I+(W<<2)>>2]|0,W=n[I+((W|1)<<2)>>2]|0,N=bs(W|0,((W|0)<0)<<31>>31|0,N|0,((N|0)<0)<<31>>31|0)|0,W=de,J>>>0<W>>>0|(J|0)==(W|0)&B>>>0<N>>>0||(C=L,w=7)):(C=n[g+(R<<2)>>2]|0,I=n[n[v>>2]>>2]|0,w=7),(w|0)==7&&(w=0,k=R),N=C<<1,W=n[I+(N<<2)>>2]|0,N=n[I+((N|1)<<2)>>2]|0,W=bs(N|0,((N|0)<0)<<31>>31|0,W|0,((W|0)<0)<<31>>31|0)|0,N=de,J=n[I+(A<<2)>>2]|0,B=n[I+(S<<2)>>2]|0,J=bs(B|0,((B|0)<0)<<31>>31|0,J|0,((J|0)<0)<<31>>31|0)|0,B=de,!(N>>>0<B>>>0|(N|0)==(B|0)&W>>>0<J>>>0)){w=10;break}if(n[g+(p<<2)>>2]=C,n[(n[c>>2]|0)+(C<<2)>>2]=p,R=k<<1|1,I=n[E>>2]|0,(R|0)>=(I|0)){p=k,w=10;break}else p=k}if((w|0)==10){J=g+(p<<2)|0,n[J>>2]=_,J=n[c>>2]|0,J=J+(_<<2)|0,n[J>>2]=p,f=y;return}}function M(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0;if(y=f,v=n[c>>2]|0,v){g=c+4|0,_=n[g>>2]|0;e:do if((_|0)>0)for(w=0;;){if(S=v+(w*12|0)|0,A=n[S>>2]|0,A&&(n[v+(w*12|0)+4>>2]=0,Qe(A),n[S>>2]=0,n[v+(w*12|0)+8>>2]=0,_=n[g>>2]|0),w=w+1|0,(w|0)>=(_|0))break e;v=n[c>>2]|0}while(0);n[g>>2]=0,p&&(Qe(n[c>>2]|0),n[c>>2]=0,n[c+8>>2]=0)}if(g=c+16|0,_=n[g>>2]|0,((_|0)!=0?(n[c+20>>2]=0,p):0)&&(Qe(_),n[g>>2]=0,n[c+24>>2]=0),_=c+32|0,g=n[_>>2]|0,!g){f=y;return}if(n[c+36>>2]=0,!p){f=y;return}Qe(g),n[_>>2]=0,n[c+40>>2]=0,f=y}function j(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(g=f,_=n[c>>2]|0,y=c+4|0,_?(n[y>>2]=0,p&&(Qe(_),n[c>>2]=0,n[c+8>>2]=0,_=0)):_=0,(n[y>>2]|0)>=1){v=c+16|0,n[v>>2]=0,v=c+12|0,n[v>>2]=0,f=g;return}if(v=c+8|0,w=n[v>>2]|0,(w|0)<1&&(S=2-w&-2,p=(w>>1)+2&-2,p=(S|0)>(p|0)?S:p,(p|0)>(2147483647-w|0)&&(S=et(1)|0,nt(S|0,48,0)),S=p+w|0,n[v>>2]=S,_=ur(_,S<<2)|0,n[c>>2]=_,((_|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(S=et(1)|0,nt(S|0,48,0))),p=n[y>>2]|0,(p|0)<1)for(;w=_+(p<<2)|0,w&&(n[w>>2]=0),p;)p=p+1|0;n[y>>2]=1,S=c+16|0,n[S>>2]=0,S=c+12|0,n[S>>2]=0,f=g}function Y(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(g=f,f=f+16|0,y=g,_=c+16|0,S=n[_>>2]|0,n[_>>2]=S+1,n[(n[c>>2]|0)+(S<<2)>>2]=p,S=n[_>>2]|0,p=c+4|0,v=n[p>>2]|0,(S|0)==(v|0)&&(n[_>>2]=0,S=0),w=c+12|0,(n[w>>2]|0)!=(S|0)){f=g;return}if(qf(y,(v*3|0)+1>>1),E=n[w>>2]|0,R=n[p>>2]|0,(E|0)<(R|0))for(S=n[c>>2]|0,A=n[y>>2]|0,R=0;;)if(v=R+1|0,n[A+(R<<2)>>2]=n[S+(E<<2)>>2],E=E+1|0,R=n[p>>2]|0,(E|0)>=(R|0)){A=v;break}else R=v;else A=0;if(v=n[c>>2]|0,(n[_>>2]|0)>0){for(S=n[y>>2]|0,E=0;!(n[S+(A<<2)>>2]=n[v+(E<<2)>>2],E=E+1|0,(E|0)>=(n[_>>2]|0));)A=A+1|0;R=n[p>>2]|0}n[w>>2]=0,n[_>>2]=R,v?(n[p>>2]=0,Qe(v),n[c>>2]=0,_=c+8|0,n[_>>2]=0):_=c+8|0,n[c>>2]=n[y>>2],E=y+4|0,n[p>>2]=n[E>>2],R=y+8|0,n[_>>2]=n[R>>2],n[y>>2]=0,n[E>>2]=0,n[R>>2]=0,f=g}function Z(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(y=f,g=c+4|0,_=n[g>>2]|0,w=c+8|0,v=n[w>>2]|0,(_|0)==(v|0)&(v|0)<(_+1|0)?(v=(_>>1)+2&-2,v=(v|0)<2?2:v,(v|0)>(2147483647-_|0)&&(v=et(1)|0,nt(v|0,48,0)),S=n[c>>2]|0,_=v+_|0,n[w>>2]=_,_=ur(S,_<<2)|0,n[c>>2]=_,((_|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(S=et(1)|0,nt(S|0,48,0))):_=n[c>>2]|0,S=n[g>>2]|0,n[g>>2]=S+1,g=_+(S<<2)|0,!g){f=y;return}n[g>>2]=n[p>>2],f=y}function ce(){var c=0,p=0;return p=f,Wa(3864)|0,c=I2(936)|0,X0(c),f=p,c|0}function ae(c){c=c|0;var p=0;if(p=f,!c){f=p;return}pu[n[(n[c>>2]|0)+4>>2]&31](c),f=p}function Ae(){var c=0,p=0,y=0;c=f,f=f+16|0,p=c,y=I2(936)|0,X0(y),n[964]=y,Or(y,1)|0,y=n[964]|0,i[p+0>>0]=i[3840]|0,Bc(y,p,1)|0,f=c}function Ue(c){c=c|0;var p=0,y=0,g=0;if(p=f,f=f+16|0,y=p,(n[962]|0)>=(c|0)){f=p;return}do g=n[964]|0,i[y+0>>0]=i[3840]|0,Bc(g,y,1)|0,g=(n[962]|0)+1|0,n[962]=g;while((g|0)<(c|0));f=p}function kt(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0;if(_=f,f=f+32|0,w=_+16|0,y=_+4|0,v=_,n[y>>2]=0,g=y+4|0,n[g>>2]=0,p=y+8|0,n[p>>2]=0,S=n[c>>2]|0,S)do{if(A=(S|0)<0?0-S|0:S,(n[962]|0)<(A|0))do E=n[964]|0,i[w+0>>0]=i[3840]|0,Bc(E,w,1)|0,E=(n[962]|0)+1|0,n[962]=E;while((E|0)<(A|0));n[v>>2]=A<<1|S>>>31,mi(y,v),c=c+4|0,S=n[c>>2]|0}while((S|0)!=0);return v=n[964]|0,w=v+628|0,Vo(y,w),w=_s(v,w)|0,v=n[y>>2]|0,v?(n[g>>2]=0,Qe(v),n[y>>2]=0,n[p>>2]=0,f=_,w|0):(f=_,w|0)}function xt(){var c=0,p=0,y=0,g=0;return p=f,f=f+16|0,c=p,y=n[964]|0,g=y+664|0,n[g+0>>2]=-1,n[g+4>>2]=-1,n[g+8>>2]=-1,n[g+12>>2]=-1,n[y+304>>2]|0&&(n[y+308>>2]=0),iu(c,y,1,0),f=p,(i[c>>0]|0)==0|0}function En(){return(n[(n[964]|0)+4>>2]|0)+1|0}function cn(){return n[962]|0}function Q0(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0;return p=f,f=f+32|0,w=p+16|0,g=p+4|0,v=p,n[g>>2]=0,y=g+4|0,n[y>>2]=0,_=g+8|0,n[_>>2]=0,n[v>>2]=c<<1,mi(g,v),c=n[964]|0,v=c+664|0,n[v+0>>2]=-1,n[v+4>>2]=-1,n[v+8>>2]=-1,n[v+12>>2]=-1,Vo(g,c+304|0),iu(w,c,1,0),c=(i[w>>0]|0)==0,w=n[g>>2]|0,w?(n[y>>2]=0,Qe(w),n[g>>2]=0,n[_>>2]=0,f=p,c|0):(f=p,c|0)}function em(c){c=c|0;var p=0,y=0,g=0;p=f,f=f+16|0,g=p,y=n[964]|0,n[g>>2]=c<<1|1,c=y+628|0,n[c>>2]|0&&(n[y+632>>2]=0),mi(c,g),_s(y,c)|0,f=p}function sv(){return n[(n[964]|0)+36>>2]|0}function k2(){return n[(n[964]|0)+32>>2]|0}function Vo(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0;if(y=f,v=n[p>>2]|0,g=p+4|0,v?(n[g>>2]=0,S=0):S=n[g>>2]|0,g=c+4|0,_=n[g>>2]|0,w=p+4|0,(S|0)<(_|0)){A=p+8|0,S=n[A>>2]|0,(S|0)<(_|0)&&(R=_+1-S&-2,E=(S>>1)+2&-2,E=(R|0)>(E|0)?R:E,(E|0)>(2147483647-S|0)&&(R=et(1)|0,nt(R|0,48,0)),R=E+S|0,n[A>>2]=R,v=ur(v,R<<2)|0,n[p>>2]=v,((v|0)==0?(n[(vt()|0)>>2]|0)==12:0)&&(R=et(1)|0,nt(R|0,48,0))),S=n[w>>2]|0;e:do if((S|0)<(_|0))for(;;){if(v=v+(S<<2)|0,v&&(n[v>>2]=0),S=S+1|0,(S|0)==(_|0))break e;v=n[p>>2]|0}while(0);n[w>>2]=_,_=n[g>>2]|0}if((_|0)<=0){f=y;return}p=n[p>>2]|0,c=n[c>>2]|0,_=0;do n[p+(_<<2)>>2]=n[c+(_<<2)>>2],_=_+1|0;while((_|0)<(n[g>>2]|0));f=y}function Gs(c,p){c=c|0,p=p|0;var y=0;y=f,f=f+16|0,n[y>>2]=p,p=n[oe>>2]|0,Va(p|0,c|0,y|0)|0,ya(10,p|0)|0,be()}function P2(){var c=0,p=0;if(c=f,f=f+16|0,Gy(4064,3)|0)Gs(4072,c);else return p=Uy(n[1014]|0)|0,f=c,p|0;return 0}function I2(c){c=c|0;var p=0,y=0;if(p=f,c=(c|0)==0?1:c,y=Vc(c)|0,y)return f=p,y|0;for(;;){if(y=eA()|0,!y){c=4;break}if(ov[y&3](),y=Vc(c)|0,y){c=5;break}}if((c|0)==4)y=et(4)|0,n[y>>2]=4248,nt(y|0,4296,12);else if((c|0)==5)return f=p,y|0;return 0}function Wo(c){c=c|0;var p=0;p=f,Qe(c),f=p}function Nf(c){c=c|0;var p=0;p=f,Wo(c),f=p}function _a(c){c=c|0}function q2(c){return c=c|0,4264}function N2(c){c=c|0;var p=0;p=f,f=f+16|0,ov[c&3](),Gs(4312,p)}function QR(){var c=0,p=0;p=P2()|0,(((p|0)!=0?(c=n[p>>2]|0,(c|0)!=0):0)?(p=c+48|0,(n[p>>2]&-256|0)==1126902528?(n[p+4>>2]|0)==1129074247:0):0)&&N2(n[c+12>>2]|0),p=n[968]|0,n[968]=p+0,N2(p)}function eA(){var c=0;return c=n[1102]|0,n[1102]=c+0,c|0}function F3(c){c=c|0}function B3(c){c=c|0}function zc(c){c=c|0}function le(c){c=c|0}function Re(c){c=c|0}function ge(c){c=c|0;var p=0;p=f,Wo(c),f=p}function Ze(c){c=c|0;var p=0;p=f,Wo(c),f=p}function Pt(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0;if(g=f,f=f+64|0,_=g,(c|0)==(p|0))return v=1,f=g,v|0;if(!p)return v=0,f=g,v|0;if(p=tm(p,4504,4560,0)|0,!p)return v=0,f=g,v|0;v=_+0|0,w=v+56|0;do n[v>>2]=0,v=v+4|0;while((v|0)<(w|0));return n[_>>2]=p,n[_+8>>2]=c,n[_+12>>2]=-1,n[_+48>>2]=1,cv[n[(n[p>>2]|0)+28>>2]&3](p,_,n[y>>2]|0,1),(n[_+24>>2]|0)!=1?(v=0,f=g,v|0):(n[y>>2]=n[_+16>>2],v=1,f=g,v|0)}function or(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0;if(c=f,_=p+16|0,w=n[_>>2]|0,!w){n[_>>2]=y,n[p+24>>2]=g,n[p+36>>2]=1,f=c;return}if((w|0)!=(y|0)){w=p+36|0,n[w>>2]=(n[w>>2]|0)+1,n[p+24>>2]=2,i[p+54>>0]=1,f=c;return}if(y=p+24|0,(n[y>>2]|0)!=2){f=c;return}n[y>>2]=g,f=c}function Gr(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0;if(_=f,(n[p+8>>2]|0)!=(c|0)){f=_;return}or(0,p,y,g),f=_}function lr(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0;if(_=f,(c|0)==(n[p+8>>2]|0)){or(0,p,y,g),f=_;return}else{c=n[c+8>>2]|0,cv[n[(n[c>>2]|0)+28>>2]&3](c,p,y,g),f=_;return}}function tm(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0;_=f,f=f+64|0,w=_,v=n[c>>2]|0,S=c+(n[v+-8>>2]|0)|0,v=n[v+-4>>2]|0,n[w>>2]=y,n[w+4>>2]=c,n[w+8>>2]=p,n[w+12>>2]=g,E=w+16|0,R=w+20|0,p=w+24|0,A=w+28|0,g=w+32|0,c=w+40|0,k=(v|0)==(y|0),I=E+0|0,y=I+36|0;do n[I>>2]=0,I=I+4|0;while((I|0)<(y|0));if(s[E+36>>1]=0,i[E+38>>0]=0,k)return n[w+48>>2]=1,hm[n[(n[v>>2]|0)+20>>2]&3](v,w,S,S,1,0),I=(n[p>>2]|0)==1?S:0,f=_,I|0;if(Xo[n[(n[v>>2]|0)+24>>2]&3](v,w,S,1,0),w=n[w+36>>2]|0,w)return(w|0)==1?((n[p>>2]|0)!=1?!((n[c>>2]|0)==0&(n[A>>2]|0)==1&(n[g>>2]|0)==1):0)?(I=0,f=_,I|0):(I=n[E>>2]|0,f=_,I|0):(I=0,f=_,I|0);return I=(n[c>>2]|0)==1&(n[A>>2]|0)==1&(n[g>>2]|0)==1?n[R>>2]|0:0,f=_,I|0;return 0}function M2(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0;if(c=f,i[p+53>>0]=1,(n[p+4>>2]|0)!=(g|0)){f=c;return}if(i[p+52>>0]=1,g=p+16|0,w=n[g>>2]|0,!w){if(n[g>>2]=y,n[p+24>>2]=_,n[p+36>>2]=1,!((_|0)==1?(n[p+48>>2]|0)==1:0)){f=c;return}i[p+54>>0]=1,f=c;return}if((w|0)!=(y|0)){w=p+36|0,n[w>>2]=(n[w>>2]|0)+1,i[p+54>>0]=1,f=c;return}if(y=p+24|0,g=n[y>>2]|0,(g|0)==2?n[y>>2]=_:_=g,!((_|0)==1?(n[p+48>>2]|0)==1:0)){f=c;return}i[p+54>>0]=1,f=c}function zs(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0,v=0,S=0,A=0,E=0;if(w=f,(c|0)==(n[p+8>>2]|0)){if((n[p+4>>2]|0)!=(y|0)){f=w;return}if(v=p+28|0,(n[v>>2]|0)==1){f=w;return}n[v>>2]=g,f=w;return}if((c|0)!=(n[p>>2]|0)){A=n[c+8>>2]|0,Xo[n[(n[A>>2]|0)+24>>2]&3](A,p,y,g,_),f=w;return}if((n[p+16>>2]|0)!=(y|0)?(S=p+20|0,(n[S>>2]|0)!=(y|0)):0){if(n[p+32>>2]=g,g=p+44|0,(n[g>>2]|0)==4){f=w;return}A=p+52|0,i[A>>0]=0,E=p+53|0,i[E>>0]=0,c=n[c+8>>2]|0,hm[n[(n[c>>2]|0)+20>>2]&3](c,p,y,y,1,_),i[E>>0]|0?i[A>>0]|0||(c=1,v=13):(c=0,v=13);do if((v|0)==13){if(n[S>>2]=y,E=p+40|0,n[E>>2]=(n[E>>2]|0)+1,(n[p+36>>2]|0)==1?(n[p+24>>2]|0)==2:0){if(i[p+54>>0]=1,c)break}else v=16;if((v|0)==16?c:0)break;n[g>>2]=4,f=w;return}while(0);n[g>>2]=3,f=w;return}if((g|0)!=1){f=w;return}n[p+32>>2]=1,f=w}function rm(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0;if(_=f,(n[p+8>>2]|0)==(c|0)){if((n[p+4>>2]|0)!=(y|0)){f=_;return}if(p=p+28|0,(n[p>>2]|0)==1){f=_;return}n[p>>2]=g,f=_;return}if((n[p>>2]|0)!=(c|0)){f=_;return}if((n[p+16>>2]|0)!=(y|0)?(w=p+20|0,(n[w>>2]|0)!=(y|0)):0){n[p+32>>2]=g,n[w>>2]=y,c=p+40|0,n[c>>2]=(n[c>>2]|0)+1,((n[p+36>>2]|0)==1?(n[p+24>>2]|0)==2:0)&&(i[p+54>>0]=1),n[p+44>>2]=4,f=_;return}if((g|0)!=1){f=_;return}n[p+32>>2]=1,f=_}function tA(c,p,y,g,_,w){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,w=w|0;var v=0;if(v=f,(c|0)==(n[p+8>>2]|0)){M2(0,p,y,g,_),f=v;return}else{c=n[c+8>>2]|0,hm[n[(n[c>>2]|0)+20>>2]&3](c,p,y,g,_,w),f=v;return}}function Mf(c,p,y,g,_,w){if(c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,w=w|0,w=f,(n[p+8>>2]|0)!=(c|0)){f=w;return}M2(0,p,y,g,_),f=w}function nm(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0;return g=f,f=f+16|0,_=g,n[_>>2]=n[y>>2],c=Pp[n[(n[c>>2]|0)+16>>2]&1](c,p,_)|0,p=c&1,c?(n[y>>2]=n[_>>2],f=g,p|0):(f=g,p|0)}function im(c){c=c|0;var p=0;return p=f,c?c=(tm(c,4504,4672,0)|0)!=0:c=0,f=p,c&1|0}function _r(){var c=0,p=0,y=0,g=0,_=0;c=f,f=f+16|0,p=c,c=c+12|0,y=P2()|0,y||Gs(4040,p),y=n[y>>2]|0,y||Gs(4040,p),_=y+48|0,g=n[_>>2]|0,_=n[_+4>>2]|0,(g&-256|0)==1126902528&(_|0)==1129074247||(n[p>>2]=n[970],Gs(4e3,p)),(g|0)==1126902529&(_|0)==1129074247?g=n[y+44>>2]|0:g=y+80|0,n[c>>2]=g,_=n[y>>2]|0,y=n[_+4>>2]|0,Pp[n[(n[4432>>2]|0)+16>>2]&1](4432,_,c)|0?(_=n[c>>2]|0,g=n[970]|0,_=W2[n[(n[_>>2]|0)+8>>2]&1](_)|0,n[p>>2]=g,n[p+4>>2]=y,n[p+8>>2]=_,Gs(3904,p)):(n[p>>2]=n[970],n[p+4>>2]=y,Gs(3952,p))}function rA(){var c=0;if(c=f,f=f+16|0,T0(4056,20)|0)Gs(4128,c);else{f=c;return}}function L2(c){c=c|0;var p=0;if(p=f,f=f+16|0,Qe(c),C0(n[1014]|0,0)|0)Gs(4184,p);else{f=p;return}}function Vc(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0,ne=0;p=f;do if(c>>>0<245){if(c>>>0<11?c=16:c=c+11&-8,He=c>>>3,C=n[1206]|0,me=C>>>He,me&3){w=(me&1^1)+He|0,_=w<<1,y=4864+(_<<2)|0,_=4864+(_+2<<2)|0,v=n[_>>2]|0,S=v+8|0,g=n[S>>2]|0;do if((y|0)!=(g|0))if(g>>>0<(n[1210]|0)>>>0&&be(),A=g+12|0,(n[A>>2]|0)==(v|0)){n[A>>2]=y,n[_>>2]=g;break}else be();else n[1206]=C&~(1<<w);while(0);return ne=w<<3,n[v+4>>2]=ne|3,ne=v+(ne|4)|0,n[ne>>2]=n[ne>>2]|1,ne=S,f=p,ne|0}if(re=n[1208]|0,c>>>0>re>>>0){if(me){v=2<<He,v=me<<He&(v|0-v),v=(v&0-v)+-1|0,y=v>>>12&16,v=v>>>y,S=v>>>5&8,v=v>>>S,_=v>>>2&4,v=v>>>_,w=v>>>1&2,v=v>>>w,g=v>>>1&1,g=(S|y|_|w|g)+(v>>>g)|0,v=g<<1,w=4864+(v<<2)|0,v=4864+(v+2<<2)|0,_=n[v>>2]|0,y=_+8|0,S=n[y>>2]|0;do if((w|0)!=(S|0))if(S>>>0<(n[1210]|0)>>>0&&be(),A=S+12|0,(n[A>>2]|0)==(_|0)){n[A>>2]=w,n[v>>2]=S,ye=n[1208]|0;break}else be();else n[1206]=C&~(1<<g),ye=re;while(0);return ne=g<<3,g=ne-c|0,n[_+4>>2]=c|3,w=_+c|0,n[_+(c|4)>>2]=g|1,n[_+ne>>2]=g,ye&&(_=n[1211]|0,E=ye>>>3,S=E<<1,v=4864+(S<<2)|0,A=n[1206]|0,E=1<<E,A&E?(S=4864+(S+2<<2)|0,A=n[S>>2]|0,A>>>0<(n[1210]|0)>>>0?be():(Le=S,Se=A)):(n[1206]=A|E,Le=4864+(S+2<<2)|0,Se=v),n[Le>>2]=_,n[Se+12>>2]=_,n[_+8>>2]=Se,n[_+12>>2]=v),n[1208]=g,n[1211]=w,ne=y,f=p,ne|0}if(C=n[1207]|0,C){for(y=(C&0-C)+-1|0,_e=y>>>12&16,y=y>>>_e,Ee=y>>>5&8,y=y>>>Ee,ne=y>>>2&4,y=y>>>ne,_=y>>>1&2,y=y>>>_,g=y>>>1&1,g=n[5128+((Ee|_e|ne|_|g)+(y>>>g)<<2)>>2]|0,y=(n[g+4>>2]&-8)-c|0,_=g;!(w=n[_+16>>2]|0,!w&&(w=n[_+20>>2]|0,!w));)_=(n[w+4>>2]&-8)-c|0,ne=_>>>0<y>>>0,y=ne?_:y,_=w,g=ne?w:g;v=n[1210]|0,g>>>0<v>>>0&&be(),_=g+c|0,g>>>0>=_>>>0&&be(),w=n[g+24>>2]|0,A=n[g+12>>2]|0;do if((A|0)==(g|0)){if(A=g+20|0,S=n[A>>2]|0,!S&&(A=g+16|0,S=n[A>>2]|0,!S)){Ne=0;break}for(;;){if(E=S+20|0,R=n[E>>2]|0,R){S=R,A=E;continue}if(E=S+16|0,R=n[E>>2]|0,R)S=R,A=E;else break}if(A>>>0<v>>>0)be();else{n[A>>2]=0,Ne=S;break}}else if(S=n[g+8>>2]|0,S>>>0<v>>>0&&be(),v=S+12|0,(n[v>>2]|0)!=(g|0)&&be(),E=A+8|0,(n[E>>2]|0)==(g|0)){n[v>>2]=A,n[E>>2]=S,Ne=A;break}else be();while(0);do if(w){if(S=n[g+28>>2]|0,v=5128+(S<<2)|0,(g|0)==(n[v>>2]|0)){if(n[v>>2]=Ne,!Ne){n[1207]=n[1207]&~(1<<S);break}}else if(w>>>0<(n[1210]|0)>>>0&&be(),v=w+16|0,(n[v>>2]|0)==(g|0)?n[v>>2]=Ne:n[w+20>>2]=Ne,!Ne)break;v=n[1210]|0,Ne>>>0<v>>>0&&be(),n[Ne+24>>2]=w,w=n[g+16>>2]|0;do if(w)if(w>>>0<v>>>0)be();else{n[Ne+16>>2]=w,n[w+24>>2]=Ne;break}while(0);if(w=n[g+20>>2]|0,w)if(w>>>0<(n[1210]|0)>>>0)be();else{n[Ne+20>>2]=w,n[w+24>>2]=Ne;break}}while(0);return y>>>0<16?(ne=y+c|0,n[g+4>>2]=ne|3,ne=g+(ne+4)|0,n[ne>>2]=n[ne>>2]|1):(n[g+4>>2]=c|3,n[g+(c|4)>>2]=y|1,n[g+(y+c)>>2]=y,v=n[1208]|0,v&&(w=n[1211]|0,A=v>>>3,E=A<<1,v=4864+(E<<2)|0,S=n[1206]|0,A=1<<A,S&A?(S=4864+(E+2<<2)|0,A=n[S>>2]|0,A>>>0<(n[1210]|0)>>>0?be():(Te=S,ie=A)):(n[1206]=S|A,Te=4864+(E+2<<2)|0,ie=v),n[Te>>2]=w,n[ie+12>>2]=w,n[w+8>>2]=ie,n[w+12>>2]=v),n[1208]=y,n[1211]=_),ne=g+8|0,f=p,ne|0}}}else if(c>>>0<=4294967231){if(ie=c+11|0,c=ie&-8,Ne=n[1207]|0,Ne){Te=0-c|0,ie=ie>>>8,ie?c>>>0>16777215?Se=31:(_e=(ie+1048320|0)>>>16&8,ne=ie<<_e,Ee=(ne+520192|0)>>>16&4,ne=ne<<Ee,Se=(ne+245760|0)>>>16&2,Se=14-(Ee|_e|Se)+(ne<<Se>>>15)|0,Se=c>>>(Se+7|0)&1|Se<<1):Se=0,Le=n[5128+(Se<<2)>>2]|0;e:do if(!Le)Ee=0,ie=0;else for((Se|0)==31?ie=0:ie=25-(Se>>>1)|0,Ee=0,ye=c<<ie,ie=0;;){if(_e=n[Le+4>>2]&-8,ne=_e-c|0,ne>>>0<Te>>>0)if((_e|0)==(c|0)){Te=ne,Ee=Le,ie=Le;break e}else Te=ne,ie=Le;if(ne=n[Le+20>>2]|0,Le=n[Le+(ye>>>31<<2)+16>>2]|0,Ee=(ne|0)==0|(ne|0)==(Le|0)?Ee:ne,Le)ye=ye<<1;else break}while(0);if((Ee|0)==0&(ie|0)==0){if(ne=2<<Se,Ne=Ne&(ne|0-ne),!Ne)break;ne=(Ne&0-Ne)+-1|0,Le=ne>>>12&16,ne=ne>>>Le,Se=ne>>>5&8,ne=ne>>>Se,ye=ne>>>2&4,ne=ne>>>ye,_e=ne>>>1&2,ne=ne>>>_e,Ee=ne>>>1&1,Ee=n[5128+((Se|Le|ye|_e|Ee)+(ne>>>Ee)<<2)>>2]|0}if(Ee)for(;;){if(ne=(n[Ee+4>>2]&-8)-c|0,Ne=ne>>>0<Te>>>0,Te=Ne?ne:Te,ie=Ne?Ee:ie,Ne=n[Ee+16>>2]|0,Ne){Ee=Ne;continue}if(Ee=n[Ee+20>>2]|0,!Ee)break}if((ie|0)!=0?Te>>>0<((n[1208]|0)-c|0)>>>0:0){_=n[1210]|0,ie>>>0<_>>>0&&be(),y=ie+c|0,ie>>>0>=y>>>0&&be(),g=n[ie+24>>2]|0,w=n[ie+12>>2]|0;do if((w|0)==(ie|0)){if(v=ie+20|0,w=n[v>>2]|0,!w&&(v=ie+16|0,w=n[v>>2]|0,!w)){He=0;break}for(;;){if(S=w+20|0,A=n[S>>2]|0,A){w=A,v=S;continue}if(S=w+16|0,A=n[S>>2]|0,A)w=A,v=S;else break}if(v>>>0<_>>>0)be();else{n[v>>2]=0,He=w;break}}else if(v=n[ie+8>>2]|0,v>>>0<_>>>0&&be(),S=v+12|0,(n[S>>2]|0)!=(ie|0)&&be(),_=w+8|0,(n[_>>2]|0)==(ie|0)){n[S>>2]=w,n[_>>2]=v,He=w;break}else be();while(0);do if(g){if(_=n[ie+28>>2]|0,w=5128+(_<<2)|0,(ie|0)==(n[w>>2]|0)){if(n[w>>2]=He,!He){n[1207]=n[1207]&~(1<<_);break}}else if(g>>>0<(n[1210]|0)>>>0&&be(),_=g+16|0,(n[_>>2]|0)==(ie|0)?n[_>>2]=He:n[g+20>>2]=He,!He)break;_=n[1210]|0,He>>>0<_>>>0&&be(),n[He+24>>2]=g,g=n[ie+16>>2]|0;do if(g)if(g>>>0<_>>>0)be();else{n[He+16>>2]=g,n[g+24>>2]=He;break}while(0);if(g=n[ie+20>>2]|0,g)if(g>>>0<(n[1210]|0)>>>0)be();else{n[He+20>>2]=g,n[g+24>>2]=He;break}}while(0);e:do if(Te>>>0>=16){if(n[ie+4>>2]=c|3,n[ie+(c|4)>>2]=Te|1,n[ie+(Te+c)>>2]=Te,_=Te>>>3,Te>>>0<256){v=_<<1,g=4864+(v<<2)|0,w=n[1206]|0,_=1<<_;do if(!(w&_))n[1206]=w|_,me=4864+(v+2<<2)|0,re=g;else{if(_=4864+(v+2<<2)|0,w=n[_>>2]|0,w>>>0>=(n[1210]|0)>>>0){me=_,re=w;break}be()}while(0);n[me>>2]=y,n[re+12>>2]=y,n[ie+(c+8)>>2]=re,n[ie+(c+12)>>2]=g;break}if(g=Te>>>8,g?Te>>>0>16777215?g=31:(_e=(g+1048320|0)>>>16&8,ne=g<<_e,Ee=(ne+520192|0)>>>16&4,ne=ne<<Ee,g=(ne+245760|0)>>>16&2,g=14-(Ee|_e|g)+(ne<<g>>>15)|0,g=Te>>>(g+7|0)&1|g<<1):g=0,_=5128+(g<<2)|0,n[ie+(c+28)>>2]=g,n[ie+(c+20)>>2]=0,n[ie+(c+16)>>2]=0,w=n[1207]|0,v=1<<g,!(w&v)){n[1207]=w|v,n[_>>2]=y,n[ie+(c+24)>>2]=_,n[ie+(c+12)>>2]=y,n[ie+(c+8)>>2]=y;break}v=n[_>>2]|0,(g|0)==31?g=0:g=25-(g>>>1)|0;t:do if((n[v+4>>2]&-8|0)!=(Te|0)){for(g=Te<<g;!(w=v+(g>>>31<<2)+16|0,_=n[w>>2]|0,!_);)if((n[_+4>>2]&-8|0)==(Te|0)){C=_;break t}else g=g<<1,v=_;if(w>>>0<(n[1210]|0)>>>0)be();else{n[w>>2]=y,n[ie+(c+24)>>2]=v,n[ie+(c+12)>>2]=y,n[ie+(c+8)>>2]=y;break e}}else C=v;while(0);if(_=C+8|0,g=n[_>>2]|0,ne=n[1210]|0,C>>>0>=ne>>>0&g>>>0>=ne>>>0){n[g+12>>2]=y,n[_>>2]=y,n[ie+(c+8)>>2]=g,n[ie+(c+12)>>2]=C,n[ie+(c+24)>>2]=0;break}else be()}else ne=Te+c|0,n[ie+4>>2]=ne|3,ne=ie+(ne+4)|0,n[ne>>2]=n[ne>>2]|1;while(0);return ne=ie+8|0,f=p,ne|0}}}else c=-1;while(0);if(C=n[1208]|0,C>>>0>=c>>>0)return g=C-c|0,y=n[1211]|0,g>>>0>15?(n[1211]=y+c,n[1208]=g,n[y+(c+4)>>2]=g|1,n[y+C>>2]=g,n[y+4>>2]=c|3):(n[1208]=0,n[1211]=0,n[y+4>>2]=C|3,ne=y+(C+4)|0,n[ne>>2]=n[ne>>2]|1),ne=y+8|0,f=p,ne|0;if(C=n[1209]|0,C>>>0>c>>>0)return _e=C-c|0,n[1209]=_e,ne=n[1212]|0,n[1212]=ne+c,n[ne+(c+4)>>2]=_e|1,n[ne+4>>2]=c|3,ne=ne+8|0,f=p,ne|0;do if(!(n[1324]|0))if(C=A0(30)|0,C+-1&C)be();else{n[1326]=C,n[1325]=C,n[1327]=-1,n[1328]=-1,n[1329]=0,n[1317]=0,n[1324]=(Vy(0)|0)&-16^1431655768;break}while(0);if(He=c+48|0,C=n[1326]|0,me=c+47|0,Te=C+me|0,C=0-C|0,re=Te&C,re>>>0<=c>>>0)return ne=0,f=p,ne|0;if(ie=n[1316]|0,(ie|0)!=0?(_e=n[1314]|0,ne=_e+re|0,ne>>>0<=_e>>>0|ne>>>0>ie>>>0):0)return ne=0,f=p,ne|0;e:do if(n[1317]&4)ie=0,I=198;else{Ne=n[1212]|0;t:do if(Ne){for(ie=5272|0;!(Se=n[ie>>2]|0,Se>>>0<=Ne>>>0?(Fe=ie+4|0,(Se+(n[Fe>>2]|0)|0)>>>0>Ne>>>0):0);)if(ie=n[ie+8>>2]|0,!ie){I=181;break t}ie?(Te=Te-(n[1209]|0)&C,Te>>>0<2147483647?(C=Uo(Te|0)|0,(C|0)==((n[ie>>2]|0)+(n[Fe>>2]|0)|0)?(ie=Te,I=190):(ie=Te,I=191)):ie=0):I=181}else I=181;while(0);do if((I|0)==181)if(Fe=Uo(0)|0,(Fe|0)!=(-1|0))if(Te=Fe,ie=n[1325]|0,C=ie+-1|0,C&Te?ie=re-Te+(C+Te&0-ie)|0:ie=re,C=n[1314]|0,Te=C+ie|0,ie>>>0>c>>>0&ie>>>0<2147483647){if(ne=n[1316]|0,(ne|0)!=0?Te>>>0<=C>>>0|Te>>>0>ne>>>0:0){ie=0;break}C=Uo(ie|0)|0,(C|0)==(Fe|0)?(C=Fe,I=190):I=191}else ie=0;else ie=0;while(0);t:do if((I|0)==190){if((C|0)!=(-1|0)){L=ie,I=201;break e}}else if((I|0)==191){I=0-ie|0;do if((C|0)!=(-1|0)&ie>>>0<2147483647&He>>>0>ie>>>0?(J=n[1326]|0,J=me-ie+J&0-J,J>>>0<2147483647):0)if((Uo(J|0)|0)==(-1|0)){Uo(I|0)|0,ie=0;break t}else{ie=J+ie|0;break}while(0);if((C|0)==(-1|0))ie=0;else{L=ie,I=201;break e}}while(0);n[1317]=n[1317]|4,I=198}while(0);if(((((I|0)==198?re>>>0<2147483647:0)?(W=Uo(re|0)|0,B=Uo(0)|0,(W|0)!=(-1|0)&(B|0)!=(-1|0)&W>>>0<B>>>0):0)?(N=B-W|0,L=N>>>0>(c+40|0)>>>0,L):0)&&(C=W,L=L?N:ie,I=201),(I|0)==201){N=(n[1314]|0)+L|0,n[1314]=N,N>>>0>(n[1315]|0)>>>0&&(n[1315]=N),N=n[1212]|0;e:do if(N){for(W=5272|0;;){if(B=n[W>>2]|0,re=W+4|0,me=n[re>>2]|0,(C|0)==(B+me|0)){I=213;break}if(J=n[W+8>>2]|0,J)W=J;else break}if(((I|0)==213?(n[W+12>>2]&8|0)==0:0)?N>>>0>=B>>>0&N>>>0<C>>>0:0){n[re>>2]=me+L,y=(n[1209]|0)+L|0,g=N+8|0,g&7?g=0-g&7:g=0,ne=y-g|0,n[1212]=N+g,n[1209]=ne,n[N+(g+4)>>2]=ne|1,n[N+(y+4)>>2]=40,n[1213]=n[1328];break}for(B=n[1210]|0,C>>>0<B>>>0&&(n[1210]=C,B=C),re=C+L|0,W=5272|0;;){if((n[W>>2]|0)==(re|0)){I=223;break}if(J=n[W+8>>2]|0,J)W=J;else break}if((I|0)==223?(n[W+12>>2]&8|0)==0:0){n[W>>2]=C,v=W+4|0,n[v>>2]=(n[v>>2]|0)+L,v=C+8|0,v&7?v=0-v&7:v=0,S=C+(L+8)|0,S&7?k=0-S&7:k=0,I=C+(k+L)|0,A=v+c|0,S=C+A|0,R=I-(C+v)-c|0,n[C+(v+4)>>2]=c|3;t:do if((I|0)!=(N|0)){if((I|0)==(n[1211]|0)){ne=(n[1208]|0)+R|0,n[1208]=ne,n[1211]=S,n[C+(A+4)>>2]=ne|1,n[C+(ne+A)>>2]=ne;break}if(N=L+4|0,J=n[C+(N+k)>>2]|0,(J&3|0)==1){c=J&-8,W=J>>>3;r:do if(J>>>0>=256){E=n[C+((k|24)+L)>>2]|0,W=n[C+(L+12+k)>>2]|0;do if((W|0)==(I|0)){if(re=k|16,J=C+(N+re)|0,W=n[J>>2]|0,!W&&(J=C+(re+L)|0,W=n[J>>2]|0,!W)){w=0;break}for(;;){if(me=W+20|0,re=n[me>>2]|0,re){W=re,J=me;continue}if(me=W+16|0,re=n[me>>2]|0,re)W=re,J=me;else break}if(J>>>0<B>>>0)be();else{n[J>>2]=0,w=W;break}}else if(J=n[C+((k|8)+L)>>2]|0,J>>>0<B>>>0&&be(),re=J+12|0,(n[re>>2]|0)!=(I|0)&&be(),B=W+8|0,(n[B>>2]|0)==(I|0)){n[re>>2]=W,n[B>>2]=J,w=W;break}else be();while(0);if(!E)break;B=n[C+(L+28+k)>>2]|0,W=5128+(B<<2)|0;do if((I|0)!=(n[W>>2]|0)){if(E>>>0<(n[1210]|0)>>>0&&be(),B=E+16|0,(n[B>>2]|0)==(I|0)?n[B>>2]=w:n[E+20>>2]=w,!w)break r}else{if(n[W>>2]=w,w)break;n[1207]=n[1207]&~(1<<B);break r}while(0);I=n[1210]|0,w>>>0<I>>>0&&be(),n[w+24>>2]=E,B=k|16,E=n[C+(B+L)>>2]|0;do if(E)if(E>>>0<I>>>0)be();else{n[w+16>>2]=E,n[E+24>>2]=w;break}while(0);if(E=n[C+(N+B)>>2]|0,!E)break;if(E>>>0<(n[1210]|0)>>>0)be();else{n[w+20>>2]=E,n[E+24>>2]=w;break}}else{w=n[C+((k|8)+L)>>2]|0,N=n[C+(L+12+k)>>2]|0,J=4864+(W<<1<<2)|0;do if((w|0)!=(J|0)){if(w>>>0<B>>>0&&be(),(n[w+12>>2]|0)==(I|0))break;be()}while(0);if((N|0)==(w|0)){n[1206]=n[1206]&~(1<<W);break}do if((N|0)==(J|0))E=N+8|0;else{if(N>>>0<B>>>0&&be(),B=N+8|0,(n[B>>2]|0)==(I|0)){E=B;break}be()}while(0);n[w+12>>2]=N,n[E>>2]=w}while(0);I=C+((c|k)+L)|0,R=c+R|0}if(w=I+4|0,n[w>>2]=n[w>>2]&-2,n[C+(A+4)>>2]=R|1,n[C+(R+A)>>2]=R,w=R>>>3,R>>>0<256){E=w<<1,y=4864+(E<<2)|0,R=n[1206]|0,w=1<<w;do if(!(R&w))n[1206]=R|w,_=4864+(E+2<<2)|0,g=y;else{if(E=4864+(E+2<<2)|0,w=n[E>>2]|0,w>>>0>=(n[1210]|0)>>>0){_=E,g=w;break}be()}while(0);n[_>>2]=S,n[g+12>>2]=S,n[C+(A+8)>>2]=g,n[C+(A+12)>>2]=y;break}g=R>>>8;do if(!g)g=0;else{if(R>>>0>16777215){g=31;break}_e=(g+1048320|0)>>>16&8,ne=g<<_e,Ee=(ne+520192|0)>>>16&4,ne=ne<<Ee,g=(ne+245760|0)>>>16&2,g=14-(Ee|_e|g)+(ne<<g>>>15)|0,g=R>>>(g+7|0)&1|g<<1}while(0);if(E=5128+(g<<2)|0,n[C+(A+28)>>2]=g,n[C+(A+20)>>2]=0,n[C+(A+16)>>2]=0,w=n[1207]|0,_=1<<g,!(w&_)){n[1207]=w|_,n[E>>2]=S,n[C+(A+24)>>2]=E,n[C+(A+12)>>2]=S,n[C+(A+8)>>2]=S;break}_=n[E>>2]|0,(g|0)==31?g=0:g=25-(g>>>1)|0;r:do if((n[_+4>>2]&-8|0)!=(R|0)){for(g=R<<g;!(w=_+(g>>>31<<2)+16|0,E=n[w>>2]|0,!E);)if((n[E+4>>2]&-8|0)==(R|0)){y=E;break r}else g=g<<1,_=E;if(w>>>0<(n[1210]|0)>>>0)be();else{n[w>>2]=S,n[C+(A+24)>>2]=_,n[C+(A+12)>>2]=S,n[C+(A+8)>>2]=S;break t}}else y=_;while(0);if(g=y+8|0,_=n[g>>2]|0,ne=n[1210]|0,y>>>0>=ne>>>0&_>>>0>=ne>>>0){n[_+12>>2]=S,n[g>>2]=S,n[C+(A+8)>>2]=_,n[C+(A+12)>>2]=y,n[C+(A+24)>>2]=0;break}else be()}else ne=(n[1209]|0)+R|0,n[1209]=ne,n[1212]=S,n[C+(A+4)>>2]=ne|1;while(0);return ne=C+(v|8)|0,f=p,ne|0}for(g=5272|0;!(y=n[g>>2]|0,y>>>0<=N>>>0?(k=n[g+4>>2]|0,R=y+k|0,R>>>0>N>>>0):0);)g=n[g+8>>2]|0;if(g=y+(k+-39)|0,g&7?g=0-g&7:g=0,y=y+(k+-47+g)|0,y=y>>>0<(N+16|0)>>>0?N:y,g=y+8|0,_=C+8|0,_&7?_=0-_&7:_=0,ne=L+-40-_|0,n[1212]=C+_,n[1209]=ne,n[C+(_+4)>>2]=ne|1,n[C+(L+-36)>>2]=40,n[1213]=n[1328],n[y+4>>2]=27,n[g+0>>2]=n[1318],n[g+4>>2]=n[1319],n[g+8>>2]=n[1320],n[g+12>>2]=n[1321],n[1318]=C,n[1319]=L,n[1321]=0,n[1320]=g,g=y+28|0,n[g>>2]=7,(y+32|0)>>>0<R>>>0)do ne=g,g=g+4|0,n[g>>2]=7;while((ne+8|0)>>>0<R>>>0);if((y|0)!=(N|0)){if(y=y-N|0,g=N+(y+4)|0,n[g>>2]=n[g>>2]&-2,n[N+4>>2]=y|1,n[N+y>>2]=y,g=y>>>3,y>>>0<256){_=g<<1,y=4864+(_<<2)|0,w=n[1206]|0,g=1<<g;do if(!(w&g))n[1206]=w|g,A=4864+(_+2<<2)|0,S=y;else{if(_=4864+(_+2<<2)|0,g=n[_>>2]|0,g>>>0>=(n[1210]|0)>>>0){A=_,S=g;break}be()}while(0);n[A>>2]=N,n[S+12>>2]=N,n[N+8>>2]=S,n[N+12>>2]=y;break}if(g=y>>>8,g?y>>>0>16777215?g=31:(_e=(g+1048320|0)>>>16&8,ne=g<<_e,Ee=(ne+520192|0)>>>16&4,ne=ne<<Ee,g=(ne+245760|0)>>>16&2,g=14-(Ee|_e|g)+(ne<<g>>>15)|0,g=y>>>(g+7|0)&1|g<<1):g=0,S=5128+(g<<2)|0,n[N+28>>2]=g,n[N+20>>2]=0,n[N+16>>2]=0,_=n[1207]|0,w=1<<g,!(_&w)){n[1207]=_|w,n[S>>2]=N,n[N+24>>2]=S,n[N+12>>2]=N,n[N+8>>2]=N;break}_=n[S>>2]|0,(g|0)==31?g=0:g=25-(g>>>1)|0;t:do if((n[_+4>>2]&-8|0)!=(y|0)){for(g=y<<g,S=_;!(_=S+(g>>>31<<2)+16|0,w=n[_>>2]|0,!w);)if((n[w+4>>2]&-8|0)==(y|0)){v=w;break t}else g=g<<1,S=w;if(_>>>0<(n[1210]|0)>>>0)be();else{n[_>>2]=N,n[N+24>>2]=S,n[N+12>>2]=N,n[N+8>>2]=N;break e}}else v=_;while(0);if(g=v+8|0,y=n[g>>2]|0,ne=n[1210]|0,v>>>0>=ne>>>0&y>>>0>=ne>>>0){n[y+12>>2]=N,n[g>>2]=N,n[N+8>>2]=y,n[N+12>>2]=v,n[N+24>>2]=0;break}else be()}}else{ne=n[1210]|0,(ne|0)==0|C>>>0<ne>>>0&&(n[1210]=C),n[1318]=C,n[1319]=L,n[1321]=0,n[1215]=n[1324],n[1214]=-1,y=0;do ne=y<<1,_e=4864+(ne<<2)|0,n[4864+(ne+3<<2)>>2]=_e,n[4864+(ne+2<<2)>>2]=_e,y=y+1|0;while((y|0)!=32);y=C+8|0,y&7?y=0-y&7:y=0,ne=L+-40-y|0,n[1212]=C+y,n[1209]=ne,n[C+(y+4)>>2]=ne|1,n[C+(L+-36)>>2]=40,n[1213]=n[1328]}while(0);if(y=n[1209]|0,y>>>0>c>>>0)return _e=y-c|0,n[1209]=_e,ne=n[1212]|0,n[1212]=ne+c,n[ne+(c+4)>>2]=_e|1,n[ne+4>>2]=c|3,ne=ne+8|0,f=p,ne|0}return n[(vt()|0)>>2]=12,ne=0,f=p,ne|0}function Qe(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0;if(p=f,!c){f=p;return}L=c+-8|0,N=n[1210]|0,L>>>0<N>>>0&&be(),k=n[c+-4>>2]|0,R=k&3,(R|0)==1&&be(),S=k&-8,v=c+(S+-8)|0;do if(k&1)g=L,I=S;else{if(J=n[L>>2]|0,!R){f=p;return}if(L=-8-J|0,k=c+L|0,R=J+S|0,k>>>0<N>>>0&&be(),(k|0)==(n[1211]|0)){if(g=c+(S+-4)|0,I=n[g>>2]|0,(I&3|0)!=3){g=k,I=R;break}n[1208]=R,n[g>>2]=I&-2,n[c+(L+4)>>2]=R|1,n[v>>2]=R,f=p;return}if(W=J>>>3,J>>>0<256){if(g=n[c+(L+8)>>2]|0,I=n[c+(L+12)>>2]|0,C=4864+(W<<1<<2)|0,(g|0)!=(C|0)&&(g>>>0<N>>>0&&be(),(n[g+12>>2]|0)!=(k|0)&&be()),(I|0)==(g|0)){n[1206]=n[1206]&~(1<<W),g=k,I=R;break}(I|0)!=(C|0)?(I>>>0<N>>>0&&be(),C=I+8|0,(n[C>>2]|0)==(k|0)?B=C:be()):B=I+8|0,n[g+12>>2]=I,n[B>>2]=g,g=k,I=R;break}B=n[c+(L+24)>>2]|0,W=n[c+(L+12)>>2]|0;do if((W|0)==(k|0)){if(J=c+(L+20)|0,W=n[J>>2]|0,!W&&(J=c+(L+16)|0,W=n[J>>2]|0,!W)){C=0;break}for(;;){if(re=W+20|0,me=n[re>>2]|0,me){W=me,J=re;continue}if(re=W+16|0,me=n[re>>2]|0,me)W=me,J=re;else break}if(J>>>0<N>>>0)be();else{n[J>>2]=0,C=W;break}}else if(J=n[c+(L+8)>>2]|0,J>>>0<N>>>0&&be(),N=J+12|0,(n[N>>2]|0)!=(k|0)&&be(),re=W+8|0,(n[re>>2]|0)==(k|0)){n[N>>2]=W,n[re>>2]=J,C=W;break}else be();while(0);if(B){if(N=n[c+(L+28)>>2]|0,W=5128+(N<<2)|0,(k|0)==(n[W>>2]|0)){if(n[W>>2]=C,!C){n[1207]=n[1207]&~(1<<N),g=k,I=R;break}}else if(B>>>0<(n[1210]|0)>>>0&&be(),N=B+16|0,(n[N>>2]|0)==(k|0)?n[N>>2]=C:n[B+20>>2]=C,!C){g=k,I=R;break}N=n[1210]|0,C>>>0<N>>>0&&be(),n[C+24>>2]=B,B=n[c+(L+16)>>2]|0;do if(B)if(B>>>0<N>>>0)be();else{n[C+16>>2]=B,n[B+24>>2]=C;break}while(0);if(L=n[c+(L+20)>>2]|0,L)if(L>>>0<(n[1210]|0)>>>0)be();else{n[C+20>>2]=L,n[L+24>>2]=C,g=k,I=R;break}else g=k,I=R}else g=k,I=R}while(0);if(g>>>0>=v>>>0&&be(),R=c+(S+-4)|0,k=n[R>>2]|0,k&1||be(),k&2)n[R>>2]=k&-2,n[g+4>>2]=I|1,n[g+I>>2]=I;else{if((v|0)==(n[1212]|0)){if(me=(n[1209]|0)+I|0,n[1209]=me,n[1212]=g,n[g+4>>2]=me|1,(g|0)!=(n[1211]|0)){f=p;return}n[1211]=0,n[1208]=0,f=p;return}if((v|0)==(n[1211]|0)){me=(n[1208]|0)+I|0,n[1208]=me,n[1211]=g,n[g+4>>2]=me|1,n[g+me>>2]=me,f=p;return}I=(k&-8)+I|0,R=k>>>3;do if(k>>>0>=256){E=n[c+(S+16)>>2]|0,R=n[c+(S|4)>>2]|0;do if((R|0)==(v|0)){if(k=c+(S+12)|0,R=n[k>>2]|0,!R&&(k=c+(S+8)|0,R=n[k>>2]|0,!R)){A=0;break}for(;;){if(L=R+20|0,C=n[L>>2]|0,C){R=C,k=L;continue}if(C=R+16|0,L=n[C>>2]|0,L)R=L,k=C;else break}if(k>>>0<(n[1210]|0)>>>0)be();else{n[k>>2]=0,A=R;break}}else if(k=n[c+S>>2]|0,k>>>0<(n[1210]|0)>>>0&&be(),C=k+12|0,(n[C>>2]|0)!=(v|0)&&be(),L=R+8|0,(n[L>>2]|0)==(v|0)){n[C>>2]=R,n[L>>2]=k,A=R;break}else be();while(0);if(E){if(R=n[c+(S+20)>>2]|0,k=5128+(R<<2)|0,(v|0)==(n[k>>2]|0)){if(n[k>>2]=A,!A){n[1207]=n[1207]&~(1<<R);break}}else if(E>>>0<(n[1210]|0)>>>0&&be(),R=E+16|0,(n[R>>2]|0)==(v|0)?n[R>>2]=A:n[E+20>>2]=A,!A)break;v=n[1210]|0,A>>>0<v>>>0&&be(),n[A+24>>2]=E,E=n[c+(S+8)>>2]|0;do if(E)if(E>>>0<v>>>0)be();else{n[A+16>>2]=E,n[E+24>>2]=A;break}while(0);if(v=n[c+(S+12)>>2]|0,v)if(v>>>0<(n[1210]|0)>>>0)be();else{n[A+20>>2]=v,n[v+24>>2]=A;break}}}else{if(A=n[c+S>>2]|0,S=n[c+(S|4)>>2]|0,c=4864+(R<<1<<2)|0,(A|0)!=(c|0)&&(A>>>0<(n[1210]|0)>>>0&&be(),(n[A+12>>2]|0)!=(v|0)&&be()),(S|0)==(A|0)){n[1206]=n[1206]&~(1<<R);break}(S|0)!=(c|0)?(S>>>0<(n[1210]|0)>>>0&&be(),c=S+8|0,(n[c>>2]|0)==(v|0)?E=c:be()):E=S+8|0,n[A+12>>2]=S,n[E>>2]=A}while(0);if(n[g+4>>2]=I|1,n[g+I>>2]=I,(g|0)==(n[1211]|0)){n[1208]=I,f=p;return}}if(v=I>>>3,I>>>0<256){S=v<<1,y=4864+(S<<2)|0,A=n[1206]|0,v=1<<v,A&v?(S=4864+(S+2<<2)|0,v=n[S>>2]|0,v>>>0<(n[1210]|0)>>>0?be():(_=S,w=v)):(n[1206]=A|v,_=4864+(S+2<<2)|0,w=y),n[_>>2]=g,n[w+12>>2]=g,n[g+8>>2]=w,n[g+12>>2]=y,f=p;return}_=I>>>8,_?I>>>0>16777215?_=31:(re=(_+1048320|0)>>>16&8,me=_<<re,J=(me+520192|0)>>>16&4,me=me<<J,_=(me+245760|0)>>>16&2,_=14-(J|re|_)+(me<<_>>>15)|0,_=I>>>(_+7|0)&1|_<<1):_=0,w=5128+(_<<2)|0,n[g+28>>2]=_,n[g+20>>2]=0,n[g+16>>2]=0,S=n[1207]|0,v=1<<_;e:do if(S&v){w=n[w>>2]|0,(_|0)==31?_=0:_=25-(_>>>1)|0;t:do if((n[w+4>>2]&-8|0)!=(I|0)){for(_=I<<_;!(S=w+(_>>>31<<2)+16|0,v=n[S>>2]|0,!v);)if((n[v+4>>2]&-8|0)==(I|0)){y=v;break t}else _=_<<1,w=v;if(S>>>0<(n[1210]|0)>>>0)be();else{n[S>>2]=g,n[g+24>>2]=w,n[g+12>>2]=g,n[g+8>>2]=g;break e}}else y=w;while(0);if(w=y+8|0,_=n[w>>2]|0,me=n[1210]|0,y>>>0>=me>>>0&_>>>0>=me>>>0){n[_+12>>2]=g,n[w>>2]=g,n[g+8>>2]=_,n[g+12>>2]=y,n[g+24>>2]=0;break}else be()}else n[1207]=S|v,n[w>>2]=g,n[g+24>>2]=w,n[g+12>>2]=g,n[g+8>>2]=g;while(0);if(me=(n[1214]|0)+-1|0,n[1214]=me,!me)y=5280|0;else{f=p;return}for(;y=n[y>>2]|0,y;)y=y+8|0;n[1214]=-1,f=p}function ur(c,p){c=c|0,p=p|0;var y=0,g=0,_=0;y=f;do if(c){if(p>>>0>4294967231){n[(vt()|0)>>2]=12,g=0;break}if(p>>>0<11?g=16:g=p+11&-8,g=om(c+-8|0,g)|0,g){g=g+8|0;break}g=Vc(p)|0,g?(_=n[c+-4>>2]|0,_=(_&-8)-((_&3|0)==0?8:4)|0,G2(g|0,c|0,(_>>>0<p>>>0?_:p)|0)|0,Qe(c)):g=0}else g=Vc(p)|0;while(0);return f=y,g|0}function D2(c){return c=c|0,(c|0)==32?c=1:c=(c+-9|0)>>>0<5,c&1|0}function sm(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(w=f,p>>>0>36)return n[(vt()|0)>>2]=22,L=0,N=0,de=L,f=w,N|0;v=c+4|0,S=c+100|0;do A=n[v>>2]|0,A>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=A+1,R=a[A>>0]|0):R=ir(c)|0;while((D2(R)|0)!=0);do if((R|0)==43|(R|0)==45)if(A=((R|0)==45)<<31>>31,E=n[v>>2]|0,E>>>0<(n[S>>2]|0)>>>0){n[v>>2]=E+1,R=a[E>>0]|0;break}else{R=ir(c)|0;break}else A=0;while(0);E=(p|0)==0;do if((p&-17|0)==0&(R|0)==48){if(R=n[v>>2]|0,R>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=R+1,R=a[R>>0]|0):R=ir(c)|0,(R|32|0)!=120)if(E){p=8,y=46;break}else{y=32;break}if(p=n[v>>2]|0,p>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=p+1,R=a[p>>0]|0):R=ir(c)|0,(a[R+5321>>0]|0)>15)return g=(n[S>>2]|0)==0,g||(n[v>>2]=(n[v>>2]|0)+-1),y?g?(L=0,N=0,de=L,f=w,N|0):(n[v>>2]=(n[v>>2]|0)+-1,L=0,N=0,de=L,f=w,N|0):(ws(c,0),L=0,N=0,de=L,f=w,N|0);p=16,y=46}else if(p=E?10:p,(a[R+5321>>0]|0)>>>0<p>>>0)y=32;else return n[S>>2]|0&&(n[v>>2]=(n[v>>2]|0)+-1),ws(c,0),n[(vt()|0)>>2]=22,L=0,N=0,de=L,f=w,N|0;while(0);if((y|0)==32)if((p|0)==10){if(p=R+-48|0,p>>>0<10){E=0;do E=(E*10|0)+p|0,p=n[v>>2]|0,p>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=p+1,R=a[p>>0]|0):R=ir(c)|0,p=R+-48|0;while(p>>>0<10&E>>>0<429496729);k=0}else E=0,k=0;if(p=R+-48|0,p>>>0<10){do{if(I=bs(E|0,k|0,10,0)|0,C=de,L=((p|0)<0)<<31>>31,N=~L,C>>>0>N>>>0|(C|0)==(N|0)&I>>>0>~p>>>0)break;E=Bt(I|0,C|0,p|0,L|0)|0,k=de,p=n[v>>2]|0,p>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=p+1,R=a[p>>0]|0):R=ir(c)|0,p=R+-48|0}while(p>>>0<10&(k>>>0<429496729|(k|0)==429496729&E>>>0<2576980378));p>>>0<=9&&(p=10,y=72)}}else y=46;e:do if((y|0)==46){if(!(p+-1&p)){if(y=i[5584+((p*23|0)>>>5&7)>>0]|0,C=i[R+5321>>0]|0,E=C&255,E>>>0<p>>>0){R=E,E=0;do E=R|E<<y,R=n[v>>2]|0,R>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=R+1,L=a[R>>0]|0):L=ir(c)|0,C=i[L+5321>>0]|0,R=C&255;while(R>>>0<p>>>0&E>>>0<134217728);k=0}else k=0,E=0,L=R;if(R=H2(-1,-1,y|0)|0,I=de,(C&255)>>>0>=p>>>0|(k>>>0>I>>>0|(k|0)==(I|0)&E>>>0>R>>>0)){R=L,y=72;break}for(;;)if(E=Kc(E|0,k|0,y|0)|0,k=de,E=C&255|E,C=n[v>>2]|0,C>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=C+1,L=a[C>>0]|0):L=ir(c)|0,C=i[L+5321>>0]|0,(C&255)>>>0>=p>>>0|(k>>>0>I>>>0|(k|0)==(I|0)&E>>>0>R>>>0)){R=L,y=72;break e}}if(C=i[R+5321>>0]|0,y=C&255,y>>>0<p>>>0){E=0;do E=y+(Vi(E,p)|0)|0,y=n[v>>2]|0,y>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=y+1,I=a[y>>0]|0):I=ir(c)|0,C=i[I+5321>>0]|0,y=C&255;while(y>>>0<p>>>0&E>>>0<119304647);k=0}else E=0,k=0,I=R;if((C&255)>>>0<p>>>0)for(y=hu(-1,-1,p|0,0)|0,R=de;;){if(k>>>0>R>>>0|(k|0)==(R|0)&E>>>0>y>>>0){R=I,y=72;break e}if(L=bs(E|0,k|0,p|0,0)|0,N=de,C=C&255,N>>>0>4294967295|(N|0)==-1&L>>>0>~C>>>0){R=I,y=72;break e}if(E=Bt(C|0,0,L|0,N|0)|0,k=de,I=n[v>>2]|0,I>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=I+1,I=a[I>>0]|0):I=ir(c)|0,C=i[I+5321>>0]|0,(C&255)>>>0>=p>>>0){R=I,y=72;break}}else R=I,y=72}while(0);if((y|0)==72&&(a[R+5321>>0]|0)>>>0<p>>>0){do y=n[v>>2]|0,y>>>0<(n[S>>2]|0)>>>0?(n[v>>2]=y+1,y=a[y>>0]|0):y=ir(c)|0;while((a[y+5321>>0]|0)>>>0<p>>>0);n[(vt()|0)>>2]=34,k=_,E=g}if(n[S>>2]|0&&(n[v>>2]=(n[v>>2]|0)+-1),!(k>>>0<_>>>0|(k|0)==(_|0)&E>>>0<g>>>0)){if(!((g&1|0)!=0|!1|(A|0)!=0))return n[(vt()|0)>>2]=34,N=Bt(g|0,_|0,-1,-1)|0,L=de,de=L,f=w,N|0;if(k>>>0>_>>>0|(k|0)==(_|0)&E>>>0>g>>>0)return n[(vt()|0)>>2]=34,L=_,N=g,de=L,f=w,N|0}return N=((A|0)<0)<<31>>31,N=In(E^A|0,k^N|0,A|0,N|0)|0,L=de,de=L,f=w,N|0}function Wc(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0,me=0,He=0,Fe=0,ie=0,Te=0,Ne=0,Se=0,Le=0,ye=0,Ee=0,_e=0;if(g=f,f=f+512|0,v=g,!p)p=24,w=-149;else if((p|0)==2)p=53,w=-1074;else if((p|0)==1)p=53,w=-1074;else return ye=0,f=g,+ye;E=c+4|0,R=c+100|0;do _=n[E>>2]|0,_>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=_+1,B=a[_>>0]|0):B=ir(c)|0;while((D2(B)|0)!=0);do if((B|0)==43|(B|0)==45)if(_=1-(((B|0)==45&1)<<1)|0,A=n[E>>2]|0,A>>>0<(n[R>>2]|0)>>>0){n[E>>2]=A+1,B=a[A>>0]|0;break}else{B=ir(c)|0;break}else _=1;while(0);C=0;do{if((B|32|0)!=(i[5600+C>>0]|0))break;do if(C>>>0<7)if(A=n[E>>2]|0,A>>>0<(n[R>>2]|0)>>>0){n[E>>2]=A+1,B=a[A>>0]|0;break}else{B=ir(c)|0;break}while(0);C=C+1|0}while(C>>>0<8);do if((C|0)==3)k=23;else if((C|0)!=8){if(A=(y|0)!=0,C>>>0>3&A){if((C|0)==8)break;k=23;break}e:do if(!C){C=0;do{if((B|32|0)!=(i[5616+C>>0]|0))break e;do if(C>>>0<2)if(L=n[E>>2]|0,L>>>0<(n[R>>2]|0)>>>0){n[E>>2]=L+1,B=a[L>>0]|0;break}else{B=ir(c)|0;break}while(0);C=C+1|0}while(C>>>0<3)}while(0);if(C)if((C|0)==3){if(p=n[E>>2]|0,p>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=p+1,p=a[p>>0]|0):p=ir(c)|0,(p|0)==40)p=1;else return n[R>>2]|0?(n[E>>2]=(n[E>>2]|0)+-1,_e=fe,f=g,+_e):(_e=fe,f=g,+_e);for(;!(_=n[E>>2]|0,_>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=_+1,_=a[_>>0]|0):_=ir(c)|0,(_+-48|0)>>>0<10|(_+-65|0)>>>0<26?0:!((_+-97|0)>>>0<26|(_|0)==95));)p=p+1|0;if((_|0)==41)return _e=fe,f=g,+_e;if(_=(n[R>>2]|0)==0,_||(n[E>>2]=(n[E>>2]|0)+-1),!A)return n[(vt()|0)>>2]=22,ws(c,0),_e=0,f=g,+_e;if((p|0)==0|_)return _e=fe,f=g,+_e;do p=p+-1|0,n[E>>2]=(n[E>>2]|0)+-1;while((p|0)!=0);return I=fe,f=g,+I}else return n[R>>2]|0&&(n[E>>2]=(n[E>>2]|0)+-1),n[(vt()|0)>>2]=22,ws(c,0),_e=0,f=g,+_e;else{do if((B|0)==48){if(A=n[E>>2]|0,A>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=A+1,A=a[A>>0]|0):A=ir(c)|0,(A|32|0)!=120){if(!(n[R>>2]|0)){B=48;break}n[E>>2]=(n[E>>2]|0)+-1,B=48;break}for(v=n[E>>2]|0,v>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=v+1,re=a[v>>0]|0,W=0):(re=ir(c)|0,W=0);;){if((re|0)==46){k=70;break}else if((re|0)!=48){v=0,A=0,L=0,C=0,B=0,J=0,Ne=1,N=0,I=0;break}if(v=n[E>>2]|0,v>>>0<(n[R>>2]|0)>>>0){n[E>>2]=v+1,re=a[v>>0]|0,W=1;continue}else{re=ir(c)|0,W=1;continue}}if((k|0)==70)if(v=n[E>>2]|0,v>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=v+1,re=a[v>>0]|0):re=ir(c)|0,(re|0)==48){L=0,C=0;do v=n[E>>2]|0,v>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=v+1,re=a[v>>0]|0):re=ir(c)|0,L=Bt(L|0,C|0,-1,-1)|0,C=de;while((re|0)==48);v=0,A=0,W=1,B=1,J=0,Ne=1,N=0,I=0}else v=0,A=0,L=0,C=0,B=1,J=0,Ne=1,N=0,I=0;e:for(;;){He=re+-48|0;do if(He>>>0>=10){if(me=re|32,Fe=(re|0)==46,!((me+-97|0)>>>0<6|Fe))break e;if(Fe)if(B){re=46;break e}else{L=A,C=v,B=1;break}else{He=(re|0)>57?me+-87|0:He,k=83;break}}else k=83;while(0);if((k|0)==83){k=0;do if((v|0)<0|(v|0)==0&A>>>0<8)Le=Ne,N=He+(N<<4)|0;else{if((v|0)<0|(v|0)==0&A>>>0<14){ye=Ne*.0625,Le=ye,I=I+ye*+(He|0);break}(He|0)==0|(J|0)!=0?Le=Ne:(J=1,Le=Ne,I=I+Ne*.5)}while(0);A=Bt(A|0,v|0,1,0)|0,v=de,W=1,Ne=Le}if(re=n[E>>2]|0,re>>>0<(n[R>>2]|0)>>>0){n[E>>2]=re+1,re=a[re>>0]|0;continue}else{re=ir(c)|0;continue}}if(!W)return p=(n[R>>2]|0)==0,p||(n[E>>2]=(n[E>>2]|0)+-1),y?(p?0:(S=n[E>>2]|0,n[E>>2]=S+-1,(B|0)!=0))&&(n[E>>2]=S+-2):ws(c,0),ye=+(_|0)*0,f=g,+ye;if(k=(B|0)==0,S=k?A:L,k=k?v:C,(v|0)<0|(v|0)==0&A>>>0<8)do N=N<<4,A=Bt(A|0,v|0,1,0)|0,v=de;while((v|0)<0|(v|0)==0&A>>>0<8);do if((re|32|0)==112){if(A=B2(c,y)|0,v=de,(A|0)==0&(v|0)==-2147483648)if(y){if(!(n[R>>2]|0)){A=0,v=0;break}n[E>>2]=(n[E>>2]|0)+-1,A=0,v=0;break}else return ws(c,0),ye=0,f=g,+ye}else n[R>>2]|0?(n[E>>2]=(n[E>>2]|0)+-1,A=0,v=0):(A=0,v=0);while(0);if(S=Kc(S|0,k|0,2)|0,S=Bt(S|0,de|0,-32,-1)|0,v=Bt(S|0,de|0,A|0,v|0)|0,S=de,!N)return ye=+(_|0)*0,f=g,+ye;if((S|0)>0|(S|0)==0&v>>>0>(0-w|0)>>>0)return n[(vt()|0)>>2]=34,ye=+(_|0)*17976931348623157e292*17976931348623157e292,f=g,+ye;if(Se=w+-106|0,Te=((Se|0)<0)<<31>>31,(S|0)<(Te|0)|(S|0)==(Te|0)&v>>>0<Se>>>0)return n[(vt()|0)>>2]=34,ye=+(_|0)*22250738585072014e-324*22250738585072014e-324,f=g,+ye;if((N|0)>-1)do N=N<<1,I>=.5?(Ne=I+-1,N=N|1):Ne=I,I=I+Ne,v=Bt(v|0,S|0,-1,-1)|0,S=de;while((N|0)>-1);return w=In(32,0,w|0,((w|0)<0)<<31>>31|0)|0,w=Bt(v|0,S|0,w|0,de|0)|0,Se=de,0>(Se|0)|(Se|0)==0&p>>>0>w>>>0?(w|0)<0?(p=0,k=126):(p=w,k=124):k=124,(k|0)==124&&((p|0)<53?k=126:(w=p,Ne=+(_|0),Le=0)),(k|0)==126&&(Le=+(_|0),w=p,Ne=Le,Le=+vp(+ +lu(1,84-p|0),+Le)),Se=(w|0)<32&I!=0&(N&1|0)==0,I=Ne*(Se?0:I)+(Le+Ne*+(((Se&1)+N|0)>>>0))-Le,I!=0||(n[(vt()|0)>>2]=34),ye=+av(I,v),f=g,+ye}while(0);for(A=w+p|0,S=0-A|0,He=0;;){if((B|0)==46){k=137;break}else if((B|0)!=48){ie=0,Fe=0,me=0;break}if(C=n[E>>2]|0,C>>>0<(n[R>>2]|0)>>>0){n[E>>2]=C+1,B=a[C>>0]|0,He=1;continue}else{B=ir(c)|0,He=1;continue}}if((k|0)==137)if(k=n[E>>2]|0,k>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=k+1,B=a[k>>0]|0):B=ir(c)|0,(B|0)==48){ie=0,Fe=0;do ie=Bt(ie|0,Fe|0,-1,-1)|0,Fe=de,k=n[E>>2]|0,k>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=k+1,B=a[k>>0]|0):B=ir(c)|0;while((B|0)==48);He=1,me=1}else ie=0,Fe=0,me=1;n[v>>2]=0,re=B+-48|0,Te=(B|0)==46;e:do if(re>>>0<10|Te){k=v+496|0,J=0,W=0,N=0,L=0,C=0;t:for(;;){do if(Te)if(!me)ie=J,Fe=W,me=1;else break t;else{if(Te=Bt(J|0,W|0,1,0)|0,W=de,Se=(B|0)!=48,(L|0)>=125){if(!Se){J=Te;break}n[k>>2]=n[k>>2]|1,J=Te;break}J=v+(L<<2)|0,N&&(re=B+-48+((n[J>>2]|0)*10|0)|0),n[J>>2]=re,N=N+1|0,re=(N|0)==9,J=Te,He=1,N=re?0:N,L=(re&1)+L|0,C=Se?Te:C}while(0);if(B=n[E>>2]|0,B>>>0<(n[R>>2]|0)>>>0?(n[E>>2]=B+1,B=a[B>>0]|0):B=ir(c)|0,re=B+-48|0,Te=(B|0)==46,!(re>>>0<10|Te)){k=160;break e}}re=(He|0)!=0,k=168}else J=0,W=0,N=0,L=0,C=0,k=160;while(0);do if((k|0)==160){if(re=(me|0)==0,ie=re?J:ie,Fe=re?W:Fe,re=(He|0)!=0,!(re&(B|32|0)==101))if((B|0)>-1){k=168;break}else{k=170;break}re=B2(c,y)|0,B=de;do if((re|0)==0&(B|0)==-2147483648)if(y){if(!(n[R>>2]|0)){re=0,B=0;break}n[E>>2]=(n[E>>2]|0)+-1,re=0,B=0;break}else return ws(c,0),ye=0,f=g,+ye;while(0);c=Bt(re|0,B|0,ie|0,Fe|0)|0,Fe=de}while(0);if((k|0)==168&&(n[R>>2]|0?(n[E>>2]=(n[E>>2]|0)+-1,re?c=ie:k=171):k=170),(k|0)==170&&(re?c=ie:k=171),(k|0)==171)return n[(vt()|0)>>2]=22,ws(c,0),ye=0,f=g,+ye;if(E=n[v>>2]|0,!E)return ye=+(_|0)*0,f=g,+ye;if((c|0)==(J|0)&(Fe|0)==(W|0)&((W|0)<0|(W|0)==0&J>>>0<10)?p>>>0>30|(E>>>p|0)==0:0)return ye=+(_|0)*+(E>>>0),f=g,+ye;if(Se=(w|0)/-2|0,Te=((Se|0)<0)<<31>>31,(Fe|0)>(Te|0)|(Fe|0)==(Te|0)&c>>>0>Se>>>0)return n[(vt()|0)>>2]=34,ye=+(_|0)*17976931348623157e292*17976931348623157e292,f=g,+ye;if(Se=w+-106|0,Te=((Se|0)<0)<<31>>31,(Fe|0)<(Te|0)|(Fe|0)==(Te|0)&c>>>0<Se>>>0)return n[(vt()|0)>>2]=34,ye=+(_|0)*22250738585072014e-324*22250738585072014e-324,f=g,+ye;if(N){if((N|0)<9){E=v+(L<<2)|0,R=n[E>>2]|0;do R=R*10|0,N=N+1|0;while((N|0)!=9);n[E>>2]=R}L=L+1|0}if((C|0)<9?(C|0)<=(c|0)&(c|0)<18:0){if((c|0)==9)return ye=+(_|0)*+((n[v>>2]|0)>>>0),f=g,+ye;if((c|0)<9)return ye=+(_|0)*+((n[v>>2]|0)>>>0)/+(n[5632+(8-c<<2)>>2]|0),f=g,+ye;if(Se=p+27+(Vi(c,-3)|0)|0,E=n[v>>2]|0,(Se|0)>30|(E>>>Se|0)==0)return ye=+(_|0)*+(E>>>0)*+(n[5632+(c+-10<<2)>>2]|0),f=g,+ye}if(E=(c|0)%9|0,!E)E=0,R=0;else{if(y=(c|0)>-1?E:E+9|0,k=n[5632+(8-y<<2)>>2]|0,L){C=1e9/(k|0)|0,E=0,R=0,N=0;do ie=v+(N<<2)|0,Te=n[ie>>2]|0,Se=((Te>>>0)/(k>>>0)|0)+R|0,n[ie>>2]=Se,R=Vi((Te>>>0)%(k>>>0)|0,C)|0,Te=N,N=N+1|0,(Te|0)==(E|0)&(Se|0)==0&&(E=N&127,c=c+-9|0);while((N|0)!=(L|0));R&&(n[v+(L<<2)>>2]=R,L=L+1|0)}else E=0,L=0;R=0,c=9-y+c|0}e:for(;;){if(y=v+(E<<2)|0,(c|0)<18)do{for(C=0,y=L+127|0;!(y=y&127,k=v+(y<<2)|0,N=Kc(n[k>>2]|0,0,29)|0,N=Bt(N|0,de|0,C|0,0)|0,C=de,C>>>0>0|(C|0)==0&N>>>0>1e9?(Se=hu(N|0,C|0,1e9,0)|0,N=cm(N|0,C|0,1e9,0)|0,C=Se):C=0,n[k>>2]=N,k=(y|0)==(E|0),(y|0)!=(L+127&127|0)|k||(L=(N|0)==0?y:L),k);)y=y+-1|0;R=R+-29|0}while((C|0)==0);else{if((c|0)!=18)break;do{if((n[y>>2]|0)>>>0>=9007199){c=18;break e}for(C=0,k=L+127|0;!(k=k&127,N=v+(k<<2)|0,B=Kc(n[N>>2]|0,0,29)|0,B=Bt(B|0,de|0,C|0,0)|0,C=de,C>>>0>0|(C|0)==0&B>>>0>1e9?(Se=hu(B|0,C|0,1e9,0)|0,B=cm(B|0,C|0,1e9,0)|0,C=Se):C=0,n[N>>2]=B,N=(k|0)==(E|0),(k|0)!=(L+127&127|0)|N||(L=(B|0)==0?k:L),N);)k=k+-1|0;R=R+-29|0}while((C|0)==0)}E=E+127&127,(E|0)==(L|0)&&(Se=L+127&127,L=v+((L+126&127)<<2)|0,n[L>>2]=n[L>>2]|n[v+(Se<<2)>>2],L=Se),n[v+(E<<2)>>2]=C,c=c+9|0}e:for(;;){for(y=L+1&127,k=v+((L+127&127)<<2)|0;;){for(N=(c|0)==18,C=(c|0)>27?9:1;;){for(B=0;;){if(W=B+E&127,(W|0)==(L|0)){B=2;break}if(J=n[v+(W<<2)>>2]|0,re=n[5624+(B<<2)>>2]|0,J>>>0<re>>>0){B=2;break}if(W=B+1|0,J>>>0>re>>>0)break;if((W|0)<2)B=W;else{B=W;break}}if((B|0)==2&N)break e;if(R=C+R|0,(E|0)==(L|0))E=L;else break}N=(1<<C)+-1|0,B=1e9>>>C,W=E,J=0;do ie=v+(E<<2)|0,Te=n[ie>>2]|0,Se=(Te>>>C)+J|0,n[ie>>2]=Se,J=Vi(Te&N,B)|0,Se=(E|0)==(W|0)&(Se|0)==0,E=E+1&127,c=Se?c+-9|0:c,W=Se?E:W;while((E|0)!=(L|0));if(!J){E=W;continue}if((y|0)!=(W|0))break;n[k>>2]=n[k>>2]|1,E=W}n[v+(L<<2)>>2]=J,E=W,L=y}c=E&127,(c|0)==(L|0)&&(n[v+(y+-1<<2)>>2]=0,L=y),Ne=+((n[v+(c<<2)>>2]|0)>>>0),c=E+1&127,(c|0)==(L|0)&&(L=L+1&127,n[v+(L+-1<<2)>>2]=0),I=+(_|0),Le=I*(Ne*1e9+ +((n[v+(c<<2)>>2]|0)>>>0)),_=R+53|0,w=_-w|0,(w|0)<(p|0)?(w|0)<0?(p=0,c=1,k=244):(p=w,c=1,k=243):(c=0,k=243),(k|0)==243&&((p|0)<53?k=244:(Ne=0,ye=0)),(k|0)==244&&(_e=+vp(+ +lu(1,105-p|0),+Le),Ee=+_p(+Le,+ +lu(1,53-p|0)),Ne=_e,ye=Ee,Le=_e+(Le-Ee)),y=E+2&127;do if((y|0)!=(L|0)){v=n[v+(y<<2)>>2]|0;do if(v>>>0>=5e8){if(v>>>0>5e8){ye=I*.75+ye;break}if((E+3&127|0)==(L|0)){ye=I*.5+ye;break}else{ye=I*.75+ye;break}}else{if((v|0)==0?(E+3&127|0)==(L|0):0)break;ye=I*.25+ye}while(0);if((53-p|0)<=1)break;if(+_p(+ye,1)!=0)break;ye=ye+1}while(0);I=Le+ye-Ne;do if((_&2147483647|0)>(-2-A|0)){if(+za(+I)>=9007199254740992&&(c=(c|0)!=0&(p|0)==(w|0)?0:c,R=R+1|0,I=I*.5),(R+50|0)<=(S|0)?!((c|0)!=0&ye!=0):0)break;n[(vt()|0)>>2]=34}while(0);return _e=+av(I,R),f=g,+_e}}while(0);if((k|0)==23&&(p=(n[R>>2]|0)==0,p||(n[E>>2]=(n[E>>2]|0)+-1),!(C>>>0<4|(y|0)==0|p)))do n[E>>2]=(n[E>>2]|0)+-1,C=C+-1|0;while(C>>>0>3);return _e=+(_|0)*Pe,f=g,+_e}function ws(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0;if(y=f,n[c+104>>2]=p,_=n[c+8>>2]|0,g=n[c+4>>2]|0,w=_-g|0,n[c+108>>2]=w,(p|0)!=0&(w|0)>(p|0)){n[c+100>>2]=g+p,f=y;return}else{n[c+100>>2]=_,f=y;return}}function ir(c){c=c|0;var p=0,y=0,g=0,_=0,w=0,v=0,S=0;return y=f,w=c+104|0,S=n[w>>2]|0,((S|0)!=0?(n[c+108>>2]|0)>=(S|0):0)||(v=3),((v|0)==3?(p=am(c)|0,(p|0)>=0):0)?(v=n[w>>2]|0,w=n[c+8>>2]|0,((v|0)!=0?(g=n[c+4>>2]|0,_=v-(n[c+108>>2]|0)+-1|0,(w-g|0)>(_|0)):0)?n[c+100>>2]=g+_:n[c+100>>2]=w,g=n[c+4>>2]|0,w&&(S=c+108|0,n[S>>2]=w+1-g+(n[S>>2]|0)),c=g+-1|0,(a[c>>0]|0|0)==(p|0)?(S=p,f=y,S|0):(i[c>>0]=p,S=p,f=y,S|0)):(n[c+100>>2]=0,S=-1,f=y,S|0)}function lu(c,p){c=+c,p=p|0;var y=0,g=0;return y=f,(p|0)>1023?(c=c*898846567431158e293,g=p+-1023|0,(g|0)>1023?(p=p+-2046|0,p=(p|0)>1023?1023:p,c=c*898846567431158e293):p=g):(p|0)<-1022&&(c=c*22250738585072014e-324,g=p+1022|0,(g|0)<-1022?(p=p+2044|0,p=(p|0)<-1022?-1022:p,c=c*22250738585072014e-324):p=g),p=Kc(p+1023|0,0,52)|0,g=de,n[T>>2]=p,n[T+4>>2]=g,c=c*+m[T>>3],f=y,+c}function av(c,p){c=+c,p=p|0;var y=0;return y=f,c=+lu(c,p),f=y,+c}function $2(c){c=c|0;var p=0,y=0,g=0;return y=f,g=c+74|0,p=i[g>>0]|0,i[g>>0]=p+255|p,g=c+20|0,p=c+44|0,(n[g>>2]|0)>>>0>(n[p>>2]|0)>>>0&&Pp[n[c+36>>2]&1](c,0,0)|0,n[c+16>>2]=0,n[c+28>>2]=0,n[g>>2]=0,g=n[c>>2]|0,g&20?g&4?(n[c>>2]=g|32,g=-1,f=y,g|0):(g=-1,f=y,g|0):(g=n[p>>2]|0,n[c+8>>2]=g,n[c+4>>2]=g,g=0,f=y,g|0)}function am(c){c=c|0;var p=0,y=0;return p=f,f=f+16|0,y=p,((n[c+8>>2]|0)==0?($2(c)|0)!=0:0)?c=-1:(Pp[n[c+32>>2]&1](c,y,1)|0)==1?c=a[y>>0]|0:c=-1,f=p,c|0}function j2(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0;y=f,f=f+112|0,g=y,v=g+0|0,w=v+112|0;do n[v>>2]=0,v=v+4|0;while((v|0)<(w|0));return w=g+4|0,n[w>>2]=c,v=g+8|0,n[v>>2]=-1,n[g+44>>2]=c,n[g+76>>2]=-1,ws(g,0),_=+Wc(g,1,1),g=(n[w>>2]|0)-(n[v>>2]|0)+(n[g+108>>2]|0)|0,p?(g&&(c=c+g|0),n[p>>2]=c,f=y,+_):(f=y,+_)}function Cp(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0;return g=f,f=f+112|0,w=g,n[w>>2]=0,_=w+4|0,n[_>>2]=c,n[w+44>>2]=c,(c|0)<0?n[w+8>>2]=-1:n[w+8>>2]=c+2147483647,n[w+76>>2]=-1,ws(w,0),y=sm(w,y,1,-2147483648,0)|0,p?(n[p>>2]=c+((n[_>>2]|0)+(n[w+108>>2]|0)-(n[w+8>>2]|0)),f=g,y|0):(f=g,y|0)}function uu(c,p){c=c|0,p=p|0;var y=0,g=0,_=0;if(y=f,_=i[c>>0]|0,g=i[p>>0]|0,_<<24>>24==0?1:_<<24>>24!=g<<24>>24)p=_;else{do c=c+1|0,p=p+1|0,_=i[c>>0]|0,g=i[p>>0]|0;while(!(_<<24>>24==0?1:_<<24>>24!=g<<24>>24));p=_}return f=y,(p&255)-(g&255)|0}function om(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0;if(y=f,_=c+4|0,g=n[_>>2]|0,E=g&-8,S=c+E|0,R=n[1210]|0,v=g&3,(v|0)!=1&c>>>0>=R>>>0&c>>>0<S>>>0||be(),w=c+(E|4)|0,C=n[w>>2]|0,C&1||be(),!v)return p>>>0<256?(N=0,f=y,N|0):(E>>>0>=(p+4|0)>>>0?(E-p|0)>>>0<=n[1326]<<1>>>0:0)?(N=c,f=y,N|0):(N=0,f=y,N|0);if(E>>>0>=p>>>0)return v=E-p|0,v>>>0<=15?(N=c,f=y,N|0):(n[_>>2]=g&1|p|2,n[c+(p+4)>>2]=v|3,n[w>>2]=n[w>>2]|1,F2(c+p|0,v),N=c,f=y,N|0);if((S|0)==(n[1212]|0))return w=(n[1209]|0)+E|0,w>>>0<=p>>>0?(N=0,f=y,N|0):(N=w-p|0,n[_>>2]=g&1|p|2,n[c+(p+4)>>2]=N|1,n[1212]=c+p,n[1209]=N,N=c,f=y,N|0);if((S|0)==(n[1211]|0))return v=(n[1208]|0)+E|0,v>>>0<p>>>0?(N=0,f=y,N|0):(w=v-p|0,w>>>0>15?(n[_>>2]=g&1|p|2,n[c+(p+4)>>2]=w|1,n[c+v>>2]=w,g=c+(v+4)|0,n[g>>2]=n[g>>2]&-2,g=c+p|0):(n[_>>2]=g&1|v|2,g=c+(v+4)|0,n[g>>2]=n[g>>2]|1,g=0,w=0),n[1208]=w,n[1211]=g,N=c,f=y,N|0);if(C&2)return N=0,f=y,N|0;if(w=(C&-8)+E|0,w>>>0<p>>>0)return N=0,f=y,N|0;v=w-p|0,I=C>>>3;do if(C>>>0>=256){k=n[c+(E+24)>>2]|0,I=n[c+(E+12)>>2]|0;do if((I|0)==(S|0)){if(C=c+(E+20)|0,I=n[C>>2]|0,!I&&(C=c+(E+16)|0,I=n[C>>2]|0,!I)){A=0;break}for(;;){if(N=I+20|0,L=n[N>>2]|0,L){I=L,C=N;continue}if(L=I+16|0,N=n[L>>2]|0,N)I=N,C=L;else break}if(C>>>0<R>>>0)be();else{n[C>>2]=0,A=I;break}}else if(C=n[c+(E+8)>>2]|0,C>>>0<R>>>0&&be(),R=C+12|0,(n[R>>2]|0)!=(S|0)&&be(),L=I+8|0,(n[L>>2]|0)==(S|0)){n[R>>2]=I,n[L>>2]=C,A=I;break}else be();while(0);if(k){if(R=n[c+(E+28)>>2]|0,I=5128+(R<<2)|0,(S|0)==(n[I>>2]|0)){if(n[I>>2]=A,!A){n[1207]=n[1207]&~(1<<R);break}}else if(k>>>0<(n[1210]|0)>>>0&&be(),R=k+16|0,(n[R>>2]|0)==(S|0)?n[R>>2]=A:n[k+20>>2]=A,!A)break;S=n[1210]|0,A>>>0<S>>>0&&be(),n[A+24>>2]=k,R=n[c+(E+16)>>2]|0;do if(R)if(R>>>0<S>>>0)be();else{n[A+16>>2]=R,n[R+24>>2]=A;break}while(0);if(S=n[c+(E+20)>>2]|0,S)if(S>>>0<(n[1210]|0)>>>0)be();else{n[A+20>>2]=S,n[S+24>>2]=A;break}}}else{if(A=n[c+(E+8)>>2]|0,E=n[c+(E+12)>>2]|0,C=4864+(I<<1<<2)|0,(A|0)!=(C|0)&&(A>>>0<R>>>0&&be(),(n[A+12>>2]|0)!=(S|0)&&be()),(E|0)==(A|0)){n[1206]=n[1206]&~(1<<I);break}(E|0)!=(C|0)?(E>>>0<R>>>0&&be(),R=E+8|0,(n[R>>2]|0)==(S|0)?k=R:be()):k=E+8|0,n[A+12>>2]=E,n[k>>2]=A}while(0);if(v>>>0<16)return n[_>>2]=w|g&1|2,N=c+(w|4)|0,n[N>>2]=n[N>>2]|1,N=c,f=y,N|0;return n[_>>2]=g&1|p|2,n[c+(p+4)>>2]=v|3,N=c+(w|4)|0,n[N>>2]=n[N>>2]|1,F2(c+p|0,v),N=c,f=y,N|0;return 0}function F2(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0,N=0,B=0,W=0,J=0,re=0;y=f,v=c+p|0,E=n[c+4>>2]|0;do if(E&1)g=c,k=p;else{if(C=n[c>>2]|0,!(E&3)){f=y;return}if(E=c+(0-C)|0,R=C+p|0,N=n[1210]|0,E>>>0<N>>>0&&be(),(E|0)==(n[1211]|0)){if(g=c+(p+4)|0,k=n[g>>2]|0,(k&3|0)!=3){g=E,k=R;break}n[1208]=R,n[g>>2]=k&-2,n[c+(4-C)>>2]=R|1,n[v>>2]=R,f=y;return}if(B=C>>>3,C>>>0<256){if(g=n[c+(8-C)>>2]|0,k=n[c+(12-C)>>2]|0,I=4864+(B<<1<<2)|0,(g|0)!=(I|0)&&(g>>>0<N>>>0&&be(),(n[g+12>>2]|0)!=(E|0)&&be()),(k|0)==(g|0)){n[1206]=n[1206]&~(1<<B),g=E,k=R;break}(k|0)!=(I|0)?(k>>>0<N>>>0&&be(),I=k+8|0,(n[I>>2]|0)==(E|0)?L=I:be()):L=k+8|0,n[g+12>>2]=k,n[L>>2]=g,g=E,k=R;break}L=n[c+(24-C)>>2]|0,B=n[c+(12-C)>>2]|0;do if((B|0)==(E|0)){if(J=16-C|0,W=c+(J+4)|0,B=n[W>>2]|0,!B&&(W=c+J|0,B=n[W>>2]|0,!B)){I=0;break}for(;;){if(re=B+20|0,J=n[re>>2]|0,J){B=J,W=re;continue}if(J=B+16|0,re=n[J>>2]|0,re)B=re,W=J;else break}if(W>>>0<N>>>0)be();else{n[W>>2]=0,I=B;break}}else if(W=n[c+(8-C)>>2]|0,W>>>0<N>>>0&&be(),N=W+12|0,(n[N>>2]|0)!=(E|0)&&be(),J=B+8|0,(n[J>>2]|0)==(E|0)){n[N>>2]=B,n[J>>2]=W,I=B;break}else be();while(0);if(L){if(B=n[c+(28-C)>>2]|0,N=5128+(B<<2)|0,(E|0)==(n[N>>2]|0)){if(n[N>>2]=I,!I){n[1207]=n[1207]&~(1<<B),g=E,k=R;break}}else if(L>>>0<(n[1210]|0)>>>0&&be(),N=L+16|0,(n[N>>2]|0)==(E|0)?n[N>>2]=I:n[L+20>>2]=I,!I){g=E,k=R;break}N=n[1210]|0,I>>>0<N>>>0&&be(),n[I+24>>2]=L,C=16-C|0,L=n[c+C>>2]|0;do if(L)if(L>>>0<N>>>0)be();else{n[I+16>>2]=L,n[L+24>>2]=I;break}while(0);if(C=n[c+(C+4)>>2]|0,C)if(C>>>0<(n[1210]|0)>>>0)be();else{n[I+20>>2]=C,n[C+24>>2]=I,g=E,k=R;break}else g=E,k=R}else g=E,k=R}while(0);if(E=n[1210]|0,v>>>0<E>>>0&&be(),R=c+(p+4)|0,I=n[R>>2]|0,I&2)n[R>>2]=I&-2,n[g+4>>2]=k|1,n[g+k>>2]=k;else{if((v|0)==(n[1212]|0)){if(re=(n[1209]|0)+k|0,n[1209]=re,n[1212]=g,n[g+4>>2]=re|1,(g|0)!=(n[1211]|0)){f=y;return}n[1211]=0,n[1208]=0,f=y;return}if((v|0)==(n[1211]|0)){re=(n[1208]|0)+k|0,n[1208]=re,n[1211]=g,n[g+4>>2]=re|1,n[g+re>>2]=re,f=y;return}k=(I&-8)+k|0,R=I>>>3;do if(I>>>0>=256){A=n[c+(p+24)>>2]|0,I=n[c+(p+12)>>2]|0;do if((I|0)==(v|0)){if(I=c+(p+20)|0,R=n[I>>2]|0,!R&&(I=c+(p+16)|0,R=n[I>>2]|0,!R)){S=0;break}for(;;){if(C=R+20|0,L=n[C>>2]|0,L){R=L,I=C;continue}if(L=R+16|0,C=n[L>>2]|0,C)R=C,I=L;else break}if(I>>>0<E>>>0)be();else{n[I>>2]=0,S=R;break}}else if(R=n[c+(p+8)>>2]|0,R>>>0<E>>>0&&be(),C=R+12|0,(n[C>>2]|0)!=(v|0)&&be(),E=I+8|0,(n[E>>2]|0)==(v|0)){n[C>>2]=I,n[E>>2]=R,S=I;break}else be();while(0);if(A){if(R=n[c+(p+28)>>2]|0,E=5128+(R<<2)|0,(v|0)==(n[E>>2]|0)){if(n[E>>2]=S,!S){n[1207]=n[1207]&~(1<<R);break}}else if(A>>>0<(n[1210]|0)>>>0&&be(),E=A+16|0,(n[E>>2]|0)==(v|0)?n[E>>2]=S:n[A+20>>2]=S,!S)break;v=n[1210]|0,S>>>0<v>>>0&&be(),n[S+24>>2]=A,A=n[c+(p+16)>>2]|0;do if(A)if(A>>>0<v>>>0)be();else{n[S+16>>2]=A,n[A+24>>2]=S;break}while(0);if(v=n[c+(p+20)>>2]|0,v)if(v>>>0<(n[1210]|0)>>>0)be();else{n[S+20>>2]=v,n[v+24>>2]=S;break}}}else{if(S=n[c+(p+8)>>2]|0,c=n[c+(p+12)>>2]|0,p=4864+(R<<1<<2)|0,(S|0)!=(p|0)&&(S>>>0<E>>>0&&be(),(n[S+12>>2]|0)!=(v|0)&&be()),(c|0)==(S|0)){n[1206]=n[1206]&~(1<<R);break}(c|0)!=(p|0)?(c>>>0<E>>>0&&be(),p=c+8|0,(n[p>>2]|0)==(v|0)?A=p:be()):A=c+8|0,n[S+12>>2]=c,n[A>>2]=S}while(0);if(n[g+4>>2]=k|1,n[g+k>>2]=k,(g|0)==(n[1211]|0)){n[1208]=k,f=y;return}}if(p=k>>>3,k>>>0<256){c=p<<1,v=4864+(c<<2)|0,S=n[1206]|0,p=1<<p,S&p?(c=4864+(c+2<<2)|0,S=n[c>>2]|0,S>>>0<(n[1210]|0)>>>0?be():(w=c,_=S)):(n[1206]=S|p,w=4864+(c+2<<2)|0,_=v),n[w>>2]=g,n[_+12>>2]=g,n[g+8>>2]=_,n[g+12>>2]=v,f=y;return}if(_=k>>>8,_?k>>>0>16777215?_=31:(J=(_+1048320|0)>>>16&8,re=_<<J,W=(re+520192|0)>>>16&4,re=re<<W,_=(re+245760|0)>>>16&2,_=14-(W|J|_)+(re<<_>>>15)|0,_=k>>>(_+7|0)&1|_<<1):_=0,w=5128+(_<<2)|0,n[g+28>>2]=_,n[g+20>>2]=0,n[g+16>>2]=0,c=n[1207]|0,v=1<<_,!(c&v)){n[1207]=c|v,n[w>>2]=g,n[g+24>>2]=w,n[g+12>>2]=g,n[g+8>>2]=g,f=y;return}w=n[w>>2]|0,(_|0)==31?_=0:_=25-(_>>>1)|0;e:do if((n[w+4>>2]&-8|0)!=(k|0)){for(_=k<<_,c=w;!(v=c+(_>>>31<<2)+16|0,w=n[v>>2]|0,!w);){if((n[w+4>>2]&-8|0)==(k|0))break e;_=_<<1,c=w}v>>>0<(n[1210]|0)>>>0&&be(),n[v>>2]=g,n[g+24>>2]=c,n[g+12>>2]=g,n[g+8>>2]=g,f=y;return}while(0);_=w+8|0,v=n[_>>2]|0,re=n[1210]|0,w>>>0>=re>>>0&v>>>0>=re>>>0||be(),n[v+12>>2]=g,n[_>>2]=g,n[g+8>>2]=v,n[g+12>>2]=w,n[g+24>>2]=0,f=y}function B2(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0,v=0,S=0;if(y=f,_=c+4|0,w=n[_>>2]|0,g=c+100|0,w>>>0<(n[g>>2]|0)>>>0?(n[_>>2]=w+1,v=a[w>>0]|0):v=ir(c)|0,(v|0)==43|(v|0)==45?(S=n[_>>2]|0,w=(v|0)==45&1,S>>>0<(n[g>>2]|0)>>>0?(n[_>>2]=S+1,v=a[S>>0]|0):v=ir(c)|0,((v+-48|0)>>>0>9&(p|0)!=0?(n[g>>2]|0)!=0:0)&&(n[_>>2]=(n[_>>2]|0)+-1)):w=0,(v+-48|0)>>>0>9)return n[g>>2]|0?(n[_>>2]=(n[_>>2]|0)+-1,v=-2147483648,S=0,de=v,f=y,S|0):(v=-2147483648,S=0,de=v,f=y,S|0);p=0;do p=v+-48+(p*10|0)|0,v=n[_>>2]|0,v>>>0<(n[g>>2]|0)>>>0?(n[_>>2]=v+1,v=a[v>>0]|0):v=ir(c)|0;while((v+-48|0)>>>0<10&(p|0)<214748364);if(S=((p|0)<0)<<31>>31,(v+-48|0)>>>0<10)do S=bs(p|0,S|0,10,0)|0,p=de,v=Bt(v|0,((v|0)<0)<<31>>31|0,-48,-1)|0,p=Bt(v|0,de|0,S|0,p|0)|0,S=de,v=n[_>>2]|0,v>>>0<(n[g>>2]|0)>>>0?(n[_>>2]=v+1,v=a[v>>0]|0):v=ir(c)|0;while((v+-48|0)>>>0<10&((S|0)<21474836|(S|0)==21474836&p>>>0<2061584302));if((v+-48|0)>>>0<10)do v=n[_>>2]|0,v>>>0<(n[g>>2]|0)>>>0?(n[_>>2]=v+1,v=a[v>>0]|0):v=ir(c)|0;while((v+-48|0)>>>0<10);return n[g>>2]|0&&(n[_>>2]=(n[_>>2]|0)+-1),_=(w|0)!=0,w=In(0,0,p|0,S|0)|0,v=_?de:S,S=_?w:p,de=v,f=y,S|0}function nA(){}function In(c,p,y,g){return c=c|0,p=p|0,y=y|0,g=g|0,p=p-g-(y>>>0>c>>>0|0)>>>0,(de=p,c-y>>>0|0)|0}function fu(c,p,y){c=c|0,p=p|0,y=y|0;var g=0,_=0,w=0,v=0;if(g=c+y|0,(y|0)>=20){if(p=p&255,v=c&3,w=p|p<<8|p<<16|p<<24,_=g&~3,v)for(v=c+4-v|0;(c|0)<(v|0);)i[c>>0]=p,c=c+1|0;for(;(c|0)<(_|0);)n[c>>2]=w,c=c+4|0}for(;(c|0)<(g|0);)i[c>>0]=p,c=c+1|0;return c-y|0}function Kc(c,p,y){return c=c|0,p=p|0,y=y|0,(y|0)<32?(de=p<<y|(c&(1<<y)-1<<32-y)>>>32-y,c<<y):(de=c<<y-32,0)}function U2(c){c=c|0;var p=0;for(p=c;i[p>>0]|0;)p=p+1|0;return p-c|0}function Bt(c,p,y,g){return c=c|0,p=p|0,y=y|0,g=g|0,y=c+y>>>0,(de=p+g+(y>>>0<c>>>0|0)>>>0,y|0)|0}function H2(c,p,y){return c=c|0,p=p|0,y=y|0,(y|0)<32?(de=p>>>y,c>>>y|(p&(1<<y)-1)<<32-y):(de=0,p>>>y-32|0)}function G2(c,p,y){c=c|0,p=p|0,y=y|0;var g=0;if((y|0)>=4096)return Zl(c|0,p|0,y|0)|0;if(g=c|0,(c&3)==(p&3)){for(;c&3;){if(!y)return g|0;i[c>>0]=i[p>>0]|0,c=c+1|0,p=p+1|0,y=y-1|0}for(;(y|0)>=4;)n[c>>2]=n[p>>2],c=c+4|0,p=p+4|0,y=y-4|0}for(;(y|0)>0;)i[c>>0]=i[p>>0]|0,c=c+1|0,p=p+1|0,y=y-1|0;return g|0}function Hn(c,p,y){return c=c|0,p=p|0,y=y|0,(y|0)<32?(de=p>>y,c>>>y|(p&(1<<y)-1)<<32-y):(de=(p|0)<0?-1:0,p>>y-32|0)}function gn(c){c=c|0;var p=0;return p=i[$+(c>>>24)>>0]|0,(p|0)<8?p|0:(p=i[$+(c>>16&255)>>0]|0,(p|0)<8?p+8|0:(p=i[$+(c>>8&255)>>0]|0,(p|0)<8?p+16|0:(i[$+(c&255)>>0]|0)+24|0))}function z2(c){c=c|0;var p=0;return p=i[F+(c&255)>>0]|0,(p|0)<8?p|0:(p=i[F+(c>>8&255)>>0]|0,(p|0)<8?p+8|0:(p=i[F+(c>>16&255)>>0]|0,(p|0)<8?p+16|0:(i[F+(c>>>24)>>0]|0)+24|0))}function iA(c,p){c=c|0,p=p|0;var y=0,g=0,_=0,w=0;return w=c&65535,g=p&65535,y=Vi(g,w)|0,_=c>>>16,g=(y>>>16)+(Vi(g,_)|0)|0,p=p>>>16,c=Vi(p,w)|0,(de=(g>>>16)+(Vi(p,_)|0)+(((g&65535)+c|0)>>>16)|0,g+c<<16|y&65535|0)|0}function sA(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0,v=0,S=0,A=0,E=0;return E=p>>31|((p|0)<0?-1:0)<<1,A=((p|0)<0?-1:0)>>31|((p|0)<0?-1:0)<<1,w=g>>31|((g|0)<0?-1:0)<<1,_=((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1,S=In(E^c,A^p,E,A)|0,v=de,p=w^E,c=_^A,c=In((Ko(S,v,In(w^y,_^g,w,_)|0,de,0)|0)^p,de^c,p,c)|0,c|0}function U3(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0,v=0,S=0,A=0,E=0;return _=f,f=f+8|0,S=_|0,v=p>>31|((p|0)<0?-1:0)<<1,w=((p|0)<0?-1:0)>>31|((p|0)<0?-1:0)<<1,E=g>>31|((g|0)<0?-1:0)<<1,A=((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1,p=In(v^c,w^p,v,w)|0,c=de,Ko(p,c,In(E^y,A^g,E,A)|0,de,S)|0,c=In(n[S>>2]^v,n[S+4>>2]^w,v,w)|0,p=de,f=_,(de=p,c)|0}function bs(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0;return _=c,w=y,c=iA(_,w)|0,y=de,(de=(Vi(p,w)|0)+(Vi(g,_)|0)+y|y&0,c|0|0)|0}function hu(c,p,y,g){return c=c|0,p=p|0,y=y|0,g=g|0,c=Ko(c,p,y,g,0)|0,c|0}function cm(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0;var _=0,w=0;return w=f,f=f+8|0,_=w|0,Ko(c,p,y,g,_)|0,f=w,(de=n[_+4>>2]|0,n[_>>2]|0)|0}function Ko(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0;var w=0,v=0,S=0,A=0,E=0,R=0,k=0,I=0,C=0,L=0;if(v=c,A=p,S=A,R=y,w=g,E=w,!S)return w=(_|0)!=0,E?w?(n[_>>2]=c|0,n[_+4>>2]=p&0,R=0,k=0,(de=R,k)|0):(R=0,k=0,(de=R,k)|0):(w&&(n[_>>2]=(v>>>0)%(R>>>0),n[_+4>>2]=0),E=0,k=(v>>>0)/(R>>>0)>>>0,(de=E,k)|0);k=(E|0)==0;do if(R){if(!k){if(E=(gn(E|0)|0)-(gn(S|0)|0)|0,E>>>0<=31){k=E+1|0,R=31-E|0,c=E-31>>31,A=k,p=v>>>(k>>>0)&c|S<<R,c=S>>>(k>>>0)&c,E=0,R=v<<R;break}return _?(n[_>>2]=c|0,n[_+4>>2]=A|p&0,R=0,k=0,(de=R,k)|0):(R=0,k=0,(de=R,k)|0)}if(E=R-1|0,E&R){R=(gn(R|0)|0)+33-(gn(S|0)|0)|0,L=64-R|0,k=32-R|0,I=k>>31,C=R-32|0,c=C>>31,A=R,p=k-1>>31&S>>>(C>>>0)|(S<<k|v>>>(R>>>0))&c,c=c&S>>>(R>>>0),E=v<<L&I,R=(S<<L|v>>>(C>>>0))&I|v<<k&R-33>>31;break}return _&&(n[_>>2]=E&v,n[_+4>>2]=0),(R|0)==1?(C=A|p&0,L=c|0|0,(de=C,L)|0):(L=z2(R|0)|0,C=S>>>(L>>>0)|0,L=S<<32-L|v>>>(L>>>0)|0,(de=C,L)|0)}else{if(k)return _&&(n[_>>2]=(S>>>0)%(R>>>0),n[_+4>>2]=0),C=0,L=(S>>>0)/(R>>>0)>>>0,(de=C,L)|0;if(!v)return _&&(n[_>>2]=0,n[_+4>>2]=(S>>>0)%(E>>>0)),C=0,L=(S>>>0)/(E>>>0)>>>0,(de=C,L)|0;if(R=E-1|0,!(R&E))return _&&(n[_>>2]=c|0,n[_+4>>2]=R&S|p&0),C=0,L=S>>>((z2(E|0)|0)>>>0),(de=C,L)|0;if(E=(gn(E|0)|0)-(gn(S|0)|0)|0,E>>>0<=30){c=E+1|0,R=31-E|0,A=c,p=S<<R|v>>>(c>>>0),c=S>>>(c>>>0),E=0,R=v<<R;break}return _?(n[_>>2]=c|0,n[_+4>>2]=A|p&0,C=0,L=0,(de=C,L)|0):(C=0,L=0,(de=C,L)|0)}while(0);if(!A)w=R,g=0,S=0;else{v=y|0|0,w=w|g&0,g=Bt(v,w,-1,-1)|0,y=de,S=0;do k=R,R=E>>>31|R<<1,E=S|E<<1,k=p<<1|k>>>31|0,I=p>>>31|c<<1|0,In(g,y,k,I)|0,L=de,C=L>>31|((L|0)<0?-1:0)<<1,S=C&1,p=In(k,I,C&v,(((L|0)<0?-1:0)>>31|((L|0)<0?-1:0)<<1)&w)|0,c=de,A=A-1|0;while((A|0)!=0);w=R,g=0}return v=0,_&&(n[_>>2]=p,n[_+4>>2]=c),C=(E|0)>>>31|(w|v)<<1|(v<<1|E>>>31)&0|g,L=(E<<1|0>>>31)&-2|S,(de=C,L)|0}function Op(c,p,y,g){return c=c|0,p=p|0,y=y|0,g=g|0,Pp[c&1](p|0,y|0,g|0)|0}function kp(c,p,y,g,_,w){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,w=w|0,Xo[c&3](p|0,y|0,g|0,_|0,w|0)}function lm(c,p){c=c|0,p=p|0,pu[c&31](p|0)}function Lf(c,p,y){c=c|0,p=p|0,y=y|0,hA[c&3](p|0,y|0)}function aA(c,p){return c=c|0,p=p|0,W2[c&1](p|0)|0}function oA(c){c=c|0,ov[c&3]()}function cA(c,p,y,g,_,w,v){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,w=w|0,v=v|0,hm[c&3](p|0,y|0,g|0,_|0,w|0,v|0)}function lA(c,p,y){return c=c|0,p=p|0,y=y|0,Yo[c&3](p|0,y|0)|0}function uA(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,cv[c&3](p|0,y|0,g|0,_|0)}function um(c,p,y){return c=c|0,p=p|0,y=y|0,Bn(0),0}function Df(c,p,y,g,_){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,Bn(1)}function xs(c){c=c|0,Bn(2)}function G(c,p){c=c|0,p=p|0,Bn(3)}function $f(c){return c=c|0,Bn(4),0}function fm(){Bn(5)}function Vs(){eu()}function zt(c,p,y,g,_,w){c=c|0,p=p|0,y=y|0,g=g|0,_=_|0,w=w|0,Bn(6)}function fA(c,p){return c=c|0,p=p|0,Bn(7),0}function V2(c,p,y,g){c=c|0,p=p|0,y=y|0,g=g|0,Bn(8)}var Pp=[um,Pt],Xo=[Df,rm,zs,Df],pu=[xs,Zy,N0,Qy,Rf,Nc,ev,zo,Sp,va,Y0,If,_a,Nf,zc,ge,le,Re,Ze,wp,L2,xs,xs,xs,xs,xs,xs,xs,xs,xs,xs,xs],hA=[G,Ka,Xa,$c],W2=[$f,q2],ov=[fm,Vs,_r,rA],hm=[zt,Mf,tA,zt],Yo=[fA,bp,dn,V0],cv=[V2,Gr,lr,V2];return{_yo:ce,_strlen:U2,_retireVar:em,_bitshift64Lshr:H2,_unyo:ae,_solve:xt,_bitshift64Shl:Kc,_getSolution:En,___cxa_is_pointer_type:im,_memset:fu,_getNumVars:cn,_memcpy:G2,_getConflictClauseSize:sv,_addClause:kt,_i64Subtract:In,_createTheSolver:Ae,_realloc:ur,_i64Add:Bt,_solveAssuming:Q0,___cxa_can_catch:nm,_ensureVar:Ue,_getConflictClause:k2,_free:Qe,_malloc:Vc,__GLOBAL__I_a:z0,__GLOBAL__I_a127:Z0,runPostSets:nA,stackAlloc:Yy,stackSave:k0,stackRestore:P0,setThrew:I0,setTempRet0:q0,getTempRet0:Sf,dynCall_iiii:Op,dynCall_viiiii:kp,dynCall_vi:lm,dynCall_vii:Lf,dynCall_ii:aA,dynCall_v:oA,dynCall_viiiiii:cA,dynCall_iii:lA,dynCall_viiii:uA}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_yo=Module._yo=asm._yo,_strlen=Module._strlen=asm._strlen,_retireVar=Module._retireVar=asm._retireVar,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_unyo=Module._unyo=asm._unyo,_solve=Module._solve=asm._solve,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_getSolution=Module._getSolution=asm._getSolution,___cxa_is_pointer_type=Module.___cxa_is_pointer_type=asm.___cxa_is_pointer_type,_memset=Module._memset=asm._memset,_getNumVars=Module._getNumVars=asm._getNumVars,_memcpy=Module._memcpy=asm._memcpy,_getConflictClauseSize=Module._getConflictClauseSize=asm._getConflictClauseSize,_addClause=Module._addClause=asm._addClause,_i64Subtract=Module._i64Subtract=asm._i64Subtract,_createTheSolver=Module._createTheSolver=asm._createTheSolver,_realloc=Module._realloc=asm._realloc,_i64Add=Module._i64Add=asm._i64Add,_solveAssuming=Module._solveAssuming=asm._solveAssuming,___cxa_can_catch=Module.___cxa_can_catch=asm.___cxa_can_catch,_ensureVar=Module._ensureVar=asm._ensureVar,_getConflictClause=Module._getConflictClause=asm._getConflictClause,_free=Module._free=asm._free,_malloc=Module._malloc=asm._malloc,__GLOBAL__I_a=Module.__GLOBAL__I_a=asm.__GLOBAL__I_a,__GLOBAL__I_a127=Module.__GLOBAL__I_a127=asm.__GLOBAL__I_a127,runPostSets=Module.runPostSets=asm.runPostSets,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0;var i64Math=function(){var e={math:{}};e.math.Long=function(U,V){this.low_=U|0,this.high_=V|0},e.math.Long.IntCache_={},e.math.Long.fromInt=function(U){if(-128<=U&&U<128){var V=e.math.Long.IntCache_[U];if(V)return V}var te=new e.math.Long(U|0,U<0?-1:0);return-128<=U&&U<128&&(e.math.Long.IntCache_[U]=te),te},e.math.Long.fromNumber=function(U){return isNaN(U)||!isFinite(U)?e.math.Long.ZERO:U<=-e.math.Long.TWO_PWR_63_DBL_?e.math.Long.MIN_VALUE:U+1>=e.math.Long.TWO_PWR_63_DBL_?e.math.Long.MAX_VALUE:U<0?e.math.Long.fromNumber(-U).negate():new e.math.Long(U%e.math.Long.TWO_PWR_32_DBL_|0,U/e.math.Long.TWO_PWR_32_DBL_|0)},e.math.Long.fromBits=function(U,V){return new e.math.Long(U,V)},e.math.Long.fromString=function(U,V){if(U.length==0)throw Error("number format error: empty string");var te=V||10;if(te<2||36<te)throw Error("radix out of range: "+te);if(U.charAt(0)=="-")return e.math.Long.fromString(U.substring(1),te).negate();if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+U);for(var xe=e.math.Long.fromNumber(Math.pow(te,8)),$e=e.math.Long.ZERO,qe=0;qe<U.length;qe+=8){var We=Math.min(8,U.length-qe),ot=parseInt(U.substring(qe,qe+We),te);if(We<8){var bt=e.math.Long.fromNumber(Math.pow(te,We));$e=$e.multiply(bt).add(e.math.Long.fromNumber(ot))}else $e=$e.multiply(xe),$e=$e.add(e.math.Long.fromNumber(ot))}return $e},e.math.Long.TWO_PWR_16_DBL_=1<<16,e.math.Long.TWO_PWR_24_DBL_=1<<24,e.math.Long.TWO_PWR_32_DBL_=e.math.Long.TWO_PWR_16_DBL_*e.math.Long.TWO_PWR_16_DBL_,e.math.Long.TWO_PWR_31_DBL_=e.math.Long.TWO_PWR_32_DBL_/2,e.math.Long.TWO_PWR_48_DBL_=e.math.Long.TWO_PWR_32_DBL_*e.math.Long.TWO_PWR_16_DBL_,e.math.Long.TWO_PWR_64_DBL_=e.math.Long.TWO_PWR_32_DBL_*e.math.Long.TWO_PWR_32_DBL_,e.math.Long.TWO_PWR_63_DBL_=e.math.Long.TWO_PWR_64_DBL_/2,e.math.Long.ZERO=e.math.Long.fromInt(0),e.math.Long.ONE=e.math.Long.fromInt(1),e.math.Long.NEG_ONE=e.math.Long.fromInt(-1),e.math.Long.MAX_VALUE=e.math.Long.fromBits(4294967295|0,2147483647|0),e.math.Long.MIN_VALUE=e.math.Long.fromBits(0,2147483648|0),e.math.Long.TWO_PWR_24_=e.math.Long.fromInt(1<<24),e.math.Long.prototype.toInt=function(){return this.low_},e.math.Long.prototype.toNumber=function(){return this.high_*e.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},e.math.Long.prototype.toString=function(U){var V=U||10;if(V<2||36<V)throw Error("radix out of range: "+V);if(this.isZero())return"0";if(this.isNegative())if(this.equals(e.math.Long.MIN_VALUE)){var te=e.math.Long.fromNumber(V),xe=this.div(te),qe=xe.multiply(te).subtract(this);return xe.toString(V)+qe.toInt().toString(V)}else return"-"+this.negate().toString(V);for(var $e=e.math.Long.fromNumber(Math.pow(V,6)),qe=this,We="";;){var ot=qe.div($e),bt=qe.subtract(ot.multiply($e)).toInt(),_t=bt.toString(V);if(qe=ot,qe.isZero())return _t+We;for(;_t.length<6;)_t="0"+_t;We=""+_t+We}},e.math.Long.prototype.getHighBits=function(){return this.high_},e.math.Long.prototype.getLowBits=function(){return this.low_},e.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:e.math.Long.TWO_PWR_32_DBL_+this.low_},e.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var U=this.high_!=0?this.high_:this.low_,V=31;V>0&&!((U&1<<V)!=0);V--);return this.high_!=0?V+33:V+1},e.math.Long.prototype.isZero=function(){return this.high_==0&&this.low_==0},e.math.Long.prototype.isNegative=function(){return this.high_<0},e.math.Long.prototype.isOdd=function(){return(this.low_&1)==1},e.math.Long.prototype.equals=function(U){return this.high_==U.high_&&this.low_==U.low_},e.math.Long.prototype.notEquals=function(U){return this.high_!=U.high_||this.low_!=U.low_},e.math.Long.prototype.lessThan=function(U){return this.compare(U)<0},e.math.Long.prototype.lessThanOrEqual=function(U){return this.compare(U)<=0},e.math.Long.prototype.greaterThan=function(U){return this.compare(U)>0},e.math.Long.prototype.greaterThanOrEqual=function(U){return this.compare(U)>=0},e.math.Long.prototype.compare=function(U){if(this.equals(U))return 0;var V=this.isNegative(),te=U.isNegative();return V&&!te?-1:!V&&te?1:this.subtract(U).isNegative()?-1:1},e.math.Long.prototype.negate=function(){return this.equals(e.math.Long.MIN_VALUE)?e.math.Long.MIN_VALUE:this.not().add(e.math.Long.ONE)},e.math.Long.prototype.add=function(U){var V=this.high_>>>16,te=this.high_&65535,xe=this.low_>>>16,$e=this.low_&65535,qe=U.high_>>>16,We=U.high_&65535,ot=U.low_>>>16,bt=U.low_&65535,_t=0,Qt=0,sn=0,ki=0;return ki+=$e+bt,sn+=ki>>>16,ki&=65535,sn+=xe+ot,Qt+=sn>>>16,sn&=65535,Qt+=te+We,_t+=Qt>>>16,Qt&=65535,_t+=V+qe,_t&=65535,e.math.Long.fromBits(sn<<16|ki,_t<<16|Qt)},e.math.Long.prototype.subtract=function(U){return this.add(U.negate())},e.math.Long.prototype.multiply=function(U){if(this.isZero())return e.math.Long.ZERO;if(U.isZero())return e.math.Long.ZERO;if(this.equals(e.math.Long.MIN_VALUE))return U.isOdd()?e.math.Long.MIN_VALUE:e.math.Long.ZERO;if(U.equals(e.math.Long.MIN_VALUE))return this.isOdd()?e.math.Long.MIN_VALUE:e.math.Long.ZERO;if(this.isNegative())return U.isNegative()?this.negate().multiply(U.negate()):this.negate().multiply(U).negate();if(U.isNegative())return this.multiply(U.negate()).negate();if(this.lessThan(e.math.Long.TWO_PWR_24_)&&U.lessThan(e.math.Long.TWO_PWR_24_))return e.math.Long.fromNumber(this.toNumber()*U.toNumber());var V=this.high_>>>16,te=this.high_&65535,xe=this.low_>>>16,$e=this.low_&65535,qe=U.high_>>>16,We=U.high_&65535,ot=U.low_>>>16,bt=U.low_&65535,_t=0,Qt=0,sn=0,ki=0;return ki+=$e*bt,sn+=ki>>>16,ki&=65535,sn+=xe*bt,Qt+=sn>>>16,sn&=65535,sn+=$e*ot,Qt+=sn>>>16,sn&=65535,Qt+=te*bt,_t+=Qt>>>16,Qt&=65535,Qt+=xe*ot,_t+=Qt>>>16,Qt&=65535,Qt+=$e*We,_t+=Qt>>>16,Qt&=65535,_t+=V*bt+te*ot+xe*We+$e*qe,_t&=65535,e.math.Long.fromBits(sn<<16|ki,_t<<16|Qt)},e.math.Long.prototype.div=function(U){if(U.isZero())throw Error("division by zero");if(this.isZero())return e.math.Long.ZERO;if(this.equals(e.math.Long.MIN_VALUE)){if(U.equals(e.math.Long.ONE)||U.equals(e.math.Long.NEG_ONE))return e.math.Long.MIN_VALUE;if(U.equals(e.math.Long.MIN_VALUE))return e.math.Long.ONE;var V=this.shiftRight(1),te=V.div(U).shiftLeft(1);if(te.equals(e.math.Long.ZERO))return U.isNegative()?e.math.Long.ONE:e.math.Long.NEG_ONE;var qe=this.subtract(U.multiply(te)),xe=te.add(qe.div(U));return xe}else if(U.equals(e.math.Long.MIN_VALUE))return e.math.Long.ZERO;if(this.isNegative())return U.isNegative()?this.negate().div(U.negate()):this.negate().div(U).negate();if(U.isNegative())return this.div(U.negate()).negate();for(var $e=e.math.Long.ZERO,qe=this;qe.greaterThanOrEqual(U);){for(var te=Math.max(1,Math.floor(qe.toNumber()/U.toNumber())),We=Math.ceil(Math.log(te)/Math.LN2),ot=We<=48?1:Math.pow(2,We-48),bt=e.math.Long.fromNumber(te),_t=bt.multiply(U);_t.isNegative()||_t.greaterThan(qe);)te-=ot,bt=e.math.Long.fromNumber(te),_t=bt.multiply(U);bt.isZero()&&(bt=e.math.Long.ONE),$e=$e.add(bt),qe=qe.subtract(_t)}return $e},e.math.Long.prototype.modulo=function(U){return this.subtract(this.div(U).multiply(U))},e.math.Long.prototype.not=function(){return e.math.Long.fromBits(~this.low_,~this.high_)},e.math.Long.prototype.and=function(U){return e.math.Long.fromBits(this.low_&U.low_,this.high_&U.high_)},e.math.Long.prototype.or=function(U){return e.math.Long.fromBits(this.low_|U.low_,this.high_|U.high_)},e.math.Long.prototype.xor=function(U){return e.math.Long.fromBits(this.low_^U.low_,this.high_^U.high_)},e.math.Long.prototype.shiftLeft=function(U){if(U&=63,U==0)return this;var V=this.low_;if(U<32){var te=this.high_;return e.math.Long.fromBits(V<<U,te<<U|V>>>32-U)}else return e.math.Long.fromBits(0,V<<U-32)},e.math.Long.prototype.shiftRight=function(U){if(U&=63,U==0)return this;var V=this.high_;if(U<32){var te=this.low_;return e.math.Long.fromBits(te>>>U|V<<32-U,V>>U)}else return e.math.Long.fromBits(V>>U-32,V>=0?0:-1)},e.math.Long.prototype.shiftRightUnsigned=function(U){if(U&=63,U==0)return this;var V=this.high_;if(U<32){var te=this.low_;return e.math.Long.fromBits(te>>>U|V<<32-U,V>>>U)}else return U==32?e.math.Long.fromBits(V,0):e.math.Long.fromBits(V>>>U-32,0)};var t={appName:"Modern Browser"},r,i=244837814094590,s=(i&16777215)==15715070;function n(U,V,te){U!=null&&(typeof U=="number"?this.fromNumber(U,V,te):V==null&&typeof U!="string"?this.fromString(U,256):this.fromString(U,V))}function a(){return new n(null)}function o(U,V,te,xe,$e,qe){for(;--qe>=0;){var We=V*this[U++]+te[xe]+$e;$e=Math.floor(We/67108864),te[xe++]=We&67108863}return $e}function u(U,V,te,xe,$e,qe){for(var We=V&32767,ot=V>>15;--qe>=0;){var bt=this[U]&32767,_t=this[U++]>>15,Qt=ot*bt+_t*We;bt=We*bt+((Qt&32767)<<15)+te[xe]+($e&1073741823),$e=(bt>>>30)+(Qt>>>15)+ot*_t+($e>>>30),te[xe++]=bt&1073741823}return $e}function d(U,V,te,xe,$e,qe){for(var We=V&16383,ot=V>>14;--qe>=0;){var bt=this[U]&16383,_t=this[U++]>>14,Qt=ot*bt+_t*We;bt=We*bt+((Qt&16383)<<14)+te[xe]+$e,$e=(bt>>28)+(Qt>>14)+ot*_t,te[xe++]=bt&268435455}return $e}s&&t.appName=="Microsoft Internet Explorer"?(n.prototype.am=u,r=30):s&&t.appName!="Netscape"?(n.prototype.am=o,r=26):(n.prototype.am=d,r=28),n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r;var m=52;n.prototype.FV=Math.pow(2,m),n.prototype.F1=m-r,n.prototype.F2=2*r-m;var f="0123456789abcdefghijklmnopqrstuvwxyz",x=new Array,T,q;for(T="0".charCodeAt(0),q=0;q<=9;++q)x[T++]=q;for(T="a".charCodeAt(0),q=10;q<36;++q)x[T++]=q;for(T="A".charCodeAt(0),q=10;q<36;++q)x[T++]=q;function F(U){return f.charAt(U)}function $(U,V){var te=x[U.charCodeAt(V)];return te??-1}function H(U){for(var V=this.t-1;V>=0;--V)U[V]=this[V];U.t=this.t,U.s=this.s}function oe(U){this.t=1,this.s=U<0?-1:0,U>0?this[0]=U:U<-1?this[0]=U+DV:this.t=0}function Q(U){var V=a();return V.fromInt(U),V}function pe(U,V){var te;if(V==16)te=4;else if(V==8)te=3;else if(V==256)te=8;else if(V==2)te=1;else if(V==32)te=5;else if(V==4)te=2;else{this.fromRadix(U,V);return}this.t=0,this.s=0;for(var xe=U.length,$e=!1,qe=0;--xe>=0;){var We=te==8?U[xe]&255:$(U,xe);if(We<0){U.charAt(xe)=="-"&&($e=!0);continue}$e=!1,qe==0?this[this.t++]=We:qe+te>this.DB?(this[this.t-1]|=(We&(1<<this.DB-qe)-1)<<qe,this[this.t++]=We>>this.DB-qe):this[this.t-1]|=We<<qe,qe+=te,qe>=this.DB&&(qe-=this.DB)}te==8&&(U[0]&128)!=0&&(this.s=-1,qe>0&&(this[this.t-1]|=(1<<this.DB-qe)-1<<qe)),this.clamp(),$e&&n.ZERO.subTo(this,this)}function ve(){for(var U=this.s&this.DM;this.t>0&&this[this.t-1]==U;)--this.t}function Ce(U){if(this.s<0)return"-"+this.negate().toString(U);var V;if(U==16)V=4;else if(U==8)V=3;else if(U==2)V=1;else if(U==32)V=5;else if(U==4)V=2;else return this.toRadix(U);var te=(1<<V)-1,xe,$e=!1,qe="",We=this.t,ot=this.DB-We*this.DB%V;if(We-- >0)for(ot<this.DB&&(xe=this[We]>>ot)>0&&($e=!0,qe=F(xe));We>=0;)ot<V?(xe=(this[We]&(1<<ot)-1)<<V-ot,xe|=this[--We]>>(ot+=this.DB-V)):(xe=this[We]>>(ot-=V)&te,ot<=0&&(ot+=this.DB,--We)),xe>0&&($e=!0),$e&&(qe+=F(xe));return $e?qe:"0"}function fe(){var U=a();return n.ZERO.subTo(this,U),U}function Pe(){return this.s<0?this.negate():this}function Ve(U){var V=this.s-U.s;if(V!=0)return V;var te=this.t;if(V=te-U.t,V!=0)return this.s<0?-V:V;for(;--te>=0;)if((V=this[te]-U[te])!=0)return V;return 0}function Ie(U){var V=1,te;return(te=U>>>16)!=0&&(U=te,V+=16),(te=U>>8)!=0&&(U=te,V+=8),(te=U>>4)!=0&&(U=te,V+=4),(te=U>>2)!=0&&(U=te,V+=2),(te=U>>1)!=0&&(U=te,V+=1),V}function Ot(){return this.t<=0?0:this.DB*(this.t-1)+Ie(this[this.t-1]^this.s&this.DM)}function lt(U,V){var te;for(te=this.t-1;te>=0;--te)V[te+U]=this[te];for(te=U-1;te>=0;--te)V[te]=0;V.t=this.t+U,V.s=this.s}function Ye(U,V){for(var te=U;te<this.t;++te)V[te-U]=this[te];V.t=Math.max(this.t-U,0),V.s=this.s}function At(U,V){var te=U%this.DB,xe=this.DB-te,$e=(1<<xe)-1,qe=Math.floor(U/this.DB),We=this.s<<te&this.DM,ot;for(ot=this.t-1;ot>=0;--ot)V[ot+qe+1]=this[ot]>>xe|We,We=(this[ot]&$e)<<te;for(ot=qe-1;ot>=0;--ot)V[ot]=0;V[qe]=We,V.t=this.t+qe+1,V.s=this.s,V.clamp()}function gt(U,V){V.s=this.s;var te=Math.floor(U/this.DB);if(te>=this.t){V.t=0;return}var xe=U%this.DB,$e=this.DB-xe,qe=(1<<xe)-1;V[0]=this[te]>>xe;for(var We=te+1;We<this.t;++We)V[We-te-1]|=(this[We]&qe)<<$e,V[We-te]=this[We]>>xe;xe>0&&(V[this.t-te-1]|=(this.s&qe)<<$e),V.t=this.t-te,V.clamp()}function ut(U,V){for(var te=0,xe=0,$e=Math.min(U.t,this.t);te<$e;)xe+=this[te]-U[te],V[te++]=xe&this.DM,xe>>=this.DB;if(U.t<this.t){for(xe-=U.s;te<this.t;)xe+=this[te],V[te++]=xe&this.DM,xe>>=this.DB;xe+=this.s}else{for(xe+=this.s;te<U.t;)xe-=U[te],V[te++]=xe&this.DM,xe>>=this.DB;xe-=U.s}V.s=xe<0?-1:0,xe<-1?V[te++]=this.DV+xe:xe>0&&(V[te++]=xe),V.t=te,V.clamp()}function $t(U,V){var te=this.abs(),xe=U.abs(),$e=te.t;for(V.t=$e+xe.t;--$e>=0;)V[$e]=0;for($e=0;$e<xe.t;++$e)V[$e+te.t]=te.am(0,xe[$e],V,$e,0,te.t);V.s=0,V.clamp(),this.s!=U.s&&n.ZERO.subTo(V,V)}function de(U){for(var V=this.abs(),te=U.t=2*V.t;--te>=0;)U[te]=0;for(te=0;te<V.t-1;++te){var xe=V.am(te,V[te],U,2*te,0,1);(U[te+V.t]+=V.am(te+1,2*V[te],U,2*te+1,xe,V.t-te-1))>=V.DV&&(U[te+V.t]-=V.DV,U[te+V.t+1]=1)}U.t>0&&(U[U.t-1]+=V.am(te,V[te],U,2*te,0,1)),U.s=0,U.clamp()}function cr(U,V,te){var xe=U.abs();if(xe.t<=0)return;var $e=this.abs();if($e.t<xe.t){V!=null&&V.fromInt(0),te!=null&&this.copyTo(te);return}te==null&&(te=a());var qe=a(),We=this.s,ot=U.s,bt=this.DB-Ie(xe[xe.t-1]);bt>0?(xe.lShiftTo(bt,qe),$e.lShiftTo(bt,te)):(xe.copyTo(qe),$e.copyTo(te));var _t=qe.t,Qt=qe[_t-1];if(Qt==0)return;var sn=Qt*(1<<this.F1)+(_t>1?qe[_t-2]>>this.F2:0),ki=this.FV/sn,bf=(1<<this.F1)/sn,xf=1<<this.F2,Va=te.t,et=Va-_t,ga=V??a();for(qe.dlShiftTo(et,ga),te.compareTo(ga)>=0&&(te[te.t++]=1,te.subTo(ga,te)),n.ONE.dlShiftTo(_t,ga),ga.subTo(qe,qe);qe.t<_t;)qe[qe.t++]=0;for(;--et>=0;){var Jl=te[--Va]==Qt?this.DM:Math.floor(te[Va]*ki+(te[Va-1]+xf)*bf);if((te[Va]+=qe.am(0,Jl,te,et,0,_t))<Jl)for(qe.dlShiftTo(et,ga),te.subTo(ga,te);te[Va]<--Jl;)te.subTo(ga,te)}V!=null&&(te.drShiftTo(_t,V),We!=ot&&n.ZERO.subTo(V,V)),te.t=_t,te.clamp(),bt>0&&te.rShiftTo(bt,te),We<0&&n.ZERO.subTo(te,te)}function tr(U){var V=a();return this.abs().divRemTo(U,null,V),this.s<0&&V.compareTo(n.ZERO)>0&&U.subTo(V,V),V}function fn(U){this.m=U}function pi(U){return U.s<0||U.compareTo(this.m)>=0?U.mod(this.m):U}function gs(U){return U}function Yl(U){U.divRemTo(this.m,null,U)}function x0(U,V,te){U.multiplyTo(V,te),this.reduce(te)}function ma(U,V){U.squareTo(V),this.reduce(V)}fn.prototype.convert=pi,fn.prototype.revert=gs,fn.prototype.reduce=Yl,fn.prototype.mulTo=x0,fn.prototype.sqrTo=ma;function Gi(){if(this.t<1)return 0;var U=this[0];if((U&1)==0)return 0;var V=U&3;return V=V*(2-(U&15)*V)&15,V=V*(2-(U&255)*V)&255,V=V*(2-((U&65535)*V&65535))&65535,V=V*(2-U*V%this.DV)%this.DV,V>0?this.DV-V:-V}function di(U){this.m=U,this.mp=U.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<U.DB-15)-1,this.mt2=2*U.t}function za(U){var V=a();return U.abs().dlShiftTo(this.m.t,V),V.divRemTo(this.m,null,V),U.s<0&&V.compareTo(n.ZERO)>0&&this.m.subTo(V,V),V}function $o(U){var V=a();return U.copyTo(V),this.reduce(V),V}function jo(U){for(;U.t<=this.mt2;)U[U.t++]=0;for(var V=0;V<this.m.t;++V){var te=U[V]&32767,xe=te*this.mpl+((te*this.mph+(U[V]>>15)*this.mpl&this.um)<<15)&U.DM;for(te=V+this.m.t,U[te]+=this.m.am(0,xe,U,V,0,this.m.t);U[te]>=U.DV;)U[te]-=U.DV,U[++te]++}U.clamp(),U.drShiftTo(this.m.t,U),U.compareTo(this.m)>=0&&U.subTo(this.m,U)}function Oi(U,V){U.squareTo(V),this.reduce(V)}function Fo(U,V,te){U.multiplyTo(V,te),this.reduce(te)}di.prototype.convert=za,di.prototype.revert=$o,di.prototype.reduce=jo,di.prototype.mulTo=Fo,di.prototype.sqrTo=Oi;function mp(){return(this.t>0?this[0]&1:this.s)==0}function ys(U,V){if(U>4294967295||U<1)return n.ONE;var te=a(),xe=a(),$e=V.convert(this),qe=Ie(U)-1;for($e.copyTo(te);--qe>=0;)if(V.sqrTo(te,xe),(U&1<<qe)>0)V.mulTo(xe,$e,te);else{var We=te;te=xe,xe=We}return V.revert(te)}function kc(U,V){var te;return U<256||V.isEven()?te=new fn(V):te=new di(V),this.exp(U,te)}n.prototype.copyTo=H,n.prototype.fromInt=oe,n.prototype.fromString=pe,n.prototype.clamp=ve,n.prototype.dlShiftTo=lt,n.prototype.drShiftTo=Ye,n.prototype.lShiftTo=At,n.prototype.rShiftTo=gt,n.prototype.subTo=ut,n.prototype.multiplyTo=$t,n.prototype.squareTo=de,n.prototype.divRemTo=cr,n.prototype.invDigit=Gi,n.prototype.isEven=mp,n.prototype.exp=ys,n.prototype.toString=Ce,n.prototype.negate=fe,n.prototype.abs=Pe,n.prototype.compareTo=Ve,n.prototype.bitLength=Ot,n.prototype.mod=tr,n.prototype.modPowInt=kc,n.ZERO=Q(0),n.ONE=Q(1);function E0(U,V){this.fromInt(0),V==null&&(V=10);for(var te=this.chunkSize(V),xe=Math.pow(V,te),$e=!1,qe=0,We=0,ot=0;ot<U.length;++ot){var bt=$(U,ot);if(bt<0){U.charAt(ot)=="-"&&this.signum()==0&&($e=!0);continue}We=V*We+bt,++qe>=te&&(this.dMultiply(xe),this.dAddOffset(We,0),qe=0,We=0)}qe>0&&(this.dMultiply(Math.pow(V,qe)),this.dAddOffset(We,0)),$e&&n.ZERO.subTo(this,this)}function Pc(U){return Math.floor(Math.LN2*this.DB/Math.log(U))}function zi(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Bo(U){this[this.t]=this.am(0,U-1,this,0,0,this.t),++this.t,this.clamp()}function xn(U,V){if(U==0)return;for(;this.t<=V;)this[this.t++]=0;for(this[V]+=U;this[V]>=this.DV;)this[V]-=this.DV,++V>=this.t&&(this[this.t++]=0),++this[V]}function Vi(U){if(U==null&&(U=10),this.signum()==0||U<2||U>36)return"0";var V=this.chunkSize(U),te=Math.pow(U,V),xe=Q(te),$e=a(),qe=a(),We="";for(this.divRemTo(xe,$e,qe);$e.signum()>0;)We=(te+qe.intValue()).toString(U).substr(1)+We,$e.divRemTo(xe,$e,qe);return qe.intValue().toString(U)+We}function Bn(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function hn(U,V){for(var te=0,xe=0,$e=Math.min(U.t,this.t);te<$e;)xe+=this[te]+U[te],V[te++]=xe&this.DM,xe>>=this.DB;if(U.t<this.t){for(xe+=U.s;te<this.t;)xe+=this[te],V[te++]=xe&this.DM,xe>>=this.DB;xe+=this.s}else{for(xe+=this.s;te<U.t;)xe+=U[te],V[te++]=xe&this.DM,xe>>=this.DB;xe+=U.s}V.s=xe<0?-1:0,xe>0?V[te++]=xe:xe<-1&&(V[te++]=this.DV+xe),V.t=te,V.clamp()}n.prototype.fromRadix=E0,n.prototype.chunkSize=Pc,n.prototype.signum=zi,n.prototype.dMultiply=Bo,n.prototype.dAddOffset=xn,n.prototype.toRadix=Vi,n.prototype.intValue=Bn,n.prototype.addTo=hn;var pn={abs:function(U,V){var te=new e.math.Long(U,V),xe;te.isNegative()?xe=te.negate():xe=te,HEAP32[tempDoublePtr>>2]=xe.low_,HEAP32[tempDoublePtr+4>>2]=xe.high_},ensureTemps:function(){if(pn.ensuredTemps)return;pn.ensuredTemps=!0,pn.two32=new n,pn.two32.fromString("4294967296",10),pn.two64=new n,pn.two64.fromString("18446744073709551616",10),pn.temp1=new n,pn.temp2=new n},lh2bignum:function(U,V){var te=new n;te.fromString(V.toString(),10);var xe=new n;te.multiplyTo(pn.two32,xe);var $e=new n;$e.fromString(U.toString(),10);var qe=new n;return $e.addTo(xe,qe),qe},stringify:function(U,V,te){var xe=new e.math.Long(U,V).toString();if(te&&xe[0]=="-"){pn.ensureTemps();var $e=new n;$e.fromString(xe,10),xe=new n,pn.two64.addTo($e,xe),xe=xe.toString(10)}return xe},fromString:function(U,V,te,xe,$e){pn.ensureTemps();var qe=new n;qe.fromString(U,V);var We=new n;We.fromString(te,10);var ot=new n;if(ot.fromString(xe,10),$e&&qe.compareTo(n.ZERO)<0){var bt=new n;qe.addTo(pn.two64,bt),qe=bt}var _t=!1;qe.compareTo(We)<0?(qe=We,_t=!0):qe.compareTo(ot)>0&&(qe=ot,_t=!0);var Qt=e.math.Long.fromString(qe.toString());if(HEAP32[tempDoublePtr>>2]=Qt.low_,HEAP32[tempDoublePtr+4>>2]=Qt.high_,_t)throw"range error"}};return pn}();if(memoryInitializer)if(typeof Module.locateFile=="function"?memoryInitializer=Module.locateFile(memoryInitializer):Module.memoryInitializerPrefixURL&&(memoryInitializer=Module.memoryInitializerPrefixURL+memoryInitializer),ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module.readBinary(memoryInitializer);HEAPU8.set(data,STATIC_BASE)}else addRunDependency("memory initializer"),Browser.asyncLoad(memoryInitializer,function(e){HEAPU8.set(e,STATIC_BASE),removeRunDependency("memory initializer")},function(e){throw"could not load memory initializer "+memoryInitializer});function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function e(){!Module.calledRun&&shouldRunNow&&run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(t){assert(runDependencies==0,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(__ATPRERUN__.length==0,"cannot call main when preRun functions remain to be called"),t=t||[],ensureInitRuntime();var r=t.length+1;function i(){for(var o=0;o<4-1;o++)s.push(0)}var s=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];i();for(var n=0;n<r-1;n=n+1)s.push(allocate(intArrayFromString(t[n]),"i8",ALLOC_NORMAL)),i();s.push(0),s=allocate(s,"i32",ALLOC_NORMAL),initialStackTop=STACKTOP;try{var a=Module._main(r,s,0);exit(a)}catch(o){if(o instanceof ExitStatus)return;if(o=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else throw o&&typeof o=="object"&&o.stack&&Module.printErr("exception thrown: "+[o,o.stack]),o}finally{calledMain=!0}};function run(e){if(e=e||Module.arguments,preloadStartTime===null&&(preloadStartTime=Date.now()),runDependencies>0)return;if(preRun(),runDependencies>0)return;if(Module.calledRun)return;function t(){if(Module.calledRun)return;if(Module.calledRun=!0,ABORT)return;ensureInitRuntime(),preMain(),ENVIRONMENT_IS_WEB&&preloadStartTime!==null&&Module.printErr("pre-main prep time: "+(Date.now()-preloadStartTime)+" ms"),Module._main&&shouldRunNow&&Module.callMain(e),postRun()}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()}Module.run=Module.run=run;function exit(e){if(Module.noExitRuntime)return;throw ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&typeof quit=="function"&&quit(e),new ExitStatus(e)}Module.exit=Module.exit=exit;function abort(e){e&&(Module.print(e),Module.printErr(e)),ABORT=!0,EXITSTATUS=1;var t=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`;throw"abort() at "+stackTrace()+t}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();var origMalloc=Module._malloc,origFree=Module._free,MEMSTATS={totalMemory:Module.HEAPU8.length,heapUsed:0},MEMSTATS_DATA={pointerToSizeMap:{},getSizeOfPointer:function(e){return MEMSTATS_DATA.pointerToSizeMap[e]}};Module.MEMSTATS=MEMSTATS,Module.MEMSTATS_DATA=MEMSTATS_DATA;var hookedMalloc=function(e){var t=origMalloc(e);return t?(MEMSTATS.heapUsed+=e,MEMSTATS_DATA.pointerToSizeMap[t]=e,t):0},hookedFree=function(e){return e&&(MEMSTATS.heapUsed-=MEMSTATS_DATA.getSizeOfPointer(e)||0,delete MEMSTATS_DATA.pointerToSizeMap[e]),origFree(e)};Module._malloc=hookedMalloc,Module._free=hookedFree,_malloc=hookedMalloc,_free=hookedFree;var setInnerMalloc,setInnerFree;return setInnerMalloc&&(setInnerMalloc(hookedMalloc),setInnerFree(hookedFree)),module.exports};typeof module!="undefined"&&(module.exports=C_MINISAT)}),PN=O((ON,kN)=>{(function(e,t){typeof ON=="object"&&typeof kN!="undefined"?kN.exports=t():typeof define=="function"&&define.amd?define("underscore",t):(e=typeof globalThis!="undefined"?globalThis:e||self,function(){var r=e._,i=e._=t();i.noConflict=function(){return e._=r,i}}())})(ON,function(){var e="1.13.1",t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},r=Array.prototype,i=Object.prototype,s=typeof Symbol!="undefined"?Symbol.prototype:null,n=r.push,a=r.slice,o=i.toString,u=i.hasOwnProperty,d=typeof ArrayBuffer!="undefined",m=typeof DataView!="undefined",f=Array.isArray,x=Object.keys,T=Object.create,q=d&&ArrayBuffer.isView,F=isNaN,$=isFinite,H=!{toString:null}.propertyIsEnumerable("toString"),oe=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Q=Math.pow(2,53)-1;function pe(M,j){return j=j==null?M.length-1:+j,function(){for(var Y=Math.max(arguments.length-j,0),Z=Array(Y),ce=0;ce<Y;ce++)Z[ce]=arguments[ce+j];switch(j){case 0:return M.call(this,Z);case 1:return M.call(this,arguments[0],Z);case 2:return M.call(this,arguments[0],arguments[1],Z)}var ae=Array(j+1);for(ce=0;ce<j;ce++)ae[ce]=arguments[ce];return ae[j]=Z,M.apply(this,ae)}}function ve(M){var j=typeof M;return j==="function"||j==="object"&&!!M}function Ce(M){return M===null}function fe(M){return M===void 0}function Pe(M){return M===!0||M===!1||o.call(M)==="[object Boolean]"}function Ve(M){return!!(M&&M.nodeType===1)}function Ie(M){var j="[object "+M+"]";return function(Y){return o.call(Y)===j}}var Ot=Ie("String"),lt=Ie("Number"),Ye=Ie("Date"),At=Ie("RegExp"),gt=Ie("Error"),ut=Ie("Symbol"),$t=Ie("ArrayBuffer"),de=Ie("Function"),cr=t.document&&t.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof cr!="function"&&(de=function(M){return typeof M=="function"||!1});var tr=de,fn=Ie("Object"),pi=m&&fn(new DataView(new ArrayBuffer(8))),gs=typeof Map!="undefined"&&fn(new Map),Yl=Ie("DataView");function x0(M){return M!=null&&tr(M.getInt8)&&$t(M.buffer)}var ma=pi?x0:Yl,Gi=f||Ie("Array");function di(M,j){return M!=null&&u.call(M,j)}var za=Ie("Arguments");(function(){za(arguments)||(za=function(M){return di(M,"callee")})})();var $o=za;function jo(M){return!ut(M)&&$(M)&&!isNaN(parseFloat(M))}function Oi(M){return lt(M)&&F(M)}function Fo(M){return function(){return M}}function mp(M){return function(j){var Y=M(j);return typeof Y=="number"&&Y>=0&&Y<=Q}}function ys(M){return function(j){return j==null?void 0:j[M]}}var kc=ys("byteLength"),E0=mp(kc),Pc=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function zi(M){return q?q(M)&&!ma(M):E0(M)&&Pc.test(o.call(M))}var Bo=d?zi:Fo(!1),xn=ys("length");function Vi(M){for(var j={},Y=M.length,Z=0;Z<Y;++Z)j[M[Z]]=!0;return{contains:function(ce){return j[ce]},push:function(ce){return j[ce]=!0,M.push(ce)}}}function Bn(M,j){j=Vi(j);var Y=oe.length,Z=M.constructor,ce=tr(Z)&&Z.prototype||i,ae="constructor";for(di(M,ae)&&!j.contains(ae)&&j.push(ae);Y--;)ae=oe[Y],ae in M&&M[ae]!==ce[ae]&&!j.contains(ae)&&j.push(ae)}function hn(M){if(!ve(M))return[];if(x)return x(M);var j=[];for(var Y in M)di(M,Y)&&j.push(Y);return H&&Bn(M,j),j}function pn(M){if(M==null)return!0;var j=xn(M);return typeof j=="number"&&(Gi(M)||Ot(M)||$o(M))?j===0:xn(hn(M))===0}function U(M,j){var Y=hn(j),Z=Y.length;if(M==null)return!Z;for(var ce=Object(M),ae=0;ae<Z;ae++){var Ae=Y[ae];if(j[Ae]!==ce[Ae]||!(Ae in ce))return!1}return!0}function V(M){if(M instanceof V)return M;if(!(this instanceof V))return new V(M);this._wrapped=M}V.VERSION=e,V.prototype.value=function(){return this._wrapped},V.prototype.valueOf=V.prototype.toJSON=V.prototype.value,V.prototype.toString=function(){return String(this._wrapped)};function te(M){return new Uint8Array(M.buffer||M,M.byteOffset||0,kc(M))}var xe="[object DataView]";function $e(M,j,Y,Z){if(M===j)return M!==0||1/M===1/j;if(M==null||j==null)return!1;if(M!==M)return j!==j;var ce=typeof M;return ce!=="function"&&ce!=="object"&&typeof j!="object"?!1:qe(M,j,Y,Z)}function qe(M,j,Y,Z){M instanceof V&&(M=M._wrapped),j instanceof V&&(j=j._wrapped);var ce=o.call(M);if(ce!==o.call(j))return!1;if(pi&&ce=="[object Object]"&&ma(M)){if(!ma(j))return!1;ce=xe}switch(ce){case"[object RegExp]":case"[object String]":return""+M===""+j;case"[object Number]":return+M!==+M?+j!==+j:+M===0?1/+M===1/j:+M===+j;case"[object Date]":case"[object Boolean]":return+M===+j;case"[object Symbol]":return s.valueOf.call(M)===s.valueOf.call(j);case"[object ArrayBuffer]":case xe:return qe(te(M),te(j),Y,Z)}var ae=ce==="[object Array]";if(!ae&&Bo(M)){var Ae=kc(M);if(Ae!==kc(j))return!1;if(M.buffer===j.buffer&&M.byteOffset===j.byteOffset)return!0;ae=!0}if(!ae){if(typeof M!="object"||typeof j!="object")return!1;var Ue=M.constructor,kt=j.constructor;if(Ue!==kt&&!(tr(Ue)&&Ue instanceof Ue&&tr(kt)&&kt instanceof kt)&&"constructor"in M&&"constructor"in j)return!1}Y=Y||[],Z=Z||[];for(var xt=Y.length;xt--;)if(Y[xt]===M)return Z[xt]===j;if(Y.push(M),Z.push(j),ae){if(xt=M.length,xt!==j.length)return!1;for(;xt--;)if(!$e(M[xt],j[xt],Y,Z))return!1}else{var En=hn(M),cn;if(xt=En.length,hn(j).length!==xt)return!1;for(;xt--;)if(cn=En[xt],!(di(j,cn)&&$e(M[cn],j[cn],Y,Z)))return!1}return Y.pop(),Z.pop(),!0}function We(M,j){return $e(M,j)}function ot(M){if(!ve(M))return[];var j=[];for(var Y in M)j.push(Y);return H&&Bn(M,j),j}function bt(M){var j=xn(M);return function(Y){if(Y==null)return!1;var Z=ot(Y);if(xn(Z))return!1;for(var ce=0;ce<j;ce++)if(!tr(Y[M[ce]]))return!1;return M!==xf||!tr(Y[_t])}}var _t="forEach",Qt="has",sn=["clear","delete"],ki=["get",Qt,"set"],bf=sn.concat(_t,ki),xf=sn.concat(ki),Va=["add"].concat(sn,_t,Qt),et=gs?bt(bf):Ie("Map"),ga=gs?bt(xf):Ie("WeakMap"),Jl=gs?bt(Va):Ie("Set"),By=Ie("WeakSet");function Ic(M){for(var j=hn(M),Y=j.length,Z=Array(Y),ce=0;ce<Y;ce++)Z[ce]=M[j[ce]];return Z}function Uo(M){for(var j=hn(M),Y=j.length,Z=Array(Y),ce=0;ce<Y;ce++)Z[ce]=[j[ce],M[j[ce]]];return Z}function S0(M){for(var j={},Y=hn(M),Z=0,ce=Y.length;Z<ce;Z++)j[M[Y[Z]]]=Y[Z];return j}function Zl(M){var j=[];for(var Y in M)tr(M[Y])&&j.push(Y);return j.sort()}function R0(M,j){return function(Y){var Z=arguments.length;if(j&&(Y=Object(Y)),Z<2||Y==null)return Y;for(var ce=1;ce<Z;ce++)for(var ae=arguments[ce],Ae=M(ae),Ue=Ae.length,kt=0;kt<Ue;kt++){var xt=Ae[kt];(!j||Y[xt]===void 0)&&(Y[xt]=ae[xt])}return Y}}var gp=R0(ot),yp=R0(hn),A0=R0(ot,!0);function Uy(){return function(){}}function Hy(M){if(!ve(M))return{};if(T)return T(M);var j=Uy();j.prototype=M;var Y=new j;return j.prototype=null,Y}function Gy(M,j){var Y=Hy(M);return j&&yp(Y,j),Y}function Wa(M){return ve(M)?Gi(M)?M.slice():gp({},M):M}function qc(M,j){return j(M),M}function T0(M){return Gi(M)?M:[M]}V.toPath=T0;function Ql(M){return V.toPath(M)}function vt(M,j){for(var Y=j.length,Z=0;Z<Y;Z++){if(M==null)return;M=M[j[Z]]}return Y?M:void 0}function C0(M,j,Y){var Z=vt(M,Ql(j));return fe(Z)?Y:Z}function zy(M,j){j=Ql(j);for(var Y=j.length,Z=0;Z<Y;Z++){var ce=j[Z];if(!di(M,ce))return!1;M=M[ce]}return!!Y}function O0(M){return M}function ya(M){return M=yp({},M),function(j){return U(j,M)}}function nt(M){return M=Ql(M),function(j){return vt(j,M)}}function Ho(M,j,Y){if(j===void 0)return M;switch(Y??3){case 1:return function(Z){return M.call(j,Z)};case 3:return function(Z,ce,ae){return M.call(j,Z,ce,ae)};case 4:return function(Z,ce,ae,Ae){return M.call(j,Z,ce,ae,Ae)}}return function(){return M.apply(j,arguments)}}function vp(M,j,Y){return M==null?O0:tr(M)?Ho(M,j,Y):ve(M)&&!Gi(M)?ya(M):nt(M)}function be(M,j){return vp(M,j,Infinity)}V.iteratee=be;function Un(M,j,Y){return V.iteratee!==be?V.iteratee(M,j):vp(M,j,Y)}function Vy(M,j,Y){j=Un(j,Y);for(var Z=hn(M),ce=Z.length,ae={},Ae=0;Ae<ce;Ae++){var Ue=Z[Ae];ae[Ue]=j(M[Ue],Ue,M)}return ae}function ri(){}function Wy(M){return M==null?ri:function(j){return C0(M,j)}}function Ky(M,j,Y){var Z=Array(Math.max(0,M));j=Ho(j,Y,1);for(var ce=0;ce<M;ce++)Z[ce]=j(ce);return Z}function Go(M,j){return j==null&&(j=M,M=0),M+Math.floor(Math.random()*(j-M+1))}var eu=Date.now||function(){return new Date().getTime()};function _p(M){var j=function(ae){return M[ae]},Y="(?:"+hn(M).join("|")+")",Z=RegExp(Y),ce=RegExp(Y,"g");return function(ae){return ae=ae==null?"":""+ae,Z.test(ae)?ae.replace(ce,j):ae}}var Xy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Yy=_p(Xy),k0=S0(Xy),P0=_p(k0),I0=V.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ef=/(.)^/,O2={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q0=/\\|'|\r|\n|\u2028|\u2029/g;function Sf(M){return"\\"+O2[M]}var Jy=/^\s*(\w|\$)+\s*$/;function Zy(M,j,Y){!j&&Y&&(j=Y),j=A0({},j,V.templateSettings);var Z=RegExp([(j.escape||Ef).source,(j.interpolate||Ef).source,(j.evaluate||Ef).source].join("|")+"|$","g"),ce=0,ae="__p+='";M.replace(Z,function(xt,En,cn,Q0,em){return ae+=M.slice(ce,em).replace(q0,Sf),ce=em+xt.length,En?ae+=`'+
((__t=(`+En+`))==null?'':_.escape(__t))+
'`:cn?ae+=`'+
((__t=(`+cn+`))==null?'':__t)+
'`:Q0&&(ae+=`';
`+Q0+`
__p+='`),xt}),ae+=`';
`;var Ae=j.variable;if(Ae){if(!Jy.test(Ae))throw new Error("variable is not a bare identifier: "+Ae)}else ae=`with(obj||{}){
`+ae+`}
`,Ae="obj";ae=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+ae+`return __p;
`;var Ue;try{Ue=new Function(Ae,"_",ae)}catch(xt){throw xt.source=ae,xt}var kt=function(xt){return Ue.call(this,xt,V)};return kt.source="function("+Ae+`){
`+ae+"}",kt}function an(M,j,Y){j=Ql(j);var Z=j.length;if(!Z)return tr(Y)?Y.call(M):Y;for(var ce=0;ce<Z;ce++){var ae=M==null?void 0:M[j[ce]];ae===void 0&&(ae=Y,ce=Z),M=tr(ae)?ae.call(M):ae}return M}var N0=0;function wp(M){var j=++N0+"";return M?M+j:j}function Qy(M){var j=V(M);return j._chain=!0,j}function bp(M,j,Y,Z,ce){if(!(Z instanceof j))return M.apply(Y,ce);var ae=Hy(M.prototype),Ae=M.apply(ae,ce);return ve(Ae)?Ae:ae}var Ka=pe(function(M,j){var Y=Ka.placeholder,Z=function(){for(var ce=0,ae=j.length,Ae=Array(ae),Ue=0;Ue<ae;Ue++)Ae[Ue]=j[Ue]===Y?arguments[ce++]:j[Ue];for(;ce<arguments.length;)Ae.push(arguments[ce++]);return bp(M,Z,this,this,Ae)};return Z});Ka.placeholder=V;var Rf=pe(function(M,j,Y){if(!tr(M))throw new TypeError("Bind must be called on a function");var Z=pe(function(ce){return bp(M,Z,j,this,Y.concat(ce))});return Z}),dn=mp(xn);function Xa(M,j,Y,Z){if(Z=Z||[],!j&&j!==0)j=Infinity;else if(j<=0)return Z.concat(M);for(var ce=Z.length,ae=0,Ae=xn(M);ae<Ae;ae++){var Ue=M[ae];if(dn(Ue)&&(Gi(Ue)||$o(Ue)))if(j>1)Xa(Ue,j-1,Y,Z),ce=Z.length;else for(var kt=0,xt=Ue.length;kt<xt;)Z[ce++]=Ue[kt++];else Y||(Z[ce++]=Ue)}return Z}var M0=pe(function(M,j){j=Xa(j,!1,!1);var Y=j.length;if(Y<1)throw new Error("bindAll must be passed function names");for(;Y--;){var Z=j[Y];M[Z]=Rf(M[Z],M)}return M});function ev(M,j){var Y=function(Z){var ce=Y.cache,ae=""+(j?j.apply(this,arguments):Z);return di(ce,ae)||(ce[ae]=M.apply(this,arguments)),ce[ae]};return Y.cache={},Y}var Nc=pe(function(M,j,Y){return setTimeout(function(){return M.apply(null,Y)},j)}),L0=Ka(Nc,V,1);function D0(M,j,Y){var Z,ce,ae,Ae,Ue=0;Y||(Y={});var kt=function(){Ue=Y.leading===!1?0:eu(),Z=null,Ae=M.apply(ce,ae),Z||(ce=ae=null)},xt=function(){var En=eu();!Ue&&Y.leading===!1&&(Ue=En);var cn=j-(En-Ue);return ce=this,ae=arguments,cn<=0||cn>j?(Z&&(clearTimeout(Z),Z=null),Ue=En,Ae=M.apply(ce,ae),Z||(ce=ae=null)):!Z&&Y.trailing!==!1&&(Z=setTimeout(kt,cn)),Ae};return xt.cancel=function(){clearTimeout(Z),Ue=0,Z=ce=ae=null},xt}function Af(M,j,Y){var Z,ce,ae,Ae,Ue,kt=function(){var En=eu()-ce;j>En?Z=setTimeout(kt,j-En):(Z=null,Y||(Ae=M.apply(Ue,ae)),Z||(ae=Ue=null))},xt=pe(function(En){return Ue=this,ae=En,ce=eu(),Z||(Z=setTimeout(kt,j),Y&&(Ae=M.apply(Ue,ae))),Ae});return xt.cancel=function(){clearTimeout(Z),Z=ae=Ue=null},xt}function Mc(M,j){return Ka(j,M)}function tu(M){return function(){return!M.apply(this,arguments)}}function $0(){var M=arguments,j=M.length-1;return function(){for(var Y=j,Z=M[j].apply(this,arguments);Y--;)Z=M[Y].call(this,Z);return Z}}function Lc(M,j){return function(){if(--M<1)return j.apply(this,arguments)}}function j0(M,j){var Y;return function(){return--M>0&&(Y=j.apply(this,arguments)),M<=1&&(j=null),Y}}var Dc=Ka(j0,2);function F0(M,j,Y){j=Un(j,Y);for(var Z=hn(M),ce,ae=0,Ae=Z.length;ae<Ae;ae++)if(ce=Z[ae],j(M[ce],ce,M))return ce}function B0(M){return function(j,Y,Z){Y=Un(Y,Z);for(var ce=xn(j),ae=M>0?0:ce-1;ae>=0&&ae<ce;ae+=M)if(Y(j[ae],ae,j))return ae;return-1}}var ru=B0(1),U0=B0(-1);function H0(M,j,Y,Z){Y=Un(Y,Z,1);for(var ce=Y(j),ae=0,Ae=xn(M);ae<Ae;){var Ue=Math.floor((ae+Ae)/2);Y(M[Ue])<ce?ae=Ue+1:Ae=Ue}return ae}function xp(M,j,Y){return function(Z,ce,ae){var Ae=0,Ue=xn(Z);if(typeof ae=="number")M>0?Ae=ae>=0?ae:Math.max(ae+Ue,Ae):Ue=ae>=0?Math.min(ae+1,Ue):ae+Ue+1;else if(Y&&ae&&Ue)return ae=Y(Z,ce),Z[ae]===ce?ae:-1;if(ce!==ce)return ae=j(a.call(Z,Ae,Ue),Oi),ae>=0?ae+Ae:-1;for(ae=M>0?Ae:Ue-1;ae>=0&&ae<Ue;ae+=M)if(Z[ae]===ce)return ae;return-1}}var Ep=xp(1,ru,H0),G0=xp(-1,U0);function vr(M,j,Y){var Z=dn(M)?ru:F0,ce=Z(M,j,Y);if(ce!==void 0&&ce!==-1)return M[ce]}function xr(M,j){return vr(M,ya(j))}function Hs(M,j,Y){j=Ho(j,Y);var Z,ce;if(dn(M))for(Z=0,ce=M.length;Z<ce;Z++)j(M[Z],Z,M);else{var ae=hn(M);for(Z=0,ce=ae.length;Z<ce;Z++)j(M[ae[Z]],ae[Z],M)}return M}function zo(M,j,Y){j=Un(j,Y);for(var Z=!dn(M)&&hn(M),ce=(Z||M).length,ae=Array(ce),Ae=0;Ae<ce;Ae++){var Ue=Z?Z[Ae]:Ae;ae[Ae]=j(M[Ue],Ue,M)}return ae}function z0(M){var j=function(Y,Z,ce,ae){var Ae=!dn(Y)&&hn(Y),Ue=(Ae||Y).length,kt=M>0?0:Ue-1;for(ae||(ce=Y[Ae?Ae[kt]:kt],kt+=M);kt>=0&&kt<Ue;kt+=M){var xt=Ae?Ae[kt]:kt;ce=Z(ce,Y[xt],xt,Y)}return ce};return function(Y,Z,ce,ae){var Ae=arguments.length>=3;return j(Y,Ho(Z,ae,4),ce,Ae)}}var Sp=z0(1),V0=z0(-1);function $c(M,j,Y){var Z=[];return j=Un(j,Y),Hs(M,function(ce,ae,Ae){j(ce,ae,Ae)&&Z.push(ce)}),Z}function jc(M,j,Y){return $c(M,tu(Un(j)),Y)}function W0(M,j,Y){j=Un(j,Y);for(var Z=!dn(M)&&hn(M),ce=(Z||M).length,ae=0;ae<ce;ae++){var Ae=Z?Z[ae]:ae;if(!j(M[Ae],Ae,M))return!1}return!0}function on(M,j,Y){j=Un(j,Y);for(var Z=!dn(M)&&hn(M),ce=(Z||M).length,ae=0;ae<ce;ae++){var Ae=Z?Z[ae]:ae;if(j(M[Ae],Ae,M))return!0}return!1}function Pi(M,j,Y,Z){return dn(M)||(M=Ic(M)),(typeof Y!="number"||Z)&&(Y=0),Ep(M,j,Y)>=0}var vs=pe(function(M,j,Y){var Z,ce;return tr(j)?ce=j:(j=Ql(j),Z=j.slice(0,-1),j=j[j.length-1]),zo(M,function(ae){var Ae=ce;if(!Ae){if(Z&&Z.length&&(ae=vt(ae,Z)),ae==null)return;Ae=ae[j]}return Ae==null?Ae:Ae.apply(ae,Y)})});function Fc(M,j){return zo(M,nt(j))}function mi(M,j){return $c(M,ya(j))}function Hr(M,j,Y){var Z=-Infinity,ce=-Infinity,ae,Ae;if(j==null||typeof j=="number"&&typeof M[0]!="object"&&M!=null){M=dn(M)?M:Ic(M);for(var Ue=0,kt=M.length;Ue<kt;Ue++)ae=M[Ue],ae!=null&&ae>Z&&(Z=ae)}else j=Un(j,Y),Hs(M,function(xt,En,cn){Ae=j(xt,En,cn),(Ae>ce||Ae===-Infinity&&Z===-Infinity)&&(Z=xt,ce=Ae)});return Z}function Tf(M,j,Y){var Z=Infinity,ce=Infinity,ae,Ae;if(j==null||typeof j=="number"&&typeof M[0]!="object"&&M!=null){M=dn(M)?M:Ic(M);for(var Ue=0,kt=M.length;Ue<kt;Ue++)ae=M[Ue],ae!=null&&ae<Z&&(Z=ae)}else j=Un(j,Y),Hs(M,function(xt,En,cn){Ae=j(xt,En,cn),(Ae<ce||Ae===Infinity&&Z===Infinity)&&(Z=xt,ce=Ae)});return Z}function nu(M,j,Y){if(j==null||Y)return dn(M)||(M=Ic(M)),M[Go(M.length-1)];var Z=dn(M)?Wa(M):Ic(M),ce=xn(Z);j=Math.max(Math.min(j,ce),0);for(var ae=ce-1,Ae=0;Ae<j;Ae++){var Ue=Go(Ae,ae),kt=Z[Ae];Z[Ae]=Z[Ue],Z[Ue]=kt}return Z.slice(0,j)}function Cf(M){return nu(M,Infinity)}function K0(M,j,Y){var Z=0;return j=Un(j,Y),Fc(zo(M,function(ce,ae,Ae){return{value:ce,index:Z++,criteria:j(ce,ae,Ae)}}).sort(function(ce,ae){var Ae=ce.criteria,Ue=ae.criteria;if(Ae!==Ue){if(Ae>Ue||Ae===void 0)return 1;if(Ae<Ue||Ue===void 0)return-1}return ce.index-ae.index}),"value")}function Ya(M,j){return function(Y,Z,ce){var ae=j?[[],[]]:{};return Z=Un(Z,ce),Hs(Y,function(Ae,Ue){var kt=Z(Ae,Ue,Y);M(ae,Ae,kt)}),ae}}var Of=Ya(function(M,j,Y){di(M,Y)?M[Y].push(j):M[Y]=[j]}),Ii=Ya(function(M,j,Y){M[Y]=j}),tv=Ya(function(M,j,Y){di(M,Y)?M[Y]++:M[Y]=1}),mn=Ya(function(M,j,Y){M[Y?0:1].push(j)},!0),X0=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Y0(M){return M?Gi(M)?a.call(M):Ot(M)?M.match(X0):dn(M)?zo(M,O0):Ic(M):[]}function va(M){return M==null?0:dn(M)?M.length:hn(M).length}function Bc(M,j,Y){return j in Y}var iu=pe(function(M,j){var Y={},Z=j[0];if(M==null)return Y;tr(Z)?(j.length>1&&(Z=Ho(Z,j[1])),j=ot(M)):(Z=Bc,j=Xa(j,!1,!1),M=Object(M));for(var ce=0,ae=j.length;ce<ae;ce++){var Ae=j[ce],Ue=M[Ae];Z(Ue,Ae,M)&&(Y[Ae]=Ue)}return Y}),Or=pe(function(M,j){var Y=j[0],Z;return tr(Y)?(Y=tu(Y),j.length>1&&(Z=j[1])):(j=zo(Xa(j,!1,!1),String),Y=function(ce,ae){return!Pi(j,ae)}),iu(M,Y,Z)});function _s(M,j,Y){return a.call(M,0,Math.max(0,M.length-(j==null||Y?1:j)))}function su(M,j,Y){return M==null||M.length<1?j==null||Y?void 0:[]:j==null||Y?M[0]:_s(M,M.length-j)}function Uc(M,j,Y){return a.call(M,j==null||Y?1:j)}function kf(M,j,Y){return M==null||M.length<1?j==null||Y?void 0:[]:j==null||Y?M[M.length-1]:Uc(M,Math.max(0,M.length-j))}function rv(M){return $c(M,Boolean)}function nv(M,j){return Xa(M,j,!1)}var Pf=pe(function(M,j){return j=Xa(j,!0,!0),$c(M,function(Y){return!Pi(j,Y)})}),J0=pe(function(M,j){return Pf(M,j)});function Hc(M,j,Y,Z){Pe(j)||(Z=Y,Y=j,j=!1),Y!=null&&(Y=Un(Y,Z));for(var ce=[],ae=[],Ae=0,Ue=xn(M);Ae<Ue;Ae++){var kt=M[Ae],xt=Y?Y(kt,Ae,M):kt;j&&!Y?((!Ae||ae!==xt)&&ce.push(kt),ae=xt):Y?Pi(ae,xt)||(ae.push(xt),ce.push(kt)):Pi(ce,kt)||ce.push(kt)}return ce}var Gc=pe(function(M){return Hc(Xa(M,!0,!0))});function iv(M){for(var j=[],Y=arguments.length,Z=0,ce=xn(M);Z<ce;Z++){var ae=M[Z];if(Pi(j,ae))continue;var Ae;for(Ae=1;Ae<Y&&Pi(arguments[Ae],ae);Ae++);Ae===Y&&j.push(ae)}return j}function If(M){for(var j=M&&Hr(M,xn).length||0,Y=Array(j),Z=0;Z<j;Z++)Y[Z]=Fc(M,Z);return Y}var Z0=pe(If);function qf(M,j){for(var Y={},Z=0,ce=xn(M);Z<ce;Z++)j?Y[M[Z]]=j[Z]:Y[M[Z][0]]=M[Z][1];return Y}function Rp(M,j,Y){j==null&&(j=M||0,M=0),Y||(Y=j<M?-1:1);for(var Z=Math.max(Math.ceil((j-M)/Y),0),ce=Array(Z),ae=0;ae<Z;ae++,M+=Y)ce[ae]=M;return ce}function Ap(M,j){if(j==null||j<1)return[];for(var Y=[],Z=0,ce=M.length;Z<ce;)Y.push(a.call(M,Z,Z+=j));return Y}function Tp(M,j){return M._chain?V(j).chain():j}function au(M){return Hs(Zl(M),function(j){var Y=V[j]=M[j];V.prototype[j]=function(){var Z=[this._wrapped];return n.apply(Z,arguments),Tp(this,Y.apply(V,Z))}}),V}Hs(["pop","push","reverse","shift","sort","splice","unshift"],function(M){var j=r[M];V.prototype[M]=function(){var Y=this._wrapped;return Y!=null&&(j.apply(Y,arguments),(M==="shift"||M==="splice")&&Y.length===0&&delete Y[0]),Tp(this,Y)}}),Hs(["concat","join","slice"],function(M){var j=r[M];V.prototype[M]=function(){var Y=this._wrapped;return Y!=null&&(Y=j.apply(Y,arguments)),Tp(this,Y)}});var ou={__proto__:null,VERSION:e,restArguments:pe,isObject:ve,isNull:Ce,isUndefined:fe,isBoolean:Pe,isElement:Ve,isString:Ot,isNumber:lt,isDate:Ye,isRegExp:At,isError:gt,isSymbol:ut,isArrayBuffer:$t,isDataView:ma,isArray:Gi,isFunction:tr,isArguments:$o,isFinite:jo,isNaN:Oi,isTypedArray:Bo,isEmpty:pn,isMatch:U,isEqual:We,isMap:et,isWeakMap:ga,isSet:Jl,isWeakSet:By,keys:hn,allKeys:ot,values:Ic,pairs:Uo,invert:S0,functions:Zl,methods:Zl,extend:gp,extendOwn:yp,assign:yp,defaults:A0,create:Gy,clone:Wa,tap:qc,get:C0,has:zy,mapObject:Vy,identity:O0,constant:Fo,noop:ri,toPath:T0,property:nt,propertyOf:Wy,matcher:ya,matches:ya,times:Ky,random:Go,now:eu,escape:Yy,unescape:P0,templateSettings:I0,template:Zy,result:an,uniqueId:wp,chain:Qy,iteratee:be,partial:Ka,bind:Rf,bindAll:M0,memoize:ev,delay:Nc,defer:L0,throttle:D0,debounce:Af,wrap:Mc,negate:tu,compose:$0,after:Lc,before:j0,once:Dc,findKey:F0,findIndex:ru,findLastIndex:U0,sortedIndex:H0,indexOf:Ep,lastIndexOf:G0,find:vr,detect:vr,findWhere:xr,each:Hs,forEach:Hs,map:zo,collect:zo,reduce:Sp,foldl:Sp,inject:Sp,reduceRight:V0,foldr:V0,filter:$c,select:$c,reject:jc,every:W0,all:W0,some:on,any:on,contains:Pi,includes:Pi,include:Pi,invoke:vs,pluck:Fc,where:mi,max:Hr,min:Tf,shuffle:Cf,sample:nu,sortBy:K0,groupBy:Of,indexBy:Ii,countBy:tv,partition:mn,toArray:Y0,size:va,pick:iu,omit:Or,first:su,head:su,take:su,initial:_s,last:kf,rest:Uc,tail:Uc,drop:Uc,compact:rv,flatten:nv,without:J0,uniq:Hc,unique:Hc,union:Gc,intersection:iv,difference:Pf,unzip:If,transpose:If,zip:Z0,object:qf,range:Rp,chunk:Ap,mixin:au,default:V},cu=au(ou);return cu._=cu,cu})}),Zie=O((Irt,Jie)=>{var uFe=Yie(),fFe=PN(),vf;vf=function(){var e=this._C=uFe();this._native={getStackPointer:function(){return e.Runtime.stackSave()},setStackPointer:function(t){e.Runtime.stackRestore(t)},allocateBytes:function(t){return e.allocate(t,"i8",e.ALLOC_STACK)},pushString:function(t){return this.allocateBytes(e.intArrayFromString(t))},savingStack:function(t){var r=this.getStackPointer();try{return t(this,e)}finally{this.setStackPointer(r)}}},e._createTheSolver(),this._clauses=[]};vf.prototype.ensureVar=function(e){this._C._ensureVar(e)};vf.prototype.addClause=function(e){return this._clauses.push(e),this._native.savingStack(function(t,r){var i=r.allocate((e.length+1)*4,"i32",r.ALLOC_STACK);return fFe.each(e,function(s,n){r.setValue(i+n*4,s,"i32")}),r.setValue(i+e.length*4,0,"i32"),!!r._addClause(i)})};vf.prototype.solve=function(){return!!this._C._solve()};vf.prototype.solveAssuming=function(e){return!!this._C._solveAssuming(e)};vf.prototype.getSolution=function(){for(var e=[null],t=this._C,r=t._getNumVars(),i=t._getSolution(),s=0;s<r;s++)e[s+1]=t.getValue(i+s,"i8")===0;return e};vf.prototype.retireVar=function(e){this._C._retireVar(e)};vf.prototype.getConflictClause=function(){for(var e=this._C,t=e._getConflictClauseSize(),r=e._getConflictClause(),i=[],s=0;s<t;s++){var n=e.getValue(r+s*4,"i32"),a=n>>>1,o=n&1?-1:1;i[s]=a*o}return i};Jie.exports=vf}),ose=O((qrt,Qie)=>{var ese=Zie(),Dt=PN(),K;K={};var xc=function(e,t){return t.description=e,t},IN=function(e,t,r){return xc(e,function(i){return i instanceof t[r]})};K.isNumTerm=xc("a NumTerm (non-zero integer)",function(e){return e===(e|0)&&e!==0});K.isNameTerm=xc("a NameTerm (string)",function(e){return typeof e=="string"&&!/^-*[0-9]*$/.test(e)});K.isTerm=xc("a Term (appropriate string or number)",function(e){return K.isNumTerm(e)||K.isNameTerm(e)});K.isWholeNumber=xc("a whole number (integer >= 0)",function(e){return e===(e|0)&&e>=0});K.isFormula=IN("a Formula",K,"Formula");K.isClause=IN("a Clause",K,"Clause");K.isBits=IN("a Bits",K,"Bits");K._isInteger=xc("an integer",function(e){return e===(e|0)});K._isFunction=xc("a Function",function(e){return typeof e=="function"});K._isString=xc("a String",function(e){return typeof e=="string"});K._isArrayWhere=function(e){var t="an array";return e.description&&(t+=" of "+e.description),xc(t,function(r){if(Dt.isArray(r)){for(var i=0;i<r.length;i++)if(!e(r[i]))return!1;return!0}else return!1})};K._isFormulaOrTerm=xc("a Formula or Term",function(e){return K.isFormula(e)||K.isTerm(e)});K._isFormulaOrTermOrBits=xc("a Formula, Term, or Bits",function(e){return K.isFormula(e)||K.isBits(e)||K.isTerm(e)});K._MiniSat=ese;var hFe=K._isInteger,pFe=K._isFunction,dFe=K._isString,Ti=K._isArrayWhere,ar=K._isFormulaOrTerm,tse=K._isFormulaOrTermOrBits;K._assert=function(e,t,r){if(!t(e)){var i=typeof e=="string"?JSON.stringify(e):e;throw new Error(i+" is not "+(t.description||r))}};var Ec=function(e,t,r){if(e!==t)throw new Error("Expected "+t+" args in "+r+", got "+e)},we=K._assert;K._assertIfEnabled=function(e,t,r){we&&we(e,t,r)};K.disablingAssertions=function(e){var t=we;try{return we=null,e()}finally{we=t}};K._disablingTypeChecks=K.disablingAssertions;K.not=function(e){return we&&we(e,ar),e instanceof K.Formula?new K.NotFormula(e):typeof e=="number"?-e:e.charAt(0)==="-"?e.slice(1):"-"+e};K.NAME_FALSE="$F";K.NAME_TRUE="$T";K.NUM_FALSE=1;K.NUM_TRUE=2;K.TRUE=K.NAME_TRUE;K.FALSE=K.NAME_FALSE;K.Formula=function(){};K._defineFormula=function(e,t,r){we&&we(e,pFe),we&&we(t,dFe),e.prototype=new K.Formula,e.prototype.type=t,r&&Dt.extend(e.prototype,r)};K.Formula.prototype.generateClauses=function(e,t){throw new Error("Cannot generate this Formula; it must be expanded")};K.Formula._nextGuid=1;K.Formula.prototype._guid=null;K.Formula.prototype.guid=function(){return this._guid===null&&(this._guid=K.Formula._nextGuid++),this._guid};K.Clause=function(){var e=Dt.flatten(arguments);we&&we(e,Ti(K.isNumTerm)),this.terms=e};K.Clause.prototype.append=function(){return new K.Clause(this.terms.concat(Dt.flatten(arguments)))};var mFe=function(){this.varName=null,this.varNum=null,this.occursPositively=!1,this.occursNegatively=!1,this.isRequired=!1,this.isForbidden=!1};K.Termifier=function(e){this.solver=e};K.Termifier.prototype.clause=function(){var e=this,t=Dt.flatten(arguments);return we&&we(t,Ti(ar)),new K.Clause(Dt.map(t,function(r){return e.term(r)}))};K.Termifier.prototype.term=function(e){return this.solver._formulaToTerm(e)};K.Termifier.prototype.generate=function(e,t){return this.solver._generateFormula(e,t,this)};K.Solver=function(){var e=this;e.clauses=[],e._num2name=[null],e._name2num={};var t=e.getVarNum(K.NAME_FALSE,!1,!0),r=e.getVarNum(K.NAME_TRUE,!1,!0);if(t!==K.NUM_FALSE||r!==K.NUM_TRUE)throw new Error("Assertion failure: $T and $F have wrong numeric value");e._F_used=!1,e._T_used=!1,e.clauses.push(new K.Clause(-K.NUM_FALSE)),e.clauses.push(new K.Clause(K.NUM_TRUE)),e._formulaInfo={},e._nextFormulaNumByType={},e._ungeneratedFormulas={},e._numClausesAddedToMiniSat=0,e._unsat=!1,e._minisat=new ese,e._termifier=new K.Termifier(e)};K.Solver.prototype.getVarNum=function(e,t,r){var i=" "+e;if(Dt.has(this._name2num,i))return this._name2num[i];if(t)return 0;if(e.charAt(0)==="$"&&!r)throw new Error("Only generated variable names can start with $");var s=this._num2name.length;return this._name2num[i]=s,this._num2name.push(e),s};K.Solver.prototype.getVarName=function(e){we&&we(e,hFe);var t=this._num2name;if(e<1||e>=t.length)throw new Error("Bad variable num: "+e);return t[e]};K.Solver.prototype.toNumTerm=function(e,t){var r=this;if(we&&we(e,K.isTerm),typeof e=="number")return e;for(var i=!1;e.charAt(0)==="-";)e=e.slice(1),i=!i;var s=r.getVarNum(e,t);return s?i?-s:s:0};K.Solver.prototype.toNameTerm=function(e){var t=this;if(we&&we(e,K.isTerm),typeof e=="string"){for(;e.slice(0,2)==="--";)e=e.slice(2);return e}else{var r=!1;return e<0&&(r=!0,e=-e),e=t.getVarName(e),r&&(e="-"+e),e}};K.Solver.prototype._addClause=function(e,t,r){var i=this;we&&we(e,K.isClause);var s=null;t&&(s=t,we&&we(s,Ti(K.isNumTerm)));var n=!1,a=!1,o=e.terms.length;s&&(e=e.append(s));for(var u=0;u<e.terms.length;u++){var d=e.terms[u],m=d<0?-d:d;if(m===K.NUM_FALSE)n=!0;else if(m===K.NUM_TRUE)a=!0;else{if(m<1||m>=i._num2name.length)throw new Error("Bad variable number: "+m);u<o&&(r?r(d):i._useFormulaTerm(d))}}this._F_used=this._F_used||n,this._T_used=this._T_used||a,this.clauses.push(e)};K.Solver.prototype._useFormulaTerm=function(e,t){var r=this;we&&we(e,K.isNumTerm);var i=e<0?-e:e;if(!Dt.has(r._ungeneratedFormulas,i))return;var s=r._ungeneratedFormulas[i],n=r._getFormulaInfo(s),a=e>0,o=null,u;if(t?u=t:(o=[],u=function(x,T){o.push({clauses:x,extraTerms:T})}),a&&!n.occursPositively){n.occursPositively=!0;var d=r._generateFormula(!0,s);u(d,[-i])}else if(!a&&!n.occursNegatively){n.occursNegatively=!0;var d=r._generateFormula(!1,s);u(d,[i])}if(n.occursPositively&&n.occursNegatively&&delete r._ungeneratedFormulas[i],!(o&&o.length))return;for(var m=function(x){r._useFormulaTerm(x,u)};o.length;){var f=o.pop();r._addClauses(f.clauses,f.extraTerms,m)}};K.Solver.prototype._addClauses=function(e,t,r){we&&we(e,Ti(K.isClause));var i=this;Dt.each(e,function(s){i._addClause(s,t,r)})};K.Solver.prototype.require=function(){this._requireForbidImpl(!0,Dt.flatten(arguments))};K.Solver.prototype.forbid=function(){this._requireForbidImpl(!1,Dt.flatten(arguments))};K.Solver.prototype._requireForbidImpl=function(e,t){var r=this;we&&we(t,Ti(ar)),Dt.each(t,function(i){if(i instanceof K.NotFormula)r._requireForbidImpl(!e,[i.operand]);else if(i instanceof K.Formula){var s=r._getFormulaInfo(i);if(s.varNum!==null){var n=e?1:-1;r._addClause(new K.Clause(n*s.varNum))}else r._addClauses(r._generateFormula(e,i));e?s.isRequired=!0:s.isForbidden=!0}else r._addClauses(r._generateFormula(e,i))})};K.Solver.prototype._generateFormula=function(e,t,r){var i=this;if(we&&we(t,ar),t instanceof K.NotFormula)return i._generateFormula(!e,t.operand);if(t instanceof K.Formula){var s=i._getFormulaInfo(t);if(e&&s.isRequired||!e&&s.isForbidden)return[];if(e&&s.isForbidden||!e&&s.isRequired)return[new K.Clause];var n=t.generateClauses(e,r||i._termifier);return Dt.isArray(n)?n:[n]}else{var a=i.toNumTerm(t),o=e?1:-1;return a===o*K.NUM_TRUE||a===-o*K.NUM_FALSE?[]:a===o*K.NUM_FALSE||a===-o*K.NUM_TRUE?[new K.Clause]:[new K.Clause(o*a)]}};K.Solver.prototype._clauseData=function(){var e=Dt.pluck(this.clauses,"terms");return this._T_used||e.splice(1,1),this._F_used||e.splice(0,1),e};K.Solver.prototype._clauseStrings=function(){var e=this,t=e._clauseData();return Dt.map(t,function(r){return Dt.map(r,function(i){var s=e.toNameTerm(i);if(/\s/.test(s)){var n="";s.charAt(0)==="-"&&(n="-",s=s.slice(1)),s=n+'"'+s+'"'}return s}).join(" v ")})};K.Solver.prototype._getFormulaInfo=function(e,t){var r=this,i=e.guid();if(!r._formulaInfo[i]){if(t)return null;r._formulaInfo[i]=new mFe}return r._formulaInfo[i]};K.Solver.prototype._formulaToTerm=function(e){var t=this;if(Dt.isArray(e))return we&&we(e,Ti(ar)),Dt.map(e,Dt.bind(t._formulaToTerm,t));if(we&&we(e,ar),e instanceof K.NotFormula)return K.not(t._formulaToTerm(e.operand));if(e instanceof K.Formula){var r=this._getFormulaInfo(e);if(r.isRequired)return K.NUM_TRUE;if(r.isForbidden)return K.NUM_FALSE;if(r.varNum===null){var i=e.type;this._nextFormulaNumByType[i]||(this._nextFormulaNumByType[i]=1);var s=this._nextFormulaNumByType[i]++;r.varName="$"+e.type+s,r.varNum=this.getVarNum(r.varName,!1,!0),this._ungeneratedFormulas[r.varNum]=e}return r.varNum}else return t.toNumTerm(e)};K.or=function(){var e=Dt.flatten(arguments);return e.length===0?K.FALSE:e.length===1?(we&&we(e[0],ar),e[0]):new K.OrFormula(e)};K.OrFormula=function(e){we&&we(e,Ti(ar)),this.operands=e};K._defineFormula(K.OrFormula,"or",{generateClauses:function(e,t){if(e)return t.clause(this.operands);var r=[];return Dt.each(this.operands,function(i){r.push.apply(r,t.generate(!1,i))}),r}});K.NotFormula=function(e){we&&we(e,ar),this.operand=e};K._defineFormula(K.NotFormula,"not");K.and=function(){var e=Dt.flatten(arguments);return e.length===0?K.TRUE:e.length===1?(we&&we(e[0],ar),e[0]):new K.AndFormula(e)};K.AndFormula=function(e){we&&we(e,Ti(ar)),this.operands=e};K._defineFormula(K.AndFormula,"and",{generateClauses:function(e,t){if(e){var r=[];return Dt.each(this.operands,function(i){r.push.apply(r,t.generate(!0,i))}),r}else return t.clause(Dt.map(this.operands,K.not))}});var rse=function(e,t){for(var r=[],i=0;i<e.length;i+=t)r.push(e.slice(i,i+t));return r};K.xor=function(){var e=Dt.flatten(arguments);return e.length===0?K.FALSE:e.length===1?(we&&we(e[0],ar),e[0]):new K.XorFormula(e)};K.XorFormula=function(e){we&&we(e,Ti(ar)),this.operands=e};K._defineFormula(K.XorFormula,"xor",{generateClauses:function(e,t){var r=this.operands,i=K.not;if(r.length>3)return t.generate(e,K.xor(Dt.map(rse(this.operands,3),function(o){return K.xor(o)})));if(e){if(r.length===0)return t.clause();if(r.length===1)return t.clause(r[0]);if(r.length===2){var s=r[0],n=r[1];return[t.clause(s,n),t.clause(i(s),i(n))]}else if(r.length===3){var s=r[0],n=r[1],a=r[2];return[t.clause(s,n,a),t.clause(s,i(n),i(a)),t.clause(i(s),n,i(a)),t.clause(i(s),i(n),a)]}}else{if(r.length===0)return[];if(r.length===1)return t.clause(i(r[0]));if(r.length===2){var s=r[0],n=r[1];return[t.clause(s,i(n)),t.clause(i(s),n)]}else if(r.length===3){var s=r[0],n=r[1],a=r[2];return[t.clause(i(s),i(n),i(a)),t.clause(i(s),n,a),t.clause(s,i(n),a),t.clause(s,n,i(a))]}}}});K.atMostOne=function(){var e=Dt.flatten(arguments);return e.length<=1?K.TRUE:new K.AtMostOneFormula(e)};K.AtMostOneFormula=function(e){we&&we(e,Ti(ar)),this.operands=e};K._defineFormula(K.AtMostOneFormula,"atMostOne",{generateClauses:function(e,t){var r=this.operands,i=K.not;if(r.length<=1)return[];if(r.length===2)return t.generate(e,K.not(K.and(r)));if(e&&r.length===3){for(var s=[],n=0;n<r.length;n++)for(var a=n+1;a<r.length;a++)s.push(t.clause(i(r[n]),i(r[a])));return s}else if(!e&&r.length===3){var o=r[0],u=r[1],d=r[2];return[t.clause(o,u),t.clause(o,d),t.clause(u,d)]}else{var m=rse(r,3),f=Dt.map(m,function(T){return K.or(T)});m[m.length-1].length<2&&m.pop();var x=Dt.map(m,function(T){return K.atMostOne(T)});return t.generate(e,K.and(K.atMostOne(f),x))}}});K.implies=function(e,t){return we&&Ec(arguments.length,2,"Logic.implies"),new K.ImpliesFormula(e,t)};K.ImpliesFormula=function(e,t){we&&we(e,ar),we&&we(t,ar),we&&Ec(arguments.length,2,"Logic.implies"),this.A=e,this.B=t};K._defineFormula(K.ImpliesFormula,"implies",{generateClauses:function(e,t){return t.generate(e,K.or(K.not(this.A),this.B))}});K.equiv=function(e,t){return we&&Ec(arguments.length,2,"Logic.equiv"),new K.EquivFormula(e,t)};K.EquivFormula=function(e,t){we&&we(e,ar),we&&we(t,ar),we&&Ec(arguments.length,2,"Logic.equiv"),this.A=e,this.B=t};K._defineFormula(K.EquivFormula,"equiv",{generateClauses:function(e,t){return t.generate(!e,K.xor(this.A,this.B))}});K.exactlyOne=function(){var e=Dt.flatten(arguments);return e.length===0?K.FALSE:e.length===1?(we&&we(e[0],ar),e[0]):new K.ExactlyOneFormula(e)};K.ExactlyOneFormula=function(e){we&&we(e,Ti(ar)),this.operands=e};K._defineFormula(K.ExactlyOneFormula,"exactlyOne",{generateClauses:function(e,t){var r=this.operands;return r.length<3?t.generate(e,K.xor(r)):t.generate(e,K.and(K.atMostOne(r),K.or(r)))}});K.Bits=function(e){we&&we(e,Ti(ar)),this.bits=e};K.constantBits=function(e){we&&we(e,K.isWholeNumber);for(var t=[];e;)t.push(e&1?K.TRUE:K.FALSE),e>>>=1;return new K.Bits(t)};K.variableBits=function(e,t){we&&we(t,K.isWholeNumber);for(var r=[],i=0;i<t;i++)r.push(e+"$"+i);return new K.Bits(r)};K.lessThanOrEqual=function(e,t){return new K.LessThanOrEqualFormula(e,t)};K.LessThanOrEqualFormula=function(e,t){we&&we(e,K.isBits),we&&we(t,K.isBits),we&&Ec(arguments.length,2,"Bits comparison function"),this.bits1=e,this.bits2=t};var ER=function(e,t,r,i){var s=[],n=e.bits.slice(),a=t.bits.slice();if(i&&!t.bits.length)return r.clause();for(;n.length>a.length;){var o=n.pop();s.push(r.clause(K.not(o)))}for(var u=Dt.map(a,function(m,f){return f<n.length?K.xor(n[f],m):m}),d=n.length-1;d>=0;d--)s.push(r.clause(u.slice(d+1),K.not(n[d]),a[d]));return i&&s.push.apply(s,r.generate(!0,K.or(u))),s};K._defineFormula(K.LessThanOrEqualFormula,"lte",{generateClauses:function(e,t){return e?ER(this.bits1,this.bits2,t,!1):ER(this.bits2,this.bits1,t,!0)}});K.lessThan=function(e,t){return new K.LessThanFormula(e,t)};K.LessThanFormula=function(e,t){we&&we(e,K.isBits),we&&we(t,K.isBits),we&&Ec(arguments.length,2,"Bits comparison function"),this.bits1=e,this.bits2=t};K._defineFormula(K.LessThanFormula,"lt",{generateClauses:function(e,t){return e?ER(this.bits1,this.bits2,t,!0):ER(this.bits2,this.bits1,t,!1)}});K.greaterThan=function(e,t){return K.lessThan(t,e)};K.greaterThanOrEqual=function(e,t){return K.lessThanOrEqual(t,e)};K.equalBits=function(e,t){return new K.EqualBitsFormula(e,t)};K.EqualBitsFormula=function(e,t){we&&we(e,K.isBits),we&&we(t,K.isBits),we&&Ec(arguments.length,2,"Logic.equalBits"),this.bits1=e,this.bits2=t};K._defineFormula(K.EqualBitsFormula,"equalBits",{generateClauses:function(e,t){for(var r=this.bits1.bits,i=this.bits2.bits,s=Math.max(r.length,i.length),n=[],a=0;a<s;a++)a>=r.length?n.push(K.not(i[a])):a>=i.length?n.push(K.not(r[a])):n.push(K.equiv(r[a],i[a]));return t.generate(e,K.and(n))}});K.HalfAdderSum=function(e,t){we&&we(e,ar),we&&we(t,ar),we&&Ec(arguments.length,2,"Logic.HalfAdderSum"),this.a=e,this.b=t};K._defineFormula(K.HalfAdderSum,"hsum",{generateClauses:function(e,t){return t.generate(e,K.xor(this.a,this.b))}});K.HalfAdderCarry=function(e,t){we&&we(e,ar),we&&we(t,ar),we&&Ec(arguments.length,2,"Logic.HalfAdderCarry"),this.a=e,this.b=t};K._defineFormula(K.HalfAdderCarry,"hcarry",{generateClauses:function(e,t){return t.generate(e,K.and(this.a,this.b))}});K.FullAdderSum=function(e,t,r){we&&we(e,ar),we&&we(t,ar),we&&we(r,ar),we&&Ec(arguments.length,3,"Logic.FullAdderSum"),this.a=e,this.b=t,this.c=r};K._defineFormula(K.FullAdderSum,"fsum",{generateClauses:function(e,t){return t.generate(e,K.xor(this.a,this.b,this.c))}});K.FullAdderCarry=function(e,t,r){we&&we(e,ar),we&&we(t,ar),we&&we(r,ar),we&&Ec(arguments.length,3,"Logic.FullAdderCarry"),this.a=e,this.b=t,this.c=r};K._defineFormula(K.FullAdderCarry,"fcarry",{generateClauses:function(e,t){return t.generate(!e,K.atMostOne(this.a,this.b,this.c))}});var nse=function(e){we&&we(e,Ti(Ti(ar)));for(var t=Dt.map(e,Dt.clone),r=0,i=[];r<t.length;){var s=t[r];if(!s.length)i.push(K.FALSE),r++;else if(s.length===1)i.push(s[0]),r++;else if(s.length===2){var n=new K.HalfAdderSum(s[0],s[1]),a=new K.HalfAdderCarry(s[0],s[1]);s.length=0,s.push(n),f2(t,r+1,a)}else{var o=s.pop(),u=s.pop(),d=s.pop(),n=new K.FullAdderSum(d,u,o),a=new K.FullAdderCarry(d,u,o);s.push(n),f2(t,r+1,a)}}return i},f2=function(e,t,r){for(;t>=e.length;)e.push([]);e[t].push(r)},ise=function(e,t){if(we&&we(e,Ti(ar)),typeof t=="number")we&&we(t,K.isWholeNumber);else if(we&&we(t,Ti(K.isWholeNumber)),e.length!==t.length)throw new Error("Formula array and weight array must be same length; they are "+e.length+" and "+t.length)};K.weightedSum=function(e,t){if(ise(e,t),e.length===0)return new K.Bits([]);typeof t=="number"&&(t=Dt.map(e,function(){return t}));var r=[];return Dt.each(e,function(i,s){for(var n=t[s],a=0;n;)n&1&&f2(r,a,i),n>>>=1,a++}),new K.Bits(nse(r))};K.sum=function(){var e=Dt.flatten(arguments);we&&we(e,Ti(tse));var t=[];return Dt.each(e,function(r){r instanceof K.Bits?Dt.each(r.bits,function(i,s){f2(t,s,i)}):f2(t,0,r)}),new K.Bits(nse(t))};K.Solver.prototype.solve=function(e){var t=this;if(e!==void 0&&!(e>=1))throw new Error("_assumpVar must be a variable number");if(t._unsat)return null;for(;t._numClausesAddedToMiniSat<t.clauses.length;){var r=t._numClausesAddedToMiniSat,i=t.clauses[r].terms;we&&we(i,Ti(K.isNumTerm));var s=t._minisat.addClause(i);if(t._numClausesAddedToMiniSat++,!s)return t._unsat=!0,null}we&&we(this._num2name.length-1,K.isWholeNumber),t._minisat.ensureVar(this._num2name.length-1);var s=e?t._minisat.solveAssuming(e):t._minisat.solve();return s?new K.Solution(t,t._minisat.getSolution()):(e||(t._unsat=!0),null)};K.Solver.prototype.solveAssuming=function(e){we&&we(e,ar);var t=new K.Assumption(e),r=this._formulaToTerm(t);if(!(typeof r=="number"&&r>0))throw new Error("Assertion failure: not a positive numeric term");this._useFormulaTerm(r);var i=this.solve(r);return this._minisat.retireVar(r),i};K.Assumption=function(e){we&&we(e,ar),this.formula=e};K._defineFormula(K.Assumption,"assump",{generateClauses:function(e,t){return e?t.clause(this.formula):t.clause(K.not(this.formula))}});K.Solution=function(e,t){var r=this;r._solver=e,r._assignment=t,r._ungeneratedFormulas=Dt.clone(e._ungeneratedFormulas),r._formulaValueCache={},r._termifier=new K.Termifier(r._solver),r._termifier.term=function(i){return r.evaluate(i)?K.NUM_TRUE:K.NUM_FALSE},r._ignoreUnknownVariables=!1};K.Solution.prototype.ignoreUnknownVariables=function(){this._ignoreUnknownVariables=!0};K.Solution.prototype.getMap=function(){for(var e=this._solver,t=this._assignment,r={},i=1;i<t.length;i++){var s=e.getVarName(i);s&&s.charAt(0)!=="$"&&(r[s]=t[i])}return r};K.Solution.prototype.getTrueVars=function(){for(var e=this._solver,t=this._assignment,r=[],i=1;i<t.length;i++)if(t[i]){var s=e.getVarName(i);s&&s.charAt(0)!=="$"&&r.push(s)}return r.sort(),r};K.Solution.prototype.getFormula=function(){for(var e=this._solver,t=this._assignment,r=[],i=1;i<t.length;i++){var s=e.getVarName(i);s&&s.charAt(0)!=="$"&&r.push(t[i]?i:-i)}return K.and(r)};K.Solution.prototype.evaluate=function(e){var t=this;if(we&&we(e,tse),e instanceof K.Bits){var r=0;return Dt.each(e.bits,function(F,$){t.evaluate(F)&&(r+=1<<$)}),r}var i=t._solver,s=t._ignoreUnknownVariables,n=t._assignment,a=e;if(a instanceof K.NotFormula)return!t.evaluate(a.operand);if(a instanceof K.Formula){var o=t._formulaValueCache[a.guid()];if(typeof o=="boolean")return o;var u,d=i._getFormulaInfo(a,!0);if(d&&d.varNum&&d.varNum<n.length&&!Dt.has(t._ungeneratedFormulas,d.varNum))u=n[d.varNum];else var m=i._generateFormula(!0,a,t._termifier),u=Dt.all(m,function($){return Dt.any($.terms,function(H){return t.evaluate(H)})});return t._formulaValueCache[a.guid()]=u,u}else{var f=i.toNumTerm(a,!0);if(!f){if(s)return!1;var x=String(a).replace(/^-*/,"");throw new Error("No such variable: "+x)}var T=f,q=!1;if(f<0&&(T=-T,q=!0),T<1||T>=n.length){var x=T;if(T>=1&&T<i._num2name.length&&(x=i._num2name[T]),s)return!1;throw new Error("Variable not part of solution: "+x)}var r=n[T];return q&&(r=!r),r}};K.Solution.prototype.getWeightedSum=function(e,t){ise(e,t);var r=0;if(typeof t=="number")for(var i=0;i<e.length;i++)r+=t*(this.evaluate(e[i])?1:0);else for(var i=0;i<e.length;i++)r+=t[i]*(this.evaluate(e[i])?1:0);return r};var sse=function(e,t){if(typeof t=="number")return t?e:[];for(var r=[],i=0;i<e.length;i++)t[i]&&r.push(e[i]);return r},ase=function(e,t,r,i,s,n){var a=t,o=a.getWeightedSum(r,i),u=s&&s.formula,d=u||K.weightedSum(r,i),m=s&&s.progress,f=s&&s.strategy,x=null;if(n&&o>0){m&&m("trying",0);var T=null;x=sse(r,i);var T=e.solveAssuming(K.not(K.or(x)));T&&(a=T,o=0)}if(n&&f==="bottom-up")for(var q=1;q<o;q++){m&&m("trying",q);var F=K.equalBits(d,K.constantBits(q)),$=e.solveAssuming(F);if($){a=$,o=q;break}}else{if(f&&f!=="default")throw new Error("Bad strategy: "+f);f="default"}if(f==="default")for(;n?o>0:!0;){m&&m("improving",o);var H=(n?K.lessThan:K.greaterThan)(d,K.constantBits(o)),$=e.solveAssuming(H);if(!$)break;e.require(H),a=$,o=a.getWeightedSum(r,i)}return n&&o===0?(x||(x=sse(r,i)),e.forbid(x)):e.require(K.equalBits(d,K.constantBits(o))),m&&m("finished",o),a};K.Solver.prototype.minimizeWeightedSum=function(e,t,r,i){return ase(this,e,t,r,i,!0)};K.Solver.prototype.maximizeWeightedSum=function(e,t,r,i){return ase(this,e,t,r,i,!1)};Qie.exports=K}),fse=O((Nrt,cse)=>{var Iy=require("assert"),Sc=Tt(),ap=ose(),lse=Bi(),op=rr();function SR(e,t,r){Iy(!r||["minor","major"].includes(r),"Expected [upperBoundType] to be undefined, [minor] or [major]");let i;if(r){let s=lse.inc(t,`pre${r}`);i=`>=${t} <${s}`}else i=`>=${t}`;return lse.satisfies(e,i,{includePrerelease:!0})}function use(e,t){return Sc.map(t,(r,i)=>{let s=e.filter(o=>o.name===i),n=s.filter(o=>o.overridesCandidatesWithSameName);if(n.length>0)return Iy(n.length===1,"There should only be one package candidate overriding all packages with the same name"),n;let a=s.filter(o=>SR(o.version,r));return a}).filter(r=>r.length>0).map(r=>Sc.map(r,"packageId"))}function gFe(e,t){return use(e,t).map(r=>(op.silly(`Constraint (direct dependency): [${r.join(" || ")}]`),ap.or(r)))}function yFe(e){return[].concat(...e.map(t=>use(e,t.requiredPackages).map(r=>(op.silly(`Constraint (transitive dependency): [${t.packageId}] => [${r.join(" || ")}]`),ap.implies(t.packageId,ap.or(r))))))}function vFe(e){return Sc(e).groupBy("name").filter(t=>t.length>1).map(t=>{let r=Sc.map(t,"packageId");return op.silly(`Constraint (package unicity): at most one of [${r.join(", ")}]`),ap.atMostOne(r)}).value()}function _Fe(e,t){return Sc(e).omitBy(r=>t[r.name]).groupBy("name").map((r,i)=>{let s=Sc.map(r,"packageId"),n=e.filter(o=>o.requiredPackages&&o.requiredPackages[i]),a=Sc.map(n,"packageId");return op.silly(`Constraint (package necessity): [${s.join(" || ")}] => [${a.join(" || ")}]`),ap.implies(ap.or(s),ap.or(a))}).value()}function wFe(e,t){Iy(e,"Expected 'packageCandidates' to be defined"),Iy(t,"Expected 'projectDependencies' to be defined");let r=new ap.Solver;return op.debug("Building dependency solver"),[...gFe(e,t),...yFe(e),...vFe(e),..._Fe(e,t)].forEach(i=>{r.require(i)}),r}function bFe(e,t,r){let[i,s]=Sc.partition(t,m=>e.getVarNum(m.packageId,!0));if(s.length>0){let m=s.map(f=>f.packageId);op.debug(`Skipping invalid package candidates: ${m.join(",")}`)}let n=i.filter(m=>!m.isLocked),a=Sc.keys(r).length,o=Sc.keys(Sc.countBy(i,"name")).length,u={NotAnUpgrade:1,PatchUpgrade:o+1,MinorUpgrade:(o+1)*a,MajorUpgrade:(o+1)*a**2};u.MajorUpgrade>Number.MAX_SAFE_INTEGER&&op.warn("Too many packages considered by the resolution algorithm, the selected solution might not be optimal or deterministically chosen.");let d={formulas:[],weights:[]};return n.forEach(m=>{d.formulas.push(m.packageId);let f=r[m.name];!f||f===m.version||m.overridesCandidatesWithSameName?d.weights.push(u.NotAnUpgrade):SR(m.version,f,"minor")?d.weights.push(u.PatchUpgrade):SR(m.version,f,"major")?d.weights.push(u.MinorUpgrade):SR(m.version,f)?d.weights.push(u.MajorUpgrade):Iy.fail("No candidate with a lower SemVer than a matching project dependency should even be considered")}),d}function xFe(e,t){let r=wFe(e,t),i=r.solve();Iy(i!=null,"Expected to find a solution");let s=bFe(r,e,t),n=r.minimizeWeightedSum(i,s.formulas,s.weights),a=n.getTrueVars();return op.debug(`Optimal solution for this manifest and lock data: [${a.join(", ")}]`),a}cse.exports={computeSolution:xFe}}),RR=O((Mrt,hse)=>{var pse=require("assert"),h2=Tt(),qy=Bi(),EFe=rr(),SFe=P4(),dse=yt(),RFe=cR(),qN=Hi(),mse=a2();async function gse(e,t,r,i){let s={name:e,target:t},n={offlineMode:i},a=await RFe.getPackageMetadata(s,r,n);return h2.values(a)}function AFe(e,t,r){let i=r.unity.bundledPackageIds.map(s=>{let[n,a]=qN.splitPackageId(s);return{name:n,version:a}}).filter(({name:s,version:n})=>s===e&&qN.matchesVersionRange(n,t));return Promise.all(i.map(async({name:s,version:n})=>{let a=await gse(s,n,r,!0);return pse(a.length===1,`Expected to find bundled package ${s}@${n} in npm cache`),a[0]}))}async function yse(e,t){let[r,i]=qN.splitPackageSearchQuery(e),[s,n]=await Promise.all([AFe(r,i,t),gse(r,i,t,t.offlineMode)]),a={...h2.keyBy(s,"version"),...h2.keyBy(n,"version")},o=SFe.getManifest(r,i,t);return o&&(a[o.version]=o),h2.values(a)}function TFe(e,t){return!t||!e||qy.lte(mse.parseUnityVersion(e),mse.parseUnityVersion(t))}function vse(e,t){return!t||qy.gte(e,t)}function CFe(e,t,r){try{let i=e.unity&&e.unityRelease?[e.unity,e.unityRelease].join("."):e.unity;return!r.isDeprecated&&TFe(i,t)&&vse(e.version,r.minimumVersion)}catch(i){return EFe.debug(`Failed to determine if package '${e.name}@${e.version}' is compatible with Unity version '${t}': ${i}`),!1}}function _se(e,t,r){return e.filter(i=>CFe(i,t,r[i.name]||{}))}function OFe(e,t){if(e.length===0)throw new dse.InvalidParameter("versions list is empty");let r=_se(e,t.version,t.packageMetadata);if(r.length===0)throw new dse.CompatiblePackageNotFound(`Cannot find a version of package [${e[0].name}] compatible with this Unity version (${t.version}).`);let i=r.map(n=>n.version),s=qy.maxSatisfying(i,"*")||qy.sort(i).pop();return r.find(n=>n.version===s)}function kFe(e,t){if(e.length===0)return null;let r=h2.uniq(e.map(a=>a.name));pse(r.length===1,"All manifests must have the same name");let i=r[0];if(t.builtInPackages[i])return t.builtInPackages[i].manifest;let s=t.verifiedPackages[i],n=s?qy.maxSatisfying(e.map(a=>a.version),`~${s}`):null;return n?e.find(a=>a.version===n):null}async function PFe(e,t){let r=await yse(e,t);r.sort((n,a)=>qy.compare(n.version,a.version));let i=_se(r,t.unity.version,t.unity.packageMetadata),s=kFe(i,t.unity);return{all:r,compatible:i,verified:s}}hse.exports={searchPackageVersions:yse,getGreatestVersion:OFe,getVersionsInfo:PFe,satisfiesMinimumVersion:vse}}),Ese=O((Lrt,wse)=>{var bse=Bi(),IFe=rr(),p2=Ar(),qFe=CN(),xse=RR();async function NFe(e,t){let{compatible:r}=await xse.getVersionsInfo(e,t);return r.map(i=>i.version)}function MFe(e,t){if(t===p2.RESOLUTION_STRATEGY.HighestPatch)return`~${e}`;if(t===p2.RESOLUTION_STRATEGY.HighestMinor)return`^${e}`;if(t===p2.RESOLUTION_STRATEGY.Highest)return`>=${e}`;throw new Error(`Resolution strategy [${t}] is not supported`)}async function LFe(e,t,r,i){let{resolutionStrategy:s}=i.configuration;if(s===p2.RESOLUTION_STRATEGY.Lowest)return t;let n=MFe(t,s),a=qFe.getLockedVersion(e,r,i);if(bse.satisfies(a,n))return a;try{let o=await NFe(e,i),u=bse.maxSatisfying(o,n);return u||t}catch(o){return IFe.error(`Failed to fetch compatible versions for package [${e}], resolution strategy cannot be applied.`),t}}async function DFe(e,t,r,i){let{builtInPackages:s,packageMetadata:n}=i.unity,a=s[e];if(a&&a.manifest.version===t)return{name:e,requested:t,selected:a.manifest.version};let o=await LFe(e,t,r,i),u=n[e];return u&&!xse.satisfiesMinimumVersion(o,u.minimumVersion)?{name:e,requested:t,selected:u.minimumVersion,overrideReason:{message:`Requested version [${t}] for package [${e}] overridden by minimum version [${u.minimumVersion}].`,severity:p2.LOG_SEVERITY.Warn}}:{name:e,requested:t,selected:o}}wse.exports={resolveDependencyVersion:DFe}}),AR=O((Drt,Sse)=>{var jr=Tt(),cp=Bi(),NN=rr(),jl=Ar(),d2=yt(),$Fe=j4(),Rse=CN(),Ny=Hi(),MN=yf(),jFe=fse(),FFe=Ese();async function Ase(e,t,r,i){let s,n=await MN.getPackageResolutionInfo(e,t,i);try{n=await MN.resolvePackageManifest(n,i),n.manifest.name!==e&&(s=new d2.InvalidManifest(`The requested dependency '${e}' does not match the \`name\` '${n.manifest.name}' specified in the package manifest of [${e}@${t}]`))}catch(m){s=m}let{manifest:a}=n,{relatedPackages:o,type:u}=a||{},d;return a?u!==jl.PACKAGE_TYPE.Feature?d=a.dependencies:d=jr.mapValues(a.dependencies,(m,f)=>m===jl.DEFAULT_DEPENDENCY_VERSION?jr.get(i,`unity.verifiedPackages['${f}']`,m):m):d=Rse.getLockedDependencies(n,r),{isLocked:t===Rse.getLockedVersion(e,r,i),name:e,version:t,error:s,manifest:a,resolutionInfo:n,dependencies:d,relatedPackages:o,type:u}}function BFe(e,t,r,i,s,n){if(e===r)return new d2.InvalidManifest("A package cannot have a dependency on itself");if(s.depth!==0){try{if(Ny.validatePackageName(e),i===jl.PACKAGE_TYPE.Feature&&t===jl.DEFAULT_DEPENDENCY_VERSION)return new d2.NotFound(`Could not find a default package version to resolve dependency '${e}' of dependent package '${r}'.`);Ny.validateSemverPackageVersion(t)}catch(m){return m}let{version:a,resolvedVersion:o,error:u}=s,{requested:d}=o||{};if(u&&(t===a||t===d))return u}return n&&n.isError?new d2.Conflict(n.message):null}async function Tse(e,t,r){let i=await Promise.all(jr.map(e,async(s,n)=>{try{Ny.validatePackageName(n),Ny.validateSemverPackageVersion(s)}catch(u){return NN.warn(`Skipping invalid dependency "${n}": "${s}":
  ${u}`),null}let a=await FFe.resolveDependencyVersion(n,s,t,r),o=await Ase(n,a.selected,t,r);return o.resolvedVersion=a,o}));return jr.filter(i)}async function Cse(e,t,r){return Promise.all(jr.map(e,async(i,s)=>{try{Ny.validatePackageName(s),Ny.validatePackageVersion(i)}catch(n){return{error:n,name:s,version:i,resolutionInfo:await MN.getPackageResolutionInfo(s,i,r)}}return Ase(s,i,t,r)}))}function UFe(e){return e.reduce((t,r)=>(jr.forOwn(r,(i,s)=>{let n=t[s];cp.valid(i)&&(!n||cp.gt(i,n))&&(t[s]=i)}),t),{})}async function Ose(e,t,r){let i=UFe(e);return Tse(i,t,r)}function LN(e){return!e.manifest||e.type===jl.PACKAGE_TYPE.Tests}async function HFe(e,t,r,i,s){let n=e.filter(u=>i.includes(u.name)),a=n.map(u=>{let d=jr.omit(u.relatedPackages,t);return d}),o=await Ose(a,r,s);return o.filter(LN)}async function GFe(e,t,r,i){let s=e.map(a=>jr.omit(a.dependencies,t)),n=await Ose(s,r,i);return n}async function zFe(e,t,r,i){NN.info("Resolving dependencies by depth");let s=await Cse(e,t,i);return async function n(a,o,u){a.forEach(T=>{T.depth=u}),o=o.concat(a);let d=o.map(T=>T.name),m=await GFe(a,d,t,i);d.push(...m.map(T=>T.name));let f=await HFe(a,d,t,r,i),x=[...m,...f];return x.length===0?o:n(x,o,u+1)}(s,[],0)}function VFe(e,t){let{dependencies:r={},depth:i,isLocked:s,name:n,relatedPackages:a,resolutionInfo:{packageId:o,source:u},version:d}=e,m=jr.pick(a,t),f={...m,...r},x=u===jl.PACKAGE_SOURCE.BuiltIn||u!==jl.PACKAGE_SOURCE.Registry&&i===0;return{isLocked:s,name:n,overridesCandidatesWithSameName:x,packageId:o,requiredPackages:f,version:d}}async function WFe(e,t,r,i){if(jr.isEmpty(e))return[];let s=await Cse(e,t,i);s.forEach(u=>{u.depth=0});let n=jr.keyBy(s,"resolutionInfo.packageId"),a=[...s],o=u=>{let d=u.resolutionInfo.packageId;if(n[d])return!1;let m=jr.get(e,u.name);return!m||`${u.name}@${m}`===d||cp.satisfies(u.version,`>=${m}`,{includePrerelease:!0})};for(;a.length>0;){let u=a.pop(),{depth:d,name:m,dependencies:f,relatedPackages:x}=u,T=jr.omit({...r.includes(m)?x:null,...f},m),q=await Tse(T,t,i),F=H=>jr.keys(f).includes(H.name),$=q.filter(H=>o(H)&&(F(H)||LN(H)));$.forEach(H=>{H.depth=d+1}),a=[...$,...a],Object.assign(n,jr.keyBy($,"resolutionInfo.packageId"))}return jr.values(n)}function KFe(e,t){let r=e.filter(LN).map(n=>n.name),i=e.map(n=>VFe(n,r)),s=jFe.computeSolution(i,t);return e.filter(n=>s.includes(n.resolutionInfo.packageId))}async function XFe(e,t,r,i){NN.info("Resolving dependencies using SAT solver");let s=await WFe(e,t,r,i),n=KFe(s,e),a=s.filter(o=>o.error&&!jr.some(n,u=>u.name===o.name));return[...n,...a]}function YFe(e,t){let{name:r,dependenciesErrors:i}=e,s={},n=new Set,a=Object.keys(jr.pickBy(i,m=>!(m instanceof d2.Conflict))),o=m=>{jr.keys(m).filter(f=>f!==r&&!s[f]&&!n.has(f)).forEach(f=>{let x=t[f];x&&x.manifest?(s[f]=x,o(x.dependencies)):a.includes(f)||n.add(f)})};o(e.dependencies);let[u,d]=jr.partition([...n],m=>e.dependencies[m]);return{flattenedDependencies:s,missingDependencies:{direct:u,indirect:d}}}function JFe(e,t){return!cp.valid(e)||!cp.valid(t)?null:cp.gt(e,t)?{message:`Resolved version [${t}] does not satisfy requested version [${e}]`,isError:!0,severity:jl.LOG_SEVERITY.Warn}:cp.major(e)!==cp.major(t)?{message:`Resolved version [${t}] has a different 'major' than requested version [${e}]`,isError:!1,severity:jl.LOG_SEVERITY.Info}:null}function ZFe(e,t,r){let i=t[e]||{},s=r.includes(e),n=s&&i.relatedPackages||void 0,a={...i.dependencies,...n},o=jr(a).mapValues((F,$)=>{let{manifest:H,version:oe}=t[$]||{},Q=H&&oe;return JFe(F,Q)}).pickBy((F,$)=>F&&$!==e).value(),u=jr(a).mapValues((F,$)=>BFe($,F,e,i.type,t[$]||{},o[$])).pickBy().value(),d=n&&Object.keys(u).filter(F=>jr.has(n,F)),m=jr.omitBy({name:e,version:i.version,dependencies:i.dependencies,testable:s||i.type===jl.PACKAGE_TYPE.Tests,depth:i.depth,dependenciesErrors:u,relatedPackagesWithErrors:d,conflicts:o,resolutionInfo:i.resolutionInfo},jr.isUndefined),{resolvedVersion:f,manifest:x,error:T}=i,{overrideReason:q}=f||{};return Object.assign(m,jr.pickBy({manifest:x,error:T,overrideReason:q}))}async function QFe(e,t,r){$Fe.setGitLock(r.git,t);let i=e.testables||[],s=e.dependencies||{},{useSatSolver:n}=r.configuration,a=n?XFe:zFe,o=await a(s,t,i,r),u=jr.keyBy(o,"name"),d=Object.keys(u).reduce((m,f)=>(m[f]=ZFe(f,u,i),m),{});return jr.mapValues(d,m=>Object.assign(m,YFe(m,d)))}Sse.exports={resolveDependencies:QFe}}),m2=O(($rt,kse)=>{var e8e=require("assert"),t8e=require("path"),c0=Tt(),r8e=Ar(),n8e=AR(),i8e=yt(),s8e=Oy(),a8e=Hi(),Pse=yf(),o8e=rf();function c8e(e,t){return c0.merge({dependencies:{}},e,t)}function l8e(e){return Pse.getEmbeddedPackageManifests(e).then(t=>{let r={},i=null;return r.dependencies=c0.mapValues(t.manifests,s=>`${r8e.LOCAL_PATH_PACKAGE}${t8e.relative(e,s.path)}`),t.errors.length>0&&(i=new i8e.InvalidManifest(`Folder [${e}] contains invalid packages`,...t.errors)),{manifest:r,error:i}})}async function Ise(e,t){let r=await l8e(t.projectPath);return{manifest:c8e(e,r.manifest,t.projectPath),errors:r.error?[r.error]:[]}}async function u8e(e,t,r){e8e(r.projectPath,"context.projectPath is required");let i=await Ise(e,r),s=await n8e.resolveDependencies(i.manifest,t,r),n=c0.pickBy(s,u=>u.manifest);o8e.init(n,r);let a=await Pse.installPackages(c0.mapValues(n,"resolutionInfo"),r);c0.each(n,u=>{let{name:d}=u,{resolvedPath:m,error:f}=a[d];m!==void 0&&(u.resolutionInfo={...c0.omit(u.resolutionInfo,"error"),resolvedPath:m}),f!==void 0&&(u.resolutionInfo.error=f)});let o=c0(e.dependencies).map(u=>a8e.getAbsolutePathFromVersion(u,r.projectPath)).uniq().value().filter(u=>u);return{resolvedDependencies:s,lock:s8e.refreshLock(t,s),manifestErrors:i.errors,localPaths:o}}kse.exports={resolveManifests:Ise,resolvePackages:u8e}}),Nse=O((jrt,qse)=>{"use strict";qse.exports=function(){return/^\s*([^<(]*?)\s*([<(]([^>)]*?)[>)])?\s*([<(]([^>)]*?)[>)])*\s*$/}}),Lse=O((Frt,Mse)=>{"use strict";var f8e=Nse();Mse.exports=function(e){if(typeof e!="string")throw new TypeError("expected author to be a string");if(!e||!/\w/.test(e))return{};var t=[].concat.apply([],f8e().exec(e)),r={};t[1]&&(r.name=t[1]);for(var i=2;i<t.length;i++){var s=t[i];i%2===0&&s&&t[i+1]&&(s.charAt(0)==="<"?(r.email=t[i+1],i++):s.charAt(0)==="("&&(r.url=t[i+1],i++))}return r}}),l0=O((Brt,Dse)=>{var DN=require("assert"),h8e=require("path"),Ci=Tt(),p8e=bn(),d8e=Lse(),m8e=Bi(),$se=rr(),hi=Ar(),$N=yt(),g8e=Hi(),y8e=bN(),v8e=oa(),_8e=dN(),w8e=O_(),b8e=yN(),x8e=RR(),E8e=["type","url","revision","path"];function S8e(e){return{name:"",email:"",url:"",...Ci.isString(e)?d8e(e):Ci.pick(e,["name","email","url"])}}function R8e(e){let t={};return Ci.values(hi.PACKAGE_STATUS).forEach(r=>{t[r]=0}),e.forEach(r=>{let i=hi.PACKAGE_STATUS.Unavailable;r.inProgress&&(i=hi.PACKAGE_STATUS.InProgress),r.resolvedPath&&(i=hi.PACKAGE_STATUS.Available),DN(!r.error,"The aggregated status is only computed when there are no errors"),t[i]+=1}),t[hi.PACKAGE_STATUS.InProgress]>0?hi.PACKAGE_STATUS.InProgress:t[hi.PACKAGE_STATUS.Available]>0&&t[hi.PACKAGE_STATUS.Unavailable]===0?hi.PACKAGE_STATUS.Available:hi.PACKAGE_STATUS.Unavailable}function A8e(e,t){let r=p8e.string().uri({scheme:["http","https"]}),i=r.validate(e);return!e||i.error?($se.warn(`The value ${e} in manifest.${t} is not a valid URL. It will not be included in the package info.`),!1):!0}function T8e(e,t,r){let{packageId:i,git:s,resolvedPath:n,source:a}=r,{all:o,compatible:u,verified:d}=t,m=hi.PACKAGE_STATUS.Unavailable,f=Ci.omitBy({packageId:i,testable:a===hi.PACKAGE_SOURCE.Embedded,name:e.name,version:e.version,keywords:[...e.keywords||[]],resolvedPath:n&&h8e.normalize(n)||"",category:e.category||"",type:e.type||"",displayName:e.displayName||"",description:e.description||"",dependencies:{...e.dependencies},isRootDependency:!1,status:m,errors:[],resolvedDependencies:{},versions:{all:o&&o.map(F=>F.version)||[],compatible:u&&u.map(F=>F.version)||[],verified:d&&d.version||""},source:a,isAssetStorePackage:e.entitlementsInfo===void 0?void 0:e.entitlementsInfo.licenseType===hi.ENTITLEMENT_LICENSE_TYPES.AssetStore,entitlementsInfo:e.entitlementsInfo,_upm:e._upm},Ci.isUndefined);e.author&&(f.author=S8e(e.author)),e.hideInEditor!==void 0&&(f.hideInEditor=Boolean(e.hideInEditor));let x=Ci.pick(e.repository,E8e);if(x&&!Ci.isEmpty(x)&&(f.repository=x),f.source===hi.PACKAGE_SOURCE.Git){let{revision:F,hash:$}=s;f.git=Ci.pickBy({revision:F,hash:$})}e.unity&&(f.minimumUnityVersion=`${e.unity}.${e.unityRelease||"0a1"}`);let T=Ci.pick(e,["documentationUrl","changelogUrl","licensesUrl"]),q=Ci.pickBy(T,(F,$)=>F&&A8e(F,$));return Object.assign(f,q),f}function C8e(e,t){let r=t.unity&&t.unity.packageMetadata&&t.unity.packageMetadata[e];return Ci.pick(r,"version","nextVersion")}async function jse(e,t,r){DN(e,"`manifest` parameter is required");let{name:i}=e,s={};try{s=await x8e.getVersionsInfo(i,r)}catch(d){$se.verbose(`Failed to fetch version information for package ${e.name}`,d)}let n=T8e(e,s,t),a=C8e(i,r);if(Ci.isEmpty(a)||(n.unityLifecycle=a),n.source===hi.PACKAGE_SOURCE.Registry){let{all:d}=s,m=d&&d.find(T=>T.version===e.version),f=m||e,x=Ci.pickBy({tarball:await _8e.getTarballInfo(f,r),datePublished:f._time});Object.assign(n,x)}else if(n.source===hi.PACKAGE_SOURCE.LocalTarball){let d=await b8e.getTarballInfo(i,g8e.splitPackageId(t.packageId)[1],r);DN(d.size&&d.localPath,"Expected `tarball` to have a size and path"),n.tarball=Ci.pick(d,["localPath","size"])}let o=n.source===hi.PACKAGE_SOURCE.Registry?t.registry:v8e.getRegistryByScope(i,r.configuration.registries);n.registry=y8e.getRegistryInfo(o);let u=await w8e.getSignatureStatus(i,t.version,n.source,r);return u&&(n.signature=u),n}function O8e(e){let t=[];return Ci.isEmpty(e.dependenciesErrors)||t.push(new $N.DependenciesError("Package has invalid dependencies",e.dependenciesErrors)),e.missingDependencies.direct.length>0&&t.push(new $N.UpmError(`The following dependencies could not be resolved:
  ${e.missingDependencies.direct.join(`
  `)}`)),e.missingDependencies.indirect.length>0&&t.push(new $N.UpmError(`The following indirect dependencies could not be resolved:
  ${e.missingDependencies.indirect.join(`
  `)}`)),t}function k8e(e,t,r){let i=O8e(t),s=r.map(u=>u.error),n=[t.error,...i,...s].filter(u=>u).map(u=>u.message),a=n.length>0?hi.PACKAGE_STATUS.Error:R8e(r),o=Ci.mapValues(t.flattenedDependencies,u=>u.manifest.version);return Object.assign(e,{errors:n,status:a,resolvedDependencies:o,testable:e.testable||t.testable})}async function P8e(e,t,r){let{manifest:i}=e,{name:s,version:n,flattenedDependencies:a,resolutionInfo:o}=e,u=[o];i?u.push(...Ci.map(a,f=>f.resolutionInfo)):i={name:s||"unspecified",version:m8e.valid(n)?n:"0.0.0"};let d=await jse(i,o,r),m=Ci.get(t.dependencies,s);return m!==void 0&&(d.projectDependenciesEntry=m),d.isRootDependency=m!==void 0||d.source===hi.PACKAGE_SOURCE.Embedded,k8e(d,e,u)}Dse.exports={getPackageInfo:jse,convertResolvedDependencyToPackageInfo:P8e}}),CR=O((Urt,Fse)=>{var TR=require("assert"),Bse=rr(),My=yt(),Use=VE(),I8e=cR(),Hse=Qd(),Gse=Hi(),q8e=l0(),N8e=yf(),jN=oa(),zse=RR();function Vse(e,t){let r=Gse.isPackageId(e);return zse.searchPackageVersions(e,t).then(i=>{if(i.length===0)throw new My.NotFound(`Package [${e}] cannot be found`);return r?(TR(i.length===1,`Expected to find only one manifest for ${e}`),i[0]):zse.getGreatestVersion(i,t.unity)})}async function Wse(e,t){TR(t.unity.version,"context.unity.version is required");let r=await Vse(e,t),i=await N8e.getPackageResolutionInfo(r.name,r.version,t);return q8e.getPackageInfo(r,i,t)}async function M8e(e){try{return await Vse(e.configuration.registries.main.metadataPackageName,e)}catch(t){return Bse.debug(`Excluding remote list from search results:
  ${t}`),{}}}async function L8e(e,t,r){TR(!r.offlineMode,"This operation is not supported in offline mode");let i=await Hse.searchPackages(t,e,r.configuration);return i.map(s=>s.name)}async function D8e(e,t){let{offlineMode:r}=t;if(!r)try{let s=await Promise.all(e.scopes.map(n=>L8e(n,e,t)));return[].concat(...s)}catch(s){if(!(s instanceof My.NotFound))throw s}let i={offlineMode:r};return I8e.getAllPackageNames(e,t,i)}async function $8e(e){let{configuration:t}=e,r=await Promise.all(t.registries.scoped.map(async i=>{let s=await D8e(i,e);return s.filter(n=>jN.getRegistryByScope(n,t.registries)===i)}));return[].concat(...r)}function j8e(e){let t=e.unity.bundledPackageIds.map(a=>Gse.splitPackageId(a)[0]),r=Object.keys(e.unity.builtInPackages),i=Object.keys(e.unity.verifiedPackages),s=Object.keys(e.unity.preReleasePackages),n=[...t,...r,...i,...s];return e.configuration.discoverability.excludeNonDiscoverable?n.filter(a=>e.unity.discoverablePackages.includes(a)):n}async function F8e(e){if(!e.configuration.discoverability.includeRemoteList)return[];let t=await M8e(e);return t.searchablePackages||[]}async function B8e(e){let{url:t}=e.configuration.registries.main;if(e.offlineMode||!jN.isGenesisRegistryUrl(t))return[];let r,i={entitlement:"enterprise",host:"editor"};try{r=await Use.search(t,e,i)}catch(s){if(s instanceof My.NotFound)return[];throw s}return r.packages.map(s=>s.name)}async function U8e(e){let t=j8e(e),[r,i,s]=await Promise.all([F8e(e),$8e(e),B8e(e)]);return[...new Set([...t,...r,...i,...s])].sort()}async function H8e(e){TR(e.unity.version,"context.unity.version is required");try{let t=await U8e(e),r=await Promise.all(t.map(async i=>{try{return await Wse(i,e)}catch(s){if(s instanceof My.ConnectionError)throw s;return Bse.verbose(`Package [${i}] excluded from searchAllPackages result: ${s}`),null}}));return r.filter(i=>i)}catch(t){throw t instanceof My.UpmError&&t.prependErrorMessage(`Unable to perform ${e.offlineMode?"offline":"online"} search`),t}}async function G8e(e,t={}){let{url:r}=t.registry?jN.getRegistryById(t.registry,e.configuration.registries):e.configuration.registries.main,i;try{i=await Use.search(r,e,t)}catch(s){if(s instanceof My.NotFound)i=await Hse.search(r,e,t);else throw s}return i}Fse.exports={search:G8e,searchPackage:Wse,searchAllPackages:H8e}}),BN=O((Hrt,Kse)=>{var FN=require("assert"),ti=Tt(),Xse=Ar(),Rc=yt(),z8e=Oy(),g2=Hi(),Yse=yf(),V8e=m2(),W8e=CR(),K8e=lx();async function Jse(e,t){if(g2.isPackageId(e)){let[s,n]=g2.splitPackageIdSafe(e);return{name:s,version:n}}if(g2.isPackageId(`name@${e}`)){let s=await Yse.getPackageResolutionInfo("",e,t);if(s.source!==Xse.PACKAGE_SOURCE.Registry){if(!s.name){let{manifest:n}=await Yse.resolvePackageManifest(s,t);s.name=n.name}return{name:s.name,version:s.version}}}let[r]=g2.splitPackageIdSafe(e);g2.validatePackageName(r);let i=await W8e.searchPackage(e,t);return{name:i.name,version:i.version}}async function X8e(e,t){let r={},i=(await Promise.all(e.map(async(s,n)=>{try{let a=await Jse(s,t);return a}catch(a){return r[n]=a,null}}))).filter(s=>s);return{solvedIdentifiers:i,addErrors:r}}function Y8e(e,t){let r=[...e,...t],i=ti.uniq(r.filter((u,d)=>r.indexOf(u)!==d));if(ti.isEmpty(i))return;let s=u=>u.reduce((d,m,f)=>(d[m]=d[m]||[],d[m].push(f),d),{}),n=s(e),a=s(t),o=i.map(u=>{let d=`Package '${u}' found at positions`,m=(n[u]||[]).join(", "),f=(a[u]||[]).join(", ");return ti.isEmpty(f)?`${d} [${m}] in packages to add`:ti.isEmpty(m)?`${d} [${f}] in packages to remove`:`${d} [${m}] in packages to add and [${f}] in packages to remove`});throw new Rc.DuplicatesError(["Found duplicate package names:",...o.map(u=>K8e.indent(u))].join(`
`))}function J8e(e,t){let r=e.error||e.resolutionInfo.error;if(r)return r;let i=m=>ti.find(m.dependenciesErrors,f=>!(f instanceof Rc.Conflict));if(i(e))return Rc.createPackageDependenciesError(e,`Package ${e.resolutionInfo.packageId}`);let{flattenedDependencies:s,missingDependencies:n}=e,a=ti.find(s,i);if(a){let m=ti.has(e.manifest.dependencies,a.name);return Rc.createPackageDependenciesError(a,`${m?"Dependency":"Indirect dependency"} ${a.resolutionInfo.packageId}`)}let o={},u=[...n.direct,...n.indirect];if(u.forEach(m=>{let{error:f}=t[m]||{};o[m]=f||new Rc.UpmError("Dependency was not resolved")}),!ti.isEmpty(o))return new Rc.DependenciesError("One or more dependencies could not be resolved",o);let d=ti(s).mapValues(m=>m.resolutionInfo.error).pickBy().value();return ti.isEmpty(d)?e.resolutionInfo.source===Xse.PACKAGE_SOURCE.Embedded?new Rc.InvalidParameter(`Package [${e.name}] is already embedded and cannot be updated, it must first be manually removed from the \`Packages\` folder of the project.`):null:new Rc.DependenciesError("One or more dependencies could not be added to the local file system",d)}async function Z8e(e,t,r,i,s){FN(s.configuration.projectCachePath,"context.configuration.projectCachePath is required"),FN(s.unity.version,"context.unity.version is required");let{solvedIdentifiers:n,addErrors:a}=await X8e(e,s),o=ti(t).pickBy(H=>!ti.has(r,["dependencies",H])).mapValues(H=>new Rc.NotFound(`Package name [${H}] cannot be found in the project manifest.`)).value();if(!ti.isEmpty(a)||!ti.isEmpty(o))throw new Rc.AddAndRemoveError(e,t,a,o);FN(n.length===e.length,"expected all package identifiers to be valid before checking for duplicates");let u=ti.map(n,"name");Y8e(u,t);let d=ti(n).keyBy("name").mapValues("version").value(),m={...r,dependencies:{...ti.omit(r.dependencies,t),...d}},f=[...u,...t],x=z8e.removeDependencies(i,f),T=await V8e.resolvePackages(m,x,s),{resolvedDependencies:q}=T,F=ti.mapValues(q,H=>J8e(H,q)),$=ti(n).mapValues(H=>F[H.name]).pickBy().value();if(!ti.isEmpty($))throw new Rc.AddAndRemoveError(e,t,$);return{...T,manifest:m}}Kse.exports={addAndRemovePackages:Z8e,solvePackageId:Jse}}),tae=O((Grt,Zse)=>{var Qse=require("assert"),eae=BN(),Q8e=yt();async function eBe(e,t,r,i){Qse(i.unity.version,"context.unity.version is required");try{let{name:s,version:n}=await eae.solvePackageId(e,i),a=await eae.addAndRemovePackages([`${s}@${n}`],[],t,r,i),o=a.resolvedDependencies[s];return{manifest:a.manifest,lock:a.lock,dependencyInfo:o}}catch(s){if(s instanceof Q8e.AddAndRemoveError){let n=s.getAddError(0);throw Qse(n,"expected AddAndRemoveError to have add error for index 0"),n}throw s}}Zse.exports={addPackage:eBe}}),OR=O((zrt,rae)=>{var tBe=require("assert"),{EventEmitter:rBe}=require("events"),nBe=Tt();function iBe(e){let t=new rBe,r=new Promise(i=>{setImmediate(()=>{let s=e(t);tBe(s&&s.then&&nBe.isFunction(s.then),"`createPromiseWithEmitter` cannot wrap function `cb` because it did not return a thenable"),i(s)})});return r.on=(i,s)=>(t.on(i,s),r),r}rae.exports={createPromiseWithEmitter:iBe}}),iae=O((Vrt,nae)=>{var sBe=tae(),aBe=ju(),u0=yt(),oBe=OR(),cBe=js(),lBe=l0(),uBe=sp();function fBe(e,t,r){return oBe.createPromiseWithEmitter(async i=>{if(!e)throw new u0.InvalidParameter("`identifier` parameter is required.");if(!t)throw new u0.InvalidParameter("`projectPath` parameter is required.");if(!r)throw new u0.InvalidParameter("`unityInfo` parameter is required.");if(!r.editorPath)throw new u0.InvalidParameter("`unityInfo.editorPath` parameter is required.");if(!r.builtInPackagesPath)throw new u0.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");if(!r.unityVersion)throw new u0.InvalidParameter("`unityInfo.unityVersion` parameter is required.");try{return await aBe.runBlockingOperation(t,async()=>{let s=await cBe.initContext(r,{emitter:i,projectPath:t}),n=await sBe.addPackage(e,s.originalProjectManifest,s.originalLock,s);await uBe.saveProjectFiles(s,n.manifest,n.lock);let a={...s,offlineMode:!0},o=await lBe.convertResolvedDependencyToPackageInfo(n.dependencyInfo,n.manifest,a);return o})}catch(s){throw s instanceof u0.UpmError&&s.prependErrorMessage(`Unable to add package [${e}]`),s}})}nae.exports={add:fBe}}),oae=O((Wrt,sae)=>{var UN=Tt(),HN=bn(),hBe=BN(),pBe=ju(),Ac=yt(),dBe=OR(),mBe=js(),gBe=l0(),yBe=sp(),aae=HN.array().items(HN.string().min(1)),vBe=HN.object({add:aae,remove:aae});function _Be(e,t,r){return dBe.createPromiseWithEmitter(async i=>{if(!e)throw new Ac.InvalidParameter("`packages` parameter is required.");if(!t)throw new Ac.InvalidParameter("`projectPath` parameter is required.");if(!r)throw new Ac.InvalidParameter("`unityInfo` parameter is required.");if(!r.editorPath)throw new Ac.InvalidParameter("`unityInfo.editorPath` parameter is required.");if(!r.builtInPackagesPath)throw new Ac.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");if(!r.unityVersion)throw new Ac.InvalidParameter("`unityInfo.unityVersion` parameter is required.");let s={abortEarly:!1,allowUnknown:!0},{error:n}=vBe.validate(e,s);if(n)throw new Ac.InvalidParameter("`packages` parameter is invalid",n);if(UN.isEmpty(e.add)&&UN.isEmpty(e.remove))throw new Ac.InvalidParameter("`packages` parameter is invalid","At least one of [add] or [remove] must be an array with at least one element");try{return await pBe.runBlockingOperation(t,async()=>{let a=await mBe.initContext(r,{emitter:i,projectPath:t}),o=await hBe.addAndRemovePackages(e.add||[],e.remove||[],a.originalProjectManifest,a.originalLock,a);await yBe.saveProjectFiles(a,o.manifest,o.lock);let u={...a,offlineMode:!0},d=await Promise.all(UN.map(o.resolvedDependencies,m=>gBe.convertResolvedDependencyToPackageInfo(m,o.manifest,u)));return{packages:d,error:Ac.createPackageResolutionError(o.manifestErrors,o.resolvedDependencies)}})}catch(a){throw!(a instanceof Ac.AddAndRemoveError)&&a instanceof Ac.UpmError&&a.prependErrorMessage("Unable to add and/or remove packages"),a}})}sae.exports={addAndRemove:_Be}}),lae=O((Krt,cae)=>{var wBe=Bi(),y2=yt(),bBe=js(),xBe=yf();async function EBe(e,t,r,i){if(!e)throw new y2.InvalidParameter("`name` parameter is required.");if(!t)throw new y2.InvalidParameter("`version` parameter is required.");if(!r)throw new y2.InvalidParameter("`tarballPath` parameter is required.");if(!i)throw new y2.InvalidParameter("`unityInfo` parameter is required.");if(!wBe.valid(t))throw new y2.InvalidParameter(`Invalid SemVer package version [${t}].`);let s=await bBe.initContext(i);await xBe.downloadTarball(e,t,r,s)}cae.exports={downloadTarball:EBe}}),dae=O((Xrt,uae)=>{var fae=require("assert"),GN=require("path"),zN=$n(),hae=yt(),pae=os(),SBe=tp(),RBe=yf();async function ABe(e,t){let{projectPath:r,configuration:i}=t,{projectCachePath:s}=i;fae(r,"projectPath must have a value"),fae(s,"projectCachePath must have a value");let{name:n}=await SBe.readPackageManifest(e),a=GN.join(r,n),o=await zN.exists(a);if(o)throw new hae.UpmError(`The target folder [${a}] already exists.`);let u=await RBe.getEmbeddedPackageManifests(r),d=u.manifests[n];if(d)throw new hae.UpmError(`[${n}] is already embedded in the [${GN.basename(d.path)}] folder.`);let m={dir:s};return pae.withTempFolder(async f=>{let x=GN.join(f,"copy");return await zN.copy(e,x),await pae.makeWritableRecursive(x),await zN.rename(x,a),a},m)}uae.exports={embedPackage:ABe}}),yae=O((Yrt,mae)=>{var TBe=ju(),CBe=AR(),OBe=dae(),Fl=yt(),kBe=js(),PBe=Hi(),IBe=l0(),gae=yf(),qBe=m2();async function NBe(e,t,r){let i=e[t];if(!i)throw new Fl.NotFound("The package must be a direct dependency of the project.");PBe.validatePackageVersion(i);let{resolvedPath:s}=await gae.getPackageResolutionInfo(t,i,r);if(!s)throw new Fl.NotFound("The package was not found on the local file system because it has not been successfully resolved. Make sure the dependency is valid.");return OBe.embedPackage(s,r)}async function MBe(e,t,r){if(!e)throw new Fl.InvalidParameter("`packageName` parameter is required.");if(!t)throw new Fl.InvalidParameter("`projectPath` parameter is required.");if(!r)throw new Fl.InvalidParameter("`unityInfo` parameter is required.");if(!r.editorPath)throw new Fl.InvalidParameter("`unityInfo.editorPath` parameter is required.");if(!r.builtInPackagesPath)throw new Fl.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");if(!r.unityVersion)throw new Fl.InvalidParameter("`unityInfo.unityVersion` parameter is required.");let i=await TBe.runBlockingOperation(t,async()=>{let n=await kBe.initContext(r,{projectPath:t,offlineMode:!0}),{manifest:a}=await qBe.resolveManifests(n.originalProjectManifest,n),o=await CBe.resolveDependencies(a,n.originalLock,n);try{let u=await NBe(a.dependencies||{},e,n);return{context:n,resolvedDependencies:o,embeddedPath:u}}catch(u){let d=`Failed to embed package [${e}]`;throw u instanceof Fl.UpmError?(u.prependErrorMessage(d),u):new Fl.UpmError(d,u)}}),s=i.resolvedDependencies[e];return s.version=`file:${i.embeddedPath}`,s.packageId=`${e}@${s.version}`,s.resolutionInfo=await gae.getPackageResolutionInfo(e,s.version,i.context),IBe.convertResolvedDependencyToPackageInfo(s,i.context.originalProjectManifest,i.context)}mae.exports={embed:MBe}}),wae=O((Jrt,vae)=>{var VN=Tt(),_ae=yt(),LBe=js();async function DBe(e){if(!e)throw new _ae.InvalidParameter("`unityInfo` parameter is required.");if(!e.builtInPackagesPath)throw new _ae.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");let t=await LBe.initContext(e);return VN.map(t.unity.builtInPackages,r=>VN.omitBy({...r.manifest,keywords:r.manifest.keywords||[],dependencies:r.manifest.dependencies||{}},VN.isUndefined))}vae.exports={getBuiltInPackages:DBe}}),Rae=O((Zrt,bae)=>{var $Be=require("path"),kR=Tt(),jBe=$n(),FBe=Bi(),xae=rr(),BBe=r0(),PR=ux(),Eae=ju(),UBe=Ar(),WN=yt(),HBe=tp(),GBe=js(),zBe=oa(),KN=_R(),Sae="userconfig";async function VBe(e={}){let{projectPath:t}=e,{configuration:r}=await GBe.initContext({projectPath:t}),i=r.registries.main;if(e.registry)try{i=zBe.getRegistryById(e.registry,r.registries)}catch(a){throw e.projectPath?a:new WN.NotFound(`Registry [${e.registry}] cannot be found. If this registry was configured by a project manifest, please provide the \`options.projectPath\` parameter.`)}let s=await BBe.findCachedPackageFilePaths(i),n=(await Promise.all(kR.map(s,async(a,o)=>{let u=Object.values(a).every(f=>f&&jBe.pathExistsSync(f));if(!u)return xae.warn(`Skipping cached package [${o}]. Could not find all cache files.`),null;let{manifestPath:d}=a,m;try{m=await HBe.readPackageManifest($Be.dirname(d))}catch(f){return xae.warn(`Skipping cached package [${o}]. ${f.message}`),null}return m}))).filter(a=>a);return kR(n).groupBy("name").map((a,o)=>{let u=a.sort((f,x)=>FBe.compare(f.version,x.version)),d=u[a.length-1],m=u.map(f=>f.version);return kR.omitBy({name:o,displayName:d.displayName,description:d.description,latest:d.version,versions:m},kR.isUndefined)}).value()}async function WBe(){return Eae.runBlockingOperation(Sae,async()=>(await KN.clearCacheRootConfiguration(),PR.buildEffectiveCacheRootConfig()))}async function KBe(e){if(e){if(e!==UBe.CONFIGURATION_SOURCE.Default)throw new WN.InvalidParameter(`Invalid source '${e}', expected 'default' or no value.`);return PR.buildDefaultCacheRootConfig()}let{cacheRoot:t}=await KN.getUserConfig();return PR.buildEffectiveCacheRootConfig(t)}async function XBe(e){if(!e)throw new WN.InvalidParameter("`cacheRoot` parameter is required");return Eae.runBlockingOperation(Sae,async()=>(await KN.saveCacheRootConfiguration(e),PR.buildEffectiveCacheRootConfig(e)))}bae.exports={getCachedPackages:VBe,clearCacheRoot:WBe,getCacheRoot:KBe,setCacheRoot:XBe}}),Oae=O((Qrt,Aae)=>{var v2=yt(),Tae=js(),Cae=CR();async function YBe(e,t,r={}){if(!e)throw new v2.InvalidParameter("`packageIdOrName` parameter is required.");if(!t)throw new v2.InvalidParameter("`unityInfo` parameter is required.");if(!t.unityVersion)throw new v2.InvalidParameter("`unityInfo.unityVersion` parameter is required.");let i=await Tae.initContext(t,r),s=await Cae.searchPackage(e,i);return{package:s}}async function JBe(e,t={}){if(!e)throw new v2.InvalidParameter("`unityInfo` parameter is required.");if(!e.unityVersion)throw new v2.InvalidParameter("`unityInfo.unityVersion` parameter is required.");let r=await Tae.initContext(e,t),i=await Cae.searchAllPackages(r);return{packages:i}}Aae.exports={getPackageInfo:YBe,getAllPackageInfo:JBe}}),Iae=O((ent,kae)=>{var Pae=require("assert"),ZBe=Tt(),QBe=AR(),eUe=yt(),tUe=l0();async function rUe(e,t,r,i=!1){Pae(r.projectPath,"context.projectPath is required"),Pae(r.unity.version,"configuration.unity.version is required");let s=await QBe.resolveDependencies(e.manifest,t,r),n=ZBe.values(s).filter(o=>o.depth===0||i&&o.manifest),a=await Promise.all(n.map(o=>tUe.convertResolvedDependencyToPackageInfo(o,r.originalProjectManifest,r)));return{packages:a,error:eUe.createPackageResolutionError(e.errors,s)}}kae.exports={listPackages:rUe}}),Nae=O((tnt,qae)=>{var _2=yt(),nUe=Iae(),iUe=js(),sUe=m2();async function aUe(e,t,r={}){if(!e)throw new _2.InvalidParameter("`projectPath` parameter is required.");if(!t)throw new _2.InvalidParameter("`unityInfo` parameter is required.");if(!t.editorPath)throw new _2.InvalidParameter("`unityInfo.editorPath` parameter is required.");if(!t.builtInPackagesPath)throw new _2.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");if(!t.unityVersion)throw new _2.InvalidParameter("`unityInfo.unityVersion` parameter is required.");let i=await iUe.initContext(t,{projectPath:e,offlineMode:r.offlineMode}),s=await sUe.resolveManifests(i.originalProjectManifest,i);return nUe.listPackages(s,i.originalLock,i,r.includeIndirectDependencies)}qae.exports={list:aUe}}),Dae=O((rnt,Mae)=>{var oUe=Tt(),w2=yt(),cUe=Qd(),lUe=js(),Lae=_R();async function uUe(e,t,r,i,s={}){if(!e)throw new w2.InvalidParameter("`registryUrl` parameter is required.");if(!t)throw new w2.InvalidParameter("`username` parameter is required.");if(!r)throw new w2.InvalidParameter("`password` parameter is required.");if(!i)throw new w2.InvalidParameter("`email` parameter is required.");let n=await lUe.initContext(),a=await cUe.login(e,t,r,n.configuration);await Lae.saveNpmAuthConfiguration(e,a,i,oUe.pick(s,"alwaysAuth"))}async function fUe(e){if(!e)throw new w2.InvalidParameter("`registryUrl` parameter is required.");await Lae.clearNpmAuthConfiguration(e)}Mae.exports={login:uUe,logout:fUe}}),Hae=O((nnt,$ae)=>{var Bs=require("path"),hUe=require("url"),pUe=Tt(),Tc=$n(),dUe=tI(),jae=$4(),mUe=v4(),Fae=rr(),Bae=Ar(),gUe=os(),Uae=sN(),yUe=k_(),vUe=tp(),_Ue=["upm-ci~/**",".Editor/**",".yamato/**","*.zip*","TestRunnerOptions.json"];async function wUe(e,t){let r=await jae({path:e});await Tc.ensureDir(Bs.dirname(t)),await mUe.create({prefix:Bae.PACKAGE_TARBALL.PackageFolderWithSlash,cwd:e,file:t,gzip:!0},r)}async function bUe(e){let t=Bs.join(e,".npmignore"),r=Bs.join(e,".gitignore"),i="";return await Tc.pathExists(t)?i=t:await Tc.pathExists(r)&&(i=r),i}async function xUe(e,t){let r=await bUe(e),i=r?await Tc.readFile(r):"";await Tc.writeFile(Bs.join(t,".npmignore"),`${_Ue.join(`
`)}
${i}`,"utf8")}async function EUe(e,t){let r=Bs.join(e,"Samples"),i=await Tc.pathExists(r);if(!i)return;await Tc.rename(r,Bs.join(e,"Samples~")),await Tc.remove(Bs.join(e,"Samples.meta"));let s=await dUe(Bs.join(e,"Samples~/**/.sample.json"));if(s.length===0){Fae.warn(`No .sample.json files can be found even though there is a Samples folder in ${e}.`);return}let n=await Promise.all(s.map(async a=>{let o=await Tc.readJson(a);delete o.createSeparatePackage;let u=Bs.relative(e,Bs.dirname(a)).split(Bs.sep).join("/");return o.path=u,o}));t.samples=pUe.sortBy(n,["path"])}function SUe(e){let t=new URL(e);return t.username="",t.password="",t.auth="",hUe.format(t)}async function RUe(e,t){let r={};t&&(t.url&&(r.url=SUe(t.url),yUe.isGitUrl(t.url)&&(r.type="git")),t.revision&&(r.revision=t.revision));try{r.url||(r.url=await Uae.getRemoteOriginUrl(e),r.type="git"),r.revision||(r.revision=await Uae.getRevisionHash(e))}catch(i){Fae.warn(`There was an error while trying to get the git repo information: ${i}`)}return r}async function AUe(e,t,r){let i=await RUe(e,r);Object.keys(i).length>0&&(t.repository=i)}async function TUe(e,t){await Tc.writeJSON(Bs.join(e,Bae.PACKAGE_MANIFEST_FILENAME),t,{spaces:2})}async function CUe(e,t){let r=(s,n)=>{let a=n;for(;a!==".";)s.add(a),a=Bs.dirname(a);return s},i=(await jae({path:e})).reduce(r,new Set);await Tc.copy(e,t,{dereference:!0,filter:s=>{if(s===e)return!0;let n=Bs.relative(e,s).replace(/\\/g,"/");return i.has(n)}})}async function OUe(e,t,r=null){let i=await vUe.readPackageManifest(e);return gUe.withTempFolder(async s=>{await CUe(e,s),await AUe(s,i,r),await xUe(e,s),await EUe(s,i),await TUe(s,i);let n=Bs.join(t,`${i.name}-${i.version}.tgz`);return await wUe(s,n),n})}$ae.exports={pack:OUe}}),Vae=O((int,Gae)=>{var zae=yt(),kUe=Hae();async function PUe(e,t,r={}){if(!e)throw new zae.InvalidParameter("`packagePath` parameter is required.");if(!t)throw new zae.InvalidParameter("`targetPath` parameter is required.");let i=await kUe.pack(e,t,r.vcsInfo);return{tarballPath:i}}Gae.exports={pack:PUe}}),Xae=O((snt,Wae)=>{var Kae=Tt(),IUe=yt(),qUe=Oy(),NUe=Hi();function MUe(e,t,r){if(NUe.validatePackageName(e),Kae.isEmpty(t.dependencies)||!(e in t.dependencies))throw new IUe.NotFound(`Package [${e}] cannot be found in the project manifest`);let i=Kae.omit(t.dependencies,e),s={...t,dependencies:i};return{manifest:s,lock:qUe.removeDependencies(r,e)}}Wae.exports={removePackage:MUe}}),Jae=O((ant,Yae)=>{var LUe=ju(),Ly=yt(),DUe=js(),$Ue=sp(),jUe=Xae();async function FUe(e,t,r){if(!e)throw new Ly.InvalidParameter("`packageName` parameter is required.");if(!t)throw new Ly.InvalidParameter("`projectPath` parameter is required.");if(!r)throw new Ly.InvalidParameter("`unityInfo` parameter is required.");if(!r.editorPath)throw new Ly.InvalidParameter("`unityInfo.editorPath` parameter is required.");if(!r.builtInPackagesPath)throw new Ly.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");try{await LUe.runBlockingOperation(t,async()=>{let i=await DUe.initContext(r,{projectPath:t}),s=await jUe.removePackage(e,i.originalProjectManifest,i.originalLock);await $Ue.saveProjectFiles(i,s.manifest,s.lock)})}catch(i){throw i instanceof Ly.UpmError&&i.prependErrorMessage(`Unable to remove package [${e}]`),i}}Yae.exports={remove:FUe}}),eoe=O((ont,Zae)=>{var b2=Tt(),BUe=rr(),UUe=r0(),HUe=ju(),Qae=Ar(),lp=yt(),GUe=OR(),zUe=GS(),VUe=js(),WUe=l0(),KUe=sp(),XUe=m2(),YUe=O_();function JUe(e){let{overrideReason:t}=e;if(!t)return;BUe.log(t.severity,t.message)}function ZUe(e,t,r={}){return GUe.createPromiseWithEmitter(async i=>{if(!e)throw new lp.InvalidParameter("`projectPath` parameter is required.");if(!t)throw new lp.InvalidParameter("`unityInfo` parameter is required.");if(!t.editorPath)throw new lp.InvalidParameter("`unityInfo.editorPath` parameter is required.");if(!t.builtInPackagesPath)throw new lp.InvalidParameter("`unityInfo.builtInPackagesPath` parameter is required.");if(!t.unityVersion)throw new lp.InvalidParameter("`unityInfo.unityVersion` parameter is required.");let{cachingLevel:s=Qae.CACHING_LEVEL.Project}=r,n=b2.values(Qae.CACHING_LEVEL);if(!n.includes(s))throw new lp.InvalidParameter(`\`cachingLevel\` parameter is invalid.  Expected one of [${n.join(", ")}] but got '${s}'`);let a=await HUe.runBlockingOperation(e,async()=>{let d=await VUe.initContext(t,{emitter:i,projectPath:e,cachingLevel:s}),m=await XUe.resolvePackages(d.originalProjectManifest,d.originalLock,d),f;try{await KUe.saveProjectFiles(d,d.originalProjectManifest,m.lock)}catch(q){f=new lp.UpmError("Failed to write dependency lock information",q)}let x=b2.pickBy(m.resolvedDependencies,q=>q.manifest&&!q.resolutionInfo.error),T=b2.values(x).map(q=>q.resolutionInfo.resolvedPath);return UUe.pruneUnusedPackages(T,d.configuration),YUe.pruneProjectSignatureCache(x,d),await zUe.saveInstallDatabase(x,d),Object.assign(m,{context:d,writeError:f,validDependencies:x})}),o={...a.context,offlineMode:!0},u=await Promise.all(b2.map(a.validDependencies,d=>WUe.convertResolvedDependencyToPackageInfo(d,o.originalProjectManifest,o)));return b2.forOwn(a.resolvedDependencies,d=>{JUe(d)}),{packages:u,error:lp.createPackageResolutionError(a.manifestErrors,a.resolvedDependencies,a.writeError),localPaths:a.localPaths}})}Zae.exports={resolve:ZUe}}),roe=O((cnt,toe)=>{var QUe=Tt(),eHe=js(),tHe=CR();async function rHe(e,t={}){typeof arguments[0]=="string"&&(t=QUe.pickBy({projectPath:arguments[1],searchOptions:{...arguments[2],host:arguments[0]}}));let{projectPath:r,searchOptions:i}=t,s=await eHe.initContext({projectPath:r,genesis:e.genesis});return tHe.search(s,i)}toe.exports={search:rHe}}),Bl=O((lnt,noe)=>{var nHe=yt(),{getRegistries:iHe,addScopedRegistry:sHe,removeScopedRegistry:aHe,updateScopedRegistry:oHe}=jie(),{mergeDefaultDependencies:cHe,resetToDefaultDependencies:lHe,updateDependencies:uHe}=Wie(),{add:fHe}=iae(),{addAndRemove:hHe}=oae(),{downloadTarball:pHe}=lae(),{embed:dHe}=yae(),{getBuiltInPackages:ioe}=wae(),{getCachedPackages:mHe,clearCacheRoot:gHe,getCacheRoot:yHe,setCacheRoot:vHe}=Rae(),{getPackageInfo:_He,getAllPackageInfo:wHe}=Oae(),{list:bHe}=Nae(),{login:xHe,logout:EHe}=Dae(),{pack:SHe}=Vae(),{remove:RHe}=Jae(),{resolve:AHe}=eoe(),{search:THe}=roe();noe.exports={errors:nHe,add:fHe,addAndRemove:hHe,getPackageInfo:_He,getAllPackageInfo:wHe,getCachedPackages:mHe,clearCacheRoot:gHe,getCacheRoot:yHe,setCacheRoot:vHe,addScopedRegistry:sHe,removeScopedRegistry:aHe,updateScopedRegistry:oHe,getRegistries:iHe,list:bHe,getBuiltInPackages:ioe,listBuiltInPackages:ioe,loginNpmRegistry:xHe,logoutNpmRegistry:EHe,remove:RHe,resolve:AHe,search:THe,mergeDefaultDependencies:cHe,resetToDefaultDependencies:lHe,updateDependencies:uHe,pack:SHe,embed:dHe,downloadTarball:pHe}}),up=O((unt,soe)=>{var f0=Bl();function aoe(e){return e instanceof f0.errors.AddAndRemoveError?207:e instanceof f0.errors.NotFound?404:e instanceof f0.errors.InvalidParameter?400:e instanceof f0.errors.Unauthorized?401:e instanceof f0.errors.Forbidden?403:e instanceof f0.errors.Conflict?409:e instanceof f0.errors.ConnectionError?504:500}function CHe(e,t){let r=t.response({message:e.message||"Unknown error!"});return r.code(aoe(e)),r}soe.exports={getStatusCode:aoe,handleErrorResponse:CHe}}),p0=O((fnt,ooe)=>{var OHe=require("assert"),kHe=Tt(),_f=Bl(),fp=Vf(),h0=up(),Ua=Kf(),{PATCH_MODE:XN}=fp;async function PHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH],s=kHe.pick(e.query,["offlineMode","includeIndirectDependencies"]);try{let n=await _f.list(i,Ua.makeUnityInfo(r),s);return t.response({...n,error:n.error?n.error.message:""})}catch(n){return h0.handleErrorResponse(n,t)}}async function IHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH];try{let s=await _f.resolve(i,Ua.makeUnityInfo(r)).on("progressStart",n=>t.onProgressStart(n)).on("progress",n=>t.onProgress(n));return t.response({...s,error:s.error?s.error.message:""})}catch(s){return h0.handleErrorResponse(s,t)}}async function qHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH];try{let{add:s,remove:n}=e.payload,a=await _f.addAndRemove({add:s,remove:n},i,Ua.makeUnityInfo(r)).on("progressStart",o=>t.onProgressStart(o)).on("progress",o=>t.onProgress(o));return t.response({...a,error:a.error?a.error.message:""})}catch(s){return h0.handleErrorResponse(s,t)}}async function NHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH];try{let s=await _f.add(e.params.packageId,i,Ua.makeUnityInfo(r)).on("progressStart",n=>t.onProgressStart(n)).on("progress",n=>t.onProgress(n));return t.response(s)}catch(s){return h0.handleErrorResponse(s,t)}}async function MHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH];try{let s=await _f.embed(e.params.packageName,i,Ua.makeUnityInfo(r));return t.response(s)}catch(s){return h0.handleErrorResponse(s,t)}}async function LHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH],s=(e.payload.updateMode||"").trim().toLowerCase(),n;switch(s){case XN.MergeDefaultDependencies:n=_f.mergeDefaultDependencies(i,e.payload.updateFilePath);break;case XN.ResetToDefaultDependencies:n=_f.resetToDefaultDependencies(i,e.payload.updateFilePath);break;case XN.UpdateDependencies:n=_f.updateDependencies(i,e.payload.projectVersion,e.payload.updateFilePath);break;default:OHe.fail(`unexpected updateMode '${s}'`)}try{let a=await n;return t.response({modifiedDependencies:a})}catch(a){return h0.handleErrorResponse(a,t)}}async function DHe(e,t){let r=Ua.decodeHeaders(e.headers),i=r[fp.HEADERS.X_PROJECT_PATH],s=e.params.packageId;try{return await _f.remove(s,i,Ua.makeUnityInfo(r)),t.response().code(204)}catch(n){return h0.handleErrorResponse(n,t)}}ooe.exports={Get:PHe,Post:IHe,PostAddAndRemove:qHe,Put:NHe,PutEmbedded:MHe,Patch:LHe,Delete:DHe}}),Ha=O((hnt,coe)=>{var je=bn(),$He=je.object({message:je.string().required()}),jHe=je.object({name:je.string().required(),latest:je.string().required(),displayName:je.string().allow(""),description:je.string().allow(""),versions:je.array().items(je.string()).required()}),FHe=je.object({path:je.string().required(),source:je.string().required()}),BHe=je.object({name:je.string().required(),version:je.string().required(),keywords:je.array().items(je.string().allow("")).required(),dependencies:je.object(),displayName:je.string().allow(""),description:je.string().allow(""),type:je.string().required().allow(""),category:je.string().allow(""),icon:je.string().allow(""),unity:je.string().allow("")}),loe=je.object({id:je.string().required(),url:je.string().uri({scheme:["http","https"]}).required(),name:je.string().allow(""),scopes:je.array().items(je.string()),isDefault:je.boolean().required(),isMain:je.boolean().required(),capabilities:je.object({classification:je.boolean().required(),ordering:je.boolean().required(),pagination:je.boolean().required()}).required()}),UHe=je.object({packageId:je.string().required(),name:je.string().required(),versions:je.object({all:je.array().items(je.string()).required(),compatible:je.array().items(je.string()).required(),verified:je.string().allow("")}).required(),keywords:je.array().items(je.string().allow("")).required(),status:je.string().required(),errors:je.array().items(je.string()).required(),testable:je.boolean().required(),version:je.string().required(),dependencies:je.object().required(),resolvedDependencies:je.object().required(),isRootDependency:je.boolean().required(),projectDependenciesEntry:je.string(),source:je.string().required(),repository:je.object({type:je.string().required(),url:je.string().allow(""),revision:je.string().allow(""),path:je.string().allow("")}),author:je.object({name:je.string().required(),email:je.string().allow(""),url:je.string().allow("")}),category:je.string().allow(""),description:je.string().allow(""),type:je.string().required().allow(""),resolvedPath:je.string().allow(""),displayName:je.string().allow(""),isAssetStorePackage:je.boolean(),git:je.object({hash:je.string().required(),revision:je.string().required()}),tarball:je.object({url:je.string().allow(""),localPath:je.string().allow(""),size:je.number().integer()}),registry:loe,hideInEditor:je.boolean(),datePublished:je.string().allow(""),minimumUnityVersion:je.string().allow(""),documentationUrl:je.string().uri({allowRelative:!0}).allow(""),changelogUrl:je.string().uri({allowRelative:!0}).allow(""),licensesUrl:je.string().uri({allowRelative:!0}).allow(""),unityLifecycle:je.object({version:je.string().allow(""),nextVersion:je.string().allow("")}).min(1),entitlementsInfo:je.object({licenseType:je.string().required()}),_upm:je.any(),signature:je.object({status:je.string().required(),reason:je.string().required()})});coe.exports={builtInPackageInfo:BHe,cachedPackageInfo:jHe,cacheRootConfig:FHe,packageInfo:UHe,registryInfo:loe,errorDescription:$He}}),Cc=O((pnt,uoe)=>{var pt=bn(),HHe=Vf(),GHe={get:{params:pt.object({packageId:pt.string().required()}),query:pt.object({offlineMode:pt.boolean()})}},zHe={get:{query:pt.object({host:pt.string().allow(""),query:pt.string().allow(""),type:pt.string().allow(""),entitlement:pt.string().allow(""),orderBy:pt.string().allow(""),order:pt.string().allow(""),offset:pt.number().integer(),limit:pt.number().integer(),registry:pt.string().allow("")})}},VHe={get:{query:pt.object({offlineMode:pt.boolean()})}},WHe={put:{params:pt.object({packageName:pt.string().required()})}},KHe={get:{query:pt.object({offlineMode:pt.boolean(),includeIndirectDependencies:pt.boolean()})},put:{params:pt.object({packageId:pt.string().required()})},patch:{payload:pt.object({updateFilePath:pt.string().required(),updateMode:pt.string().valid(...Object.values(HHe.PATCH_MODE)).insensitive().required(),projectVersion:pt.string().allow("")})},delete:{params:pt.object({packageId:pt.string().required()})}},XHe={post:{payload:pt.object({add:pt.array().items(pt.string().allow("")),remove:pt.array().items(pt.string().allow(""))})}},YHe={post:{payload:pt.object({name:pt.string().required(),url:pt.string().uri({scheme:["http","https"]}).required(),scopes:pt.array().items(pt.string()).required()})},delete:{params:pt.object({registryName:pt.string().required()})},patch:{params:pt.object({registryName:pt.string().required()}),payload:pt.object({newName:pt.string().allow(""),newUrl:pt.string().allow(""),newScopes:pt.array().items(pt.string())})}},JHe={post:{payload:pt.object({packagePath:pt.string().required(),targetPath:pt.string().required(),vcsInfo:pt.object({url:pt.string().allow(""),revision:pt.string().allow("")})})}},ZHe={get:{params:pt.object({registryId:pt.string().required()})}},QHe={cacheRoot:{get:{query:pt.object({source:pt.string().valid("","default")})},put:{payload:pt.object({newPath:pt.string().required()})}}};uoe.exports={search:zHe,services:JHe,allPackages:VHe,embeddedPackages:WHe,packages:GHe,cache:ZHe,config:QHe,registries:YHe,dependencies:KHe,addAndRemove:XHe}}),Ga=O((dnt,foe)=>{var Rt=bn(),Us=Ha(),e9e={get:Rt.object({registries:Rt.array().items(Us.registryInfo)}).required(),post:Rt.object({registry:Us.registryInfo}).required(),patch:Rt.object({registry:Us.registryInfo}).required(),delete:Rt.any()},t9e={get:Rt.object({package:Us.packageInfo.required()})},r9e={get:Rt.object({packages:Rt.array().items(Us.packageInfo).required()})},n9e={get:Rt.object({cachedPackages:Rt.array().items(Us.cachedPackageInfo).required()})},i9e={cacheRoot:{delete:Us.cacheRootConfig.required(),get:Us.cacheRootConfig.required(),put:Us.cacheRootConfig.required()}},s9e={get:Rt.object({status:Rt.string().required(),nodeVersion:Rt.string().required(),upmVersion:Rt.string().required()})},a9e={get:Rt.object({builtInPackages:Rt.array().items(Us.builtInPackageInfo).required()})},o9e={post:Rt.object({tarballPath:Rt.string().required()})},c9e={put:Us.packageInfo.required()},l9e={get:Rt.object({packages:Rt.array().items(Rt.object({name:Rt.string().required(),displayName:Rt.string().required(),description:Rt.string().required(),versions:Rt.array().items(Rt.string()).required(),latest:Rt.string().required()})),total:Rt.number().integer().required(),capabilities:Rt.object({classification:Rt.boolean().required(),ordering:Rt.boolean().required(),pagination:Rt.boolean().required()}).required()})},u9e={get:Rt.object({packages:Rt.array().items(Us.packageInfo).required(),error:Rt.string().allow(""),localPaths:Rt.array().items(Rt.string())}),post:Rt.object({packages:Rt.array().items(Us.packageInfo).required(),error:Rt.string().allow(""),localPaths:Rt.array().items(Rt.string())}),patch:Rt.object({modifiedDependencies:Rt.object().pattern(/.*/,{newVersion:Rt.string().allow(""),previousVersion:Rt.string().allow("")})}).options({stripUnknown:!0}),put:Us.packageInfo.required(),delete:Rt.any()},f9e={post:Rt.object({packages:Rt.array().items(Us.packageInfo).required(),error:Rt.string().allow("").required()})};foe.exports={search:l9e,services:o9e,health:s9e,allPackages:r9e,embeddedPackages:c9e,packages:t9e,editor:a9e,cache:n9e,config:i9e,registries:e9e,dependencies:u9e,addAndRemove:f9e}}),JN=O((mnt,hoe)=>{var Ul=bn(),YN=Ha(),h9e=Cc(),p9e=Ga(),d9e=Ul.object({Accept:Ul.string().allow(""),host:Ul.string().allow(""),"X-Project-Path":Ul.string().allow(""),"X-Unity-Version":Ul.string().allow(""),"X-Editor-Path":Ul.string().allow(""),"X-BuiltIn-Packages-Path":Ul.string().allow(""),"X-Genesis-User-Token":Ul.string().allow(""),"X-Genesis-Environment":Ul.string().allow(""),"X-Dotnet-Runtime-Path":Ul.string().allow("")}).unknown(!0);hoe.exports={post:{validate:{payload:h9e.addAndRemove.post.payload,headers:d9e},response:{status:{200:p9e.addAndRemove.post,207:YN.errorDescription,400:YN.errorDescription,404:YN.errorDescription}}}}}),doe=O((gnt,poe)=>{var m9e=p0(),g9e=JN();poe.exports=[{method:"POST",path:"/project/addremove-dependencies",handler:m9e.PostAddAndRemove,options:g9e.post}]}),wf=O((ynt,moe)=>{var goe=Tt(),d0=Bl(),m0=Vf(),g0=up(),Hl=Kf();async function y9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH];try{let s=await d0.getPackageInfo(e.params.packageId,Hl.makeUnityInfo(r),{projectPath:i,offlineMode:e.query.offlineMode});return t.response(s)}catch(s){return g0.handleErrorResponse(s,t)}}async function v9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH];try{let s=await d0.getAllPackageInfo(Hl.makeUnityInfo(r),{projectPath:i,offlineMode:e.query.offlineMode});return t.response(s)}catch(s){return g0.handleErrorResponse(s,t)}}async function _9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH];try{let s=await d0.getRegistries(i);return t.response(s)}catch(s){return g0.handleErrorResponse(s,t)}}async function w9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH];try{let s=await d0.addScopedRegistry(e.payload.name,e.payload.url,e.payload.scopes,i);return t.response({registry:s})}catch(s){return g0.handleErrorResponse(s,t)}}async function b9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH],{registryName:s}=e.params;try{return await d0.removeScopedRegistry(s,i),t.response().code(204)}catch(n){return g0.handleErrorResponse(n,t)}}async function x9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH],{registryName:s}=e.params;try{let n=await d0.updateScopedRegistry(s,goe.pick(e.payload,["newName","newUrl","newScopes"]),i);return t.response({registry:n})}catch(n){return g0.handleErrorResponse(n,t)}}async function E9e(e,t){let r=Hl.decodeHeaders(e.headers),i=r[m0.HEADERS.X_PROJECT_PATH],s=Hl.makeUnityInfo(r),n=goe.pick(e.query,["host","query","type","entitlement","orderBy","order","offset","limit","registry"]),a={projectPath:i,searchOptions:n};try{let o=await d0.search(s,a);return t.response(o)}catch(o){return g0.handleErrorResponse(o,t)}}moe.exports={GetPackageInfo:y9e,GetAllPackageInfo:v9e,AddScopedRegistry:w9e,RemoveScopedRegistry:b9e,UpdateScopedRegistry:x9e,GetRegistries:_9e,Search:E9e}}),ZN=O((vnt,yoe)=>{var Gl=bn(),voe=Ha(),S9e=Cc(),R9e=Ga(),A9e=Gl.object({Accept:Gl.string().allow(""),host:Gl.string().allow(""),"X-Project-Path":Gl.string().allow(""),"X-Unity-Version":Gl.string().allow(""),"X-Editor-Path":Gl.string().allow(""),"X-BuiltIn-Packages-Path":Gl.string().allow(""),"X-Genesis-User-Token":Gl.string().allow(""),"X-Genesis-Environment":Gl.string().allow(""),"X-Dotnet-Runtime-Path":Gl.string().allow("")}).unknown(!0);yoe.exports={get:{validate:{query:S9e.allPackages.get.query,headers:A9e},response:{status:{200:R9e.allPackages.get,400:voe.errorDescription,404:voe.errorDescription}}}}}),woe=O((_nt,_oe)=>{var T9e=wf(),C9e=ZN();_oe.exports=[{method:"GET",path:"/packages",handler:T9e.GetAllPackageInfo,options:C9e.get}]}),QN=O((wnt,boe)=>{var O9e=Bl(),k9e=Vf(),P9e=up(),I9e=Kf();async function q9e(e,t){let r=I9e.decodeHeaders(e.headers),i=r[k9e.HEADERS.X_PROJECT_PATH],{registryId:s}=e.params;try{let n=await O9e.getCachedPackages({registry:s,projectPath:i});return t.response({cachedPackages:n})}catch(n){return P9e.handleErrorResponse(n,t)}}boe.exports={GetCachedPackages:q9e}}),e3=O((bnt,xoe)=>{var IR=bn(),Eoe=Ha(),N9e=Cc(),M9e=Ga(),L9e=IR.object({Accept:IR.string().allow(""),host:IR.string().allow(""),"X-Project-Path":IR.string().allow("")}).unknown(!0);xoe.exports={get:{validate:{params:N9e.cache.get.params,headers:L9e},response:{status:{200:M9e.cache.get,400:Eoe.errorDescription,404:Eoe.errorDescription}}}}}),Roe=O((xnt,Soe)=>{var D9e=QN(),$9e=e3();Soe.exports=[{method:"GET",path:"/cache/registries/{registryId}",handler:D9e.GetCachedPackages,options:$9e.get}]}),n3=O((Ent,Aoe)=>{var t3=Bl(),r3=up();async function j9e(e,t){try{let r=await t3.clearCacheRoot();return t.response(r)}catch(r){return r3.handleErrorResponse(r,t)}}async function F9e(e,t){try{let{source:r}=e.query,i=await t3.getCacheRoot(r);return t.response(i)}catch(r){return r3.handleErrorResponse(r,t)}}async function B9e(e,t){let{newPath:r}=e.payload;try{let i=await t3.setCacheRoot(r);return t.response(i)}catch(i){return r3.handleErrorResponse(i,t)}}Aoe.exports={ClearCacheRoot:j9e,GetCacheRoot:F9e,SetCacheRoot:B9e}}),o3=O((Snt,Toe)=>{var i3=bn(),U9e=Ha(),Coe=Cc(),s3=Ga(),a3=i3.object({Accept:i3.string().allow(""),host:i3.string().allow("")}).unknown(!0);Toe.exports={cacheRoot:{delete:{validate:{headers:a3},response:{status:{200:s3.config.cacheRoot.delete}}},get:{validate:{headers:a3,query:Coe.config.cacheRoot.get.query},response:{status:{200:s3.config.cacheRoot.get}}},put:{validate:{headers:a3,payload:Coe.config.cacheRoot.put.payload.required()},response:{status:{200:s3.config.cacheRoot.put,400:U9e.errorDescription}}}}}}),koe=O((Rnt,Ooe)=>{var c3=n3(),l3=o3();Ooe.exports=[{method:"DELETE",path:"/config/cache-root",handler:c3.ClearCacheRoot,options:l3.cacheRoot.delete},{method:"GET",path:"/config/cache-root",handler:c3.GetCacheRoot,options:l3.cacheRoot.get},{method:"PUT",path:"/config/cache-root",handler:c3.SetCacheRoot,options:l3.cacheRoot.put}]}),Ioe=O((Ant,Poe)=>{function H9e(e,t){return e.response.header&&e.response.header("Access-Control-Allow-Origin","127.0.0.1",{append:!0}),t.continue}function G9e(e){e.ext("onPreResponse",(t,r)=>H9e(t,r))}Poe.exports={register:G9e}}),u3=O((Tnt,qoe)=>{var z9e=Bl(),V9e=up(),Noe=Kf();async function W9e(e,t){let r=Noe.decodeHeaders(e.headers);try{let i=await z9e.getBuiltInPackages(Noe.makeUnityInfo(r));return t.response({builtInPackages:i})}catch(i){return V9e.handleErrorResponse(i,t)}}qoe.exports={GetBuiltInPackages:W9e}}),f3=O((Cnt,Moe)=>{var qR=bn(),Loe=Ha(),K9e=Ga(),X9e=qR.object({Accept:qR.string().allow(""),host:qR.string().allow(""),"X-Project-Path":qR.string().allow("")}).unknown(!0);Moe.exports={get:{validate:{headers:X9e},response:{status:{200:K9e.editor.get,400:Loe.errorDescription,404:Loe.errorDescription}}}}}),$oe=O((Ont,Doe)=>{var Y9e=u3(),J9e=f3();Doe.exports=[{method:"GET",path:"/editor/built-in",handler:Y9e.GetBuiltInPackages,options:J9e.get}]}),h3=O((knt,joe)=>{var zl=bn(),Foe=Ha(),Z9e=Cc(),Q9e=Ga(),e7e=zl.object({Accept:zl.string().allow(""),host:zl.string().allow(""),"X-Project-Path":zl.string().allow(""),"X-Unity-Version":zl.string().allow(""),"X-Editor-Path":zl.string().allow(""),"X-BuiltIn-Packages-Path":zl.string().allow(""),"X-Genesis-User-Token":zl.string().allow(""),"X-Genesis-Environment":zl.string().allow(""),"X-Dotnet-Runtime-Path":zl.string().allow("")}).unknown(!0);joe.exports={put:{validate:{params:Z9e.embeddedPackages.put.params,headers:e7e},response:{status:{200:Q9e.embeddedPackages.put,400:Foe.errorDescription,404:Foe.errorDescription}}}}}),Uoe=O((Pnt,Boe)=>{var t7e=p0(),r7e=h3();Boe.exports=[{method:"PUT",path:"/project/embedded/{packageName}",handler:t7e.PutEmbedded,options:r7e.put}]}),p3=O((Int,Hoe)=>{var n7e=Kf();async function i7e(e,t){return t.response({status:"OK",nodeVersion:process.version,upmVersion:n7e.upmVersion})}Hoe.exports={Get:i7e}}),m3=O((qnt,Goe)=>{var d3=bn(),s7e=Ga(),a7e=d3.object({Accept:d3.string().allow(""),host:d3.string().allow("")}).unknown(!0);Goe.exports={get:{validate:{headers:a7e},response:{status:{200:s7e.health.get}}}}}),Voe=O((Nnt,zoe)=>{var o7e=p3(),c7e=m3();zoe.exports=[{method:"GET",path:"/health",handler:o7e.Get,options:c7e.get}]}),Xoe=O((Mnt,Woe)=>{var Koe=Bl(),l7e=up();function u7e(e,t){let r;if(e.headers.host){let i=["127.0.0.1","localhost"],s=i.map(n=>`${n}:${e.server.info.port}`);s.includes(e.headers.host)||(r=new Koe.errors.Forbidden("Invalid host header"))}else r=new Koe.errors.InvalidParameter("Host header is missing");return r?l7e.handleErrorResponse(r,t).takeover():t.continue}function f7e(e){e.ext("onPreHandler",(t,r)=>u7e(t,r))}Woe.exports={register:f7e}}),LR=O((Lnt,Yoe)=>{var Joe=require("os"),NR=require("path"),h7e=Tt(),p7e=Bl(),d7e=$n(),y0=rr(),Zoe="upm.log",MR={error:0,warn:1,info:2,verbose:3,debug:4,silly:5},hp;function m7e(){if(/^win/.test(process.platform)){let e=process.env.LOCALAPPDATA,t=process.env.SYSTEMROOT;return(!e||e.toLowerCase().startsWith(t.toLowerCase()))&&(e=process.env.ALLUSERSPROFILE),NR.join(e,"Unity","Editor")}if(process.platform==="darwin")return NR.join(Joe.homedir(),"Library","Logs","Unity");if(process.platform==="linux")return NR.join(Joe.homedir(),".config","unity3d");throw new Error(`The platform [${process.platform}] cannot be found`)}function Qoe(e){return`[${new Date().toISOString()}][${e.level.toUpperCase()}] ${e.message||""}${h7e.isEmpty(e.metadata)?"":`
${JSON.stringify(e.metadata,null,2)}`}`}function g3(e){let t=Object.keys(MR)[e];if(!t)throw new p7e.errors.InvalidParameter(`Invalid log level value ${e}`);return t}function g7e(e){if(!hp)return;let t=e!==void 0?g3(e):hp.originalLevel;hp.level=t}function y7e(e,t=MR.error){let r=m7e();d7e.ensureDirSync(r);let i=NR.join(r,Zoe);hp=new y0.transports.File({name:Zoe,filename:i,level:g3(e),options:{flags:"w"},format:y0.format.combine(y0.format.metadata(),y0.format.printf(Qoe))}),hp.originalLevel=hp.level;let s=new y0.transports.Console({name:"console",level:g3(t),showLevel:t!==MR.error,format:y0.format.cli()});hp.on("error",n=>console.error(`Failed to write log entry to \`upm.log\`: ${n}`)),s.on("error",n=>console.error(`Failed to write log entry to \`console\`: ${n}`)),y0.configure({transports:[hp,s]})}Yoe.exports={setFileLogLevel:g7e,enableLogging:y7e,UPM_LOG_LEVELS:MR,messageFormatter:Qoe}}),rce=O((Dnt,ece)=>{var v7e=Vf(),tce=LR();function _7e(e,t){let r=e.headers[v7e.HEADERS.X_LOG_LEVEL_OVERRIDE],i=r&&parseInt(r,10);try{tce.setFileLogLevel(i)}catch(s){console.warn(`Could not set logging level [${r}]: ${s}`),tce.setFileLogLevel(void 0)}return t.continue}function w7e(e){e.ext("onPreHandler",(t,r)=>_7e(t,r))}ece.exports={register:w7e}}),y3=O(($nt,nce)=>{var Vl=bn(),ice=Ha(),sce=Cc(),b7e=Ga(),x7e=Vl.object({Accept:Vl.string().allow(""),host:Vl.string().allow(""),"X-Project-Path":Vl.string().allow(""),"X-Unity-Version":Vl.string().allow(""),"X-Editor-Path":Vl.string().allow(""),"X-BuiltIn-Packages-Path":Vl.string().allow(""),"X-Genesis-User-Token":Vl.string().allow(""),"X-Genesis-Environment":Vl.string().allow(""),"X-Dotnet-Runtime-Path":Vl.string().allow("")}).unknown(!0);nce.exports={get:{validate:{params:sce.packages.get.params,query:sce.packages.get.query,headers:x7e},response:{status:{200:b7e.packages.get,400:ice.errorDescription,404:ice.errorDescription}}}}}),oce=O((jnt,ace)=>{var E7e=wf(),S7e=y3();ace.exports=[{method:"GET",path:"/packages/{packageId}",handler:E7e.GetPackageInfo,options:S7e.get}]}),v3=O((Fnt,cce)=>{var Wl=bn(),pp=Ha(),DR=Cc(),x2=Ga(),E2=Wl.object({Accept:Wl.string().allow(""),host:Wl.string().allow(""),"X-Project-Path":Wl.string().allow(""),"X-Unity-Version":Wl.string().allow(""),"X-Editor-Path":Wl.string().allow(""),"X-BuiltIn-Packages-Path":Wl.string().allow(""),"X-Genesis-User-Token":Wl.string().allow(""),"X-Genesis-Environment":Wl.string().allow(""),"X-Dotnet-Runtime-Path":Wl.string().allow("")}).unknown(!0);cce.exports={get:{validate:{headers:E2,query:DR.dependencies.get.query},response:{status:{200:x2.dependencies.get,400:pp.errorDescription,404:pp.errorDescription}}},post:{validate:{headers:E2},response:{status:{200:x2.dependencies.post,400:pp.errorDescription,404:pp.errorDescription}}},patch:{validate:{payload:DR.dependencies.patch.payload,headers:E2},response:{status:{200:x2.dependencies.patch,400:pp.errorDescription,403:pp.errorDescription}}},put:{validate:{params:DR.dependencies.put.params,headers:E2},response:{status:{200:x2.dependencies.put,400:pp.errorDescription}}},delete:{validate:{params:DR.dependencies.delete.params,headers:E2},response:{status:{204:x2.dependencies.delete,404:pp.errorDescription}}}}}),uce=O((Bnt,lce)=>{var S2=p0(),R2=v3();lce.exports=[{method:"GET",path:"/project/dependencies",handler:S2.Get,options:R2.get},{method:"DELETE",path:"/project/dependencies/{packageId}",handler:S2.Delete,options:R2.delete},{method:"PUT",path:"/project/dependencies/{packageId}",handler:S2.Put,options:R2.put},{method:"PATCH",path:"/project/dependencies",handler:S2.Patch,options:R2.patch},{method:"POST",path:"/project/dependencies",handler:S2.Post,options:R2.post}]}),_3=O((Unt,fce)=>{var $R=bn(),v0=Ha(),jR=Cc(),FR=Ga(),BR=$R.object({Accept:$R.string().allow(""),host:$R.string().allow(""),"X-Project-Path":$R.string().allow("")}).unknown(!0);fce.exports={get:{validate:{headers:BR},response:{status:{200:FR.registries.get,400:v0.errorDescription,404:v0.errorDescription}}},post:{validate:{payload:jR.registries.post.payload,headers:BR},response:{status:{200:FR.registries.post,400:v0.errorDescription,404:v0.errorDescription}}},delete:{validate:{params:jR.registries.delete.params,headers:BR},response:{status:{204:FR.registries.delete,404:v0.errorDescription}}},patch:{validate:{params:jR.registries.patch.params,payload:jR.registries.patch.payload,headers:BR},response:{status:{200:FR.registries.patch,400:v0.errorDescription,404:v0.errorDescription}}}}}),pce=O((Hnt,hce)=>{var UR=wf(),HR=_3();hce.exports=[{method:"GET",path:"/project/registries",handler:UR.GetRegistries,options:HR.get},{method:"POST",path:"/project/registries",handler:UR.AddScopedRegistry,options:HR.post},{method:"PATCH",path:"/project/registries/{registryName}",handler:UR.UpdateScopedRegistry,options:HR.patch},{method:"DELETE",path:"/project/registries/{registryName}",handler:UR.RemoveScopedRegistry,options:HR.delete}]}),yce=O((Gnt,dce)=>{var w3=rr(),mce="x-request-start-time";function gce(e){return`${e.method.toUpperCase()} '${e.path}'`}function R7e(e,t){return w3.info(`${gce(e)} <-- Request received`),e.headers[mce]=new Date().getTime(),t.continue}function A7e(e,t){return e.response.isBoom&&w3.error(e.response.stack),t.continue}function T7e(e,t){let r=parseInt(e.headers[mce],10),i=new Date().getTime();return w3.info(`${gce(e)} --> ${e.response.statusCode} (${i-r} ms)`),t.continue}function C7e(e){e.ext("onPreHandler",(t,r)=>R7e(t,r)),e.ext("onPostHandler",(t,r)=>T7e(t,r)),e.ext("onPreResponse",(t,r)=>A7e(t,r))}dce.exports={register:C7e}}),b3=O((znt,vce)=>{var Kl=bn(),_ce=Ha(),O7e=Cc(),k7e=Ga(),P7e=Kl.object({Accept:Kl.string().allow(""),host:Kl.string().allow(""),"X-Project-Path":Kl.string().allow(""),"X-Unity-Version":Kl.string().allow(""),"X-Editor-Path":Kl.string().allow(""),"X-BuiltIn-Packages-Path":Kl.string().allow(""),"X-Genesis-User-Token":Kl.string().allow(""),"X-Genesis-Environment":Kl.string().allow(""),"X-Dotnet-Runtime-Path":Kl.string().allow("")}).unknown(!0);vce.exports={get:{validate:{query:O7e.search.get.query,headers:P7e},response:{status:{200:k7e.search.get,400:_ce.errorDescription,404:_ce.errorDescription}}}}}),bce=O((Vnt,wce)=>{var I7e=wf(),q7e=b3();wce.exports=[{method:"GET",path:"/search",handler:I7e.Search,options:q7e.get}]}),x3=O((Wnt,xce)=>{var N7e=Bl(),M7e=up();async function L7e(e,t){let{packagePath:r,targetPath:i,vcsInfo:s}=e.payload;try{let n=await N7e.pack(r,i,s);return t.response(n)}catch(n){return M7e.handleErrorResponse(n,t)}}xce.exports={Pack:L7e}}),S3=O((Knt,Ece)=>{var E3=bn(),Sce=Ha(),D7e=Cc(),$7e=Ga(),j7e=E3.object({Accept:E3.string().allow(""),host:E3.string().allow("")}).unknown(!0);Ece.exports={post:{validate:{headers:j7e,payload:D7e.services.post.payload},response:{status:{200:$7e.services.post,400:Sce.errorDescription,404:Sce.errorDescription}}}}}),Ace=O((Xnt,Rce)=>{var F7e=x3(),B7e=S3();Rce.exports=[{method:"POST",path:"/services/packages/pack",handler:F7e.Pack,options:B7e.post}]}),Oce=O((Ynt,Tce)=>{var GR=Tt(),U7e=MU(),Dy=rr(),H7e=doe(),G7e=woe(),z7e=Roe(),V7e=koe(),W7e=Ioe(),K7e=$oe(),X7e=Uoe(),Y7e=Voe(),J7e=Xoe(),Z7e=rce(),Q7e=oce(),eGe=uce(),tGe=pce(),rGe=yce(),nGe=bce(),iGe=Ace(),sGe=10010,Cce=class{constructor(t={}){let{port:r=sGe,enableResponseValidation:i=!1}=t,s="127.0.0.1";this.port=r;let n=()=>{Dy.info("Creating server instance"),this.hapi=U7e.server({port:this.port,host:s})},a=async()=>{Dy.info("Starting Server"),await this.hapi.start(),Dy.info(`Server started on port [${this.hapi.info.port}]`)},o=async()=>{this.hapi&&(Dy.info("Stopping Server"),await this.hapi.stop(),Dy.info(`Server stopped for port ${this.hapi.info.port}`))},u=()=>{this.hapi.decorate("toolkit","onProgress",GR.noop),this.hapi.decorate("toolkit","onProgressStart",GR.noop),Z7e.register(this.hapi),rGe.register(this.hapi),J7e.register(this.hapi),W7e.register(this.hapi)},d={timeout:{socket:!1},response:{failAction:i?"error":"log",modify:!0,options:{stripUnknown:!0}},validate:{failAction:async(x,T,q)=>{throw q}}},m=x=>{GR(x).map(T=>({...T,options:GR.merge({},T.options,d)})).forEach(T=>{this.hapi.route(T)})},f=()=>{m(H7e),m(G7e),m(z7e),m(V7e),m(eGe),m(K7e),m(X7e),m(Y7e),m(Q7e),m(tGe),m(iGe),m(nGe)};this._startHttpServer=async()=>{try{n(),u(),f(),await a()}catch(x){throw Dy.error(`Failed to start server: ${x}`),x}},this._stopHttpServer=async()=>{await o()}}async start(){await this._startHttpServer()}async stop(){await this._stopHttpServer()}};Tce.exports={HttpServer:Cce}}),R3=O((Jnt,kce)=>{"use strict";var Pce=require("os"),Ice=class{constructor(){this.appspace="app.",this.socketRoot="/tmp/",this.id=Pce.hostname(),this.encoding="utf8",this.rawBuffer=!1,this.sync=!1,this.unlink=!0,this.delimiter="\f",this.silent=!1,this.logDepth=5,this.logInColor=!0,this.logger=console.log.bind(console),this.maxConnections=100,this.retry=500,this.maxRetries=Infinity,this.stopRetrying=!1,this.IPType=aGe(),this.tls=!1,this.networkHost=this.IPType=="IPv6"?"::1":"127.0.0.1",this.networkPort=8e3,this.interface={localAddress:!1,localPort:!1,family:!1,hints:!1,lookup:!1}}};function aGe(){let e=Pce.networkInterfaces(),t="";return e&&Array.isArray(e)&&e.length>0&&(t=e[Object.keys(e)[0]][0].family),t}kce.exports=Ice}),A3=O((Znt,qce)=>{"use strict";var oGe=R3(),Nce=class{constructor(t){t||(t=new oGe),this.delimiter=t.delimiter}format(t){return!t.data&&t.data!==!1&&t.data!==0&&(t.data={}),t.data._maxListeners&&(t.data={}),t=t.JSON+this.delimiter,t}parse(t){let r=t.split(this.delimiter);return r.pop(),r}};qce.exports=Nce}),T3=O((Qnt,Mce)=>{function cGe(){Object.defineProperties(this,{data:{enumerable:!0,get:i,set:a},type:{enumerable:!0,get:r,set:n},load:{enumerable:!0,writable:!1,value:o},JSON:{enumerable:!0,get:s}});var e="",t={};function r(){return e}function i(){return t}function s(){return JSON.stringify({type:e,data:t})}function n(u){e=u}function a(u){t=u}function o(u){try{var u=JSON.parse(u);e=u.type,t=u.data}catch(m){var d=u;e="error",t={message:"Invalid JSON response format",err:m,response:d}}}}Mce.exports=cGe}),Dce=O((eit,Lce)=>{function lGe(e){Object.defineProperties(this,{add:{enumerable:!0,writable:!1,value:o},next:{enumerable:!0,writable:!1,value:u},clear:{enumerable:!0,writable:!1,value:s},contents:{enumerable:!1,get:n,set:a},autoRun:{enumerable:!0,writable:!0,value:!0},stop:{enumerable:!0,writable:!0,value:!1}});var t=[],r=!1,i=!1;function s(){return t=[],t}function n(){return t}function a(d){return t=d,t}function o(){for(var d in arguments)t.push(arguments[d]);!r&&!this.stop&&this.autoRun&&this.next()}function u(){if(r=!0,t.length<1||this.stop){r=!1;return}t.shift().bind(this)()}}Lce.exports=lGe}),jce=O((tit,$ce)=>{"use strict";function uGe(){this._events_={},this.publish=this.trigger=this.emit=i,this.subscribe=this.on=e,this.once=t,this.unSubscribe=this.off=r,this.emit$=s;function e(n,a,o){if(!a)throw new ReferenceError("handler not defined.");return this._events_[n]||(this._events_[n]=[]),o&&(a._once_=o),this._events_[n].push(a),this}function t(n,a){return this.on(n,a,!0)}function r(n,a){if(!this._events_[n])return this;if(!a)throw new ReferenceError('handler not defined. if you wish to remove all handlers from the event please pass "*" as the handler');if(a=="*")return delete this._events_[n],this;for(var o=this._events_[n];o.includes(a);)o.splice(o.indexOf(a),1);return o.length<1&&delete this._events_[n],this}function i(n){if(this.emit$.apply(this,arguments),!this._events_[n])return this;arguments.splice=Array.prototype.splice,arguments.splice(0,1);var a=this._events_[n],o=[];for(var u in a){var d=a[u];d.apply(this,arguments),d._once_&&o.push(d)}for(var u in o)this.off(n,o[u]);return this}function s(n,a){if(!this._events_["*"])return this;var o=this._events_["*"];a.shift=Array.prototype.shift,a.shift(n);for(var u of o)u.apply(this,a);return this}return this}Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(this==null)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),r=parseInt(t.length,10)||0;if(r===0)return!1;var i=parseInt(arguments[1],10)||0,s;i>=0?s=i:(s=r+i,s<0&&(s=0));for(var n;s<r;){if(n=t[s],e===n||e!==e&&n!==n)return!0;s++}return!1});$ce.exports=uGe}),Uce=O((rit,Fce)=>{"use strict";var Bce=class{constructor(t){this._events_={},this.publish=this.trigger=this.emit,this.subscribe=this.on,this.unSubscribe=this.off}on(t,r,i){if(!r)throw new ReferenceError("handler not defined.");return this._events_[t]||(this._events_[t]=[]),i&&(r._once_=i),this._events_[t].push(r),this}once(t,r){return this.on(t,r,!0)}off(t,r){if(!this._events_[t])return this;if(!r)throw new ReferenceError('handler not defined. if you wish to remove all handlers from the event please pass "*" as the handler');if(r=="*")return delete this._events_[t],this;let i=this._events_[t];for(;i.includes(r);)i.splice(i.indexOf(r),1);return i.length<1&&delete this._events_[t],this}emit(t,...r){if(!this._events_[t])return this.emit$(t,...r);let i=this._events_[t],s=[];for(let n of i)n.apply(this,r),n._once_&&s.push(n);for(let n of s)this.off(t,n);return this.emit$(t,...r)}emit$(t,...r){if(!this._events_["*"])return this;let i=this._events_["*"];for(let s of i)s.call(this,t,...r);return this}};Fce.exports=Bce}),C3=O((nit,Hce)=>{"use strict";var fGe=Bi(),Gce=jce();fGe.gt(process.versions.node,"5.0.0")&&(Gce=Uce());Hce.exports=Gce}),Xce=O((iit,zce)=>{"use strict";var Vce=require("net"),hGe=require("tls"),Wce=A3(),Kce=T3(),O3=require("fs"),pGe=Dce(),dGe=C3(),A2=new Wce,zR=class extends dGe{constructor(t,r){super();Object.assign(this,{Client:zR,config:t,queue:new pGe,socket:!1,connect:gGe,emit:mGe,log:r,retriesRemaining:t.maxRetries||0,explicitlyDisconnected:!1}),A2=new Wce(this.config)}};function mGe(e,t){this.log("dispatching event to ",this.id,this.path," : ",e,",",t);let r=new Kce;if(r.type=e,r.data=t,this.config.rawBuffer?r=Buffer.from(e,this.config.encoding):r=A2.format(r),!this.config.sync){this.socket.write(r);return}this.queue.add(yGe.bind(this,r))}function yGe(e){this.log("dispatching event to ",this.id,this.path," : ",e),this.socket.write(e)}function gGe(){let e=this;if(e.log("requested connection to ",e.id,e.path),!this.path){e.log(`

######
error: `,e.id," client has not specified socket path it wishes to connect to.");return}let t={};if(!e.port)e.log("Connecting client on Unix Socket :",e.path),t.path=e.path,process.platform==="win32"&&!e.path.startsWith("\\\\.\\pipe\\")&&(t.path=t.path.replace(/^\//,""),t.path=t.path.replace(/\//g,"-"),t.path=`\\\\.\\pipe\\${t.path}`),e.socket=Vce.connect(t);else if(t.host=e.path,t.port=e.port,e.config.interface.localAddress&&(t.localAddress=e.config.interface.localAddress),e.config.interface.localPort&&(t.localPort=e.config.interface.localPort),e.config.interface.family&&(t.family=e.config.interface.family),e.config.interface.hints&&(t.hints=e.config.interface.hints),e.config.interface.lookup&&(t.lookup=e.config.interface.lookup),!e.config.tls)e.log("Connecting client via TCP to",t),e.socket=Vce.connect(t);else{if(e.log("Connecting client via TLS to",e.path,e.port,e.config.tls),e.config.tls.private&&(e.config.tls.key=O3.readFileSync(e.config.tls.private)),e.config.tls.public&&(e.config.tls.cert=O3.readFileSync(e.config.tls.public)),e.config.tls.trustedConnections){typeof e.config.tls.trustedConnections=="string"&&(e.config.tls.trustedConnections=[e.config.tls.trustedConnections]),e.config.tls.ca=[];for(let r=0;r<e.config.tls.trustedConnections.length;r++)e.config.tls.ca.push(O3.readFileSync(e.config.tls.trustedConnections[r]))}Object.assign(e.config.tls,t),e.socket=hGe.connect(e.config.tls)}e.socket.setEncoding(this.config.encoding),e.socket.on("error",function(r){e.log(`

######
error: `,r),e.publish("error",r)}),e.socket.on("connect",function(){e.publish("connect"),e.retriesRemaining=e.config.maxRetries,e.log("retrying reset")}),e.socket.on("close",function(){if(e.log("connection closed",e.id,e.path,e.retriesRemaining,"tries remaining of",e.config.maxRetries),e.config.stopRetrying||e.retriesRemaining<1||e.explicitlyDisconnected){e.publish("disconnect"),e.log(e.config.id,"exceeded connection rety amount of"," or stopRetrying flag set."),e.socket.destroy(),e.publish("destroy"),e=void 0;return}setTimeout(function(){e.retriesRemaining--,e.connect()}.bind(null,e),e.config.retry),e.publish("disconnect")}),e.socket.on("data",function(r){if(e.log("## received events ##"),e.config.rawBuffer){if(e.publish("data",Buffer.from(r,e.config.encoding)),!e.config.sync)return;e.queue.next();return}if(this.ipcBuffer||(this.ipcBuffer=""),r=this.ipcBuffer+=r,r.slice(-1)!=A2.delimiter||r.indexOf(A2.delimiter)==-1){e.log("Messages are large, You may want to consider smaller messages.");return}this.ipcBuffer="";let i=A2.parse(r),s=i.length;for(let n=0;n<s;n++){let a=new Kce;a.load(i[n]),e.log("detected event",a.type,a.data),e.publish(a.type,a.data)}if(!e.config.sync)return;e.queue.next()})}zce.exports=zR}),ele=O((sit,Yce)=>{"use strict";var vGe=require("net"),_Ge=require("tls"),_0=require("fs"),wGe=require("dgram"),Jce=A3(),k3=T3(),bGe=C3(),$y=new Jce,Zce=class extends bGe{constructor(t,r,i,s){super();Object.assign(this,{config:r,path:t,port:s,udp4:!1,udp6:!1,log:i,server:!1,sockets:[],emit:xGe,broadcast:EGe}),$y=new Jce(this.config),this.on("close",SGe.bind(this))}onStart(t){this.trigger("start",t)}stop(){this.server.close()}start(){if(!this.path){this.log("Socket Server Path not specified, refusing to start");return}this.config.unlink?_0.unlink(this.path,Qce.bind(this)):Qce.bind(this)()}};function xGe(e,t,r){this.log("dispatching event to socket"," : ",t,r);let i=new k3;if(i.type=t,i.data=r,this.config.rawBuffer?(this.log(this.config.encoding),i=Buffer.from(t,this.config.encoding)):i=$y.format(i),this.udp4||this.udp6){if(!e.address||!e.port){this.log("Attempting to emit to a single UDP socket without supplying socket address or port. Redispatching event as broadcast to all connected sockets"),this.broadcast(t,r);return}this.server.write(i,e);return}e.write(i)}function EGe(e,t){this.log("broadcasting event to all known sockets listening to ",this.path," : ",this.port?this.port:"",e,t);let r=new k3;if(r.type=e,r.data=t,this.config.rawBuffer?r=Buffer.from(e,this.config.encoding):r=$y.format(r),this.udp4||this.udp6)for(let i=1,s=this.sockets.length;i<s;i++)this.server.write(r,this.sockets[i]);else for(let i=0,s=this.sockets.length;i<s;i++)this.sockets[i].write(r)}function SGe(){for(let e=0,t=this.sockets.length;e<t;e++){let r=this.sockets[e],i=!1;if(r&&r.readable)continue;r.id&&(i=r.id),this.log("socket disconnected",i.toString()),r&&r.destroy&&r.destroy(),this.sockets.splice(e,1),this.publish("socket.disconnected",r,i);return}}function RGe(e,t,r){let i=this.udp4||this.udp6?r:e;if(this.config.rawBuffer){t=Buffer.from(t,this.config.encoding),this.publish("data",t,i);return}if(i.ipcBuffer||(i.ipcBuffer=""),t=i.ipcBuffer+=t,t.slice(-1)!=$y.delimiter||t.indexOf($y.delimiter)==-1){this.log("Messages are large, You may want to consider smaller messages.");return}for(i.ipcBuffer="",t=$y.parse(t);t.length>0;){let s=new k3;s.load(t.shift()),s.data&&s.data.id&&(i.id=s.data.id),this.log("received event of : ",s.type,s.data),this.publish(s.type,s.data,i)}}function AGe(e){this.publish("close",e)}function P3(e){if(this.sockets.push(e),e.setEncoding&&e.setEncoding(this.config.encoding),this.log("## socket connection to server detected ##"),e.on("close",AGe.bind(this)),e.on("error",function(t){this.log("server socket error",t),this.publish("error",t)}.bind(this)),e.on("data",RGe.bind(this,e)),e.on("message",function(t,r){if(!r)return;this.log("Received UDP message from ",r.address,r.port);let i;this.config.rawSocket?i=Buffer.from(t,this.config.encoding):i=t.toString(),e.emit("data",i,r)}.bind(this)),this.publish("connect",e),this.config.rawBuffer)return}function Qce(){if(this.log("starting server on ",this.path,this.port?`:${this.port}`:""),!this.udp4&&!this.udp6?(this.log("starting TLS server",this.config.tls),this.config.tls?TGe.bind(this)():this.server=vGe.createServer(P3.bind(this))):(this.server=wGe.createSocket(this.udp4?"udp4":"udp6"),this.server.write=CGe.bind(this),this.server.on("listening",function(){P3.bind(this)(this.server)}.bind(this))),this.server.on("error",function(e){this.log("server error",e),this.publish("error",e)}.bind(this)),this.server.maxConnections=this.config.maxConnections,!this.port){this.log("starting server as","Unix || Windows Socket"),process.platform==="win32"&&(this.path=this.path.replace(/^\//,""),this.path=this.path.replace(/\//g,"-"),this.path=`\\\\.\\pipe\\${this.path}`),this.server.listen(this.path,this.onStart.bind(this));return}if(!this.udp4&&!this.udp6){this.log("starting server as",this.config.tls?"TLS":"TCP"),this.server.listen(this.port,this.path,this.onStart.bind(this));return}this.log("starting server as",this.udp4?"udp4":"udp6"),this.server.bind(this.port,this.path),this.onStart({address:this.path,port:this.port})}function TGe(){if(this.log("starting TLS server",this.config.tls),this.config.tls.private?this.config.tls.key=_0.readFileSync(this.config.tls.private):this.config.tls.key=_0.readFileSync(`${__dirname}/../local-node-ipc-certs/private/server.key`),this.config.tls.public?this.config.tls.cert=_0.readFileSync(this.config.tls.public):this.config.tls.cert=_0.readFileSync(`${__dirname}/../local-node-ipc-certs/server.pub`),this.config.tls.dhparam&&(this.config.tls.dhparam=_0.readFileSync(this.config.tls.dhparam)),this.config.tls.trustedConnections){typeof this.config.tls.trustedConnections=="string"&&(this.config.tls.trustedConnections=[this.config.tls.trustedConnections]),this.config.tls.ca=[];for(let e=0;e<this.config.tls.trustedConnections.length;e++)this.config.tls.ca.push(_0.readFileSync(this.config.tls.trustedConnections[e]))}this.server=_Ge.createServer(this.config.tls,P3.bind(this))}function CGe(e,t){let r=Buffer.from(e,this.config.encoding);this.server.send(r,0,r.length,t.port,t.address,function(i,s){i&&(this.log("error writing data to socket",i),this.publish("error",function(n){this.publish("error",n)}))})}Yce.exports=Zce}),sle=O((ait,tle)=>{"use strict";var OGe=R3(),rle=Xce(),nle=ele(),kGe=require("util"),ile=class{constructor(){Object.defineProperties(this,{config:{enumerable:!0,writable:!0,value:new OGe},connectTo:{enumerable:!0,writable:!1,value:NGe},connectToNet:{enumerable:!0,writable:!1,value:MGe},disconnect:{enumerable:!0,writable:!1,value:PGe},serve:{enumerable:!0,writable:!1,value:IGe},serveNet:{enumerable:!0,writable:!1,value:qGe},of:{enumerable:!0,writable:!0,value:{}},server:{enumerable:!0,writable:!0,configurable:!0,value:!1},log:{enumerable:!0,writable:!1,value:I3}})}};function I3(...e){if(this.config.silent)return;for(let t=0,r=e.length;t<r;t++){if(typeof e[t]!="object")continue;e[t]=kGe.inspect(e[t],{depth:this.config.logDepth,colors:this.config.logInColor})}this.config.logger(e.join(" "))}function PGe(e){if(!this.of[e])return;this.of[e].explicitlyDisconnected=!0,this.of[e].off("*","*"),this.of[e].socket&&(this.of[e].socket.destroy&&this.of[e].socket.destroy()),delete this.of[e]}function IGe(e,t){typeof e=="function"&&(t=e,e=!1),e||(this.log("Server path not specified, so defaulting to","ipc.config.socketRoot + ipc.config.appspace + ipc.config.id",this.config.socketRoot+this.config.appspace+this.config.id),e=this.config.socketRoot+this.config.appspace+this.config.id),t||(t=VR),this.server=new nle(e,this.config,I3),this.server.on("start",t)}function VR(){}function qGe(e,t,r,i){typeof e=="number"&&(i=r,r=t,t=e,e=!1),typeof e=="function"&&(i=e,r=!1,e=!1,t=!1),e||(this.log("Server host not specified, so defaulting to","ipc.config.networkHost",this.config.networkHost),e=this.config.networkHost),(e.toLowerCase()=="udp4"||e.toLowerCase()=="udp6")&&(i=t,r=e.toLowerCase(),t=!1,e=this.config.networkHost),typeof t=="string"&&(i=r,r=t,t=!1),typeof t=="function"&&(i=t,r=!1,t=!1),t||(this.log("Server port not specified, so defaulting to","ipc.config.networkPort",this.config.networkPort),t=this.config.networkPort),typeof r=="function"&&(i=r,r=!1),i||(i=VR),this.server=new nle(e,this.config,I3,t),r&&(this.server[r]=!0,r==="udp4"&&e==="::1"&&(this.server.path="127.0.0.1")),this.server.on("start",i)}function NGe(e,t,r){if(typeof t=="function"&&(r=t,t=!1),r||(r=VR),!e){this.log("Service id required","Requested service connection without specifying service id. Aborting connection attempt");return}if(t||(this.log("Service path not specified, so defaulting to","ipc.config.socketRoot + ipc.config.appspace + id",(this.config.socketRoot+this.config.appspace+e).data),t=this.config.socketRoot+this.config.appspace+e),this.of[e]){if(!this.of[e].socket.destroyed){this.log("Already Connected to",e,"- So executing success without connection"),r();return}this.of[e].socket.destroy()}this.of[e]=new rle(this.config,this.log),this.of[e].id=e,this.of[e].path=t,this.of[e].connect(),r(this)}function MGe(e,t,r,i){if(!e){this.log("Service id required","Requested service connection without specifying service id. Aborting connection attempt");return}if(typeof t=="number"&&(i=r,r=t,t=!1),typeof t=="function"&&(i=t,t=!1,r=!1),t||(this.log("Server host not specified, so defaulting to","ipc.config.networkHost",this.config.networkHost),t=this.config.networkHost),typeof r=="function"&&(i=r,r=!1),r||(this.log("Server port not specified, so defaulting to","ipc.config.networkPort",this.config.networkPort),r=this.config.networkPort),typeof i=="string"&&(UDPType=i,i=!1),i||(i=VR),this.of[e]){if(!this.of[e].socket.destroyed){this.log("Already Connected to",e,"- So executing success without connection"),i();return}this.of[e].socket.destroy()}this.of[e]=new rle(this.config,this.log),this.of[e].id=e,this.of[e].path=t,this.of[e].port=r,this.of[e].connect(),i(this)}tle.exports=ile}),lle=O((oit,ale)=>{"use strict";var ole=sle(),cle=class extends ole{constructor(){super();Object.defineProperty(this,"IPC",{enumerable:!0,writable:!1,value:ole})}};ale.exports=new cle}),hle=O((cit,ule)=>{var LGe=p0(),fle=JN(),DGe={"project:add-remove-dependencies":{handler:LGe.PostAddAndRemove,validator:{request:fle.post.validate,response:fle.post.response.status}}};ule.exports={routes:DGe}}),mle=O((lit,ple)=>{var $Ge=wf(),dle=ZN(),jGe={"packages:get-all-packageinfo":{handler:$Ge.GetAllPackageInfo,validator:{request:dle.get.validate,response:dle.get.response.status}}};ple.exports={routes:jGe}}),vle=O((uit,gle)=>{var FGe=QN(),yle=e3(),BGe={"cache:registry:get-cached-packages":{handler:FGe.GetCachedPackages,validator:{request:yle.get.validate,response:yle.get.response.status}}};gle.exports={routes:BGe}}),wle=O((fit,_le)=>{var q3=n3(),jy=o3(),UGe={"config:clear-cache-root":{handler:q3.ClearCacheRoot,validator:{request:jy.cacheRoot.delete.validate,response:jy.cacheRoot.delete.response.status}},"config:get-cache-root":{handler:q3.GetCacheRoot,validator:{request:jy.cacheRoot.get.validate,response:jy.cacheRoot.get.response.status}},"config:set-cache-root":{handler:q3.SetCacheRoot,validator:{request:jy.cacheRoot.put.validate,response:jy.cacheRoot.put.response.status}}};_le.exports={routes:UGe}}),Ele=O((hit,ble)=>{var HGe=u3(),xle=f3(),GGe={"editor:get-built-in-packages":{handler:HGe.GetBuiltInPackages,validator:{request:xle.get.validate,response:xle.get.response.status}}};ble.exports={routes:GGe}}),Ale=O((pit,Sle)=>{var zGe=p0(),Rle=h3(),VGe={"project:embed-package":{handler:zGe.PutEmbedded,validator:{request:Rle.put.validate,response:Rle.put.response.status}}};Sle.exports={routes:VGe}}),Ole=O((dit,Tle)=>{var WGe=p3(),Cle=m3(),KGe={"health:get-health":{handler:WGe.Get,validator:{request:Cle.get.validate,response:Cle.get.response.status}}};Tle.exports={routes:KGe}}),Ile=O((mit,kle)=>{var XGe=Vf(),Ple=LR();function YGe(e){let{headers:t={}}=e,r=t[XGe.HEADERS.X_LOG_LEVEL_OVERRIDE],i=r&&parseInt(r,10);try{Ple.setFileLogLevel(i)}catch(s){console.warn(`Could not set logging level [${r}]: ${s}`),Ple.setFileLogLevel(void 0)}}kle.exports={overrideLogLevel:YGe}}),Mle=O((git,qle)=>{var JGe=wf(),Nle=y3(),ZGe={"packages:get-packageinfo":{handler:JGe.GetPackageInfo,validator:{request:Nle.get.validate,response:Nle.get.response.status}}};qle.exports={routes:ZGe}}),Dle=O((yit,Lle)=>{var T2=p0(),Xl=v3(),QGe={"project:list-packages":{handler:T2.Get,validator:{request:Xl.get.validate,response:Xl.get.response.status}},"project:remove-dependency":{handler:T2.Delete,validator:{request:Xl.delete.validate,response:Xl.delete.response.status}},"project:add-dependency":{handler:T2.Put,validator:{request:Xl.put.validate,response:Xl.put.response.status}},"project:update-dependencies":{handler:T2.Patch,validator:{request:Xl.patch.validate,response:Xl.patch.response.status}},"project:resolve-packages":{handler:T2.Post,validator:{request:Xl.post.validate,response:Xl.post.response.status}}};Lle.exports={routes:QGe}}),jle=O((vit,$le)=>{var WR=wf(),dp=_3(),eze={"config:project:get-registries":{handler:WR.GetRegistries,validator:{request:dp.get.validate,response:dp.get.response.status}},"config:project:add-scoped-registry":{handler:WR.AddScopedRegistry,validator:{request:dp.post.validate,response:dp.post.response.status}},"config:project:update-scoped-registry":{handler:WR.UpdateScopedRegistry,validator:{request:dp.patch.validate,response:dp.patch.response.status}},"config:project:remove-scoped-registry":{handler:WR.RemoveScopedRegistry,validator:{request:dp.delete.validate,response:dp.delete.response.status}}};$le.exports={routes:eze}}),Ble=O((_it,Fle)=>{var KR=rr(),tze=2,N3=e=>JSON.stringify(e,null,tze);function rze(e,t={}){KR.info(`${e} <-- Request received${t.params?`
params: ${N3(t.params)}`:""}`)}function nze(e,t,r){let i=new Date().getTime();KR.info(`${e} --> ${t} (${i-r} ms)`)}function ize(e,t,r){KR.error([`Request '${e}' failed input validation:`,`input: ${N3(t)}`,`error: ${r.message}`].join(`
`))}function sze(e,t,r){KR.error([`Request '${e}' failed response validation:`,`response: ${N3(t)}`,`error: ${r.message}`].join(`
`))}Fle.exports={logRequestStart:rze,logRequestEnd:nze,logRequestValidationError:ize,logResponseValidationError:sze}}),Gle=O((wit,Ule)=>{var aze=wf(),Hle=b3(),oze={"packages:search":{handler:aze.Search,validator:{request:Hle.get.validate,response:Hle.get.response.status}}};Ule.exports={routes:oze}}),Wle=O((bit,zle)=>{var cze=x3(),Vle=S3(),lze={"packages:pack":{handler:cze.Pack,validator:{request:Vle.post.validate,response:Vle.post.response.status}}};zle.exports={routes:lze}}),Yle=O((xit,Kle)=>{var M3=require("assert"),Oc=Tt(),uze=250,Xle=class{constructor(){this.progressHandler=Oc.noop,this.progressDelta={},this.progressSent={},this.data={},this.status=200}setProgressHandler(t){M3(Oc.isFunction(t)),this.progressHandler=t}onProgressStart(t){M3(Oc.isObject(t));let r=Oc.map(t,i=>Oc.pick(i,["name","version"]));this.progressHandler(r),this.progressSent=Oc.cloneDeep(t),this.progressTimer=setInterval(()=>this._flushProgress(),uze)}onProgress(t){M3(Oc.has(t,"name"));let{name:r}=t,i=this.progressSent[r],s=Oc.pickBy(t,(n,a)=>Oc.get(i,a)!==n);this.progressDelta[r]={name:r,...s}}_flushProgress(){let t=Object.values(this.progressDelta);Oc.isEmpty(t)||(this.progressHandler(t),Oc.merge(this.progressSent,this.progressDelta),this.progressDelta={})}finalizeProgress(){this._flushProgress(),clearInterval(this.progressTimer)}response(t){return t!==void 0&&(this.data=t),this}code(t){return t!==void 0&&(this.status=t),this}getStatus(){return this.status}getData(){return this.data}};Kle.exports={ResponseToolkit:Xle}}),tue=O((Eit,Jle)=>{var fze=require("assert"),XR=require("os"),C2=Tt(),hze=$n(),Zle=bn(),pze=lle(),Fy=rr(),dze=hle(),mze=mle(),gze=vle(),yze=wle(),vze=Ele(),_ze=Ale(),wze=Ole(),bze=Ile(),xze=Mle(),Eze=Dle(),Sze=jle(),YR=Ble(),Rze=Gle(),Aze=Wle(),{ResponseToolkit:Tze}=Yle(),Cze="progress",Oze=new RegExp(["^",XR.platform()!=="win32"?C2.escapeRegExp("/tmp/"):"","Unity-(?<name>.+?)",XR.platform()!=="win32"?C2.escapeRegExp(".sock"):"","$"].join(""));function Qle(){return XR.platform()==="win32"?"Unity-<name>-ipc":"/tmp/Unity-<name>-ipc.sock"}function kze(e){e.server.start()}function Pze(){let e=XR.platform();if(e==="win32")return"Unity-Upm-ipc";if(e==="darwin"||e==="linux")return"/tmp/Unity-Upm-ipc.sock";throw new Error("Unsupported platform")}var eue=class{constructor(t={}){let{ipcPath:r,enableResponseValidation:i=!1}=t;this.started=!1;let s=new pze.IPC;s.config.retry=1500,s.config.silent=!0,s.config.id=r||Pze(),this.ipc=s;let n=(x,T,q,F,$)=>(s.server.emit(x,T,{requestId:q,status:$,body:F}),$),a=(x,T,q)=>{s.server.emit(x,Cze,{requestId:T,progress:q})},o=(x,T,q,F,$)=>{let H={message:F.message||F.toString()};return n(x,T,q,H,$)},u=async(x,T,q,F)=>{let $=Zle.object({requestId:Zle.string(),...T.validator.request}).unknown(!0).validate(q);if($.error){let{error:ve}=$;return YR.logRequestValidationError(x,q,ve),o(F,x,q.requestId,ve,400)}let H={headers:{},...C2.mapValues(T.validator.request,()=>({})),...$.value},oe=new Tze;oe.setProgressHandler(ve=>a(F,H.requestId,ve));try{await T.handler(H,oe)}finally{oe.finalizeProgress()}let Q=oe.getStatus(),pe=oe.getData();if(i){let ve=T.validator.response[Q];fze(ve&&ve.validate,`no response schema found for status ${Q}`);let{error:Ce}=ve.validate(pe);if(Ce)return YR.logResponseValidationError(x,pe,Ce),o(F,x,H.requestId,Ce,500)}return n(F,x,H.requestId,pe,Q)},d=x=>{C2.each(x,(T,q)=>{s.server.on(q,async(F,$)=>{try{let H=new Date().getTime();bze.overrideLogLevel(F),YR.logRequestStart(q,F);let oe=await u(q,T,F,$);YR.logRequestEnd(q,oe,H)}catch(H){Fy.error(`An unexpected error occurred while handling the request:
${H.stack||H.toString()}`),o($,q,F.requestId,"An internal server error occurred",500)}})})},m=()=>{s.server.on("*",function(x,T,q){let F=q&&q.writable?q:null;F&&!s.server._events_[x]&&o(F,x,T.requestId,`'${x}' is not a known event name!`,404)})},f=()=>{s.server.on("error",x=>{Fy.error(x)})};this._startIpcServer=()=>new Promise((x,T)=>{if(this.started){T(new Error("Server already started"));return}let q=s.server.server;s.serve(s.config.id,()=>{this.started=!0,Fy.info(`IPC server started (IPC path=${s.config.id}).`);let F=s.config.id.match(Oze);F?Fy.info(`Hint: To connect to this UPM instance, launch Unity with the command-line parameter -upmIpcPath ${F.groups.name}.`):Fy.warn(`The specified IPC path does not follow the expected format ${Qle()}. Unity will not be able to connect to this UPM instance.`),x()}),s.server.on("error",F=>{F.code==="EADDRINUSE"&&q&&q.close(),T(F)}),this.bindControllerRoutes(dze,mze,gze,yze,vze,_ze,wze,xze,Eze,Sze,Rze,Aze),f(),m(),kze(s)}),this._stopIpcServer=()=>new Promise((x,T)=>{if(this.started=!1,s.server.server){let q=F=>{F&&T(F),Fy.info(`IPC server stopped (socket id=${s.config.id})`),x()};s.disconnect(s.config.id),s.server.server.close(q)}else T(new Error("Server is not running"))}),this.bindControllerRoutes=(...x)=>{C2.each(x,T=>{d(T.routes)})},this.injectRequest=async(x,T)=>{let q=s.of[s.config.id];return q===void 0&&(s.connectTo(s.config.id,s.server.path),q=s.of[s.config.id]),q.emit(x,T),new Promise(F=>{q.once(x,$=>{F($)}),s.server.once("error",$=>{F($)})})},process.once("SIGTERM",()=>{this.handleExit()}),process.once("exit",()=>{this.handleExit()})}async start(){await this._startIpcServer()}async stop(){await this._stopIpcServer()}handleExit(){if(process.platform==="win32")return;hze.removeSync(this.ipc.config.id)}};Jle.exports={IpcServer:eue,getIpcPathArgFormat:Qle}}),$3=O((Sit,rue)=>{var JR=require("process"),L3=rr(),D3={ParentNotRunning:100,UnhandledException:101,UnhandledDisconnection:102};function nue(e,t){let{transports:r}=L3.default;if(r.length===0){JR.exit(t);return}let i=r.filter(n=>!n.silent&&n instanceof L3.transports.File),s=`[Unity Package Manager (Upm)]
${e}`;if(i.length!==0){let n=2e3,a=new Promise(d=>{setTimeout(d,n)}),o=0,u=new Promise(d=>{i.forEach(m=>{m._stream.on("end",()=>{o+=1,o===i.length&&d()}),m.on("logged",f=>{f.message===s&&m.close()})})});Promise.race([u,a]).then(()=>JR.exit(t)).catch(d=>console.error(`Failed exiting application with code (${t}) and message (${s}): ${d}`))}L3.error(s),i.length===0&&JR.exit(t)}function Ize(e){let t=D3.UnhandledException,r="Application terminated due to an uncaught exception";/EPIPE/.test(e)&&(t=D3.UnhandledDisconnection,r="Application terminated due to HTTP connection being closed on the other end"),nue(`${r}:
  ${e.stack||e.toString()}`,t)}function qze(e){try{return JR.kill(e,0)}catch(t){return t.code==="EPERM"}}function Nze(e){setInterval(()=>{qze(e)||nue(`Parent process [${e}] was terminated`,D3.ParentNotRunning)},1e3).unref()}rue.exports={startMonitorTimer:Nze,processUnhandledException:Ize}}),oue=O((Rit,iue)=>{var sue=require("os"),aue=require("path"),Mze=$n(),Lze=rr();function Dze(){if(/^win/.test(process.platform)){let e=process.env.LOCALAPPDATA,t=process.env.SYSTEMROOT;return(!e||e.toLowerCase().startsWith(t.toLowerCase()))&&(e=process.env.ALLUSERSPROFILE),aue.join(e,"Unity","config")}if(process.platform==="darwin")return`${sue.homedir()}/Library/Unity/config`;if(process.platform==="linux")return`${sue.homedir()}/.config/unity3d/config`;throw new Error(`Unable to resolve config cache folder for platform: ${process.platform}`)}async function $ze(){let e=process.env.UNITY_CONFIG_ENVIRONMENT||"production",t=aue.join(Dze(),`${e}.json`);try{return await Mze.readJson(t)}catch(r){r.code!=="ENOENT"&&Lze.error(`Error while reading config from ${t}: ${r.message}`)}return{}}iue.exports={readConfig:$ze}}),fue=O((Ait,cue)=>{var j3=require("fs"),ZR=require("path"),lue=Tt(),jze=ii(),w0=rr(),{ArgumentParser:Fze}=X$(),{quote:Bze}=Z$(),Uze=ej(),Hze=Oce(),uue=tue(),b0=LR(),Gze=$3(),zze=oue(),Vze=Kf(),Wze={...j3};function Kze(){if(!lue.isEqual(Wze,j3))return;jze.gracefulify(j3)}function Xze(e,t){try{b0.enableLogging(e,t)}catch(r){console.error(`No logging will be generated. (${r.message})`)}}function Yze(e){let t=new Fze({add_help:!0});return t.add_argument("-v","--version",{action:"store_true",help:"Print upm version",dest:"version"}),t.add_argument("-s","--parentpid",{type:"int",help:"Parent Process ID to supervise. (Optional)"}),t.add_argument("-p","--port",{type:"int",help:"Specify a port number to be used. This argument is discarded when using the `-ipc` flag. (Default: 10010)"}),t.add_argument("-r","--root",{type:"str",help:"DEPRECATED. This option exists for compatibility only."}),t.add_argument("-d","--diagnostics",{action:"store_true",help:"Deprecated, use --disable-logging to turn off logging"}),t.add_argument("-l","--loglevel",{default:b0.UPM_LOG_LEVELS.info,type:"int",help:`Turn on diagnostic logging for up to a given level for the log file output. (Default: ${b0.UPM_LOG_LEVELS.info})
${JSON.stringify(b0.UPM_LOG_LEVELS)}. Use --disable-logging to turn off logging.`}),t.add_argument("-cl","--console-loglevel",{default:b0.UPM_LOG_LEVELS.error,type:"int",help:`Turn on diagnostic logging for up to a given level for the console output. (Default: ${b0.UPM_LOG_LEVELS.error})
${JSON.stringify(b0.UPM_LOG_LEVELS)}. Use --disable-logging to turn off logging.`,dest:"consoleLogLevel"}),t.add_argument("-c","--cache-path",{type:"str",help:"Specifies the location of the package cache on the file system",dest:"cachePath"}),t.add_argument("-dsc","--disable-service-config",{action:"store_true",help:"Prevent loading of service config, which may contain a default upm registry config",dest:"disableServiceConfig"}),t.add_argument("--enable-response-validation",{action:"store_true",help:"Enable strict validation rules on outgoing response objects. This will cause the route handlers to return a status code 500 when the validation fails.",dest:"enableResponseValidation"}),t.add_argument("-dl","--disable-logging",{action:"store_true",help:"Turns off all logging.",dest:"disableLogging"}),t.add_argument("-ipc",{action:"store_true",help:"Specifies the Socket/Pipe-based IPC protocol as the communication layer, uses the HTTP protocol otherwise.",dest:"enableIPCProtocol"}),t.add_argument("-ipc-path",{type:"str",help:`Specifies the IPC path for the Socket/Pipe (format is ${uue.getIpcPathArgFormat()}). This argument is discarded when not using the -ipc flag (Optional).`,dest:"ipcPath"}),t.parse_args(e)}function Jze(){return process.argv.slice(2)}function Zze(e){process.env.UPM_CACHE_PATH!==void 0&&(w0.verbose(`Overriding UPM_CACHE_PATH with cache path from command-line: ${ZR.join(e,"packages")}`),delete process.env.UPM_CACHE_PATH),process.env.UPM_NPM_CACHE_PATH!==void 0&&(w0.verbose(`Overriding UPM_NPM_CACHE_PATH with cache path from command-line: ${ZR.join(e,"npm")}`),delete process.env.UPM_NPM_CACHE_PATH),process.env.UPM_GIT_LFS_CACHE_PATH!==void 0&&(w0.verbose(`Overriding UPM_GIT_LFS_CACHE_PATH with cache path from command-line: ${ZR.join(e,"git-lfs")}`),delete process.env.UPM_GIT_LFS_CACHE_PATH,process.env.UPM_ENABLE_GIT_LFS_CACHE="1"),process.env.UPM_CACHE_ROOT_PATH!==void 0&&w0.verbose(`Overriding UPM_CACHE_ROOT_PATH with cache path from command-line: ${e}`),process.env.UPM_CACHE_ROOT_PATH=e}async function Qze(){if(process.env.UPM_REGISTRY||process.env.UPM_NPM_REGISTRY)return;let e=await zze.readConfig();e.upmregistry&&(w0.info(`Detected a service config file with a 'upmregistry' property set to '${e.upmregistry}'`),process.env.UPM_REGISTRY=e.upmregistry)}function eVe(){let e=ZR.basename(process.execPath,".exe")==="UnityPackageManager",t=e?process.argv.filter((r,i)=>i!==1):process.argv;w0.info(`Command-line: ${Bze(t)}`)}function tVe(){let{valid:e,invalid:t}=Uze.getUpmEnvironmentVariables(process.env),r=[],i=lue.map(e,(n,a)=>`${a}=${n}`).join(`
`);i&&r.push("Detected environment variables:",Vze.indent(i));let s=t.join(", ");s&&r.push(`Unrecognized UPM environment variables that will be ignored: ${s}`),r.length>0&&w0.info(r.join(`
`))}async function rVe(){let e=Yze(Jze());e.disableLogging||Xze(e.loglevel,e.consoleLogLevel),eVe(),tVe(),e.cachePath&&Zze(e.cachePath),e.disableServiceConfig||await Qze(),Kze();let{ipcPath:t,port:r,enableResponseValidation:i}=e,s;e.enableIPCProtocol?s=new uue.IpcServer({ipcPath:t,enableResponseValidation:i}):s=new Hze.HttpServer({port:r,enableResponseValidation:i}),await s.start(),e.parentpid&&Gze.startMonitorTimer(e.parentpid)}cue.exports={run:rVe}});wL().fastPathVersion();var hue=rr(),nVe=fue(),pue=$3();hue.remove(hue.transports.Console);process.on("uncaughtException",pue.processUnhandledException);process.on("unhandledRejection",pue.processUnhandledException);nVe.run();
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
/*!
 * author-regex <https://github.com/jonschlinkert/author-regex>
 *
 * Copyright (c) 2014, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * node-version
 * Copyright(c) 2011-2018 Rodolphe Stoclin
 * MIT Licensed
 */
/*!
 * parse-author <https://github.com/jonschlinkert/parse-author>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */
